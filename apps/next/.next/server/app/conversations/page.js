/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/conversations/page";
exports.ids = ["app/conversations/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?9990":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?425e":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?bc16\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'conversations',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/conversations/page.tsx */ \"(rsc)/./app/conversations/page.tsx\")), \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\conversations\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\conversations\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/conversations/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/conversations/page\",\n        pathname: \"/conversations\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGY29udmVyc2F0aW9ucyUyRnBhZ2UmcGFnZT0lMkZjb252ZXJzYXRpb25zJTJGcGFnZSZhcHBQYXRocz0lMkZjb252ZXJzYXRpb25zJTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmNvbnZlcnNhdGlvbnMlMkZwYWdlLnRzeCZhcHBEaXI9RSUzQSU1Q0NvZGUlNUNOb2RlanMlNUNab2xhJTVDYXBwcyU1Q25leHQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q2FwcHMlNUNuZXh0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixvS0FBcUc7QUFDNUg7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQXdGO0FBQ2pILG9CQUFvQix5U0FBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/MmFiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdjb252ZXJzYXRpb25zJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxhcHBzXFxcXG5leHRcXFxcYXBwXFxcXGNvbnZlcnNhdGlvbnNcXFxccGFnZS50c3hcIiksIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxhcHBzXFxcXG5leHRcXFxcYXBwXFxcXGNvbnZlcnNhdGlvbnNcXFxccGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcYXBwc1xcXFxuZXh0XFxcXGFwcFxcXFxsYXlvdXQudHN4XCIpLCBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcYXBwc1xcXFxuZXh0XFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXGFwcHNcXFxcbmV4dFxcXFxhcHBcXFxcY29udmVyc2F0aW9uc1xcXFxwYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2NvbnZlcnNhdGlvbnMvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9jb252ZXJzYXRpb25zL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2NvbnZlcnNhdGlvbnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.tsx&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.tsx&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ../../packages/app/components/GlobalIncomingCall.web.tsx */ \"(ssr)/../../packages/app/components/GlobalIncomingCall.web.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q2FwcHMlNUNuZXh0JTVDYXBwJTVDZ2xvYmFscy5jc3MmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNwYWNrYWdlcyU1Q2FwcCU1Q2NvbXBvbmVudHMlNUNHbG9iYWxJbmNvbWluZ0NhbGwud2ViLnRzeCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/M2RjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxccGFja2FnZXNcXFxcYXBwXFxcXGNvbXBvbmVudHNcXFxcR2xvYmFsSW5jb21pbmdDYWxsLndlYi50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/app-router.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDYXBwLXJvdXRlci5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDZXJyb3ItYm91bmRhcnkuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfcmVhY3QtZG9tJTQwMTguMi4wX3JlYWN0JTQwMTguMi4wX19yZWFjdCU0MDE4LjIuMCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q2xheW91dC1yb3V0ZXIuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfcmVhY3QtZG9tJTQwMTguMi4wX3JlYWN0JTQwMTguMi4wX19yZWFjdCU0MDE4LjIuMCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q25vdC1mb3VuZC1ib3VuZGFyeS5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDc3RhdGljLWdlbmVyYXRpb24tc2VhcmNocGFyYW1zLWJhaWxvdXQtcHJvdmlkZXIuanMmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdZQUFzTTtBQUN0TSx3WUFBME07QUFDMU0sc1lBQXlNO0FBQ3pNLGdaQUE4TTtBQUM5TSxvYUFBd047QUFDeE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/NDJkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcbm9kZV9tb2R1bGVzXFxcXC5wbnBtXFxcXG5leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjBcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxhcHAtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFxuZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcbm9kZV9tb2R1bGVzXFxcXC5wbnBtXFxcXG5leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjBcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxsYXlvdXQtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFxuZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFxuZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxccmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxub2RlX21vZHVsZXNcXFxcLnBucG1cXFxcbmV4dEAxNC4wLjRfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjBfX3JlYWN0QDE4LjIuMFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXHN0YXRpYy1nZW5lcmF0aW9uLXNlYXJjaHBhcmFtcy1iYWlsb3V0LXByb3ZpZGVyLmpzXCIpIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Cchat%5CConversations.web.tsx&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Cchat%5CConversations.web.tsx&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ../../packages/app/features/chat/Conversations.web.tsx */ \"(ssr)/../../packages/app/features/chat/Conversations.web.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q3BhY2thZ2VzJTVDYXBwJTVDZmVhdHVyZXMlNUNjaGF0JTVDQ29udmVyc2F0aW9ucy53ZWIudHN4JnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLz8zNTJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxwYWNrYWdlc1xcXFxhcHBcXFxcZmVhdHVyZXNcXFxcY2hhdFxcXFxDb252ZXJzYXRpb25zLndlYi50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Cchat%5CConversations.web.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/../../packages/app/api.ts":
/*!*********************************!*\
  !*** ../../packages/app/api.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_URL: () => (/* binding */ API_URL),\n/* harmony export */   acceptCall: () => (/* binding */ acceptCall),\n/* harmony export */   addGroupMembers: () => (/* binding */ addGroupMembers),\n/* harmony export */   addMembers: () => (/* binding */ addMembers),\n/* harmony export */   addReaction: () => (/* binding */ addReaction),\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   blockUserApi: () => (/* binding */ blockUserApi),\n/* harmony export */   changePassword: () => (/* binding */ changePassword),\n/* harmony export */   checkPostLikedApi: () => (/* binding */ checkPostLikedApi),\n/* harmony export */   createCommentApi: () => (/* binding */ createCommentApi),\n/* harmony export */   createConversation: () => (/* binding */ createConversation),\n/* harmony export */   createConversationWithUser: () => (/* binding */ createConversationWithUser),\n/* harmony export */   createGroupConversation: () => (/* binding */ createGroupConversation),\n/* harmony export */   createInviteLink: () => (/* binding */ createInviteLink),\n/* harmony export */   createMessage: () => (/* binding */ createMessage),\n/* harmony export */   createMessageWithPayload: () => (/* binding */ createMessageWithPayload),\n/* harmony export */   createMessageWithReply: () => (/* binding */ createMessageWithReply),\n/* harmony export */   createPostApi: () => (/* binding */ createPostApi),\n/* harmony export */   createStoryApi: () => (/* binding */ createStoryApi),\n/* harmony export */   createStoryReplyApi: () => (/* binding */ createStoryReplyApi),\n/* harmony export */   deleteMessage: () => (/* binding */ deleteMessage),\n/* harmony export */   deleteStoryApi: () => (/* binding */ deleteStoryApi),\n/* harmony export */   editMessage: () => (/* binding */ editMessage),\n/* harmony export */   endCall: () => (/* binding */ endCall),\n/* harmony export */   getBlockStatusApi: () => (/* binding */ getBlockStatusApi),\n/* harmony export */   getBlockedUsersApi: () => (/* binding */ getBlockedUsersApi),\n/* harmony export */   getCall: () => (/* binding */ getCall),\n/* harmony export */   getConversations: () => (/* binding */ getConversations),\n/* harmony export */   getCurrentUserId: () => (/* binding */ getCurrentUserId),\n/* harmony export */   getCurrentUserProfile: () => (/* binding */ getCurrentUserProfile),\n/* harmony export */   getFeed: () => (/* binding */ getFeed),\n/* harmony export */   getFriendSuggestionsApi: () => (/* binding */ getFriendSuggestionsApi),\n/* harmony export */   getFriends: () => (/* binding */ getFriends),\n/* harmony export */   getLiveKitToken: () => (/* binding */ getLiveKitToken),\n/* harmony export */   getMessages: () => (/* binding */ getMessages),\n/* harmony export */   getNotificationsApi: () => (/* binding */ getNotificationsApi),\n/* harmony export */   getOnlineUsers: () => (/* binding */ getOnlineUsers),\n/* harmony export */   getOpponentInfo: () => (/* binding */ getOpponentInfo),\n/* harmony export */   getPostComments: () => (/* binding */ getPostComments),\n/* harmony export */   getPostsByHashtagApi: () => (/* binding */ getPostsByHashtagApi),\n/* harmony export */   getSavedPostsApi: () => (/* binding */ getSavedPostsApi),\n/* harmony export */   getStoriesApi: () => (/* binding */ getStoriesApi),\n/* harmony export */   getStoryRepliesApi: () => (/* binding */ getStoryRepliesApi),\n/* harmony export */   getUnreadCount: () => (/* binding */ getUnreadCount),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserPhotosApi: () => (/* binding */ getUserPhotosApi),\n/* harmony export */   getUserPostsApi: () => (/* binding */ getUserPostsApi),\n/* harmony export */   getUsersByIds: () => (/* binding */ getUsersByIds),\n/* harmony export */   initiateCall: () => (/* binding */ initiateCall),\n/* harmony export */   joinConversationByInvite: () => (/* binding */ joinConversationByInvite),\n/* harmony export */   leaveGroup: () => (/* binding */ leaveGroup),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   makeAdmin: () => (/* binding */ makeAdmin),\n/* harmony export */   makeGroupAdmin: () => (/* binding */ makeGroupAdmin),\n/* harmony export */   markAsRead: () => (/* binding */ markAsRead),\n/* harmony export */   markNotificationsReadApi: () => (/* binding */ markNotificationsReadApi),\n/* harmony export */   markStoryViewedApi: () => (/* binding */ markStoryViewedApi),\n/* harmony export */   pinMessage: () => (/* binding */ pinMessage),\n/* harmony export */   reactToPostApi: () => (/* binding */ reactToPostApi),\n/* harmony export */   reactToStoryApi: () => (/* binding */ reactToStoryApi),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   rejectCall: () => (/* binding */ rejectCall),\n/* harmony export */   removeAdmin: () => (/* binding */ removeAdmin),\n/* harmony export */   removeGroupAdmin: () => (/* binding */ removeGroupAdmin),\n/* harmony export */   removeGroupMember: () => (/* binding */ removeGroupMember),\n/* harmony export */   removeMember: () => (/* binding */ removeMember),\n/* harmony export */   removeReaction: () => (/* binding */ removeReaction),\n/* harmony export */   removeReactionApi: () => (/* binding */ removeReactionApi),\n/* harmony export */   removeStoryReactionApi: () => (/* binding */ removeStoryReactionApi),\n/* harmony export */   reportPostApi: () => (/* binding */ reportPostApi),\n/* harmony export */   resendOTP: () => (/* binding */ resendOTP),\n/* harmony export */   revokeMessage: () => (/* binding */ revokeMessage),\n/* harmony export */   savePostApi: () => (/* binding */ savePostApi),\n/* harmony export */   searchMessages: () => (/* binding */ searchMessages),\n/* harmony export */   searchMusicApi: () => (/* binding */ searchMusicApi),\n/* harmony export */   searchSocialApi: () => (/* binding */ searchSocialApi),\n/* harmony export */   searchUsers: () => (/* binding */ searchUsers),\n/* harmony export */   sendFriendRequestApi: () => (/* binding */ sendFriendRequestApi),\n/* harmony export */   sendOTP: () => (/* binding */ sendOTP),\n/* harmony export */   sendVerificationOTP: () => (/* binding */ sendVerificationOTP),\n/* harmony export */   setAuthToken: () => (/* binding */ setAuthToken),\n/* harmony export */   sharePostApi: () => (/* binding */ sharePostApi),\n/* harmony export */   starMessage: () => (/* binding */ starMessage),\n/* harmony export */   trackEventApi: () => (/* binding */ trackEventApi),\n/* harmony export */   unblockUserApi: () => (/* binding */ unblockUserApi),\n/* harmony export */   unfriendUserApi: () => (/* binding */ unfriendUserApi),\n/* harmony export */   unpinMessage: () => (/* binding */ unpinMessage),\n/* harmony export */   unsavePostApi: () => (/* binding */ unsavePostApi),\n/* harmony export */   updateCurrentUserProfile: () => (/* binding */ updateCurrentUserProfile),\n/* harmony export */   updateGroupInfo: () => (/* binding */ updateGroupInfo),\n/* harmony export */   updateOnlineStatus: () => (/* binding */ updateOnlineStatus),\n/* harmony export */   updateProfileApi: () => (/* binding */ updateProfileApi),\n/* harmony export */   updateUserAvatar: () => (/* binding */ updateUserAvatar),\n/* harmony export */   updateUserAvatarWithId: () => (/* binding */ updateUserAvatarWithId),\n/* harmony export */   updateUserInfo: () => (/* binding */ updateUserInfo),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile),\n/* harmony export */   updateUserProfileWithId: () => (/* binding */ updateUserProfileWithId),\n/* harmony export */   updateUsername: () => (/* binding */ updateUsername),\n/* harmony export */   uploadAvatarDirect: () => (/* binding */ uploadAvatarDirect),\n/* harmony export */   uploadChatFile: () => (/* binding */ uploadChatFile),\n/* harmony export */   uploadImageLocal: () => (/* binding */ uploadImageLocal),\n/* harmony export */   uploadImageLocalOld: () => (/* binding */ uploadImageLocalOld),\n/* harmony export */   uploadImageS3: () => (/* binding */ uploadImageS3),\n/* harmony export */   uploadMediaApi: () => (/* binding */ uploadMediaApi),\n/* harmony export */   verifyOTP: () => (/* binding */ verifyOTP)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../../../../node_modules/axios/lib/axios.js\");\n\n// Use Vercel proxy for web to avoid CORS issues\n// Direct backend URL has CORS restrictions on Vercel domain\nconst DIRECT_BACKEND_URL = \"https://backend36.dev\";\nconst isWeb = \"undefined\" !== \"undefined\";\nconst isLocalhost = isWeb && window?.location?.hostname && /^(localhost|127\\.|192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))$/.test(window.location.hostname);\n// Force use proxy for LAN IPs to avoid CORS issues\nconst isLAN = isWeb && window?.location?.hostname && /^(192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))$/.test(window.location.hostname);\n// Check if using ngrok tunnel\nconst isNgrok = isWeb && window?.location?.hostname && window.location.hostname.includes(\"ngrok\");\n// Always use direct backend for development (proxy only works in production)\nconst isProduction = isWeb && window?.location?.hostname && !window.location.hostname.includes(\"localhost\") && !window.location.hostname.match(/^(192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))/) && !isNgrok && !window.location.hostname.includes(\"ngrok\");\nconst API_URL = isWeb ? isProduction ? \"/api\" : DIRECT_BACKEND_URL : DIRECT_BACKEND_URL;\n// Debug logging\nif (isWeb && window?.location?.hostname) {\n    console.log(\"\\uD83C\\uDF10 Web environment detected\");\n    console.log(\"\\uD83D\\uDD0D window.location.hostname:\", window.location.hostname);\n    console.log(\"\\uD83D\\uDD0D isLocalhost:\", isLocalhost);\n    console.log(\"\\uD83D\\uDD0D isLAN:\", isLAN);\n    console.log(\"\\uD83D\\uDD0D isNgrok:\", isNgrok);\n    console.log(\"\\uD83D\\uDD0D isProduction:\", isProduction);\n    console.log(\"\\uD83D\\uDD0D API_URL:\", API_URL);\n}\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_URL,\n    withCredentials: true\n});\n// Rehydrate auth header from localStorage on web reload\nif (false) {}\n// Add request interceptor for debugging\napi.interceptors.request.use((config)=>{\n    // Ensure token is set from localStorage on each request\n    if (false) {}\n    const authHeader = typeof config.headers.Authorization === \"string\" ? config.headers.Authorization.substring(0, 30) + \"...\" : config.headers.Authorization ? String(config.headers.Authorization) : \"none\";\n    console.log(\"\\uD83D\\uDD0D API Request:\", {\n        method: config.method?.toUpperCase(),\n        url: config.url,\n        baseURL: config.baseURL,\n        hasAuth: !!config.headers.Authorization,\n        authHeader\n    });\n    return config;\n}, (error)=>{\n    console.error(\" Request Error:\", error);\n    return Promise.reject(error);\n});\n// Add response interceptor for debugging\napi.interceptors.response.use((response)=>{\n    console.log(\" API Response:\", {\n        status: response.status,\n        statusText: response.statusText,\n        data: response.data\n    });\n    return response;\n}, (error)=>{\n    console.error(\" Response Error:\", {\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        config: {\n            method: error.config?.method?.toUpperCase(),\n            url: error.config?.url,\n            data: error.config?.data\n        }\n    });\n    return Promise.reject(error);\n});\nconst setAuthToken = (token)=>{\n    if (token) {\n        api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    } else {\n        delete api.defaults.headers.common[\"Authorization\"];\n    }\n};\nconst login = async (email, password)=>{\n    const res = await api.post(\"/auth/login\", {\n        email,\n        password\n    });\n    return res.data;\n};\nconst getConversations = async ()=>{\n    const res = await api.get(\"/conversations\");\n    return res.data;\n};\nconst getMessages = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/messages`);\n    return res.data;\n};\nconst createMessage = async (conversationId, text)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, {\n        text\n    });\n    return res.data;\n};\nconst createMessageWithPayload = async (conversationId, payload)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, payload);\n    return res.data;\n};\nconst createConversation = async (userId, title)=>{\n    const res = await api.post(\"/conversations\", {\n        members: [\n            userId\n        ],\n        title: title || `Chat with ${userId}`\n    });\n    return res.data;\n};\n// Create a group conversation with multiple member IDs\nconst createGroupConversation = async (memberIds, title)=>{\n    const unique = Array.from(new Set(memberIds.filter(Boolean)));\n    const res = await api.post(\"/conversations\", {\n        members: unique,\n        isGroup: true,\n        title: title || `Group (${unique.length})`\n    });\n    return res.data;\n};\nconst initiateCall = async (conversationId, type, targetUserId)=>{\n    const payload = {\n        conversationId,\n        type\n    };\n    if (targetUserId) {\n        payload.targetUserId = targetUserId;\n    }\n    const res = await api.post(\"/calls/initiate\", payload);\n    return res.data;\n};\nconst getCall = async (callId)=>{\n    const res = await api.get(`/calls/${callId}`);\n    return res.data;\n};\nconst getLiveKitToken = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/livekit-token`);\n    return res.data;\n};\nconst endCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/end`);\n    return res.data;\n};\nconst acceptCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/accept`);\n    return res.data;\n};\nconst rejectCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/reject`);\n    return res.data;\n};\n// \n// UPLOAD IMAGE LOCAL - CLIENT-SERVER (HTTP POST over TCP)\n// Multipart Form Data\n// \n// Upload image to local storage endpoint (updated to use correct endpoint)\nconst uploadImageLocalOld = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/files/image`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload to S3 if backend provides presigned handling (optional)\nconst uploadImageS3 = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/files/s3`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload to local storage\nconst uploadImageLocal = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/uploads/image`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload media cho mng x hi (nh/video) - dng chung vi desktop\nconst uploadMediaApi = async (file)=>{\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await api.post(\"/uploads/s3/public\", formData, {\n    });\n    return {\n        url: res.data.url,\n        type: res.data.mime.startsWith(\"image/\") ? \"image\" : \"video\"\n    };\n};\n// Web helper: upload File object directly (chat attachments)\nconst uploadChatFile = async (file)=>{\n    const form = new FormData();\n    form.append(\"file\", file);\n    const res = await api.post(`/uploads/s3/public`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\nconst logout = async (token)=>{\n    const res = await api.post(\"/auth/logout\", {\n        token\n    });\n    return res.data;\n};\nconst register = async (email, password, name)=>{\n    const res = await api.post(\"/auth/register\", {\n        email,\n        password,\n        name\n    });\n    return res.data;\n};\nconst sendOTP = async (email)=>{\n    const res = await api.post(\"/auth/send-otp\", {\n        email\n    });\n    return res.data;\n};\nconst verifyOTP = async (email, otp)=>{\n    const res = await api.post(\"/auth/verify-otp\", {\n        email,\n        otp\n    });\n    return res.data;\n};\nconst resendOTP = async (email)=>{\n    const res = await api.post(\"/auth/resend-otp\", {\n        email\n    });\n    return res.data;\n};\nconst sendVerificationOTP = async (email)=>{\n    const res = await api.post(\"/auth/send-verification-otp\", {\n        email\n    });\n    return res.data;\n};\nconst updateUsername = async (username)=>{\n    const res = await api.patch(\"/users/username\", {\n        username\n    });\n    return res.data;\n};\nconst updateUserAvatar = async (avatarUrl)=>{\n    const res = await api.patch(\"/users/avatar\", {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Alternative avatar update endpoints to try\nconst updateUserProfile = async (data)=>{\n    const res = await api.patch(\"/users/profile\", data);\n    return res.data;\n};\nconst updateUserInfo = async (avatarUrl)=>{\n    const res = await api.put(\"/users/info\", {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Get current user ID  web version dng localStorage\nconst getCurrentUserId = async ()=>{\n    try {\n        if (true) return null;\n        const userId = window.localStorage.getItem(\"user_id\");\n        return userId;\n    } catch (error) {\n        console.error(\"Error getting user ID from localStorage:\", error);\n        return null;\n    }\n};\n// Bn b cho trang c nhn / friends page\nconst getFriends = async ()=>{\n    const res = await api.get(\"/social/friends\");\n    return res.data;\n};\nconst blockUserApi = async (userId)=>{\n    const res = await api.post(`/users/${userId}/block`);\n    return res.data;\n};\nconst unblockUserApi = async (userId)=>{\n    const res = await api.delete(`/users/${userId}/block`);\n    return res.data;\n};\nconst getBlockedUsersApi = async ()=>{\n    const res = await api.get(\"/users/blocked\");\n    return res.data;\n};\nconst getBlockStatusApi = async (userId)=>{\n    const res = await api.get(`/users/${userId}/block-status`);\n    return res.data;\n};\nconst unfriendUserApi = async (userId)=>{\n    const res = await api.delete(`/social/friends/${userId}`);\n    return res.data;\n};\n// Photos from posts (author or tagged)\nconst getUserPhotosApi = async (userId, type = \"authored\")=>{\n    try {\n        const res = await api.get(`/social/users/${userId}/photos`, {\n            params: {\n                type\n            }\n        });\n        return res.data;\n    } catch (error) {\n        // Nu backend cha c route /photos (404), tr v rng  frontend fallback sang posts\n        if (error?.response?.status === 404) {\n            return {\n                items: []\n            };\n        }\n        throw error;\n    }\n};\nconst updateProfileApi = async (payload)=>{\n    const res = await api.patch(`/users/me/profile`, payload);\n    return res.data;\n};\n// Feed bi vit ca 1 user (trang profile)\nconst getUserPostsApi = async (userId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/users/${userId}/posts`, {\n        params\n    });\n    return res.data;\n};\nconst trackEventApi = async (eventType, metadata, sessionId)=>{\n    try {\n        await api.post(\"/analytics/track\", {\n            eventType,\n            metadata,\n            sessionId\n        });\n    } catch (error) {\n        console.error(\"[Analytics] Failed to track event:\", error);\n    }\n};\n// Update avatar with user ID\nconst updateUserAvatarWithId = async (userId, avatarUrl)=>{\n    const res = await api.patch(`/users/${userId}/avatar`, {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Update profile with user ID\nconst updateUserProfileWithId = async (userId, data)=>{\n    const res = await api.patch(`/users/${userId}/profile`, data);\n    return res.data;\n};\nconst changePassword = async (currentPassword, newPassword)=>{\n    const res = await api.post(\"/auth/change-password\", {\n        currentPassword,\n        newPassword\n    });\n    return res.data;\n};\n// Update current user profile (the correct way according to backend docs)\nconst updateCurrentUserProfile = async (data)=>{\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - request data:\", data);\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - method: PATCH\");\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.patch(\"/users/me\", data);\n    return res.data;\n};\n// Get current user profile\nconst getCurrentUserProfile = async ()=>{\n    const res = await api.get(\"/users/me\");\n    return res.data;\n};\n// Cch 1: Upload avatar trc tip (n gin nht)\nconst uploadAvatarDirect = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"avatar\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    console.log(\"\\uD83D\\uDD0D uploadAvatarDirect - sending file:\", file.name);\n    console.log(\"\\uD83D\\uDD0D uploadAvatarDirect - auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.post(\"/users/avatar\", form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\nconst getUsersByIds = async (userIds)=>{\n    const res = await api.post(`/users/by-ids`, {\n        userIds\n    });\n    return res.data;\n};\nconst searchUsers = async (query, page = 1, limit = 20)=>{\n    console.log(\"\\uD83D\\uDD0D searchUsers called with:\", {\n        query,\n        page,\n        limit\n    });\n    console.log(\"\\uD83D\\uDD0D API base URL:\", api.defaults.baseURL);\n    console.log(\"\\uD83D\\uDD0D Auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.get(\"/users/search\", {\n        params: {\n            q: query,\n            page,\n            limit\n        }\n    });\n    console.log(\"\\uD83D\\uDD0D searchUsers response:\", res.data);\n    return res.data;\n};\n// To conversation vi user\nconst createConversationWithUser = async (userId)=>{\n    const res = await api.post(\"/conversations\", {\n        members: [\n            userId\n        ]\n    });\n    return res.data;\n};\nconst getOpponentInfo = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/opponent`);\n    return res.data;\n};\n// Message Actions API\nconst editMessage = async (messageId, text)=>{\n    const res = await api.patch(`/conversations/messages/${messageId}`, {\n        text\n    });\n    return res.data;\n};\nconst deleteMessage = async (messageId)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}`);\n    return res.data;\n};\nconst addReaction = async (messageId, emoji)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/reactions`, {\n        emoji\n    });\n    return res.data;\n};\nconst removeReaction = async (messageId, emoji)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}/reactions/${encodeURIComponent(emoji)}`);\n    return res.data;\n};\nconst pinMessage = async (messageId)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/pin`);\n    return res.data;\n};\nconst unpinMessage = async (messageId)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}/pin`);\n    return res.data;\n};\nconst starMessage = async (messageId)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/star`);\n    return res.data;\n};\n// Revoke message for everyone\nconst revokeMessage = async (messageId)=>{\n    const res = await api.patch(`/conversations/messages/${messageId}/revoke`, {});\n    return res.data;\n};\nconst searchMessages = async (query, conversationId)=>{\n    const params = {\n        query\n    };\n    if (conversationId) {\n        params.conversationId = conversationId;\n    }\n    const res = await api.get(`/conversations/messages/search`, {\n        params\n    });\n    return res.data;\n};\nconst markAsRead = async (conversationId, messageId)=>{\n    const res = await api.post(`/conversations/${conversationId}/read`, {\n        messageId\n    });\n    return res.data;\n};\n// Group Management API\nconst addMembers = async (conversationId, userIds)=>{\n    const res = await api.post(`/conversations/${conversationId}/members`, {\n        userIds\n    });\n    return res.data;\n};\nconst removeMember = async (conversationId, userId)=>{\n    const res = await api.delete(`/conversations/${conversationId}/members/${userId}`);\n    return res.data;\n};\nconst updateGroupInfo = async (conversationId, data)=>{\n    const res = await api.patch(`/conversations/${conversationId}`, data);\n    return res.data;\n};\nconst createInviteLink = async (conversationId)=>{\n    const res = await api.post(`/conversations/${conversationId}/invite`);\n    return res.data;\n};\nconst joinConversationByInvite = async (inviteCode)=>{\n    const res = await api.post(`/conversations/join/invite`, {\n        inviteCode\n    });\n    return res.data;\n};\nconst makeAdmin = async (conversationId, userId)=>{\n    const res = await api.post(`/conversations/${conversationId}/admins/${userId}`);\n    return res.data;\n};\nconst removeAdmin = async (conversationId, userId)=>{\n    const res = await api.delete(`/conversations/${conversationId}/admins/${userId}`);\n    return res.data;\n};\n// Backwards-compatible aliases for desktop code\nconst addGroupMembers = addMembers;\nconst removeGroupMember = removeMember;\nconst makeGroupAdmin = makeAdmin;\nconst removeGroupAdmin = removeAdmin;\nconst leaveGroup = async (conversationId)=>{\n    const res = await api.post(`/conversations/${conversationId}/leave`);\n    return res.data;\n};\nconst getUnreadCount = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/unread`);\n    return res.data;\n};\n// Online Status API\nconst updateOnlineStatus = async (status)=>{\n    const res = await api.patch(`/users/me/status`, {\n        status\n    });\n    return res.data;\n};\nconst getOnlineUsers = async (userIds)=>{\n    const res = await api.post(`/users/online-status`, {\n        userIds\n    });\n    return res.data;\n};\n// Update createMessage to support replyTo\nconst createMessageWithReply = async (conversationId, text, replyTo)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, {\n        text,\n        replyTo\n    });\n    return res.data;\n};\nconst getFeed = async (cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/posts/feed\", {\n        params\n    });\n    return res.data;\n};\nconst createPostApi = async (payload)=>{\n    const res = await api.post(\"/social/posts\", payload);\n    return res.data;\n};\nconst createCommentApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/comments`, payload);\n    return res.data;\n};\nconst getPostComments = async (postId, cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/posts/${postId}/comments`, {\n        params\n    });\n    return res.data;\n};\nconst getPostsByHashtagApi = async (tag, cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/hashtags/${encodeURIComponent(tag)}/posts`, {\n        params\n    });\n    return res.data;\n};\nconst sharePostApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/share`, payload);\n    return res.data;\n};\nconst createStoryApi = async (payload)=>{\n    const res = await api.post(\"/social/stories\", payload);\n    return res.data;\n};\nconst getStoriesApi = async ()=>{\n    const res = await api.get(\"/social/stories\");\n    return res.data;\n};\nconst markStoryViewedApi = async (storyId)=>{\n    const res = await api.post(`/social/stories/${storyId}/view`, {});\n    return res.data;\n};\nconst deleteStoryApi = async (storyId)=>{\n    const res = await api.delete(`/social/stories/${storyId}`);\n    return res.data;\n};\nconst savePostApi = async (postId)=>{\n    const res = await api.post(`/social/posts/${postId}/save`, {});\n    return res.data;\n};\nconst unsavePostApi = async (postId)=>{\n    const res = await api.delete(`/social/posts/${postId}/save`);\n    return res.data;\n};\nconst getSavedPostsApi = async (cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/posts/saved\", {\n        params\n    });\n    return res.data;\n};\nconst reportPostApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/report`, payload);\n    return res.data;\n};\nconst getFriendSuggestionsApi = async (limit = 6)=>{\n    const res = await api.get(\"/social/friends/suggestions\", {\n        params: {\n            limit\n        }\n    });\n    return res.data;\n};\nconst sendFriendRequestApi = async (targetUserId)=>{\n    const res = await api.post(\"/social/friends/requests\", {\n        targetUserId\n    });\n    return res.data;\n};\nconst getNotificationsApi = async (cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/notifications\", {\n        params\n    });\n    return res.data;\n};\nconst markNotificationsReadApi = async (ids)=>{\n    const res = await api.post(\"/social/notifications/read\", {\n        ids\n    });\n    return res.data;\n};\nconst getUserById = async (userId)=>{\n    const res = await api.get(`/users/${userId}`);\n    return res.data;\n};\nconst searchSocialApi = async (queryOrParams)=>{\n    const params = typeof queryOrParams === \"string\" ? {\n        q: queryOrParams\n    } : {\n        q: queryOrParams.q,\n        type: queryOrParams.type\n    };\n    const res = await api.get(\"/social/search\", {\n        params\n    });\n    return res.data;\n};\nconst checkPostLikedApi = async (postId)=>{\n    const res = await api.get(`/social/posts/${postId}/liked`);\n    return res.data;\n};\nconst reactToPostApi = async (postId, type)=>{\n    const res = await api.post(`/social/posts/${postId}/reactions`, {\n        type\n    });\n    return res.data;\n};\nconst removeReactionApi = async (postId)=>{\n    const res = await api.delete(`/social/posts/${postId}/reactions`);\n    return res.data;\n};\n// Story Reactions & Replies\nconst reactToStoryApi = async (storyId, type)=>{\n    const res = await api.post(`/social/stories/${storyId}/reactions`, {\n        type\n    });\n    return res.data;\n};\nconst removeStoryReactionApi = async (storyId)=>{\n    const res = await api.delete(`/social/stories/${storyId}/reactions`);\n    return res.data;\n};\nconst getStoryRepliesApi = async (storyId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/stories/${storyId}/replies`, {\n        params\n    });\n    return res.data;\n};\nconst createStoryReplyApi = async (storyId, content)=>{\n    const res = await api.post(`/social/stories/${storyId}/replies`, {\n        content\n    });\n    return res.data;\n};\n// Music Search\nconst searchMusicApi = async (query)=>{\n    try {\n        const response = await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(query)}&media=music&limit=20`);\n        const data = await response.json();\n        return data.results || [];\n    } catch (error) {\n        console.error(\"Failed to search music:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEVBQUU7UUFBRXFCO0lBQVE7SUFDdkYsT0FBT3ZLLElBQUlMLElBQUk7QUFDakIsRUFBRTtBQUVGLGVBQWU7QUFDUixNQUFNNkssaUJBQWlCLE9BQU9yRTtJQUNuQyxJQUFJO1FBQ0YsTUFBTTNHLFdBQVcsTUFBTThDLE1BQ3JCLENBQUMscUNBQXFDLEVBQUV3RSxtQkFBbUJYLE9BQU8scUJBQXFCLENBQUM7UUFFMUYsTUFBTXhHLE9BQU8sTUFBTUgsU0FBU2lMLElBQUk7UUFDaEMsT0FBTzlLLEtBQUsrSyxPQUFPLElBQUksRUFBRTtJQUMzQixFQUFFLE9BQU9yTCxPQUFPO1FBQ2R4QixRQUFRd0IsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2FwaS50cz81NzM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vIFVzZSBWZXJjZWwgcHJveHkgZm9yIHdlYiB0byBhdm9pZCBDT1JTIGlzc3Vlc1xuLy8gRGlyZWN0IGJhY2tlbmQgVVJMIGhhcyBDT1JTIHJlc3RyaWN0aW9ucyBvbiBWZXJjZWwgZG9tYWluXG5jb25zdCBESVJFQ1RfQkFDS0VORF9VUkwgPSAnaHR0cHM6Ly9iYWNrZW5kMzYuZGV2JztcbmNvbnN0IGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBpc0xvY2FsaG9zdCA9IGlzV2ViICYmIHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lICYmIC9eKGxvY2FsaG9zdHwxMjdcXC58MTkyXFwuMTY4XFwufDEwXFwufDE3MlxcLigxWzYtOV18MlxcZHwzWzAtMV0pKSQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbi8vIEZvcmNlIHVzZSBwcm94eSBmb3IgTEFOIElQcyB0byBhdm9pZCBDT1JTIGlzc3Vlc1xuY29uc3QgaXNMQU4gPSBpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSAmJiAvXigxOTJcXC4xNjhcXC58MTBcXC58MTcyXFwuKDFbNi05XXwyXFxkfDNbMC0xXSkpJC8udGVzdCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuLy8gQ2hlY2sgaWYgdXNpbmcgbmdyb2sgdHVubmVsXG5jb25zdCBpc05ncm9rID0gaXNXZWIgJiYgd2luZG93Py5sb2NhdGlvbj8uaG9zdG5hbWUgJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluY2x1ZGVzKCduZ3JvaycpO1xuLy8gQWx3YXlzIHVzZSBkaXJlY3QgYmFja2VuZCBmb3IgZGV2ZWxvcG1lbnQgKHByb3h5IG9ubHkgd29ya3MgaW4gcHJvZHVjdGlvbilcbmNvbnN0IGlzUHJvZHVjdGlvbiA9IGlzV2ViICYmIHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUubWF0Y2goL14oMTkyXFwuMTY4XFwufDEwXFwufDE3MlxcLigxWzYtOV18MlxcZHwzWzAtMV0pKS8pICYmICFpc05ncm9rICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ25ncm9rJyk7XG5leHBvcnQgY29uc3QgQVBJX1VSTCA9IGlzV2ViID8gKGlzUHJvZHVjdGlvbiA/ICcvYXBpJyA6IERJUkVDVF9CQUNLRU5EX1VSTCkgOiBESVJFQ1RfQkFDS0VORF9VUkw7XG5cbi8vIERlYnVnIGxvZ2dpbmdcbmlmIChpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSkge1xuXHRjb25zb2xlLmxvZygn8J+MkCBXZWIgZW52aXJvbm1lbnQgZGV0ZWN0ZWQnKTtcblx0Y29uc29sZS5sb2coJ/CflI0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOicsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG5cdGNvbnNvbGUubG9nKCfwn5SNIGlzTG9jYWxob3N0OicsIGlzTG9jYWxob3N0KTtcblx0Y29uc29sZS5sb2coJ/CflI0gaXNMQU46JywgaXNMQU4pO1xuXHRjb25zb2xlLmxvZygn8J+UjSBpc05ncm9rOicsIGlzTmdyb2spO1xuXHRjb25zb2xlLmxvZygn8J+UjSBpc1Byb2R1Y3Rpb246JywgaXNQcm9kdWN0aW9uKTtcblx0Y29uc29sZS5sb2coJ/CflI0gQVBJX1VSTDonLCBBUElfVVJMKTtcbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG5cdGJhc2VVUkw6IEFQSV9VUkwsXG5cdHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbn0pO1xuXG4vLyBSZWh5ZHJhdGUgYXV0aCBoZWFkZXIgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gd2ViIHJlbG9hZFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0Y29uc3QgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuXHRpZiAodG9rZW4pIHtcblx0XHRhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3Rva2VufWA7XG5cdH1cbn1cblxuLy8gQWRkIHJlcXVlc3QgaW50ZXJjZXB0b3IgZm9yIGRlYnVnZ2luZ1xuYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcblx0KGNvbmZpZykgPT4ge1xuXHRcdC8vIEVuc3VyZSB0b2tlbiBpcyBzZXQgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gZWFjaCByZXF1ZXN0XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdGNvbnN0IHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF90b2tlblwiKTtcblx0XHRcdGlmICh0b2tlbiAmJiAhY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbikge1xuXHRcdFx0XHRjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IGF1dGhIZWFkZXIgPVxuICAgICAgdHlwZW9mIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uLnN1YnN0cmluZygwLCAzMCkgKyBcIi4uLlwiXG4gICAgICAgIDogY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvblxuICAgICAgICA/IFN0cmluZyhjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uKVxuICAgICAgICA6IFwibm9uZVwiO1xuXG4gICAgY29uc29sZS5sb2coJ/CflI0gQVBJIFJlcXVlc3Q6Jywge1xuXHRcdFx0bWV0aG9kOiBjb25maWcubWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxuXHRcdFx0dXJsOiBjb25maWcudXJsLFxuXHRcdFx0YmFzZVVSTDogY29uZmlnLmJhc2VVUkwsXG5cdFx0XHRoYXNBdXRoOiAhIWNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24sXG5cdFx0XHRhdXRoSGVhZGVyLFxuXHRcdH0pO1xuXHRcdHJldHVybiBjb25maWc7XG5cdH0sXG5cdChlcnJvcikgPT4ge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBSZXF1ZXN0IEVycm9yOicsIGVycm9yKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuXHR9XG4pO1xuXG4vLyBBZGQgcmVzcG9uc2UgaW50ZXJjZXB0b3IgZm9yIGRlYnVnZ2luZ1xuYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG5cdChyZXNwb25zZSkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCfinIUgQVBJIFJlc3BvbnNlOicsIHtcblx0XHRcdHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuXHRcdFx0c3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcblx0XHRcdGRhdGE6IHJlc3BvbnNlLmRhdGEsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHR9LFxuXHQoZXJyb3IpID0+IHtcblx0XHRjb25zb2xlLmVycm9yKCfinYwgUmVzcG9uc2UgRXJyb3I6Jywge1xuXHRcdFx0c3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuXHRcdFx0c3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG5cdFx0XHRkYXRhOiBlcnJvci5yZXNwb25zZT8uZGF0YSxcblx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRtZXRob2Q6IGVycm9yLmNvbmZpZz8ubWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxuXHRcdFx0XHR1cmw6IGVycm9yLmNvbmZpZz8udXJsLFxuXHRcdFx0XHRkYXRhOiBlcnJvci5jb25maWc/LmRhdGEsXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0fVxuKTtcblxuZXhwb3J0IGNvbnN0IHNldEF1dGhUb2tlbiA9ICh0b2tlbj86IHN0cmluZykgPT4ge1xuXHRpZiAodG9rZW4pIHtcblx0XHRhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuXHR9IGVsc2Uge1xuXHRcdGRlbGV0ZSBhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXTtcblx0fVxufTtcblxuZXhwb3J0IHR5cGUgTG9naW5SZXNwb25zZSA9IHtcblx0YWNjZXNzVG9rZW46IHN0cmluZztcblx0cmVmcmVzaFRva2VuOiBzdHJpbmc7XG5cdHVzZXI6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH07XG59O1xuXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxMb2dpblJlc3BvbnNlPignL2F1dGgvbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IHR5cGUgQ29udmVyc2F0aW9uID0ge1xuXHRfaWQ6IHN0cmluZztcblx0dGl0bGU/OiBzdHJpbmc7XG5cdG1lbWJlcnM6IHN0cmluZ1tdO1xuXHRpc0dyb3VwOiBib29sZWFuO1xuXHRsYXN0TWVzc2FnZUF0Pzogc3RyaW5nO1xuXHRjcmVhdGVkQXQ6IHN0cmluZztcblx0dXBkYXRlZEF0OiBzdHJpbmc7XG5cdF9fdj86IG51bWJlcjtcblx0bGFzdE1lc3NhZ2VTZW5kZXI/OiB7XG5cdFx0X2lkOiBzdHJpbmc7XG5cdFx0bmFtZTogc3RyaW5nO1xuXHRcdGF2YXRhcj86IHN0cmluZztcblx0fTtcblx0Ly8gTmV3IGZpZWxkc1xuXHR1bnJlYWRDb3VudD86IHsgW3VzZXJJZDogc3RyaW5nXTogbnVtYmVyIH07XG5cdHR5cGluZ1VzZXJzPzogQXJyYXk8e1xuXHRcdHVzZXJJZDogc3RyaW5nO1xuXHRcdHN0YXJ0ZWRBdDogc3RyaW5nO1xuXHR9Pjtcblx0YWRtaW5zPzogc3RyaW5nW107XG5cdGdyb3VwQXZhdGFyPzogc3RyaW5nO1xuXHRncm91cFNldHRpbmdzPzoge1xuXHRcdG9ubHlBZG1pbnNDYW5Qb3N0PzogYm9vbGVhbjtcblx0XHRhbGxvd01lbWJlckludml0ZXM/OiBib29sZWFuO1xuXHR9O1xuXHRwaW5uZWRNZXNzYWdlcz86IHN0cmluZ1tdO1xuXHRpbnZpdGVDb2RlPzogc3RyaW5nO1xuXHRpbnZpdGVDb2RlQ3JlYXRlZEF0Pzogc3RyaW5nO1xuXHRvcHBvbmVudD86IHtcblx0XHRfaWQ6IHN0cmluZztcblx0XHRuYW1lOiBzdHJpbmc7XG5cdFx0YXZhdGFyPzogc3RyaW5nO1xuXHR9O1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsbFJlY29yZCA9IHtcblx0X2lkOiBzdHJpbmc7XG5cdGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7XG5cdGluaXRpYXRvcklkOiBzdHJpbmc7XG5cdHBhcnRpY2lwYW50czogc3RyaW5nW107XG5cdHR5cGU6ICdhdWRpbycgfCAndmlkZW8nO1xuXHRjYWxsVHlwZTogJ3AycCcgfCAnc2Z1Jztcblx0c3RhdHVzOiBzdHJpbmc7XG5cdG1ldGFkYXRhPzoge1xuXHRcdHJvb21JZD86IHN0cmluZztcblx0XHRsaXZla2l0Um9vbU5hbWU/OiBzdHJpbmc7XG5cdH07XG5cdGxpdmVraXRSb29tTmFtZT86IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb252ZXJzYXRpb25zID0gYXN5bmMgKCkgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PENvbnZlcnNhdGlvbltdPignL2NvbnZlcnNhdGlvbnMnKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IHR5cGUgUmVhY3Rpb24gPSB7XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRlbW9qaTogc3RyaW5nO1xuXHRjcmVhdGVkQXQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFJlYWRSZWNlaXB0ID0ge1xuXHR1c2VySWQ6IHN0cmluZztcblx0cmVhZEF0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0ge1xuXHRfaWQ6IHN0cmluZztcblx0dGV4dD86IHN0cmluZztcbiAgdHlwZT86ICd0ZXh0JyB8ICdpbWFnZScgfCAnZmlsZSc7XG4gIGltYWdlVXJsPzogc3RyaW5nO1xuXHRjb252ZXJzYXRpb25JZDogc3RyaW5nO1xuXHRzZW5kZXJJZDogc3RyaW5nO1xuXHRjcmVhdGVkQXQ6IHN0cmluZztcblx0dXBkYXRlZEF0OiBzdHJpbmc7XG5cdF9fdj86IG51bWJlcjtcblx0Ly8gTmV3IGZpZWxkc1xuXHRyZXBseVRvPzogc3RyaW5nIHwgTWVzc2FnZTtcblx0cmVhY3Rpb25zPzogUmVhY3Rpb25bXTtcblx0aXNQaW5uZWQ/OiBib29sZWFuO1xuXHRpc1N0YXJyZWQ/OiBib29sZWFuO1xuXHRpc0VkaXRlZD86IGJvb2xlYW47XG5cdGRlbGV0ZWRBdD86IHN0cmluZyB8IG51bGw7XG5cdGlzUmV2b2tlZD86IGJvb2xlYW47XG5cdHJldm9rZWRBdD86IHN0cmluZyB8IG51bGw7XG5cdHJldm9rZWRCeT86IHN0cmluZyB8IG51bGw7XG5cdHJlYWRCeT86IFJlYWRSZWNlaXB0W107XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TWVzc2FnZXMgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PE1lc3NhZ2VbXT4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxNZXNzYWdlPihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vbWVzc2FnZXNgLCB7IHRleHQgfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCB0eXBlIENyZWF0ZU1lc3NhZ2VQYXlsb2FkID0ge1xuICB0ZXh0Pzogc3RyaW5nO1xuICB0eXBlPzogJ3RleHQnIHwgJ2ltYWdlJyB8ICdmaWxlJztcbiAgaW1hZ2VVcmw/OiBzdHJpbmc7XG4gIGZpbGU/OiB7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyBtaW1lPzogc3RyaW5nOyBzaXplPzogbnVtYmVyIH07XG4gIHJlcGx5VG8/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIHBheWxvYWQ6IENyZWF0ZU1lc3NhZ2VQYXlsb2FkKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PE1lc3NhZ2U+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9tZXNzYWdlc2AsIHBheWxvYWQpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29udmVyc2F0aW9uID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxDb252ZXJzYXRpb24+KCcvY29udmVyc2F0aW9ucycsIHsgXG5cdFx0bWVtYmVyczogW3VzZXJJZF0sXG5cdFx0dGl0bGU6IHRpdGxlIHx8IGBDaGF0IHdpdGggJHt1c2VySWR9YFxuXHR9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gQ3JlYXRlIGEgZ3JvdXAgY29udmVyc2F0aW9uIHdpdGggbXVsdGlwbGUgbWVtYmVyIElEc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uID0gYXN5bmMgKG1lbWJlcklkczogc3RyaW5nW10sIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHVuaXF1ZSA9IEFycmF5LmZyb20obmV3IFNldChtZW1iZXJJZHMuZmlsdGVyKEJvb2xlYW4pKSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PENvbnZlcnNhdGlvbj4oJy9jb252ZXJzYXRpb25zJywge1xuICAgIG1lbWJlcnM6IHVuaXF1ZSxcbiAgICBpc0dyb3VwOiB0cnVlLFxuICAgIHRpdGxlOiB0aXRsZSB8fCBgR3JvdXAgKCR7dW5pcXVlLmxlbmd0aH0pYFxuICB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IHR5cGUgSW5pdGlhdGVDYWxsUmVzcG9uc2UgPSB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGNhbGw/OiB7XG5cdFx0aWQ6IHN0cmluZztcblx0XHRyb29tSWQ/OiBzdHJpbmc7XG5cdFx0bGl2ZWtpdFJvb21OYW1lPzogc3RyaW5nO1xuXHRcdGNhbGxUeXBlPzogJ3AycCcgfCAnc2Z1Jztcblx0XHRzdGF0dXM6IHN0cmluZztcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZUNhbGwgPSBhc3luYyAoXG5cdGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG5cdHR5cGU6ICdhdWRpbycgfCAndmlkZW8nLFxuXHR0YXJnZXRVc2VySWQ/OiBzdHJpbmdcbikgPT4ge1xuXHRjb25zdCBwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0geyBjb252ZXJzYXRpb25JZCwgdHlwZSB9O1xuXHRpZiAodGFyZ2V0VXNlcklkKSB7XG5cdFx0cGF5bG9hZC50YXJnZXRVc2VySWQgPSB0YXJnZXRVc2VySWQ7XG5cdH1cblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8SW5pdGlhdGVDYWxsUmVzcG9uc2U+KCcvY2FsbHMvaW5pdGlhdGUnLCBwYXlsb2FkKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxDYWxsUmVjb3JkPihgL2NhbGxzLyR7Y2FsbElkfWApO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGl2ZUtpdFRva2VuID0gYXN5bmMgKGNhbGxJZDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgc3VjY2VzczogYm9vbGVhbjsgdG9rZW46IHN0cmluZzsgcm9vbU5hbWU6IHN0cmluZzsgdXJsOiBzdHJpbmcgfT4oXG5cdFx0YC9jYWxscy8ke2NhbGxJZH0vbGl2ZWtpdC10b2tlbmBcblx0KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuZENhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkdXJhdGlvbj86IG51bWJlciB9PihgL2NhbGxzLyR7Y2FsbElkfS9lbmRgKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGFjY2VwdENhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBzdWNjZXNzOiBib29sZWFuIH0+KGAvY2FsbHMvJHtjYWxsSWR9L2FjY2VwdGApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVqZWN0Q2FsbCA9IGFzeW5jIChjYWxsSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4oYC9jYWxscy8ke2NhbGxJZH0vcmVqZWN0YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbi8vIFVQTE9BRCBJTUFHRSBMT0NBTCAtIENMSUVOVC1TRVJWRVIgKEhUVFAgUE9TVCBvdmVyIFRDUClcbi8vIE11bHRpcGFydCBGb3JtIERhdGFcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuLy8gVXBsb2FkIGltYWdlIHRvIGxvY2FsIHN0b3JhZ2UgZW5kcG9pbnQgKHVwZGF0ZWQgdG8gdXNlIGNvcnJlY3QgZW5kcG9pbnQpXG5leHBvcnQgY29uc3QgdXBsb2FkSW1hZ2VMb2NhbE9sZCA9IGFzeW5jIChmaWxlOiB7IHVyaTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgY29uc3Qgd2ViRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHdlYkZpbGUpO1xuICB9IGVsc2Uge1xuICAgIC8vIFJlYWN0IE5hdGl2ZVxuICAgIC8vIEB0cy1pZ25vcmUgUk4gRm9ybURhdGEgZmlsZVxuICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgeyB1cmk6IGZpbGUudXJpLCBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgfVxuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyBzaXplPzogbnVtYmVyOyBtaW1lPzogc3RyaW5nIH0+KGAvZmlsZXMvaW1hZ2VgLCBmb3JtLCB7XG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sXG4gIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBVcGxvYWQgdG8gUzMgaWYgYmFja2VuZCBwcm92aWRlcyBwcmVzaWduZWQgaGFuZGxpbmcgKG9wdGlvbmFsKVxuZXhwb3J0IGNvbnN0IHVwbG9hZEltYWdlUzMgPSBhc3luYyAoZmlsZTogeyB1cmk6IHN0cmluZzsgbmFtZTogc3RyaW5nOyB0eXBlOiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBmZXRjaChmaWxlLnVyaSkudGhlbigocikgPT4gci5ibG9iKCkpO1xuICAgIGNvbnN0IHdlYkZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB3ZWJGaWxlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBSZWFjdCBOYXRpdmVcbiAgICAvLyBAdHMtaWdub3JlIFJOIEZvcm1EYXRhIGZpbGVcbiAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHsgdXJpOiBmaWxlLnVyaSwgbmFtZTogZmlsZS5uYW1lLCB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gIH1cbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBrZXk6IHN0cmluZzsgcHJlc2lnbmVkVXJsOiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHNpemU/OiBudW1iZXI7IG1pbWU/OiBzdHJpbmcgfT4oYC9maWxlcy9zM2AsIGZvcm0sIHtcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFVwbG9hZCB0byBsb2NhbCBzdG9yYWdlXG5leHBvcnQgY29uc3QgdXBsb2FkSW1hZ2VMb2NhbCA9IGFzeW5jIChmaWxlOiB7IHVyaTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgY29uc3Qgd2ViRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHdlYkZpbGUpO1xuICB9IGVsc2Uge1xuICAgIC8vIFJlYWN0IE5hdGl2ZVxuICAgIC8vIEB0cy1pZ25vcmUgUk4gRm9ybURhdGEgZmlsZVxuICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgeyB1cmk6IGZpbGUudXJpLCBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgfVxuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyBzaXplPzogbnVtYmVyOyBtaW1lPzogc3RyaW5nIH0+KGAvdXBsb2Fkcy9pbWFnZWAsIGZvcm0sIHtcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFVwbG9hZCBtZWRpYSBjaG8gbeG6oW5nIHjDoyBo4buZaSAo4bqjbmgvdmlkZW8pIC0gZMO5bmcgY2h1bmcgduG7m2kgZGVza3RvcFxuZXhwb3J0IGNvbnN0IHVwbG9hZE1lZGlhQXBpID0gYXN5bmMgKGZpbGU6IEZpbGUpOiBQcm9taXNlPFBvc3RNZWRpYT4gPT4ge1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcblxuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBtaW1lOiBzdHJpbmc7XG4gIH0+KCcvdXBsb2Fkcy9zMy9wdWJsaWMnLCBmb3JtRGF0YSwge1xuICAgIC8vIMSQ4buDIGJyb3dzZXIgdOG7sSBzZXQgQ29udGVudC1UeXBlICsgYm91bmRhcnlcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICB1cmw6IHJlcy5kYXRhLnVybCxcbiAgICB0eXBlOiByZXMuZGF0YS5taW1lLnN0YXJ0c1dpdGgoJ2ltYWdlLycpID8gJ2ltYWdlJyA6ICd2aWRlbycsXG4gIH07XG59O1xuXG4vLyBXZWIgaGVscGVyOiB1cGxvYWQgRmlsZSBvYmplY3QgZGlyZWN0bHkgKGNoYXQgYXR0YWNobWVudHMpXG5leHBvcnQgY29uc3QgdXBsb2FkQ2hhdEZpbGUgPSBhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvcm0uYXBwZW5kKCdmaWxlJywgZmlsZSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgdXJsOiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHNpemU/OiBudW1iZXI7IG1pbWU/OiBzdHJpbmcgfT4oXG4gICAgYC91cGxvYWRzL3MzL3B1YmxpY2AsXG4gICAgZm9ybSxcbiAgICB7XG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgICB9LFxuICApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL2xvZ291dCcsIHsgdG9rZW4gfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuLy8gUkVHSVNUUkFUSU9OICYgT1RQIEFVVEhFTlRJQ0FUSU9OXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcblxuZXhwb3J0IHR5cGUgUmVnaXN0ZXJSZXNwb25zZSA9IHtcblx0dXNlcjoge1xuXHRcdF9pZDogc3RyaW5nO1xuXHRcdG5hbWU/OiBzdHJpbmc7XG5cdFx0ZW1haWw6IHN0cmluZztcblx0XHRyb2xlPzogc3RyaW5nO1xuXHRcdHVzZXJuYW1lPzogc3RyaW5nO1xuXHRcdGlzRW1haWxWZXJpZmllZDogYm9vbGVhbjtcblx0XHRhdmF0YXI/OiBzdHJpbmc7XG5cdFx0Y3JlYXRlZEF0Pzogc3RyaW5nO1xuXHRcdHVwZGF0ZWRBdD86IHN0cmluZztcblx0fTtcblx0YWNjZXNzVG9rZW46IHN0cmluZztcblx0cmVmcmVzaFRva2VuOiBzdHJpbmc7XG5cdG1lc3NhZ2U/OiBzdHJpbmc7XG5cdG90cD86IFNlbmRPVFBSZXNwb25zZTtcbn07XG5cbmV4cG9ydCB0eXBlIFNlbmRPVFBSZXNwb25zZSA9IHtcblx0bWVzc2FnZTogc3RyaW5nO1xuXHRlbWFpbD86IHN0cmluZztcdFxuXHRleHBpcmVzQXQ/OiBzdHJpbmc7XG5cdGVtYWlsU2VudD86IGJvb2xlYW47XG5cdG90cENyZWF0ZWQ/OiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcblx0ZXJyb3JDb2RlPzogc3RyaW5nO1xuXHR3YXJuaW5nPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFZlcmlmeU9UUFJlc3BvbnNlID0ge1xuXHRhY2Nlc3NUb2tlbjogc3RyaW5nO1xuXHRyZWZyZXNoVG9rZW46IHN0cmluZztcblx0dXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmcgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBuYW1lPzogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PFJlZ2lzdGVyUmVzcG9uc2U+KCcvYXV0aC9yZWdpc3RlcicsIHsgZW1haWwsIHBhc3N3b3JkLCBuYW1lIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VuZE9UUCA9IGFzeW5jIChlbWFpbDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PFNlbmRPVFBSZXNwb25zZT4oJy9hdXRoL3NlbmQtb3RwJywgeyBlbWFpbCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHZlcmlmeU9UUCA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBvdHA6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxWZXJpZnlPVFBSZXNwb25zZT4oJy9hdXRoL3ZlcmlmeS1vdHAnLCB7IGVtYWlsLCBvdHAgfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNlbmRPVFAgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxTZW5kT1RQUmVzcG9uc2U+KCcvYXV0aC9yZXNlbmQtb3RwJywgeyBlbWFpbCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRWZXJpZmljYXRpb25PVFAgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxTZW5kT1RQUmVzcG9uc2U+KCcvYXV0aC9zZW5kLXZlcmlmaWNhdGlvbi1vdHAnLCB7IGVtYWlsIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbi8vIFVTRVIgUFJPRklMRSBNQU5BR0VNRU5UXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcblxuZXhwb3J0IHR5cGUgVXBkYXRlVXNlcm5hbWVSZXNwb25zZSA9IHtcblx0dXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmcgfTtcblx0bWVzc2FnZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJuYW1lID0gYXN5bmMgKHVzZXJuYW1lOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPFVwZGF0ZVVzZXJuYW1lUmVzcG9uc2U+KCcvdXNlcnMvdXNlcm5hbWUnLCB7IHVzZXJuYW1lIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgdHlwZSBVcGRhdGVBdmF0YXJSZXNwb25zZSA9IHtcblx0dXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmc7IGF2YXRhcj86IHN0cmluZyB9O1xuXHRtZXNzYWdlOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckF2YXRhciA9IGFzeW5jIChhdmF0YXJVcmw6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvYXZhdGFyJywgeyBhdmF0YXI6IGF2YXRhclVybCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gQWx0ZXJuYXRpdmUgYXZhdGFyIHVwZGF0ZSBlbmRwb2ludHMgdG8gdHJ5XG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSBhc3luYyAoZGF0YTogeyBhdmF0YXI/OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHVzZXJuYW1lPzogc3RyaW5nIH0pID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPFVwZGF0ZUF2YXRhclJlc3BvbnNlPignL3VzZXJzL3Byb2ZpbGUnLCBkYXRhKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJJbmZvID0gYXN5bmMgKGF2YXRhclVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wdXQ8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvaW5mbycsIHsgYXZhdGFyOiBhdmF0YXJVcmwgfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIEdldCBjdXJyZW50IHVzZXIgSUQg4oCTIHdlYiB2ZXJzaW9uIGTDuW5nIGxvY2FsU3RvcmFnZVxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRVc2VySWQgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcblx0XHRjb25zdCB1c2VySWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcblx0XHRyZXR1cm4gdXNlcklkO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBJRCBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn07XG4vLyBC4bqhbiBiw6ggY2hvIHRyYW5nIGPDoSBuaMOibiAvIGZyaWVuZHMgcGFnZVxuZXhwb3J0IGNvbnN0IGdldEZyaWVuZHMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8eyBmcmllbmRJZHM6IHN0cmluZ1tdOyB0b3RhbDogbnVtYmVyIH0+KFwiL3NvY2lhbC9mcmllbmRzXCIpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgYmxvY2tVc2VyQXBpID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgbWVzc2FnZTogc3RyaW5nOyBibG9ja2VkOiBib29sZWFuIH0+KGAvdXNlcnMvJHt1c2VySWR9L2Jsb2NrYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCB1bmJsb2NrVXNlckFwaSA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPHsgbWVzc2FnZTogc3RyaW5nOyBibG9ja2VkOiBib29sZWFuIH0+KGAvdXNlcnMvJHt1c2VySWR9L2Jsb2NrYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCbG9ja2VkVXNlcnNBcGkgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8eyBibG9ja2VkVXNlcnM6IEFycmF5PHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIGJsb2NrZWRBdDogc3RyaW5nO1xuICB9PiB9PihcIi91c2Vycy9ibG9ja2VkXCIpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QmxvY2tTdGF0dXNBcGkgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDx7IGlzQmxvY2tlZDogYm9vbGVhbjsgaGFzQmxvY2tlZFlvdTogYm9vbGVhbiB9PihgL3VzZXJzLyR7dXNlcklkfS9ibG9jay1zdGF0dXNgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVuZnJpZW5kVXNlckFwaSA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPHsgbWVzc2FnZTogc3RyaW5nIH0+KGAvc29jaWFsL2ZyaWVuZHMvJHt1c2VySWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFBob3RvcyBmcm9tIHBvc3RzIChhdXRob3Igb3IgdGFnZ2VkKVxuZXhwb3J0IGNvbnN0IGdldFVzZXJQaG90b3NBcGkgPSBhc3luYyAoXG4gIHVzZXJJZDogc3RyaW5nLFxuICB0eXBlOiBcImF1dGhvcmVkXCIgfCBcInRhZ2dlZFwiID0gXCJhdXRob3JlZFwiXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PHsgaXRlbXM6IEFycmF5PHsgcG9zdElkOiBzdHJpbmc7IG1lZGlhOiBhbnlbXTsgY3JlYXRlZEF0OiBzdHJpbmcgfT4gfT4oXG4gICAgICBgL3NvY2lhbC91c2Vycy8ke3VzZXJJZH0vcGhvdG9zYCxcbiAgICAgIHsgcGFyYW1zOiB7IHR5cGUgfSB9XG4gICAgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAvLyBO4bq/dSBiYWNrZW5kIGNoxrBhIGPDsyByb3V0ZSAvcGhvdG9zICg0MDQpLCB0cuG6oyB24buBIHLhu5duZyDEkeG7gyBmcm9udGVuZCBmYWxsYmFjayBzYW5nIHBvc3RzXG4gICAgaWYgKGVycm9yPy5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgIHJldHVybiB7IGl0ZW1zOiBbXSB9O1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2ZpbGVBcGkgPSBhc3luYyAocGF5bG9hZDoge1xuICBiaW8/OiBzdHJpbmc7XG4gIHdvcmtzPzogc3RyaW5nW107XG4gIGNvbGxlZ2VzPzogc3RyaW5nW107XG4gIGhpZ2hTY2hvb2xzPzogc3RyaW5nW107XG4gIGN1cnJlbnRDaXR5Pzogc3RyaW5nO1xuICBob21ldG93bj86IHN0cmluZztcbiAgcmVsYXRpb25zaGlwU3RhdHVzPzogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgaW5zdGFncmFtPzogc3RyaW5nO1xuICBmYWNlYm9vaz86IHN0cmluZztcbiAgd2Vic2l0ZT86IHN0cmluZztcbiAgY292ZXJJbWFnZT86IHN0cmluZztcbiAgYXZhdGFyPzogc3RyaW5nO1xufSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goYC91c2Vycy9tZS9wcm9maWxlYCwgcGF5bG9hZCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIEZlZWQgYsOgaSB2aeG6v3QgY+G7p2EgMSB1c2VyICh0cmFuZyBwcm9maWxlKVxuZXhwb3J0IGNvbnN0IGdldFVzZXJQb3N0c0FwaSA9IGFzeW5jIChcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGN1cnNvcj86IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlciA9IDIwXG4pID0+IHtcbiAgY29uc3QgcGFyYW1zOiBhbnkgPSB7IGxpbWl0IH07XG4gIGlmIChjdXJzb3IpIHBhcmFtcy5jdXJzb3IgPSBjdXJzb3I7XG5cbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxGZWVkUmVzcG9uc2U+KGAvc29jaWFsL3VzZXJzLyR7dXNlcklkfS9wb3N0c2AsIHsgcGFyYW1zIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gQW5hbHl0aWNzIChjaG8gdXNlQW5hbHl0aWNzKVxuZXhwb3J0IHR5cGUgQW5hbHl0aWNzRXZlbnRUeXBlID1cbiAgfCBcIlNUT1JZX1ZJRVdcIlxuICB8IFwiU1RPUllfUkVBQ1RJT05cIlxuICB8IFwiU1RPUllfUkVQTFlcIlxuICB8IFwiUE9TVF9SRUFDVElPTlwiXG4gIHwgXCJQT1NUX1NBVkVcIlxuICB8IFwiUE9TVF9SRVBPUlRcIlxuICB8IFwiU0VBUkNIX1FVRVJZXCJcbiAgfCBcIkZSSUVORF9TVUdHRVNUSU9OX0NMSUNLXCJcbiAgfCBcIkZSSUVORF9SRVFVRVNUX1NFTlRcIlxuICB8IFwiRlJJRU5EX1JFUVVFU1RfQUNDRVBURURcIlxuICB8IFwiUE9TVF9DUkVBVEVcIlxuICB8IFwiU1RPUllfQ1JFQVRFXCJcbiAgfCBcIkNPTU1FTlRfQ1JFQVRFXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFja0V2ZW50QXBpID0gYXN5bmMgKFxuICBldmVudFR5cGU6IEFuYWx5dGljc0V2ZW50VHlwZSxcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICBzZXNzaW9uSWQ/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IGFwaS5wb3N0KFwiL2FuYWx5dGljcy90cmFja1wiLCB7IGV2ZW50VHlwZSwgbWV0YWRhdGEsIHNlc3Npb25JZCB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW0FuYWx5dGljc10gRmFpbGVkIHRvIHRyYWNrIGV2ZW50OlwiLCBlcnJvcik7XG4gIH1cbn07XG5cbi8vIFVwZGF0ZSBhdmF0YXIgd2l0aCB1c2VyIElEXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckF2YXRhcldpdGhJZCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgYXZhdGFyVXJsOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPFVwZGF0ZUF2YXRhclJlc3BvbnNlPihgL3VzZXJzLyR7dXNlcklkfS9hdmF0YXJgLCB7IGF2YXRhcjogYXZhdGFyVXJsIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBVcGRhdGUgcHJvZmlsZSB3aXRoIHVzZXIgSURcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyUHJvZmlsZVdpdGhJZCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgZGF0YTogeyBhdmF0YXI/OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHVzZXJuYW1lPzogc3RyaW5nIH0pID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPFVwZGF0ZUF2YXRhclJlc3BvbnNlPihgL3VzZXJzLyR7dXNlcklkfS9wcm9maWxlYCwgZGF0YSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIENoYW5nZSBQYXNzd29yZFxuZXhwb3J0IHR5cGUgQ2hhbmdlUGFzc3dvcmRSZXNwb25zZSA9IHtcblx0bWVzc2FnZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZVBhc3N3b3JkID0gYXN5bmMgKGN1cnJlbnRQYXNzd29yZDogc3RyaW5nLCBuZXdQYXNzd29yZDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PENoYW5nZVBhc3N3b3JkUmVzcG9uc2U+KCcvYXV0aC9jaGFuZ2UtcGFzc3dvcmQnLCB7XG5cdFx0Y3VycmVudFBhc3N3b3JkLFxuXHRcdG5ld1Bhc3N3b3JkLFxuXHR9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gVXBkYXRlIGN1cnJlbnQgdXNlciBwcm9maWxlICh0aGUgY29ycmVjdCB3YXkgYWNjb3JkaW5nIHRvIGJhY2tlbmQgZG9jcylcbmV4cG9ydCBjb25zdCB1cGRhdGVDdXJyZW50VXNlclByb2ZpbGUgPSBhc3luYyAoZGF0YTogeyBhdmF0YXI/OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHVzZXJuYW1lPzogc3RyaW5nIH0pID0+IHtcblx0Y29uc29sZS5sb2coJ/CflI0gdXBkYXRlQ3VycmVudFVzZXJQcm9maWxlIC0gcmVxdWVzdCBkYXRhOicsIGRhdGEpO1xuXHRjb25zb2xlLmxvZygn8J+UjSB1cGRhdGVDdXJyZW50VXNlclByb2ZpbGUgLSBtZXRob2Q6IFBBVENIJyk7XG5cdGNvbnNvbGUubG9nKCfwn5SNIHVwZGF0ZUN1cnJlbnRVc2VyUHJvZmlsZSAtIGF1dGggaGVhZGVyOicsIGFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddKTtcblx0XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaDxVcGRhdGVBdmF0YXJSZXNwb25zZT4oJy91c2Vycy9tZScsIGRhdGEpO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBHZXQgY3VycmVudCB1c2VyIHByb2ZpbGVcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlclByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvbWUnKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gQ8OhY2ggMTogVXBsb2FkIGF2YXRhciB0cuG7sWMgdGnhur9wICjEkcahbiBnaeG6o24gbmjhuqV0KVxuZXhwb3J0IGNvbnN0IHVwbG9hZEF2YXRhckRpcmVjdCA9IGFzeW5jIChmaWxlOiB7IHVyaTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9KSA9PiB7XG5cdGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Y29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG5cdFx0Y29uc3Qgd2ViRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcblx0XHRmb3JtLmFwcGVuZCgnYXZhdGFyJywgd2ViRmlsZSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gUmVhY3QgTmF0aXZlXG5cdFx0Ly8gQHRzLWlnbm9yZSBSTiBGb3JtRGF0YSBmaWxlXG5cdFx0Zm9ybS5hcHBlbmQoJ2F2YXRhcicsIHsgdXJpOiBmaWxlLnVyaSwgbmFtZTogZmlsZS5uYW1lLCB0eXBlOiBmaWxlLnR5cGUgfSk7XG5cdH1cblx0XG5cdGNvbnNvbGUubG9nKCfwn5SNIHVwbG9hZEF2YXRhckRpcmVjdCAtIHNlbmRpbmcgZmlsZTonLCBmaWxlLm5hbWUpO1xuXHRjb25zb2xlLmxvZygn8J+UjSB1cGxvYWRBdmF0YXJEaXJlY3QgLSBhdXRoIGhlYWRlcjonLCBhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSk7XG5cdFxuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxVcGRhdGVBdmF0YXJSZXNwb25zZT4oJy91c2Vycy9hdmF0YXInLCBmb3JtLCB7XG5cdFx0aGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sXG5cdH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyA9PT09PSBVc2VyIGhlbHBlcnMgdXNlZCBieSBjaGF0IHNpZGUgcGFuZWwgPT09PT1cbmV4cG9ydCB0eXBlIFVzZXJQcm9maWxlID0ge1xuXHRfaWQ6IHN0cmluZztcblx0bmFtZT86IHN0cmluZztcblx0ZW1haWw/OiBzdHJpbmc7XG5cdHVzZXJuYW1lPzogc3RyaW5nO1xuXHRhdmF0YXI/OiBzdHJpbmc7XG5cdG9ubGluZVN0YXR1cz86IHN0cmluZztcblx0bGFzdFNlZW4/OiBzdHJpbmc7XG5cdGJpbz86IHN0cmluZztcblx0d29ya3M/OiBzdHJpbmdbXTtcblx0Y29sbGVnZXM/OiBzdHJpbmdbXTtcblx0aGlnaFNjaG9vbHM/OiBzdHJpbmdbXTtcblx0Y3VycmVudENpdHk/OiBzdHJpbmc7XG5cdGhvbWV0b3duPzogc3RyaW5nO1xuXHRyZWxhdGlvbnNoaXBTdGF0dXM/OiBzdHJpbmc7XG5cdHBob25lPzogc3RyaW5nO1xuXHRpbnN0YWdyYW0/OiBzdHJpbmc7XG5cdGZhY2Vib29rPzogc3RyaW5nO1xuXHR3ZWJzaXRlPzogc3RyaW5nO1xuXHRjb3ZlckltYWdlPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVzZXJzQnlJZHMgPSBhc3luYyAodXNlcklkczogc3RyaW5nW10pID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyB1c2VyczogVXNlclByb2ZpbGVbXSB9PihgL3VzZXJzL2J5LWlkc2AsIHsgdXNlcklkcyB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gVMOsbSBraeG6v20gdXNlcnNcbmV4cG9ydCB0eXBlIFNlYXJjaFVzZXJzUmVzcG9uc2UgPSB7XG4gIHVzZXJzOiBBcnJheTx7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICB9PjtcbiAgcGFnaW5hdGlvbjoge1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgICBsaW1pdDogbnVtYmVyO1xuICAgIHRvdGFsOiBudW1iZXI7XG4gICAgdG90YWxQYWdlczogbnVtYmVyO1xuICAgIGhhc05leHQ6IGJvb2xlYW47XG4gICAgaGFzUHJldjogYm9vbGVhbjtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hVc2VycyA9IGFzeW5jIChxdWVyeTogc3RyaW5nLCBwYWdlOiBudW1iZXIgPSAxLCBsaW1pdDogbnVtYmVyID0gMjApID0+IHtcbiAgY29uc29sZS5sb2coJ/CflI0gc2VhcmNoVXNlcnMgY2FsbGVkIHdpdGg6JywgeyBxdWVyeSwgcGFnZSwgbGltaXQgfSk7XG4gIGNvbnNvbGUubG9nKCfwn5SNIEFQSSBiYXNlIFVSTDonLCBhcGkuZGVmYXVsdHMuYmFzZVVSTCk7XG4gIGNvbnNvbGUubG9nKCfwn5SNIEF1dGggaGVhZGVyOicsIGFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddKTtcbiAgXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8U2VhcmNoVXNlcnNSZXNwb25zZT4oJy91c2Vycy9zZWFyY2gnLCB7XG4gICAgcGFyYW1zOiB7IHE6IHF1ZXJ5LCBwYWdlLCBsaW1pdCB9XG4gIH0pO1xuICBcbiAgY29uc29sZS5sb2coJ/CflI0gc2VhcmNoVXNlcnMgcmVzcG9uc2U6JywgcmVzLmRhdGEpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBU4bqhbyBjb252ZXJzYXRpb24gduG7m2kgdXNlclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnZlcnNhdGlvbldpdGhVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PENvbnZlcnNhdGlvbj4oJy9jb252ZXJzYXRpb25zJywge1xuICAgIG1lbWJlcnM6IFt1c2VySWRdXG4gIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBM4bqleSB0aMO0bmcgdGluIG5nxrDhu51pIMSR4buRaSBkaeG7h24gdHJvbmcgY3Xhu5ljIHRyw7IgY2h1eeG7h25cbmV4cG9ydCB0eXBlIE9wcG9uZW50SW5mb1Jlc3BvbnNlID0ge1xuICB1c2VyOiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB9O1xuICBzdGF0dXM6IHtcbiAgICBpc09ubGluZTogYm9vbGVhbjtcbiAgICBsYXN0QWN0aXZlOiBzdHJpbmc7XG4gICAgbGFzdEFjdGl2ZVRleHQ6IHN0cmluZztcbiAgfTtcbiAgY29udmVyc2F0aW9uOiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgaXNHcm91cDogYm9vbGVhbjtcbiAgICB0aXRsZT86IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgfTtcbiAgZW5jcnlwdGlvbjoge1xuICAgIGlzRW5kVG9FbmRFbmNyeXB0ZWQ6IGJvb2xlYW47XG4gICAgZW5jcnlwdGlvblN0YXR1czogc3RyaW5nO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9wcG9uZW50SW5mbyA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8T3Bwb25lbnRJbmZvUmVzcG9uc2U+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9vcHBvbmVudGApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBNZXNzYWdlIEFjdGlvbnMgQVBJXG5leHBvcnQgY29uc3QgZWRpdE1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHsgdGV4dCB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTx7IG1lc3NhZ2U6IHN0cmluZyB9PihgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRSZWFjdGlvbiA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxNZXNzYWdlPihgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9L3JlYWN0aW9uc2AsIHsgZW1vamkgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVSZWFjdGlvbiA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPE1lc3NhZ2U+KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcmVhY3Rpb25zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtb2ppKX1gKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHBpbk1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9waW5gKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVucGluTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPE1lc3NhZ2U+KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcGluYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGFyTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxNZXNzYWdlPihgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9L3N0YXJgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gUmV2b2tlIG1lc3NhZ2UgZm9yIGV2ZXJ5b25lXG5leHBvcnQgY29uc3QgcmV2b2tlTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9yZXZva2VgLCB7fSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hNZXNzYWdlcyA9IGFzeW5jIChxdWVyeTogc3RyaW5nLCBjb252ZXJzYXRpb25JZD86IHN0cmluZykgPT4ge1xuICBjb25zdCBwYXJhbXM6IGFueSA9IHsgcXVlcnkgfTtcbiAgaWYgKGNvbnZlcnNhdGlvbklkKSB7XG4gICAgcGFyYW1zLmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQ7XG4gIH1cbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxNZXNzYWdlW10+KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy9zZWFyY2hgLCB7IHBhcmFtcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hcmtBc1JlYWQgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgbWVzc2FnZUlkPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgc3VjY2VzczogYm9vbGVhbiB9PihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vcmVhZGAsIHsgbWVzc2FnZUlkIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBHcm91cCBNYW5hZ2VtZW50IEFQSVxuZXhwb3J0IGNvbnN0IGFkZE1lbWJlcnMgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgdXNlcklkczogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8Q29udmVyc2F0aW9uPihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vbWVtYmVyc2AsIHsgdXNlcklkcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZU1lbWJlciA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPENvbnZlcnNhdGlvbj4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lbWJlcnMvJHt1c2VySWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVHcm91cEluZm8gPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgZGF0YTogeyB0aXRsZT86IHN0cmluZzsgYXZhdGFyPzogc3RyaW5nIH0pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPENvbnZlcnNhdGlvbj4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9YCwgZGF0YSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCB0eXBlIEludml0ZUxpbmtSZXNwb25zZSA9IHtcbiAgaW52aXRlQ29kZTogc3RyaW5nO1xuICBzaGFyZVVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUludml0ZUxpbmsgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxJbnZpdGVMaW5rUmVzcG9uc2U+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9pbnZpdGVgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGpvaW5Db252ZXJzYXRpb25CeUludml0ZSA9IGFzeW5jIChpbnZpdGVDb2RlOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBjb252ZXJzYXRpb246IENvbnZlcnNhdGlvbiB9PihgL2NvbnZlcnNhdGlvbnMvam9pbi9pbnZpdGVgLCB7IGludml0ZUNvZGUgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYWtlQWRtaW4gPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8Q29udmVyc2F0aW9uPihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vYWRtaW5zLyR7dXNlcklkfWApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlQWRtaW4gPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTxDb252ZXJzYXRpb24+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9hZG1pbnMvJHt1c2VySWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIGFsaWFzZXMgZm9yIGRlc2t0b3AgY29kZVxuZXhwb3J0IGNvbnN0IGFkZEdyb3VwTWVtYmVycyA9IGFkZE1lbWJlcnM7XG5leHBvcnQgY29uc3QgcmVtb3ZlR3JvdXBNZW1iZXIgPSByZW1vdmVNZW1iZXI7XG5leHBvcnQgY29uc3QgbWFrZUdyb3VwQWRtaW4gPSBtYWtlQWRtaW47XG5leHBvcnQgY29uc3QgcmVtb3ZlR3JvdXBBZG1pbiA9IHJlbW92ZUFkbWluO1xuXG5leHBvcnQgY29uc3QgbGVhdmVHcm91cCA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9sZWF2ZWApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VW5yZWFkQ291bnQgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PHsgdW5yZWFkQ291bnQ6IG51bWJlciB9PihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vdW5yZWFkYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIE9ubGluZSBTdGF0dXMgQVBJXG5leHBvcnQgY29uc3QgdXBkYXRlT25saW5lU3RhdHVzID0gYXN5bmMgKHN0YXR1czogXCJvbmxpbmVcIiB8IFwib2ZmbGluZVwiIHwgXCJhd2F5XCIpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPHsgdXNlcjogYW55OyBzdGF0dXM6IHN0cmluZzsgbGFzdFNlZW4/OiBEYXRlIH0+KGAvdXNlcnMvbWUvc3RhdHVzYCwgeyBzdGF0dXMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPbmxpbmVVc2VycyA9IGFzeW5jICh1c2VySWRzOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHN0YXR1c01hcDogeyBbdXNlcklkOiBzdHJpbmddOiB7IG9ubGluZVN0YXR1czogc3RyaW5nOyBsYXN0U2Vlbj86IERhdGUgfSB9IH0+KGAvdXNlcnMvb25saW5lLXN0YXR1c2AsIHsgdXNlcklkcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gVXBkYXRlIGNyZWF0ZU1lc3NhZ2UgdG8gc3VwcG9ydCByZXBseVRvXG5leHBvcnQgY29uc3QgY3JlYXRlTWVzc2FnZVdpdGhSZXBseSA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHJlcGx5VG8/OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCwgeyB0ZXh0LCByZXBseVRvIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gPT09PT0gU29jaWFsIChGZWVkKSBBUElzID09PT09XG5leHBvcnQgdHlwZSBSZWFjdGlvblR5cGUgPSBcIkxJS0VcIiB8IFwiTE9WRVwiIHwgXCJIQUhBXCIgfCBcIldPV1wiIHwgXCJTQURcIiB8IFwiQU5HUllcIjtcblxuZXhwb3J0IHR5cGUgUG9zdE1lZGlhID0ge1xuICB1cmw6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgUG9zdCA9IHtcbiAgX2lkOiBzdHJpbmc7XG4gIGF1dGhvcklkOiBzdHJpbmc7XG4gIGF1dGhvcj86IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICB9O1xuICBjb250ZW50OiBzdHJpbmc7XG4gIG1lZGlhPzogUG9zdE1lZGlhW107XG4gIHZpc2liaWxpdHk6IFwiUFVCTElDXCIgfCBcIkZSSUVORFNcIiB8IFwiT05MWV9NRVwiO1xuICBoYXNodGFncz86IHN0cmluZ1tdO1xuICB0YWdnZWRVc2Vycz86IEFycmF5PHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICB9PjtcbiAgc2hhcmVkRnJvbT86IHN0cmluZyB8IFBvc3Q7XG4gIHNoYXJlQ291bnQ/OiBudW1iZXI7XG4gIGxpa2VDb3VudDogbnVtYmVyO1xuICBjb21tZW50Q291bnQ6IG51bWJlcjtcbiAgcmVhY3Rpb25Db3VudHM/OiBQYXJ0aWFsPFJlY29yZDxSZWFjdGlvblR5cGUsIG51bWJlcj4+O1xuICBjdXJyZW50VXNlclJlYWN0aW9uPzogUmVhY3Rpb25UeXBlIHwgbnVsbDtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgU3RvcnlNZWRpYSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHR5cGU6IFwiaW1hZ2VcIiB8IFwidmlkZW9cIjtcbiAgdGh1bWJuYWlsPzogc3RyaW5nO1xuICBkdXJhdGlvbk1zPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgU3RvcnlBdXRob3JHcm91cCA9IHtcbiAgYXV0aG9ySWQ6IHN0cmluZztcbiAgYXV0aG9yOiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcj86IHN0cmluZztcbiAgfTtcbiAgc3RvcmllczogQXJyYXk8e1xuICAgIF9pZDogc3RyaW5nO1xuICAgIG1lZGlhOiBTdG9yeU1lZGlhW107XG4gICAgY2FwdGlvbj86IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICBleHBpcmVzQXQ6IHN0cmluZztcbiAgICBpc1NlZW4/OiBib29sZWFuO1xuICB9Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEZlZWRSZXNwb25zZSA9IHtcbiAgaXRlbXM6IFBvc3RbXTtcbiAgbmV4dEN1cnNvcj86IHN0cmluZyB8IG51bGw7XG4gIGhhc05leHQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBDb21tZW50ID0ge1xuICBfaWQ6IHN0cmluZztcbiAgcG9zdElkOiBzdHJpbmc7XG4gIGF1dGhvcklkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xuICBhdXRob3I/OiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcj86IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIENvbW1lbnRzUmVzcG9uc2UgPSB7XG4gIGl0ZW1zOiBDb21tZW50W107XG4gIG5leHRDdXJzb3I/OiBzdHJpbmcgfCBudWxsO1xuICBoYXNOZXh0OiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgRnJpZW5kU3VnZ2VzdGlvbiA9IHtcbiAgdXNlcjogVXNlclByb2ZpbGUgJiB7IG5hbWU6IHN0cmluZyB9O1xuICBtdXR1YWxDb3VudDogbnVtYmVyO1xuICBtdXR1YWxGcmllbmRzOiBBcnJheTx7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcj86IHN0cmluZztcbiAgfT47XG59O1xuXG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb25zUmVzcG9uc2UgPSB7XG4gIGl0ZW1zOiBBcnJheTx7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICBpc1JlYWQ6IGJvb2xlYW47XG4gICAgZGF0YT86IGFueTtcbiAgfT47XG4gIG5leHRDdXJzb3I/OiBzdHJpbmcgfCBudWxsO1xuICBoYXNOZXh0OiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgU2F2ZWRQb3N0ID0ge1xuICBfaWQ6IHN0cmluZztcbiAgcG9zdDogUG9zdDtcbiAgc2F2ZWRBdDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgU29jaWFsU2VhcmNoVXNlciA9IHtcbiAgX2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgYXZhdGFyPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gIHN0YXR1c01lc3NhZ2U/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTZWFyY2hSZXNwb25zZSA9IHtcbiAgcG9zdHM6IFBvc3RbXTtcbiAgdXNlcnM6IFNvY2lhbFNlYXJjaFVzZXJbXTtcbn07XG5cbmV4cG9ydCB0eXBlIFN0b3J5UmVzcG9uc2UgPSB7XG4gIGl0ZW1zOiBTdG9yeUF1dGhvckdyb3VwW107XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmVlZCA9IGFzeW5jIChjdXJzb3I/OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcGFyYW1zOiBhbnkgPSB7fTtcbiAgaWYgKGN1cnNvcikgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxGZWVkUmVzcG9uc2U+KFwiL3NvY2lhbC9wb3N0cy9mZWVkXCIsIHsgcGFyYW1zIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUG9zdEFwaSA9IGFzeW5jIChwYXlsb2FkOiB7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgbWVkaWE/OiBQb3N0TWVkaWFbXTtcbiAgdmlzaWJpbGl0eT86IFwiUFVCTElDXCIgfCBcIkZSSUVORFNcIiB8IFwiT05MWV9NRVwiO1xuICB0YWdnZWRVc2Vycz86IHN0cmluZ1tdO1xufSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxQb3N0PihcIi9zb2NpYWwvcG9zdHNcIiwgcGF5bG9hZCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb21tZW50QXBpID0gYXN5bmMgKHBvc3RJZDogc3RyaW5nLCBwYXlsb2FkOiB7IGNvbnRlbnQ6IHN0cmluZzsgcGFyZW50SWQ/OiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxDb21tZW50PihgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vY29tbWVudHNgLCBwYXlsb2FkKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBvc3RDb21tZW50cyA9IGFzeW5jIChwb3N0SWQ6IHN0cmluZywgY3Vyc29yPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0ge307XG4gIGlmIChjdXJzb3IpIHBhcmFtcy5jdXJzb3IgPSBjdXJzb3I7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8Q29tbWVudHNSZXNwb25zZT4oYC9zb2NpYWwvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRzYCwgeyBwYXJhbXMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQb3N0c0J5SGFzaHRhZ0FwaSA9IGFzeW5jICh0YWc6IHN0cmluZywgY3Vyc29yPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0ge307XG4gIGlmIChjdXJzb3IpIHBhcmFtcy5jdXJzb3IgPSBjdXJzb3I7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8RmVlZFJlc3BvbnNlPihgL3NvY2lhbC9oYXNodGFncy8ke2VuY29kZVVSSUNvbXBvbmVudCh0YWcpfS9wb3N0c2AsIHsgcGFyYW1zIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2hhcmVQb3N0QXBpID0gYXN5bmMgKHBvc3RJZDogc3RyaW5nLCBwYXlsb2FkOiB7IGNvbnRlbnQ/OiBzdHJpbmc7IHZpc2liaWxpdHk/OiBcIlBVQkxJQ1wiIHwgXCJGUklFTkRTXCIgfCBcIk9OTFlfTUVcIiB9KSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PFBvc3Q+KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9zaGFyZWAsIHBheWxvYWQpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3RvcnlBcGkgPSBhc3luYyAocGF5bG9hZDoge1xuICBtZWRpYTogU3RvcnlNZWRpYVtdO1xuICBjYXB0aW9uPzogc3RyaW5nO1xuICB2aXNpYmlsaXR5PzogXCJGUklFTkRTXCIgfCBcIlBVQkxJQ1wiO1xufSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChcIi9zb2NpYWwvc3Rvcmllc1wiLCBwYXlsb2FkKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFN0b3JpZXNBcGkgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8U3RvcnlSZXNwb25zZT4oXCIvc29jaWFsL3N0b3JpZXNcIik7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXJrU3RvcnlWaWV3ZWRBcGkgPSBhc3luYyAoc3RvcnlJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgb2s6IGJvb2xlYW4gfT4oYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3ZpZXdgLCB7fSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVTdG9yeUFwaSA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTx7IG9rOiBib29sZWFuIH0+KGAvc29jaWFsL3N0b3JpZXMvJHtzdG9yeUlkfWApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2F2ZVBvc3RBcGkgPSBhc3luYyAocG9zdElkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBvazogYm9vbGVhbiB9PihgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vc2F2ZWAsIHt9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVuc2F2ZVBvc3RBcGkgPSBhc3luYyAocG9zdElkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTx7IG9rOiBib29sZWFuIH0+KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9zYXZlYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTYXZlZFBvc3RzQXBpID0gYXN5bmMgKGN1cnNvcj86IHN0cmluZykgPT4ge1xuICBjb25zdCBwYXJhbXM6IGFueSA9IHt9O1xuICBpZiAoY3Vyc29yKSBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PHsgaXRlbXM6IFNhdmVkUG9zdFtdOyBuZXh0Q3Vyc29yPzogc3RyaW5nIHwgbnVsbDsgaGFzTmV4dDogYm9vbGVhbiB9PihcbiAgICBcIi9zb2NpYWwvcG9zdHMvc2F2ZWRcIixcbiAgICB7IHBhcmFtcyB9XG4gICk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXBvcnRQb3N0QXBpID0gYXN5bmMgKHBvc3RJZDogc3RyaW5nLCBwYXlsb2FkOiB7IHJlYXNvbjogc3RyaW5nOyBkZXRhaWxzPzogc3RyaW5nIH0pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBvazogYm9vbGVhbiB9PihgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vcmVwb3J0YCwgcGF5bG9hZCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGcmllbmRTdWdnZXN0aW9uc0FwaSA9IGFzeW5jIChsaW1pdCA9IDYpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDx7IHN1Z2dlc3Rpb25zOiBGcmllbmRTdWdnZXN0aW9uW10gfT4oXCIvc29jaWFsL2ZyaWVuZHMvc3VnZ2VzdGlvbnNcIiwge1xuICAgIHBhcmFtczogeyBsaW1pdCB9LFxuICB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRGcmllbmRSZXF1ZXN0QXBpID0gYXN5bmMgKHRhcmdldFVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KFwiL3NvY2lhbC9mcmllbmRzL3JlcXVlc3RzXCIsIHsgdGFyZ2V0VXNlcklkIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Tm90aWZpY2F0aW9uc0FwaSA9IGFzeW5jIChjdXJzb3I/OiBzdHJpbmcsIGxpbWl0OiBudW1iZXIgPSAyMCkgPT4ge1xuICBjb25zdCBwYXJhbXM6IGFueSA9IHsgbGltaXQgfTtcbiAgaWYgKGN1cnNvcikgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxOb3RpZmljYXRpb25zUmVzcG9uc2U+KFwiL3NvY2lhbC9ub3RpZmljYXRpb25zXCIsIHsgcGFyYW1zIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgbWFya05vdGlmaWNhdGlvbnNSZWFkQXBpID0gYXN5bmMgKGlkczogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBvazogYm9vbGVhbiB9PihcIi9zb2NpYWwvbm90aWZpY2F0aW9ucy9yZWFkXCIsIHsgaWRzIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckJ5SWQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxVc2VyUHJvZmlsZT4oYC91c2Vycy8ke3VzZXJJZH1gKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlYXJjaFNvY2lhbEFwaSA9IGFzeW5jIChcbiAgcXVlcnlPclBhcmFtczogc3RyaW5nIHwgeyBxOiBzdHJpbmc7IHR5cGU/OiBcImFsbFwiIHwgXCJ1c2Vyc1wiIHwgXCJwb3N0c1wiIH1cbikgPT4ge1xuICBjb25zdCBwYXJhbXMgPVxuICAgIHR5cGVvZiBxdWVyeU9yUGFyYW1zID09PSBcInN0cmluZ1wiXG4gICAgICA/IHsgcTogcXVlcnlPclBhcmFtcyB9XG4gICAgICA6IHsgcTogcXVlcnlPclBhcmFtcy5xLCB0eXBlOiBxdWVyeU9yUGFyYW1zLnR5cGUgfTtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxTZWFyY2hSZXNwb25zZT4oXCIvc29jaWFsL3NlYXJjaFwiLCB7IHBhcmFtcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrUG9zdExpa2VkQXBpID0gYXN5bmMgKHBvc3RJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8eyBsaWtlZDogYm9vbGVhbjsgdHlwZT86IFJlYWN0aW9uVHlwZSB8IG51bGwgfT4oXG4gICAgYC9zb2NpYWwvcG9zdHMvJHtwb3N0SWR9L2xpa2VkYFxuICApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVhY3RUb1Bvc3RBcGkgPSBhc3luYyAocG9zdElkOiBzdHJpbmcsIHR5cGU6IFJlYWN0aW9uVHlwZSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IG9rOiBib29sZWFuIH0+KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9yZWFjdGlvbnNgLCB7IHR5cGUgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVSZWFjdGlvbkFwaSA9IGFzeW5jIChwb3N0SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPHsgb2s6IGJvb2xlYW4gfT4oYC9zb2NpYWwvcG9zdHMvJHtwb3N0SWR9L3JlYWN0aW9uc2ApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBTdG9yeSBNdXNpYyBUeXBlc1xuZXhwb3J0IHR5cGUgU3RvcnlNdXNpYyA9IHtcbiAgdGl0bGU6IHN0cmluZztcbiAgYXJ0aXN0OiBzdHJpbmc7XG4gIHVybD86IHN0cmluZztcbiAgdGh1bWJuYWlsPzogc3RyaW5nO1xuICBkdXJhdGlvbk1zPzogbnVtYmVyO1xuICBzb3VyY2U/OiBcInlvdXR1YmVcIiB8IFwic3BvdGlmeVwiIHwgXCJjdXN0b21cIiB8IFwiaXR1bmVzXCI7XG4gIHN0YXJ0VGltZT86IG51bWJlcjsgLy8gU3RhcnQgdGltZSBpbiBzZWNvbmRzIGZvciAzMHMgc2VnbWVudFxuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBFbmQgdGltZSBpbiBzZWNvbmRzIGZvciAzMHMgc2VnbWVudFxufTtcblxuZXhwb3J0IHR5cGUgaVR1bmVzVHJhY2sgPSB7XG4gIHRyYWNrSWQ6IG51bWJlcjtcbiAgdHJhY2tOYW1lOiBzdHJpbmc7XG4gIGFydGlzdE5hbWU6IHN0cmluZztcbiAgcHJldmlld1VybD86IHN0cmluZztcbiAgYXJ0d29ya1VybDEwMD86IHN0cmluZztcbiAgYXJ0d29ya1VybDYwPzogc3RyaW5nO1xuICBjb2xsZWN0aW9uTmFtZT86IHN0cmluZztcbiAgdHJhY2tUaW1lTWlsbGlzPzogbnVtYmVyO1xufTtcblxuLy8gU3RvcnkgUmVhY3Rpb25zICYgUmVwbGllc1xuZXhwb3J0IGNvbnN0IHJlYWN0VG9TdG9yeUFwaSA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcsIHR5cGU6IFJlYWN0aW9uVHlwZSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHJlYWN0aW9uOiBSZWFjdGlvblR5cGUgfCBudWxsOyByZWFjdGlvbkNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB9PihcbiAgICBgL3NvY2lhbC9zdG9yaWVzLyR7c3RvcnlJZH0vcmVhY3Rpb25zYCxcbiAgICB7IHR5cGUgfVxuICApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlU3RvcnlSZWFjdGlvbkFwaSA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTx7IHJlYWN0aW9uOiBudWxsOyByZWFjdGlvbkNvdW50czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB9PihcbiAgICBgL3NvY2lhbC9zdG9yaWVzLyR7c3RvcnlJZH0vcmVhY3Rpb25zYFxuICApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgdHlwZSBTdG9yeVJlcGx5ID0ge1xuICBfaWQ6IHN0cmluZztcbiAgc3RvcnlJZDogc3RyaW5nO1xuICBhdXRob3JJZDogc3RyaW5nO1xuICBhdXRob3I/OiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcj86IHN0cmluZztcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZztcbiAgfTtcbiAgY29udGVudDogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTdG9yeVJlcGxpZXNSZXNwb25zZSA9IHtcbiAgbGltaXQ6IG51bWJlcjtcbiAgaGFzTmV4dDogYm9vbGVhbjtcbiAgbmV4dEN1cnNvcjogc3RyaW5nIHwgbnVsbDtcbiAgaXRlbXM6IFN0b3J5UmVwbHlbXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdG9yeVJlcGxpZXNBcGkgPSBhc3luYyAoXG4gIHN0b3J5SWQ6IHN0cmluZyxcbiAgY3Vyc29yPzogc3RyaW5nLFxuICBsaW1pdDogbnVtYmVyID0gMjBcbikgPT4ge1xuICBjb25zdCBwYXJhbXM6IGFueSA9IHsgbGltaXQgfTtcbiAgaWYgKGN1cnNvcikgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxTdG9yeVJlcGxpZXNSZXNwb25zZT4oYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3JlcGxpZXNgLCB7XG4gICAgcGFyYW1zLFxuICB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0b3J5UmVwbHlBcGkgPSBhc3luYyAoc3RvcnlJZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8U3RvcnlSZXBseT4oYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3JlcGxpZXNgLCB7IGNvbnRlbnQgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIE11c2ljIFNlYXJjaFxuZXhwb3J0IGNvbnN0IHNlYXJjaE11c2ljQXBpID0gYXN5bmMgKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPGlUdW5lc1RyYWNrW10+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS9zZWFyY2g/dGVybT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9Jm1lZGlhPW11c2ljJmxpbWl0PTIwYFxuICAgICk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YS5yZXN1bHRzIHx8IFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2VhcmNoIG11c2ljOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbImF4aW9zIiwiRElSRUNUX0JBQ0tFTkRfVVJMIiwiaXNXZWIiLCJpc0xvY2FsaG9zdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJ0ZXN0IiwiaXNMQU4iLCJpc05ncm9rIiwiaW5jbHVkZXMiLCJpc1Byb2R1Y3Rpb24iLCJtYXRjaCIsIkFQSV9VUkwiLCJjb25zb2xlIiwibG9nIiwiYXBpIiwiY3JlYXRlIiwiYmFzZVVSTCIsIndpdGhDcmVkZW50aWFscyIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJBdXRob3JpemF0aW9uIiwiYXV0aEhlYWRlciIsInN1YnN0cmluZyIsIlN0cmluZyIsIm1ldGhvZCIsInRvVXBwZXJDYXNlIiwidXJsIiwiaGFzQXV0aCIsImVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsInJlc3BvbnNlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImRhdGEiLCJzZXRBdXRoVG9rZW4iLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXMiLCJwb3N0IiwiZ2V0Q29udmVyc2F0aW9ucyIsImdldCIsImdldE1lc3NhZ2VzIiwiY29udmVyc2F0aW9uSWQiLCJjcmVhdGVNZXNzYWdlIiwidGV4dCIsImNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZCIsInBheWxvYWQiLCJjcmVhdGVDb252ZXJzYXRpb24iLCJ1c2VySWQiLCJ0aXRsZSIsIm1lbWJlcnMiLCJjcmVhdGVHcm91cENvbnZlcnNhdGlvbiIsIm1lbWJlcklkcyIsInVuaXF1ZSIsIkFycmF5IiwiZnJvbSIsIlNldCIsImZpbHRlciIsIkJvb2xlYW4iLCJpc0dyb3VwIiwibGVuZ3RoIiwiaW5pdGlhdGVDYWxsIiwidHlwZSIsInRhcmdldFVzZXJJZCIsImdldENhbGwiLCJjYWxsSWQiLCJnZXRMaXZlS2l0VG9rZW4iLCJlbmRDYWxsIiwiYWNjZXB0Q2FsbCIsInJlamVjdENhbGwiLCJ1cGxvYWRJbWFnZUxvY2FsT2xkIiwiZmlsZSIsImZvcm0iLCJGb3JtRGF0YSIsImJsb2IiLCJmZXRjaCIsInVyaSIsInRoZW4iLCJyIiwid2ViRmlsZSIsIkZpbGUiLCJuYW1lIiwiYXBwZW5kIiwidXBsb2FkSW1hZ2VTMyIsInVwbG9hZEltYWdlTG9jYWwiLCJ1cGxvYWRNZWRpYUFwaSIsImZvcm1EYXRhIiwibWltZSIsInN0YXJ0c1dpdGgiLCJ1cGxvYWRDaGF0RmlsZSIsImxvZ291dCIsInJlZ2lzdGVyIiwic2VuZE9UUCIsInZlcmlmeU9UUCIsIm90cCIsInJlc2VuZE9UUCIsInNlbmRWZXJpZmljYXRpb25PVFAiLCJ1cGRhdGVVc2VybmFtZSIsInVzZXJuYW1lIiwicGF0Y2giLCJ1cGRhdGVVc2VyQXZhdGFyIiwiYXZhdGFyVXJsIiwiYXZhdGFyIiwidXBkYXRlVXNlclByb2ZpbGUiLCJ1cGRhdGVVc2VySW5mbyIsInB1dCIsImdldEN1cnJlbnRVc2VySWQiLCJnZXRGcmllbmRzIiwiYmxvY2tVc2VyQXBpIiwidW5ibG9ja1VzZXJBcGkiLCJkZWxldGUiLCJnZXRCbG9ja2VkVXNlcnNBcGkiLCJnZXRCbG9ja1N0YXR1c0FwaSIsInVuZnJpZW5kVXNlckFwaSIsImdldFVzZXJQaG90b3NBcGkiLCJwYXJhbXMiLCJpdGVtcyIsInVwZGF0ZVByb2ZpbGVBcGkiLCJnZXRVc2VyUG9zdHNBcGkiLCJjdXJzb3IiLCJsaW1pdCIsInRyYWNrRXZlbnRBcGkiLCJldmVudFR5cGUiLCJtZXRhZGF0YSIsInNlc3Npb25JZCIsInVwZGF0ZVVzZXJBdmF0YXJXaXRoSWQiLCJ1cGRhdGVVc2VyUHJvZmlsZVdpdGhJZCIsImNoYW5nZVBhc3N3b3JkIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGVDdXJyZW50VXNlclByb2ZpbGUiLCJnZXRDdXJyZW50VXNlclByb2ZpbGUiLCJ1cGxvYWRBdmF0YXJEaXJlY3QiLCJnZXRVc2Vyc0J5SWRzIiwidXNlcklkcyIsInNlYXJjaFVzZXJzIiwicXVlcnkiLCJwYWdlIiwicSIsImNyZWF0ZUNvbnZlcnNhdGlvbldpdGhVc2VyIiwiZ2V0T3Bwb25lbnRJbmZvIiwiZWRpdE1lc3NhZ2UiLCJtZXNzYWdlSWQiLCJkZWxldGVNZXNzYWdlIiwiYWRkUmVhY3Rpb24iLCJlbW9qaSIsInJlbW92ZVJlYWN0aW9uIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGluTWVzc2FnZSIsInVucGluTWVzc2FnZSIsInN0YXJNZXNzYWdlIiwicmV2b2tlTWVzc2FnZSIsInNlYXJjaE1lc3NhZ2VzIiwibWFya0FzUmVhZCIsImFkZE1lbWJlcnMiLCJyZW1vdmVNZW1iZXIiLCJ1cGRhdGVHcm91cEluZm8iLCJjcmVhdGVJbnZpdGVMaW5rIiwiam9pbkNvbnZlcnNhdGlvbkJ5SW52aXRlIiwiaW52aXRlQ29kZSIsIm1ha2VBZG1pbiIsInJlbW92ZUFkbWluIiwiYWRkR3JvdXBNZW1iZXJzIiwicmVtb3ZlR3JvdXBNZW1iZXIiLCJtYWtlR3JvdXBBZG1pbiIsInJlbW92ZUdyb3VwQWRtaW4iLCJsZWF2ZUdyb3VwIiwiZ2V0VW5yZWFkQ291bnQiLCJ1cGRhdGVPbmxpbmVTdGF0dXMiLCJnZXRPbmxpbmVVc2VycyIsImNyZWF0ZU1lc3NhZ2VXaXRoUmVwbHkiLCJyZXBseVRvIiwiZ2V0RmVlZCIsImNyZWF0ZVBvc3RBcGkiLCJjcmVhdGVDb21tZW50QXBpIiwicG9zdElkIiwiZ2V0UG9zdENvbW1lbnRzIiwiZ2V0UG9zdHNCeUhhc2h0YWdBcGkiLCJ0YWciLCJzaGFyZVBvc3RBcGkiLCJjcmVhdGVTdG9yeUFwaSIsImdldFN0b3JpZXNBcGkiLCJtYXJrU3RvcnlWaWV3ZWRBcGkiLCJzdG9yeUlkIiwiZGVsZXRlU3RvcnlBcGkiLCJzYXZlUG9zdEFwaSIsInVuc2F2ZVBvc3RBcGkiLCJnZXRTYXZlZFBvc3RzQXBpIiwicmVwb3J0UG9zdEFwaSIsImdldEZyaWVuZFN1Z2dlc3Rpb25zQXBpIiwic2VuZEZyaWVuZFJlcXVlc3RBcGkiLCJnZXROb3RpZmljYXRpb25zQXBpIiwibWFya05vdGlmaWNhdGlvbnNSZWFkQXBpIiwiaWRzIiwiZ2V0VXNlckJ5SWQiLCJzZWFyY2hTb2NpYWxBcGkiLCJxdWVyeU9yUGFyYW1zIiwiY2hlY2tQb3N0TGlrZWRBcGkiLCJyZWFjdFRvUG9zdEFwaSIsInJlbW92ZVJlYWN0aW9uQXBpIiwicmVhY3RUb1N0b3J5QXBpIiwicmVtb3ZlU3RvcnlSZWFjdGlvbkFwaSIsImdldFN0b3J5UmVwbGllc0FwaSIsImNyZWF0ZVN0b3J5UmVwbHlBcGkiLCJjb250ZW50Iiwic2VhcmNoTXVzaWNBcGkiLCJqc29uIiwicmVzdWx0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/api.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/GlobalIncomingCall.web.tsx":
/*!****************************************************************!*\
  !*** ../../packages/app/components/GlobalIncomingCall.web.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalIncomingCall: () => (/* binding */ GlobalIncomingCall)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.ts\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.ts\");\n/* __next_internal_client_entry_do_not_use__ GlobalIncomingCall auto */ \n\n\n\nfunction GlobalIncomingCall() {\n    const [incomingCall, setIncomingCall] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callerName, setCallerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Ai \\xf3\");\n    const [callerAvatar, setCallerAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Listen for socket events globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_2__.getSocket)();\n        if (!socket) {\n            console.warn(\"[GlobalIncomingCall] Socket not available\");\n            return;\n        }\n        const handleIncomingCall = (data)=>{\n            console.log(\"[GlobalIncomingCall] Received call:incoming\", data);\n            const currentUserId =  false ? 0 : null;\n            // B qua cuc gi do chnh mnh to\n            if (currentUserId && data.initiatorId === currentUserId) {\n                console.log(\"[GlobalIncomingCall] Skip own outgoing call\");\n                return;\n            }\n            // Nu ang x l cuc gi khc th b qua\n            if (incomingCall || isProcessing) {\n                console.log(\"[GlobalIncomingCall] Already handling a call, ignoring new one\");\n                return;\n            }\n            setIncomingCall(data);\n        };\n        console.log(\"[GlobalIncomingCall] Subscribing to call:incoming\");\n        socket.on(\"call:incoming\", handleIncomingCall);\n        return ()=>{\n            console.log(\"[GlobalIncomingCall] Cleanup call:incoming listener\");\n            socket.off(\"call:incoming\", handleIncomingCall);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        incomingCall,\n        isProcessing\n    ]);\n    // Load caller info\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!incomingCall) return;\n        let cancelled = false;\n        const loadInfo = async ()=>{\n            try {\n                const info = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(incomingCall.conversationId);\n                if (cancelled) return;\n                setCallerName(info?.user?.name || info?.user?.email || \"Ai \\xf3\");\n                setCallerAvatar(info?.user?.avatar || null);\n            } catch (err) {\n                console.error(\"[GlobalIncomingCall] Failed to load caller info\", err);\n                if (!cancelled) {\n                    setCallerName(\"Ai \\xf3\");\n                    setCallerAvatar(null);\n                }\n            }\n        };\n        loadInfo();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        incomingCall\n    ]);\n    const clearState = ()=>{\n        setIncomingCall(null);\n        setIsProcessing(false);\n    };\n    const handleAccept = async ()=>{\n        if (!incomingCall || isProcessing) return;\n        setIsProcessing(true);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.acceptCall)(incomingCall.callId);\n        } catch (err) {\n            console.error(\"[GlobalIncomingCall] Error accepting call (will still navigate)\", err);\n        }\n        // iu hng sang mn hnh call ca web\n        if (false) {}\n        clearState();\n    };\n    const handleReject = async ()=>{\n        if (!incomingCall || isProcessing) return;\n        setIsProcessing(true);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.rejectCall)(incomingCall.callId);\n        } catch (err) {\n            console.error(\"[GlobalIncomingCall] Error rejecting call\", err);\n        }\n        clearState();\n    };\n    // Auto dismiss after 30s\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!incomingCall) return;\n        const timer = setTimeout(()=>{\n            console.log(\"[GlobalIncomingCall] Auto dismiss incoming call toast\");\n            clearState();\n        }, 30000);\n        return ()=>clearTimeout(timer);\n    }, [\n        incomingCall\n    ]);\n    if (!incomingCall) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"global-incoming-call-overlay\",\n        onClick: (e)=>{\n            // chn click xuyn qua\n            e.stopPropagation();\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"global-incoming-call-card\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"global-incoming-call-header\",\n                    children: \"Cuc gi n\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                    lineNumber: 146,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"global-incoming-call-body\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"global-incoming-call-avatar\",\n                            children: callerAvatar ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: callerAvatar,\n                                alt: callerName\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                lineNumber: 151,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"global-incoming-call-avatar-fallback\",\n                                children: callerName.charAt(0).toUpperCase()\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                lineNumber: 153,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"global-incoming-call-info\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"global-incoming-call-name\",\n                                    children: callerName\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                    lineNumber: 159,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"global-incoming-call-type\",\n                                    children: incomingCall.type === \"video\" ? \"Gi video\" : \"Gi thoi\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                    lineNumber: 160,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 158,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"global-incoming-call-actions\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"global-incoming-call-btn global-incoming-call-btn--reject\",\n                            onClick: handleReject,\n                            disabled: isProcessing,\n                            children: \"Kt th\\xfac\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"global-incoming-call-btn global-incoming-call-btn--accept\",\n                            onClick: handleAccept,\n                            disabled: isProcessing,\n                            children: \"Tr li\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                    lineNumber: 165,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n            lineNumber: 145,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n        lineNumber: 138,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvR2xvYmFsSW5jb21pbmdDYWxsLndlYi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFNEM7QUFDTjtBQUMyQjtBQVUxRCxTQUFTTTtJQUNkLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdQLCtDQUFRQSxDQUEwQjtJQUMxRSxNQUFNLENBQUNRLFlBQVlDLGNBQWMsR0FBR1QsK0NBQVFBLENBQVM7SUFDckQsTUFBTSxDQUFDVSxjQUFjQyxnQkFBZ0IsR0FBR1gsK0NBQVFBLENBQWdCO0lBQ2hFLE1BQU0sQ0FBQ1ksY0FBY0MsZ0JBQWdCLEdBQUdiLCtDQUFRQSxDQUFDO0lBRWpELG9DQUFvQztJQUNwQ0QsZ0RBQVNBLENBQUM7UUFDUixNQUFNZSxTQUFTYixrREFBU0E7UUFDeEIsSUFBSSxDQUFDYSxRQUFRO1lBQ1hDLFFBQVFDLElBQUksQ0FBQztZQUNiO1FBQ0Y7UUFFQSxNQUFNQyxxQkFBcUIsQ0FBQ0M7WUFDMUJILFFBQVFJLEdBQUcsQ0FBQywrQ0FBK0NEO1lBQzNELE1BQU1FLGdCQUFnQixNQUE2QixHQUFHQyxDQUFzQyxHQUFHO1lBRS9GLG9DQUFvQztZQUNwQyxJQUFJRCxpQkFBaUJGLEtBQUtNLFdBQVcsS0FBS0osZUFBZTtnQkFDdkRMLFFBQVFJLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1lBRUEsMENBQTBDO1lBQzFDLElBQUliLGdCQUFnQk0sY0FBYztnQkFDaENHLFFBQVFJLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1lBRUFaLGdCQUFnQlc7UUFDbEI7UUFFQUgsUUFBUUksR0FBRyxDQUFDO1FBQ1pMLE9BQU9XLEVBQUUsQ0FBQyxpQkFBaUJSO1FBRTNCLE9BQU87WUFDTEYsUUFBUUksR0FBRyxDQUFDO1lBQ1pMLE9BQU9ZLEdBQUcsQ0FBQyxpQkFBaUJUO1FBQzlCO0lBQ0EsdURBQXVEO0lBQ3pELEdBQUc7UUFBQ1g7UUFBY007S0FBYTtJQUUvQixtQkFBbUI7SUFDbkJiLGdE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b25lbnRzL0dsb2JhbEluY29taW5nQ2FsbC53ZWIudHN4PzVmNTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gXCIuLi9zb2NrZXRcIjtcclxuaW1wb3J0IHsgYWNjZXB0Q2FsbCwgcmVqZWN0Q2FsbCwgZ2V0T3Bwb25lbnRJbmZvIH0gZnJvbSBcIi4uL2FwaVwiO1xyXG5cclxudHlwZSBJbmNvbWluZ0NhbGxEYXRhID0ge1xyXG4gIGNhbGxJZDogc3RyaW5nO1xyXG4gIGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7XHJcbiAgaW5pdGlhdG9ySWQ6IHN0cmluZztcclxuICB0eXBlOiBcInZpZGVvXCIgfCBcImF1ZGlvXCI7XHJcbiAgcm9vbUlkPzogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdsb2JhbEluY29taW5nQ2FsbCgpIHtcclxuICBjb25zdCBbaW5jb21pbmdDYWxsLCBzZXRJbmNvbWluZ0NhbGxdID0gdXNlU3RhdGU8SW5jb21pbmdDYWxsRGF0YSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjYWxsZXJOYW1lLCBzZXRDYWxsZXJOYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJBaSDEkcOzXCIpO1xyXG4gIGNvbnN0IFtjYWxsZXJBdmF0YXIsIHNldENhbGxlckF2YXRhcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBMaXN0ZW4gZm9yIHNvY2tldCBldmVudHMgZ2xvYmFsbHlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XHJcbiAgICBpZiAoIXNvY2tldCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBTb2NrZXQgbm90IGF2YWlsYWJsZVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUluY29taW5nQ2FsbCA9IChkYXRhOiBJbmNvbWluZ0NhbGxEYXRhKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gUmVjZWl2ZWQgY2FsbDppbmNvbWluZ1wiLCBkYXRhKTtcclxuICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyX2lkXCIpIDogbnVsbDtcclxuXHJcbiAgICAgIC8vIELhu48gcXVhIGN14buZYyBn4buNaSBkbyBjaMOtbmggbcOsbmggdOG6oW9cclxuICAgICAgaWYgKGN1cnJlbnRVc2VySWQgJiYgZGF0YS5pbml0aWF0b3JJZCA9PT0gY3VycmVudFVzZXJJZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gU2tpcCBvd24gb3V0Z29pbmcgY2FsbFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE7hur91IMSRYW5nIHjhu60gbMO9IGN14buZYyBn4buNaSBraMOhYyB0aMOsIGLhu48gcXVhXHJcbiAgICAgIGlmIChpbmNvbWluZ0NhbGwgfHwgaXNQcm9jZXNzaW5nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBBbHJlYWR5IGhhbmRsaW5nIGEgY2FsbCwgaWdub3JpbmcgbmV3IG9uZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEluY29taW5nQ2FsbChkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBTdWJzY3JpYmluZyB0byBjYWxsOmluY29taW5nXCIpO1xyXG4gICAgc29ja2V0Lm9uKFwiY2FsbDppbmNvbWluZ1wiLCBoYW5kbGVJbmNvbWluZ0NhbGwpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gQ2xlYW51cCBjYWxsOmluY29taW5nIGxpc3RlbmVyXCIpO1xyXG4gICAgICBzb2NrZXQub2ZmKFwiY2FsbDppbmNvbWluZ1wiLCBoYW5kbGVJbmNvbWluZ0NhbGwpO1xyXG4gICAgfTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcclxuICB9LCBbaW5jb21pbmdDYWxsLCBpc1Byb2Nlc3NpbmddKTtcclxuXHJcbiAgLy8gTG9hZCBjYWxsZXIgaW5mb1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWluY29taW5nQ2FsbCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBsb2FkSW5mbyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgZ2V0T3Bwb25lbnRJbmZvKGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZCk7XHJcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xyXG4gICAgICAgIHNldENhbGxlck5hbWUoaW5mbz8udXNlcj8ubmFtZSB8fCBpbmZvPy51c2VyPy5lbWFpbCB8fCBcIkFpIMSRw7NcIik7XHJcbiAgICAgICAgc2V0Q2FsbGVyQXZhdGFyKGluZm8/LnVzZXI/LmF2YXRhciB8fCBudWxsKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltHbG9iYWxJbmNvbWluZ0NhbGxdIEZhaWxlZCB0byBsb2FkIGNhbGxlciBpbmZvXCIsIGVycik7XHJcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcclxuICAgICAgICAgIHNldENhbGxlck5hbWUoXCJBaSDEkcOzXCIpO1xyXG4gICAgICAgICAgc2V0Q2FsbGVyQXZhdGFyKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsb2FkSW5mbygpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gIH0sIFtpbmNvbWluZ0NhbGxdKTtcclxuXHJcbiAgY29uc3QgY2xlYXJTdGF0ZSA9ICgpID0+IHtcclxuICAgIHNldEluY29taW5nQ2FsbChudWxsKTtcclxuICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFpbmNvbWluZ0NhbGwgfHwgaXNQcm9jZXNzaW5nKSByZXR1cm47XHJcbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYWNjZXB0Q2FsbChpbmNvbWluZ0NhbGwuY2FsbElkKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gRXJyb3IgYWNjZXB0aW5nIGNhbGwgKHdpbGwgc3RpbGwgbmF2aWdhdGUpXCIsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gxJBp4buBdSBoxrDhu5tuZyBzYW5nIG3DoG4gaMOsbmggY2FsbCBj4bunYSB3ZWJcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGNvbnN0IHVybCA9IGAvY2FsbD9jYWxsSWQ9JHtlbmNvZGVVUklDb21wb25lbnQoaW5jb21pbmdDYWxsLmNhbGxJZCl9JmNvbnZlcnNhdGlvbklkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICAgIGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZFxyXG4gICAgICApfSZhY2NlcHRlZEZyb21Nb2RhbD10cnVlYDtcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTdGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlamVjdCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghaW5jb21pbmdDYWxsIHx8IGlzUHJvY2Vzc2luZykgcmV0dXJuO1xyXG4gICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHJlamVjdENhbGwoaW5jb21pbmdDYWxsLmNhbGxJZCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltHbG9iYWxJbmNvbWluZ0NhbGxdIEVycm9yIHJlamVjdGluZyBjYWxsXCIsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTdGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIC8vIEF1dG8gZGlzbWlzcyBhZnRlciAzMHNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpbmNvbWluZ0NhbGwpIHJldHVybjtcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gQXV0byBkaXNtaXNzIGluY29taW5nIGNhbGwgdG9hc3RcIik7XHJcbiAgICAgIGNsZWFyU3RhdGUoKTtcclxuICAgIH0sIDMwMDAwKTtcclxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gIH0sIFtpbmNvbWluZ0NhbGxdKTtcclxuXHJcbiAgaWYgKCFpbmNvbWluZ0NhbGwpIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1vdmVybGF5XCJcclxuICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAvLyBjaOG6t24gY2xpY2sgeHV5w6puIHF1YVxyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsLWluY29taW5nLWNhbGwtY2FyZFwiIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWhlYWRlclwiPkN14buZYyBn4buNaSDEkeG6v248L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWJvZHlcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsLWluY29taW5nLWNhbGwtYXZhdGFyXCI+XHJcbiAgICAgICAgICAgIHtjYWxsZXJBdmF0YXIgPyAoXHJcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcclxuICAgICAgICAgICAgICA8aW1nIHNyYz17Y2FsbGVyQXZhdGFyfSBhbHQ9e2NhbGxlck5hbWV9IC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1hdmF0YXItZmFsbGJhY2tcIj5cclxuICAgICAgICAgICAgICAgIHtjYWxsZXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWluZm9cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1uYW1lXCI+e2NhbGxlck5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsLWluY29taW5nLWNhbGwtdHlwZVwiPlxyXG4gICAgICAgICAgICAgIHtpbmNvbWluZ0NhbGwudHlwZSA9PT0gXCJ2aWRlb1wiID8gXCJH4buNaSB2aWRlb1wiIDogXCJH4buNaSB0aG/huqFpXCJ9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWJ0biBnbG9iYWwtaW5jb21pbmctY2FsbC1idG4tLXJlamVjdFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlamVjdH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZ31cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgS+G6v3QgdGjDumNcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1idG4gZ2xvYmFsLWluY29taW5nLWNhbGwtYnRuLS1hY2NlcHRcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBY2NlcHR9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1Byb2Nlc3Npbmd9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIFRy4bqjIGzhu51pXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZ2V0U29ja2V0IiwiYWNjZXB0Q2FsbCIsInJlamVjdENhbGwiLCJnZXRPcHBvbmVudEluZm8iLCJHbG9iYWxJbmNvbWluZ0NhbGwiLCJpbmNvbWluZ0NhbGwiLCJzZXRJbmNvbWluZ0NhbGwiLCJjYWxsZXJOYW1lIiwic2V0Q2FsbGVyTmFtZSIsImNhbGxlckF2YXRhciIsInNldENhbGxlckF2YXRhciIsImlzUHJvY2Vzc2luZyIsInNldElzUHJvY2Vzc2luZyIsInNvY2tldCIsImNvbnNvbGUiLCJ3YXJuIiwiaGFuZGxlSW5jb21pbmdDYWxsIiwiZGF0YSIsImxvZyIsImN1cnJlbnRVc2VySWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaW5pdGlhdG9ySWQiLCJvbiIsIm9mZiIsImNhbmNlbGxlZCIsImxvYWRJbmZvIiwiaW5mbyIsImNvbnZlcnNhdGlvbklkIiwidXNlciIsIm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImVyciIsImVycm9yIiwiY2xlYXJTdGF0ZSIsImhhbmRsZUFjY2VwdCIsImNhbGxJZCIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaHJlZiIsImhhbmRsZVJlamVjdCIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiaW1nIiwic3JjIiwiYWx0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJ0eXBlIiwiYnV0dG9uIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/GlobalIncomingCall.web.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/ChatHeader.tsx":
/*!*********************************************************!*\
  !*** ../../packages/app/components/chat/ChatHeader.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatHeader: () => (/* binding */ ChatHeader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ChatHeader({ title, subtitle, avatar, statusDotColor, actions, onVideoCall, onAudioCall, onToggleInfo, isInfoVisible }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-header-content\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-header-left\",\n                children: [\n                    avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: avatar,\n                        alt: title,\n                        className: \"chat-header-avatar\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                        lineNumber: 30,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-header-avatar chat-header-avatar--fallback\",\n                        children: title.slice(0, 1).toUpperCase()\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-header-text\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-header-title\",\n                                children: title\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                                lineNumber: 37,\n                                columnNumber: 11\n                            }, this),\n                            subtitle ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-header-subtitle\",\n                                children: [\n                                    statusDotColor ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"chat-header-status-dot\",\n                                        style: {\n                                            backgroundColor: statusDotColor\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                                        lineNumber: 41,\n                                        columnNumber: 17\n                                    }, this) : null,\n                                    subtitle\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                                lineNumber: 39,\n                                columnNumber: 13\n                            }, this) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                lineNumber: 28,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-header-actions\",\n                children: [\n                    onVideoCall && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-header-action-button\",\n                        onClick: onVideoCall,\n                        title: \"Gi video\",\n                        type: \"button\",\n                        children: \"\\uD83D\\uDCF9\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 11\n                    }, this),\n                    onAudioCall && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-header-action-button\",\n                        onClick: onAudioCall,\n                        title: \"Gi thoi\",\n                        type: \"button\",\n                        children: \"\\uD83D\\uDCDE\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                        lineNumber: 63,\n                        columnNumber: 11\n                    }, this),\n                    onToggleInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-header-action-button\",\n                        onClick: onToggleInfo,\n                        title: isInfoVisible ? \"n th\\xf4ng tin on chat\" : \"Hin th\\xf4ng tin on chat\",\n                        type: \"button\",\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                        lineNumber: 73,\n                        columnNumber: 11\n                    }, this),\n                    actions\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatHeader.tsx\",\n        lineNumber: 27,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0SGVhZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBY08sU0FBU0EsV0FBVyxFQUN6QkMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsY0FBYyxFQUNkQyxPQUFPLEVBQ1BDLFdBQVcsRUFDWEMsV0FBVyxFQUNYQyxZQUFZLEVBQ1pDLGFBQWEsRUFDRztJQUNoQixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOztvQkFDWlIsdUJBQ0MsOERBQUNTO3dCQUFJQyxLQUFLVjt3QkFBUVcsS0FBS2I7d0JBQU9VLFdBQVU7Ozs7OzZDQUV4Qyw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQ1pWLE1BQU1jLEtBQUssQ0FBQyxHQUFHLEdBQUdDLFdBQVc7Ozs7OztrQ0FHbEMsOERBQUNOO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7MENBQXFCVjs7Ozs7OzRCQUNuQ0MseUJBQ0MsOERBQUNRO2dDQUFJQyxXQUFVOztvQ0FDWlAsK0JBQ0MsOERBQUNhO3dDQUNDTixXQUFVO3dDQUNWTyxPQUFPOzRDQUFFQyxpQkFBaUJmO3dDQUFlOzs7OzsrQ0FFekM7b0NBQ0hGOzs7Ozs7dUNBRUQ7Ozs7Ozs7Ozs7Ozs7MEJBR1IsOERBQUNRO2dCQUFJQyxXQUFVOztvQkFDWkwsNkJBQ0MsOERBQUNjO3dCQUNDVCxXQUFVO3dCQUNWVSxTQUFTZjt3QkFDVEwsT0FBTTt3QkFDTnFCLE1BQUs7a0NBQ047Ozs7OztvQkFJRmYsNkJBQ0MsOERBQUNhO3dCQUNDVCxXQUFVO3dCQUNWVSxTQUFTZDt3QkFDVE4sT0FBTTt3QkFDTnFCLE1BQUs7a0NBQ047Ozs7OztvQkFJRmQsOEJBQ0MsOERBQUNZO3dCQUNDVCxXQUFVO3dCQUNWVSxTQUFTYjt3QkFDVFAsT0FBT1EsZ0JBQWdCLDhCQUEyQjt3QkFDbERhLE1BQUs7a0NBQ047Ozs7OztvQkFJRmpCOzs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L0NoYXRIZWFkZXIudHN4PzNiM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIENoYXRIZWFkZXJQcm9wcyB7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBzdWJ0aXRsZT86IHN0cmluZztcclxuICBhdmF0YXI/OiBzdHJpbmc7XHJcbiAgc3RhdHVzRG90Q29sb3I/OiBzdHJpbmc7XHJcbiAgYWN0aW9ucz86IFJlYWN0Tm9kZTtcclxuICBvblZpZGVvQ2FsbD86ICgpID0+IHZvaWQ7XHJcbiAgb25BdWRpb0NhbGw/OiAoKSA9PiB2b2lkO1xyXG4gIG9uVG9nZ2xlSW5mbz86ICgpID0+IHZvaWQ7XHJcbiAgaXNJbmZvVmlzaWJsZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDaGF0SGVhZGVyKHsgXHJcbiAgdGl0bGUsIFxyXG4gIHN1YnRpdGxlLCBcclxuICBhdmF0YXIsIFxyXG4gIHN0YXR1c0RvdENvbG9yLCBcclxuICBhY3Rpb25zLFxyXG4gIG9uVmlkZW9DYWxsLFxyXG4gIG9uQXVkaW9DYWxsLFxyXG4gIG9uVG9nZ2xlSW5mbyxcclxuICBpc0luZm9WaXNpYmxlLFxyXG59OiBDaGF0SGVhZGVyUHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1jb250ZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXItbGVmdFwiPlxyXG4gICAgICAgIHthdmF0YXIgPyAoXHJcbiAgICAgICAgICA8aW1nIHNyYz17YXZhdGFyfSBhbHQ9e3RpdGxlfSBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1hdmF0YXJcIiAvPlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyLWF2YXRhciBjaGF0LWhlYWRlci1hdmF0YXItLWZhbGxiYWNrXCI+XHJcbiAgICAgICAgICAgIHt0aXRsZS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyLXRleHRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXItdGl0bGVcIj57dGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICB7c3VidGl0bGUgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXItc3VidGl0bGVcIj5cclxuICAgICAgICAgICAgICB7c3RhdHVzRG90Q29sb3IgPyAoXHJcbiAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1zdGF0dXMtZG90XCJcclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBzdGF0dXNEb3RDb2xvciB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgICAgICB7c3VidGl0bGV9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyLWFjdGlvbnNcIj5cclxuICAgICAgICB7b25WaWRlb0NhbGwgJiYgKFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1hY3Rpb24tYnV0dG9uXCJcclxuICAgICAgICAgICAgb25DbGljaz17b25WaWRlb0NhbGx9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiR+G7jWkgdmlkZW9cIlxyXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAg8J+TuVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7b25BdWRpb0NhbGwgJiYgKFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1hY3Rpb24tYnV0dG9uXCJcclxuICAgICAgICAgICAgb25DbGljaz17b25BdWRpb0NhbGx9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiR+G7jWkgdGhv4bqhaVwiXHJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICDwn5OeXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHtvblRvZ2dsZUluZm8gJiYgKFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWhlYWRlci1hY3Rpb24tYnV0dG9uXCJcclxuICAgICAgICAgICAgb25DbGljaz17b25Ub2dnbGVJbmZvfVxyXG4gICAgICAgICAgICB0aXRsZT17aXNJbmZvVmlzaWJsZSA/ICfhuqhuIHRow7RuZyB0aW4gxJFv4bqhbiBjaGF0JyA6ICdIaeG7h24gdGjDtG5nIHRpbiDEkW/huqFuIGNoYXQnfVxyXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAg4oS577iPXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHthY3Rpb25zfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNoYXRIZWFkZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwiYXZhdGFyIiwic3RhdHVzRG90Q29sb3IiLCJhY3Rpb25zIiwib25WaWRlb0NhbGwiLCJvbkF1ZGlvQ2FsbCIsIm9uVG9nZ2xlSW5mbyIsImlzSW5mb1Zpc2libGUiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJzbGljZSIsInRvVXBwZXJDYXNlIiwic3BhbiIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiYnV0dG9uIiwib25DbGljayIsInR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/ChatHeader.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/ChatLayout.tsx":
/*!*********************************************************!*\
  !*** ../../packages/app/components/chat/ChatLayout.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatLayout: () => (/* binding */ ChatLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_chat_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/chat.css */ \"(ssr)/../../packages/app/styles/chat.css\");\n\n\nfunction ChatLayout({ header, messageArea, composer, rightPanel }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-container\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-main\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-header\",\n                        children: header\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatLayout.tsx\",\n                        lineNumber: 15,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-content\",\n                        children: messageArea\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatLayout.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-composer\",\n                        children: composer\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatLayout.tsx\",\n                        lineNumber: 17,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatLayout.tsx\",\n                lineNumber: 14,\n                columnNumber: 7\n            }, this),\n            rightPanel ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"chat-side-panel\",\n                children: rightPanel\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatLayout.tsx\",\n                lineNumber: 19,\n                columnNumber: 21\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ChatLayout.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0TGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUMrQjtBQVN4QixTQUFTQSxXQUFXLEVBQUVDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBbUI7SUFDdkYscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUFlTDs7Ozs7O2tDQUM5Qiw4REFBQ0k7d0JBQUlDLFdBQVU7a0NBQWdCSjs7Ozs7O2tDQUMvQiw4REFBQ0c7d0JBQUlDLFdBQVU7a0NBQWlCSDs7Ozs7Ozs7Ozs7O1lBRWpDQywyQkFBYSw4REFBQ0c7Z0JBQU1ELFdBQVU7MEJBQW1CRjs7Ozs7dUJBQXNCOzs7Ozs7O0FBRzlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0TGF5b3V0LnRzeD82ZjgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICcuLi8uLi9zdHlsZXMvY2hhdC5jc3MnO1xyXG5cclxuaW50ZXJmYWNlIENoYXRMYXlvdXRQcm9wcyB7XHJcbiAgaGVhZGVyOiBSZWFjdE5vZGU7XHJcbiAgbWVzc2FnZUFyZWE6IFJlYWN0Tm9kZTtcclxuICBjb21wb3NlcjogUmVhY3ROb2RlO1xyXG4gIHJpZ2h0UGFuZWw/OiBSZWFjdE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDaGF0TGF5b3V0KHsgaGVhZGVyLCBtZXNzYWdlQXJlYSwgY29tcG9zZXIsIHJpZ2h0UGFuZWwgfTogQ2hhdExheW91dFByb3BzKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1jb250YWluZXJcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LW1haW5cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyXCI+e2hlYWRlcn08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtY29udGVudFwiPnttZXNzYWdlQXJlYX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtY29tcG9zZXJcIj57Y29tcG9zZXJ9PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICB7cmlnaHRQYW5lbCA/IDxhc2lkZSBjbGFzc05hbWU9XCJjaGF0LXNpZGUtcGFuZWxcIj57cmlnaHRQYW5lbH08L2FzaWRlPiA6IG51bGx9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJDaGF0TGF5b3V0IiwiaGVhZGVyIiwibWVzc2FnZUFyZWEiLCJjb21wb3NlciIsInJpZ2h0UGFuZWwiLCJkaXYiLCJjbGFzc05hbWUiLCJhc2lkZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/ChatLayout.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/DesktopChat.tsx":
/*!**********************************************************!*\
  !*** ../../packages/app/components/chat/DesktopChat.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DesktopChat: () => (/* binding */ DesktopChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ChatLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChatLayout */ \"(ssr)/../../packages/app/components/chat/ChatLayout.tsx\");\n/* harmony import */ var _ChatHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChatHeader */ \"(ssr)/../../packages/app/components/chat/ChatHeader.tsx\");\n/* harmony import */ var _MessageList_MessageList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MessageList/MessageList */ \"(ssr)/../../packages/app/components/chat/MessageList/MessageList.tsx\");\n/* harmony import */ var _MessageComposer_MessageComposer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MessageComposer/MessageComposer */ \"(ssr)/../../packages/app/components/chat/MessageComposer/MessageComposer.tsx\");\n/* harmony import */ var _TypingIndicator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TypingIndicator */ \"(ssr)/../../packages/app/components/chat/TypingIndicator.tsx\");\n/* harmony import */ var _ForwardMessageDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ForwardMessageDialog */ \"(ssr)/../../packages/app/components/chat/ForwardMessageDialog.tsx\");\n/* harmony import */ var _hooks_useChatMessages__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useChatMessages */ \"(ssr)/../../packages/app/hooks/useChatMessages.ts\");\n/* harmony import */ var _hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useOpponentInfo */ \"(ssr)/../../packages/app/hooks/useOpponentInfo.ts\");\n/* harmony import */ var _hooks_useTypingStatus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useTypingStatus */ \"(ssr)/../../packages/app/hooks/useTypingStatus.ts\");\n/* harmony import */ var _hooks_useNotifications__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useNotifications */ \"(ssr)/../../packages/app/hooks/useNotifications.ts\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _services_callPopup__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../services/callPopup */ \"(ssr)/../../packages/app/services/callPopup.ts\");\n/* harmony import */ var _DirectChatInfoPanel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DirectChatInfoPanel */ \"(ssr)/../../packages/app/components/chat/DirectChatInfoPanel.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction DesktopChat({ conversationId, conversationName, isGroup, groupAvatar, groupMemberCount, memberIds, onTypingStart, onTypingStop, onToggleInfo, isInfoVisible }) {\n    // NOTE: navigate logic t react-router-dom  b, Next s iu hng  cp trang.\n    const { messages, loading, error, currentUserId, hasMore, sendMessage, markConversationAsRead, loadOlder, reactToMessage, togglePinMessage, editMessageContent, deleteMessageById, revokeMessageById, starMessageById } = (0,_hooks_useChatMessages__WEBPACK_IMPORTED_MODULE_8__.useChatMessages)(conversationId);\n    const shouldLoadOpponent = !isGroup;\n    const { info: opponentInfo } = (0,_hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_9__.useOpponentInfo)(shouldLoadOpponent ? conversationId : undefined);\n    const typing = (0,_hooks_useTypingStatus__WEBPACK_IMPORTED_MODULE_10__.useTypingStatus)(conversationId, currentUserId ?? undefined);\n    (0,_hooks_useNotifications__WEBPACK_IMPORTED_MODULE_11__.useNotifications)(conversationId); // Enable notifications\n    const [replyTarget, setReplyTarget] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingScrollId, setPendingScrollId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [composerText, setComposerText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editingMessage, setEditingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwardingMessage, setForwardingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        markConversationAsRead();\n    }, [\n        markConversationAsRead\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (error) {\n            console.error(\"Chat error:\", error);\n        }\n    }, [\n        error\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setReplyTarget(null);\n        setEditingMessage(null);\n        setComposerText(\"\");\n    }, [\n        conversationId\n    ]);\n    const headerTitle = isGroup ? conversationName ?? \"Nh\\xf3m\" : opponentInfo?.name ?? conversationName ?? \"ang ti...\";\n    const headerSubtitle = isGroup ? `${groupMemberCount ?? 0} thnh vin` : opponentInfo ? opponentInfo.status === \"online\" ? \"ang hot ng\" : opponentInfo.lastSeen ? `Hot ng: ${new Date(opponentInfo.lastSeen).toLocaleString(\"vi-VN\")}` : \"Kh\\xf4ng hot ng\" : \"ang ti...\";\n    const handleSend = async (payload)=>{\n        if (editingMessage) {\n            if (payload.text && payload.text.trim()) {\n                await editMessageContent(editingMessage._id, payload.text.trim());\n            }\n            setEditingMessage(null);\n            setComposerText(\"\");\n            return;\n        }\n        await sendMessage({\n            ...payload,\n            replyTo: replyTarget?._id\n        });\n        setReplyTarget(null);\n        setComposerText(\"\");\n        typing.notifyMessageSent();\n        onTypingStop?.();\n    };\n    const resolveTargetUserId = ()=>{\n        if (isGroup) return undefined;\n        if (!currentUserId) return undefined;\n        if (opponentInfo?.userId && opponentInfo.userId !== currentUserId) {\n            return opponentInfo.userId;\n        }\n        const listCandidate = memberIds?.find((id)=>id && id !== currentUserId);\n        if (listCandidate) {\n            return listCandidate;\n        }\n        const otherSender = messages.find((msg)=>msg.senderId && msg.senderId !== currentUserId);\n        if (otherSender?.senderId) {\n            return otherSender.senderId;\n        }\n        return undefined;\n    };\n    const handleVideoCall = async ()=>{\n        if (!currentUserId) return;\n        const targetUserId = resolveTargetUserId();\n        if (!isGroup && !targetUserId) {\n            console.warn(\"[DesktopChat] Cannot determine target user for video call\");\n            return;\n        }\n        try {\n            console.log(\"[DesktopChat] Initiating video call...\", {\n                isGroup,\n                targetUserId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.initiateCall)(conversationId, \"video\", targetUserId);\n            console.log(\"[DesktopChat] Call initiated:\", result);\n            if (!result.call?.id) {\n                console.error(\"[DesktopChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            console.log(\"[DesktopChat] Opening call screen for initiator...\", {\n                callId: result.call.id,\n                conversationId,\n                callType,\n                livekitRoomName\n            });\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_13__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[DesktopChat] Error initiating video call:\", error);\n        }\n    };\n    const handleAudioCall = async ()=>{\n        if (!currentUserId) return;\n        const targetUserId = resolveTargetUserId();\n        if (!isGroup && !targetUserId) {\n            console.warn(\"[DesktopChat] Cannot determine target user for audio call\");\n            return;\n        }\n        try {\n            console.log(\"[DesktopChat] Initiating audio call...\", {\n                isGroup,\n                targetUserId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.initiateCall)(conversationId, \"audio\", targetUserId);\n            console.log(\"[DesktopChat] Call initiated:\", result);\n            if (!result.call?.id) {\n                console.error(\"[DesktopChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            console.log(\"[DesktopChat] Opening call screen for initiator (audio)...\", {\n                callId: result.call.id,\n                conversationId,\n                callType,\n                livekitRoomName\n            });\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_13__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[DesktopChat] Error initiating audio call:\", error);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatLayout__WEBPACK_IMPORTED_MODULE_2__.ChatLayout, {\n                header: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatHeader__WEBPACK_IMPORTED_MODULE_3__.ChatHeader, {\n                    title: headerTitle,\n                    subtitle: headerSubtitle,\n                    avatar: isGroup ? groupAvatar : opponentInfo?.avatar,\n                    statusDotColor: !isGroup && opponentInfo?.status === \"online\" ? \"#10B981\" : undefined,\n                    onVideoCall: handleVideoCall,\n                    onAudioCall: handleAudioCall,\n                    onToggleInfo: onToggleInfo,\n                    isInfoVisible: isInfoVisible\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                    lineNumber: 215,\n                    columnNumber: 11\n                }, void 0),\n                messageArea: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageList_MessageList__WEBPACK_IMPORTED_MODULE_4__.MessageList, {\n                            messages: messages,\n                            currentUserId: currentUserId,\n                            loading: loading,\n                            hasMore: hasMore,\n                            opponentName: opponentInfo?.name,\n                            opponentAvatar: opponentInfo?.avatar,\n                            onLoadMore: loadOlder,\n                            onReply: (message)=>{\n                                setEditingMessage(null);\n                                setReplyTarget(message);\n                                setComposerText(\"\");\n                            },\n                            onReact: (messageId, emoji)=>reactToMessage(messageId, emoji),\n                            onTogglePin: (messageId, shouldPin)=>togglePinMessage(messageId, shouldPin),\n                            onEdit: (message)=>{\n                                setReplyTarget(null);\n                                setEditingMessage(message);\n                                setComposerText(message.text ?? \"\");\n                            },\n                            onDelete: (message)=>{\n                                deleteMessageById(message._id);\n                            },\n                            onForward: (message)=>{\n                                setForwardingMessage(message);\n                            },\n                            onStar: (message)=>{\n                                if (message.isStarred) return;\n                                starMessageById(message._id);\n                            },\n                            onRevoke: (message)=>{\n                                revokeMessageById(message._id);\n                            },\n                            onScrollToMessage: (messageId)=>{\n                                setPendingScrollId(messageId);\n                                loadOlder();\n                            },\n                            focusMessageId: pendingScrollId,\n                            onFocusHandled: ()=>setPendingScrollId(null)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                            lineNumber: 228,\n                            columnNumber: 13\n                        }, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TypingIndicator__WEBPACK_IMPORTED_MODULE_6__.TypingIndicator, {\n                            users: typing.typingUsers\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                            lineNumber: 268,\n                            columnNumber: 13\n                        }, void 0)\n                    ]\n                }, void 0, true),\n                composer: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageComposer_MessageComposer__WEBPACK_IMPORTED_MODULE_5__.MessageComposer, {\n                    disabled: loading,\n                    replyPreview: replyTarget?.text,\n                    editingLabel: editingMessage ? \"Chnh sa tin nhn\" : undefined,\n                    value: composerText,\n                    onValueChange: (value)=>{\n                        setComposerText(value);\n                        typing.handleInputChange(value);\n                        if (value.trim()) {\n                            onTypingStart?.();\n                        } else {\n                            onTypingStop?.();\n                        }\n                    },\n                    onCancelReply: ()=>setReplyTarget(null),\n                    onCancelEdit: ()=>{\n                        setEditingMessage(null);\n                        setComposerText(\"\");\n                    },\n                    onSend: handleSend\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                    lineNumber: 272,\n                    columnNumber: 11\n                }, void 0),\n                rightPanel: !isGroup && isInfoVisible ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DirectChatInfoPanel__WEBPACK_IMPORTED_MODULE_14__.DirectChatInfoPanel, {\n                    conversation: {\n                        _id: conversationId,\n                        isGroup: false,\n                        title: headerTitle\n                    },\n                    opponentName: opponentInfo?.name,\n                    opponentAvatar: opponentInfo?.avatar,\n                    messages: messages\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                    lineNumber: 297,\n                    columnNumber: 15\n                }, void 0) : null\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                lineNumber: 213,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ForwardMessageDialog__WEBPACK_IMPORTED_MODULE_7__.ForwardMessageDialog, {\n                message: forwardingMessage,\n                onClose: ()=>setForwardingMessage(null),\n                onForwarded: ()=>{\n                    setForwardingMessage(null);\n                }\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DesktopChat.tsx\",\n                lineNumber: 311,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9EZXNrdG9wQ2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNGO0FBQ0E7QUFDYztBQUNZO0FBQ2hCO0FBQ1U7QUFDQTtBQUNBO0FBQ0E7QUFDRTtBQUV2QjtBQUNtQjtBQUNBO0FBZXJELFNBQVNlLFlBQVksRUFDMUJDLGNBQWMsRUFDZEMsZ0JBQWdCLEVBQ2hCQyxPQUFPLEVBQ1BDLFdBQVcsRUFDWEMsZ0JBQWdCLEVBQ2hCQyxTQUFTLEVBQ1RDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxZQUFZLEVBQ1pDLGFBQWEsRUFDSTtJQUNqQixrRkFBa0Y7SUFDbEYsTUFBTSxFQUNKQyxRQUFRLEVBQ1JDLE9BQU8sRUFDUEMsS0FBSyxFQUNMQyxhQUFhLEVBQ2JDLE9BQU8sRUFDUEMsV0FBVyxFQUNYQyxzQkFBc0IsRUFDdEJDLFNBQVMsRUFDVEMsY0FBYyxFQUNkQyxnQkFBZ0IsRUFDaEJDLGtCQUFrQixFQUNsQkMsaUJBQWlCLEVBQ2pCQyxpQkFBaUIsRUFDakJDLGVBQWUsRUFDaEIsR0FBRy9CLHVFQUFlQSxDQUFDUTtJQUNwQixNQUFNd0IscUJBQXFCLENBQUN0QjtJQUM1QixNQUFNLEVBQUV1QixNQUFNQyxZQUFZLEVBQUUsR0FBR2pDLHVFQUFlQSxDQUFDK0IscUJBQXFCeEIsaUJBQWlCMkI7SUFDckYsTUFBTUMsU0FBU2xDLHdFQUFlQSxDQUFDTSxnQkFBZ0JhLGlCQUFpQmM7SUFDaEVoQywwRUFBZ0JBLENBQUNLLGlCQUFpQix1QkFBdUI7SUFDekQsTUFBTSxDQUFDNkIsYUFBYUMsZUFBZSxHQUFHN0MsK0NBQVFBLENBQXFCO0lBQ25FLE1BQU0sQ0FBQzhDLGlCQUFpQkMsbUJBQW1CLEdBQUcvQywrQ0FBUUEsQ0FBZ0I7SUFDdEUsTUFBTSxDQUFDZ0QsY0FBY0MsZ0JBQWdCLEdBQUdqRCwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNrRCxn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cy9hcHAvY29tcG9uZW50cy9jaGF0L0Rlc2t0b3BDaGF0LnRzeD8yNmRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IENoYXRMYXlvdXQgfSBmcm9tICcuL0NoYXRMYXlvdXQnO1xyXG5pbXBvcnQgeyBDaGF0SGVhZGVyIH0gZnJvbSAnLi9DaGF0SGVhZGVyJztcclxuaW1wb3J0IHsgTWVzc2FnZUxpc3QgfSBmcm9tICcuL01lc3NhZ2VMaXN0L01lc3NhZ2VMaXN0JztcclxuaW1wb3J0IHsgTWVzc2FnZUNvbXBvc2VyIH0gZnJvbSAnLi9NZXNzYWdlQ29tcG9zZXIvTWVzc2FnZUNvbXBvc2VyJztcclxuaW1wb3J0IHsgVHlwaW5nSW5kaWNhdG9yIH0gZnJvbSAnLi9UeXBpbmdJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBGb3J3YXJkTWVzc2FnZURpYWxvZyB9IGZyb20gJy4vRm9yd2FyZE1lc3NhZ2VEaWFsb2cnO1xyXG5pbXBvcnQgeyB1c2VDaGF0TWVzc2FnZXMgfSBmcm9tICcuLi8uLi9ob29rcy91c2VDaGF0TWVzc2FnZXMnO1xyXG5pbXBvcnQgeyB1c2VPcHBvbmVudEluZm8gfSBmcm9tICcuLi8uLi9ob29rcy91c2VPcHBvbmVudEluZm8nO1xyXG5pbXBvcnQgeyB1c2VUeXBpbmdTdGF0dXMgfSBmcm9tICcuLi8uLi9ob29rcy91c2VUeXBpbmdTdGF0dXMnO1xyXG5pbXBvcnQgeyB1c2VOb3RpZmljYXRpb25zIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlTm90aWZpY2F0aW9ucyc7XHJcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vdHlwZXMvY2hhdCc7XHJcbmltcG9ydCB7IGluaXRpYXRlQ2FsbCB9IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCB7IENhbGxQb3B1cE1hbmFnZXIgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYWxsUG9wdXAnO1xyXG5pbXBvcnQgeyBEaXJlY3RDaGF0SW5mb1BhbmVsIH0gZnJvbSAnLi9EaXJlY3RDaGF0SW5mb1BhbmVsJztcclxuXHJcbmludGVyZmFjZSBEZXNrdG9wQ2hhdFByb3BzIHtcclxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nO1xyXG4gIGNvbnZlcnNhdGlvbk5hbWU/OiBzdHJpbmc7XHJcbiAgaXNHcm91cD86IGJvb2xlYW47XHJcbiAgZ3JvdXBBdmF0YXI/OiBzdHJpbmc7XHJcbiAgZ3JvdXBNZW1iZXJDb3VudD86IG51bWJlcjtcclxuICBtZW1iZXJJZHM/OiBzdHJpbmdbXTtcclxuICBvblR5cGluZ1N0YXJ0PzogKCkgPT4gdm9pZDtcclxuICBvblR5cGluZ1N0b3A/OiAoKSA9PiB2b2lkO1xyXG4gIG9uVG9nZ2xlSW5mbz86ICgpID0+IHZvaWQ7XHJcbiAgaXNJbmZvVmlzaWJsZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBEZXNrdG9wQ2hhdCh7XHJcbiAgY29udmVyc2F0aW9uSWQsXHJcbiAgY29udmVyc2F0aW9uTmFtZSxcclxuICBpc0dyb3VwLFxyXG4gIGdyb3VwQXZhdGFyLFxyXG4gIGdyb3VwTWVtYmVyQ291bnQsXHJcbiAgbWVtYmVySWRzLFxyXG4gIG9uVHlwaW5nU3RhcnQsXHJcbiAgb25UeXBpbmdTdG9wLFxyXG4gIG9uVG9nZ2xlSW5mbyxcclxuICBpc0luZm9WaXNpYmxlLFxyXG59OiBEZXNrdG9wQ2hhdFByb3BzKSB7XHJcbiAgLy8gTk9URTogbmF2aWdhdGUgbG9naWMgdOG7qyByZWFjdC1yb3V0ZXItZG9tIMSRw6MgYuG7jywgTmV4dCBz4bq9IMSRaeG7gXUgaMaw4bubbmcg4bufIGPhuqVwIHRyYW5nLlxyXG4gIGNvbnN0IHtcclxuICAgIG1lc3NhZ2VzLFxyXG4gICAgbG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgY3VycmVudFVzZXJJZCxcclxuICAgIGhhc01vcmUsXHJcbiAgICBzZW5kTWVzc2FnZSxcclxuICAgIG1hcmtDb252ZXJzYXRpb25Bc1JlYWQsXHJcbiAgICBsb2FkT2xkZXIsXHJcbiAgICByZWFjdFRvTWVzc2FnZSxcclxuICAgIHRvZ2dsZVBpbk1lc3NhZ2UsXHJcbiAgICBlZGl0TWVzc2FnZUNvbnRlbnQsXHJcbiAgICBkZWxldGVNZXNzYWdlQnlJZCxcclxuICAgIHJldm9rZU1lc3NhZ2VCeUlkLFxyXG4gICAgc3Rhck1lc3NhZ2VCeUlkLFxyXG4gIH0gPSB1c2VDaGF0TWVzc2FnZXMoY29udmVyc2F0aW9uSWQpO1xyXG4gIGNvbnN0IHNob3VsZExvYWRPcHBvbmVudCA9ICFpc0dyb3VwO1xyXG4gIGNvbnN0IHsgaW5mbzogb3Bwb25lbnRJbmZvIH0gPSB1c2VPcHBvbmVudEluZm8oc2hvdWxkTG9hZE9wcG9uZW50ID8gY29udmVyc2F0aW9uSWQgOiB1bmRlZmluZWQpO1xyXG4gIGNvbnN0IHR5cGluZyA9IHVzZVR5cGluZ1N0YXR1cyhjb252ZXJzYXRpb25JZCwgY3VycmVudFVzZXJJZCA/PyB1bmRlZmluZWQpO1xyXG4gIHVzZU5vdGlmaWNhdGlvbnMoY29udmVyc2F0aW9uSWQpOyAvLyBFbmFibGUgbm90aWZpY2F0aW9uc1xyXG4gIGNvbnN0IFtyZXBseVRhcmdldCwgc2V0UmVwbHlUYXJnZXRdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2UgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbcGVuZGluZ1Njcm9sbElkLCBzZXRQZW5kaW5nU2Nyb2xsSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2NvbXBvc2VyVGV4dCwgc2V0Q29tcG9zZXJUZXh0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbZWRpdGluZ01lc3NhZ2UsIHNldEVkaXRpbmdNZXNzYWdlXSA9IHVzZVN0YXRlPENoYXRNZXNzYWdlIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2ZvcndhcmRpbmdNZXNzYWdlLCBzZXRGb3J3YXJkaW5nTWVzc2FnZV0gPSB1c2VTdGF0ZTxDaGF0TWVzc2FnZSB8IG51bGw+KG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWFya0NvbnZlcnNhdGlvbkFzUmVhZCgpO1xyXG4gIH0sIFttYXJrQ29udmVyc2F0aW9uQXNSZWFkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ2hhdCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfSwgW2Vycm9yXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRSZXBseVRhcmdldChudWxsKTtcclxuICAgIHNldEVkaXRpbmdNZXNzYWdlKG51bGwpO1xyXG4gICAgc2V0Q29tcG9zZXJUZXh0KCcnKTtcclxuICB9LCBbY29udmVyc2F0aW9uSWRdKTtcclxuXHJcbiAgY29uc3QgaGVhZGVyVGl0bGUgPSBpc0dyb3VwXHJcbiAgICA/IGNvbnZlcnNhdGlvbk5hbWUgPz8gJ05ow7NtJ1xyXG4gICAgOiBvcHBvbmVudEluZm8/Lm5hbWUgPz8gY29udmVyc2F0aW9uTmFtZSA/PyAnxJBhbmcgdOG6o2kuLi4nO1xyXG4gIGNvbnN0IGhlYWRlclN1YnRpdGxlID0gaXNHcm91cFxyXG4gICAgPyBgJHtncm91cE1lbWJlckNvdW50ID8/IDB9IHRow6BuaCB2acOqbmBcclxuICAgIDogb3Bwb25lbnRJbmZvXHJcbiAgICA/IG9wcG9uZW50SW5mby5zdGF0dXMgPT09ICdvbmxpbmUnXHJcbiAgICAgID8gJ8SQYW5nIGhv4bqhdCDEkeG7mW5nJ1xyXG4gICAgICA6IG9wcG9uZW50SW5mby5sYXN0U2VlblxyXG4gICAgICA/IGBIb+G6oXQgxJHhu5luZzogJHtuZXcgRGF0ZShvcHBvbmVudEluZm8ubGFzdFNlZW4pLnRvTG9jYWxlU3RyaW5nKCd2aS1WTicpfWBcclxuICAgICAgOiAnS2jDtG5nIGhv4bqhdCDEkeG7mW5nJ1xyXG4gICAgOiAnxJBhbmcgdOG6o2kuLi4nO1xyXG5cclxuICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKHBheWxvYWQ6IHsgdGV4dD86IHN0cmluZzsgaW1hZ2VVcmw/OiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgaWYgKGVkaXRpbmdNZXNzYWdlKSB7XHJcbiAgICAgIGlmIChwYXlsb2FkLnRleHQgJiYgcGF5bG9hZC50ZXh0LnRyaW0oKSkge1xyXG4gICAgICAgIGF3YWl0IGVkaXRNZXNzYWdlQ29udGVudChlZGl0aW5nTWVzc2FnZS5faWQsIHBheWxvYWQudGV4dC50cmltKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIHNldEVkaXRpbmdNZXNzYWdlKG51bGwpO1xyXG4gICAgICBzZXRDb21wb3NlclRleHQoJycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgc2VuZE1lc3NhZ2UoeyAuLi5wYXlsb2FkLCByZXBseVRvOiByZXBseVRhcmdldD8uX2lkIH0pO1xyXG4gICAgc2V0UmVwbHlUYXJnZXQobnVsbCk7XHJcbiAgICBzZXRDb21wb3NlclRleHQoJycpO1xyXG4gICAgdHlwaW5nLm5vdGlmeU1lc3NhZ2VTZW50KCk7XHJcbiAgICBvblR5cGluZ1N0b3A/LigpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc29sdmVUYXJnZXRVc2VySWQgPSAoKSA9PiB7XHJcbiAgICBpZiAoaXNHcm91cCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGlmICghY3VycmVudFVzZXJJZCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGlmIChvcHBvbmVudEluZm8/LnVzZXJJZCAmJiBvcHBvbmVudEluZm8udXNlcklkICE9PSBjdXJyZW50VXNlcklkKSB7XHJcbiAgICAgIHJldHVybiBvcHBvbmVudEluZm8udXNlcklkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGlzdENhbmRpZGF0ZSA9IG1lbWJlcklkcz8uZmluZCgoaWQpID0+IGlkICYmIGlkICE9PSBjdXJyZW50VXNlcklkKTtcclxuICAgIGlmIChsaXN0Q2FuZGlkYXRlKSB7XHJcbiAgICAgIHJldHVybiBsaXN0Q2FuZGlkYXRlO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb3RoZXJTZW5kZXIgPSBtZXNzYWdlcy5maW5kKChtc2cpID0+IG1zZy5zZW5kZXJJZCAmJiBtc2cuc2VuZGVySWQgIT09IGN1cnJlbnRVc2VySWQpO1xyXG4gICAgaWYgKG90aGVyU2VuZGVyPy5zZW5kZXJJZCkge1xyXG4gICAgICByZXR1cm4gb3RoZXJTZW5kZXIuc2VuZGVySWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVZpZGVvQ2FsbCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY3VycmVudFVzZXJJZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB0YXJnZXRVc2VySWQgPSByZXNvbHZlVGFyZ2V0VXNlcklkKCk7XHJcbiAgICBcclxuICAgIGlmICghaXNHcm91cCAmJiAhdGFyZ2V0VXNlcklkKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW0Rlc2t0b3BDaGF0XSBDYW5ub3QgZGV0ZXJtaW5lIHRhcmdldCB1c2VyIGZvciB2aWRlbyBjYWxsJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1tEZXNrdG9wQ2hhdF0gSW5pdGlhdGluZyB2aWRlbyBjYWxsLi4uJywgeyBpc0dyb3VwLCB0YXJnZXRVc2VySWQgfSk7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbChjb252ZXJzYXRpb25JZCwgJ3ZpZGVvJywgdGFyZ2V0VXNlcklkKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tEZXNrdG9wQ2hhdF0gQ2FsbCBpbml0aWF0ZWQ6JywgcmVzdWx0KTtcclxuICAgICAgaWYgKCFyZXN1bHQuY2FsbD8uaWQpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVza3RvcENoYXRdIE5vIGNhbGwgSUQgaW4gcmVzcG9uc2U6JywgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNhbGxUeXBlID0gcmVzdWx0LmNhbGwuY2FsbFR5cGUgPT09ICdzZnUnID8gJ3NmdScgOiAncDJwJztcclxuICAgICAgY29uc3QgbGl2ZWtpdFJvb21OYW1lID0gcmVzdWx0LmNhbGwubGl2ZWtpdFJvb21OYW1lO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tEZXNrdG9wQ2hhdF0gT3BlbmluZyBjYWxsIHNjcmVlbiBmb3IgaW5pdGlhdG9yLi4uJywge1xyXG4gICAgICAgIGNhbGxJZDogcmVzdWx0LmNhbGwuaWQsXHJcbiAgICAgICAgY29udmVyc2F0aW9uSWQsXHJcbiAgICAgICAgY2FsbFR5cGUsXHJcbiAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHBvcHVwID0gbmV3IENhbGxQb3B1cE1hbmFnZXIoKTtcclxuICAgICAgcG9wdXAub3BlbkNhbGxXaW5kb3cocmVzdWx0LmNhbGwuaWQsIGNvbnZlcnNhdGlvbklkLCBmYWxzZSwge1xyXG4gICAgICAgIGNhbGxUeXBlLFxyXG4gICAgICAgIGxpdmVraXRSb29tTmFtZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbRGVza3RvcENoYXRdIEVycm9yIGluaXRpYXRpbmcgdmlkZW8gY2FsbDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQXVkaW9DYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFjdXJyZW50VXNlcklkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHRhcmdldFVzZXJJZCA9IHJlc29sdmVUYXJnZXRVc2VySWQoKTtcclxuICAgIFxyXG4gICAgaWYgKCFpc0dyb3VwICYmICF0YXJnZXRVc2VySWQpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbRGVza3RvcENoYXRdIENhbm5vdCBkZXRlcm1pbmUgdGFyZ2V0IHVzZXIgZm9yIGF1ZGlvIGNhbGwnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnW0Rlc2t0b3BDaGF0XSBJbml0aWF0aW5nIGF1ZGlvIGNhbGwuLi4nLCB7IGlzR3JvdXAsIHRhcmdldFVzZXJJZCB9KTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW5pdGlhdGVDYWxsKGNvbnZlcnNhdGlvbklkLCAnYXVkaW8nLCB0YXJnZXRVc2VySWQpO1xyXG4gICAgICBjb25zb2xlLmxvZygnW0Rlc2t0b3BDaGF0XSBDYWxsIGluaXRpYXRlZDonLCByZXN1bHQpO1xyXG4gICAgICBpZiAoIXJlc3VsdC5jYWxsPy5pZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEZXNrdG9wQ2hhdF0gTm8gY2FsbCBJRCBpbiByZXNwb25zZTonLCByZXN1bHQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2FsbFR5cGUgPSByZXN1bHQuY2FsbC5jYWxsVHlwZSA9PT0gJ3NmdScgPyAnc2Z1JyA6ICdwMnAnO1xyXG4gICAgICBjb25zdCBsaXZla2l0Um9vbU5hbWUgPSByZXN1bHQuY2FsbC5saXZla2l0Um9vbU5hbWU7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnW0Rlc2t0b3BDaGF0XSBPcGVuaW5nIGNhbGwgc2NyZWVuIGZvciBpbml0aWF0b3IgKGF1ZGlvKS4uLicsIHtcclxuICAgICAgICBjYWxsSWQ6IHJlc3VsdC5jYWxsLmlkLFxyXG4gICAgICAgIGNvbnZlcnNhdGlvbklkLFxyXG4gICAgICAgIGNhbGxUeXBlLFxyXG4gICAgICAgIGxpdmVraXRSb29tTmFtZSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBwb3B1cCA9IG5ldyBDYWxsUG9wdXBNYW5hZ2VyKCk7XHJcbiAgICAgIHBvcHVwLm9wZW5DYWxsV2luZG93KHJlc3VsdC5jYWxsLmlkLCBjb252ZXJzYXRpb25JZCwgZmFsc2UsIHtcclxuICAgICAgICBjYWxsVHlwZSxcclxuICAgICAgICBsaXZla2l0Um9vbU5hbWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0Rlc2t0b3BDaGF0XSBFcnJvciBpbml0aWF0aW5nIGF1ZGlvIGNhbGw6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPENoYXRMYXlvdXRcclxuICAgICAgICBoZWFkZXI9e1xyXG4gICAgICAgICAgPENoYXRIZWFkZXJcclxuICAgICAgICAgICAgdGl0bGU9e2hlYWRlclRpdGxlfVxyXG4gICAgICAgICAgICBzdWJ0aXRsZT17aGVhZGVyU3VidGl0bGV9XHJcbiAgICAgICAgICAgIGF2YXRhcj17aXNHcm91cCA/IGdyb3VwQXZhdGFyIDogb3Bwb25lbnRJbmZvPy5hdmF0YXJ9XHJcbiAgICAgICAgICAgIHN0YXR1c0RvdENvbG9yPXshaXNHcm91cCAmJiBvcHBvbmVudEluZm8/LnN0YXR1cyA9PT0gJ29ubGluZScgPyAnIzEwQjk4MScgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgIG9uVmlkZW9DYWxsPXtoYW5kbGVWaWRlb0NhbGx9XHJcbiAgICAgICAgICAgIG9uQXVkaW9DYWxsPXtoYW5kbGVBdWRpb0NhbGx9XHJcbiAgICAgICAgICAgIG9uVG9nZ2xlSW5mbz17b25Ub2dnbGVJbmZvfVxyXG4gICAgICAgICAgICBpc0luZm9WaXNpYmxlPXtpc0luZm9WaXNpYmxlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgbWVzc2FnZUFyZWE9e1xyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPE1lc3NhZ2VMaXN0XHJcbiAgICAgICAgICAgICAgbWVzc2FnZXM9e21lc3NhZ2VzfVxyXG4gICAgICAgICAgICAgIGN1cnJlbnRVc2VySWQ9e2N1cnJlbnRVc2VySWR9XHJcbiAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgICBoYXNNb3JlPXtoYXNNb3JlfVxyXG4gICAgICAgICAgICAgIG9wcG9uZW50TmFtZT17b3Bwb25lbnRJbmZvPy5uYW1lfVxyXG4gICAgICAgICAgICAgIG9wcG9uZW50QXZhdGFyPXtvcHBvbmVudEluZm8/LmF2YXRhcn1cclxuICAgICAgICAgICAgICBvbkxvYWRNb3JlPXtsb2FkT2xkZXJ9XHJcbiAgICAgICAgICAgICAgb25SZXBseT17KG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdNZXNzYWdlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgc2V0UmVwbHlUYXJnZXQobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBzZXRDb21wb3NlclRleHQoJycpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25SZWFjdD17KG1lc3NhZ2VJZCwgZW1vamkpID0+IHJlYWN0VG9NZXNzYWdlKG1lc3NhZ2VJZCwgZW1vamkpfVxyXG4gICAgICAgICAgICAgIG9uVG9nZ2xlUGluPXsobWVzc2FnZUlkLCBzaG91bGRQaW4pID0+IHRvZ2dsZVBpbk1lc3NhZ2UobWVzc2FnZUlkLCBzaG91bGRQaW4pfVxyXG4gICAgICAgICAgICAgIG9uRWRpdD17KG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFJlcGx5VGFyZ2V0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgc2V0RWRpdGluZ01lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBzZXRDb21wb3NlclRleHQobWVzc2FnZS50ZXh0ID8/ICcnKTtcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uRGVsZXRlPXsobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlTWVzc2FnZUJ5SWQobWVzc2FnZS5faWQpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgb25Gb3J3YXJkPXsobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0Rm9yd2FyZGluZ01lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvblN0YXI9eyhtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pc1N0YXJyZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHN0YXJNZXNzYWdlQnlJZChtZXNzYWdlLl9pZCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvblJldm9rZT17KG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldm9rZU1lc3NhZ2VCeUlkKG1lc3NhZ2UuX2lkKTtcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uU2Nyb2xsVG9NZXNzYWdlPXsobWVzc2FnZUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRQZW5kaW5nU2Nyb2xsSWQobWVzc2FnZUlkKTtcclxuICAgICAgICAgICAgICAgIGxvYWRPbGRlcigpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgZm9jdXNNZXNzYWdlSWQ9e3BlbmRpbmdTY3JvbGxJZH1cclxuICAgICAgICAgICAgICBvbkZvY3VzSGFuZGxlZD17KCkgPT4gc2V0UGVuZGluZ1Njcm9sbElkKG51bGwpfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8VHlwaW5nSW5kaWNhdG9yIHVzZXJzPXt0eXBpbmcudHlwaW5nVXNlcnN9IC8+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9zZXI9e1xyXG4gICAgICAgICAgPE1lc3NhZ2VDb21wb3NlclxyXG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgcmVwbHlQcmV2aWV3PXtyZXBseVRhcmdldD8udGV4dH1cclxuICAgICAgICAgICAgZWRpdGluZ0xhYmVsPXtlZGl0aW5nTWVzc2FnZSA/ICdDaOG7iW5oIHPhu61hIHRpbiBuaOG6r24nIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICB2YWx1ZT17Y29tcG9zZXJUZXh0fVxyXG4gICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXsodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICBzZXRDb21wb3NlclRleHQodmFsdWUpO1xyXG4gICAgICAgICAgICAgIHR5cGluZy5oYW5kbGVJbnB1dENoYW5nZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgb25UeXBpbmdTdGFydD8uKCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9uVHlwaW5nU3RvcD8uKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbkNhbmNlbFJlcGx5PXsoKSA9PiBzZXRSZXBseVRhcmdldChudWxsKX1cclxuICAgICAgICAgICAgb25DYW5jZWxFZGl0PXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2V0RWRpdGluZ01lc3NhZ2UobnVsbCk7XHJcbiAgICAgICAgICAgICAgc2V0Q29tcG9zZXJUZXh0KCcnKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25TZW5kPXtoYW5kbGVTZW5kfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmlnaHRQYW5lbD17XHJcbiAgICAgICAgICAhaXNHcm91cCAmJiBpc0luZm9WaXNpYmxlXHJcbiAgICAgICAgICAgID8gKFxyXG4gICAgICAgICAgICAgIDxEaXJlY3RDaGF0SW5mb1BhbmVsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgX2lkOiBjb252ZXJzYXRpb25JZCxcclxuICAgICAgICAgICAgICAgICAgaXNHcm91cDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBoZWFkZXJUaXRsZSxcclxuICAgICAgICAgICAgICAgIH0gYXMgYW55fVxyXG4gICAgICAgICAgICAgICAgb3Bwb25lbnROYW1lPXtvcHBvbmVudEluZm8/Lm5hbWV9XHJcbiAgICAgICAgICAgICAgICBvcHBvbmVudEF2YXRhcj17b3Bwb25lbnRJbmZvPy5hdmF0YXJ9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcz17bWVzc2FnZXN9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICA6IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIC8+XHJcbiAgICAgIDxGb3J3YXJkTWVzc2FnZURpYWxvZ1xyXG4gICAgICAgIG1lc3NhZ2U9e2ZvcndhcmRpbmdNZXNzYWdlfVxyXG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEZvcndhcmRpbmdNZXNzYWdlKG51bGwpfVxyXG4gICAgICAgIG9uRm9yd2FyZGVkPXsoKSA9PiB7XHJcbiAgICAgICAgICBzZXRGb3J3YXJkaW5nTWVzc2FnZShudWxsKTtcclxuICAgICAgICB9fVxyXG4gICAgICAvPlxyXG4gICAgPC8+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJDaGF0TGF5b3V0IiwiQ2hhdEhlYWRlciIsIk1lc3NhZ2VMaXN0IiwiTWVzc2FnZUNvbXBvc2VyIiwiVHlwaW5nSW5kaWNhdG9yIiwiRm9yd2FyZE1lc3NhZ2VEaWFsb2ciLCJ1c2VDaGF0TWVzc2FnZXMiLCJ1c2VPcHBvbmVudEluZm8iLCJ1c2VUeXBpbmdTdGF0dXMiLCJ1c2VOb3RpZmljYXRpb25zIiwiaW5pdGlhdGVDYWxsIiwiQ2FsbFBvcHVwTWFuYWdlciIsIkRpcmVjdENoYXRJbmZvUGFuZWwiLCJEZXNrdG9wQ2hhdCIsImNvbnZlcnNhdGlvbklkIiwiY29udmVyc2F0aW9uTmFtZSIsImlzR3JvdXAiLCJncm91cEF2YXRhciIsImdyb3VwTWVtYmVyQ291bnQiLCJtZW1iZXJJZHMiLCJvblR5cGluZ1N0YXJ0Iiwib25UeXBpbmdTdG9wIiwib25Ub2dnbGVJbmZvIiwiaXNJbmZvVmlzaWJsZSIsIm1lc3NhZ2VzIiwibG9hZGluZyIsImVycm9yIiwiY3VycmVudFVzZXJJZCIsImhhc01vcmUiLCJzZW5kTWVzc2FnZSIsIm1hcmtDb252ZXJzYXRpb25Bc1JlYWQiLCJsb2FkT2xkZXIiLCJyZWFjdFRvTWVzc2FnZSIsInRvZ2dsZVBpbk1lc3NhZ2UiLCJlZGl0TWVzc2FnZUNvbnRlbnQiLCJkZWxldGVNZXNzYWdlQnlJZCIsInJldm9rZU1lc3NhZ2VCeUlkIiwic3Rhck1lc3NhZ2VCeUlkIiwic2hvdWxkTG9hZE9wcG9uZW50IiwiaW5mbyIsIm9wcG9uZW50SW5mbyIsInVuZGVmaW5lZCIsInR5cGluZyIsInJlcGx5VGFyZ2V0Iiwic2V0UmVwbHlUYXJnZXQiLCJwZW5kaW5nU2Nyb2xsSWQiLCJzZXRQZW5kaW5nU2Nyb2xsSWQiLCJjb21wb3NlclRleHQiLCJzZXRDb21wb3NlclRleHQiLCJlZGl0aW5nTWVzc2FnZSIsInNldEVkaXRpbmdNZXNzYWdlIiwiZm9yd2FyZGluZ01lc3NhZ2UiLCJzZXRGb3J3YXJkaW5nTWVzc2FnZSIsImNvbnNvbGUiLCJoZWFkZXJUaXRsZSIsIm5hbWUiLCJoZWFkZXJTdWJ0aXRsZSIsInN0YXR1cyIsImxhc3RTZWVuIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiaGFuZGxlU2VuZCIsInBheWxvYWQiLCJ0ZXh0IiwidHJpbSIsIl9pZCIsInJlcGx5VG8iLCJub3RpZnlNZXNzYWdlU2VudCIsInJlc29sdmVUYXJnZXRVc2VySWQiLCJ1c2VySWQiLCJsaXN0Q2FuZGlkYXRlIiwiZmluZCIsImlkIiwib3RoZXJTZW5kZXIiLCJtc2ciLCJzZW5kZXJJZCIsImhhbmRsZVZpZGVvQ2FsbCIsInRhcmdldFVzZXJJZCIsIndhcm4iLCJsb2ciLCJyZXN1bHQiLCJjYWxsIiwiY2FsbFR5cGUiLCJsaXZla2l0Um9vbU5hbWUiLCJjYWxsSWQiLCJwb3B1cCIsIm9wZW5DYWxsV2luZG93IiwiaGFuZGxlQXVkaW9DYWxsIiwiaGVhZGVyIiwidGl0bGUiLCJzdWJ0aXRsZSIsImF2YXRhciIsInN0YXR1c0RvdENvbG9yIiwib25WaWRlb0NhbGwiLCJvbkF1ZGlvQ2FsbCIsIm1lc3NhZ2VBcmVhIiwib3Bwb25lbnROYW1lIiwib3Bwb25lbnRBdmF0YXIiLCJvbkxvYWRNb3JlIiwib25SZXBseSIsIm1lc3NhZ2UiLCJvblJlYWN0IiwibWVzc2FnZUlkIiwiZW1vamkiLCJvblRvZ2dsZVBpbiIsInNob3VsZFBpbiIsIm9uRWRpdCIsIm9uRGVsZXRlIiwib25Gb3J3YXJkIiwib25TdGFyIiwiaXNTdGFycmVkIiwib25SZXZva2UiLCJvblNjcm9sbFRvTWVzc2FnZSIsImZvY3VzTWVzc2FnZUlkIiwib25Gb2N1c0hhbmRsZWQiLCJ1c2VycyIsInR5cGluZ1VzZXJzIiwiY29tcG9zZXIiLCJkaXNhYmxlZCIsInJlcGx5UHJldmlldyIsImVkaXRpbmdMYWJlbCIsInZhbHVlIiwib25WYWx1ZUNoYW5nZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwib25DYW5jZWxSZXBseSIsIm9uQ2FuY2VsRWRpdCIsIm9uU2VuZCIsInJpZ2h0UGFuZWwiLCJjb252ZXJzYXRpb24iLCJvbkNsb3NlIiwib25Gb3J3YXJkZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/DesktopChat.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/DirectChatInfoPanel.tsx":
/*!******************************************************************!*\
  !*** ../../packages/app/components/chat/DirectChatInfoPanel.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DirectChatInfoPanel: () => (/* binding */ DirectChatInfoPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_group_info_panel_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/group-info-panel.css */ \"(ssr)/../../packages/app/styles/group-info-panel.css\");\n\n\n\n\nfunction DirectChatInfoPanel({ conversation, opponentName, opponentAvatar, messages = [] }) {\n    const [isMediaOpen, setIsMediaOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mediaTab, setMediaTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"media\");\n    const [viewerOpen, setViewerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewerImages, setViewerImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [viewerIndex, setViewerIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const title = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>opponentName || conversation.title || \"on chat\", [\n        opponentName,\n        conversation.title\n    ]);\n    const mediaMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>messages.filter((msg)=>{\n            const hasImageUrl = Boolean(msg.imageUrl);\n            const isImageType = msg.type === \"image\";\n            const isFileImage = msg.file?.mime?.startsWith?.(\"image/\");\n            return hasImageUrl || isImageType || isFileImage;\n        }), [\n        messages\n    ]);\n    const fileMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>messages.filter((msg)=>{\n            const isFileType = msg.type === \"file\";\n            const hasFile = Boolean(msg.file);\n            const isNonImageFile = msg.file && !msg.file.mime?.startsWith?.(\"image/\");\n            return isFileType || hasFile && isNonImageFile;\n        }), [\n        messages\n    ]);\n    const mediaUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>mediaMessages.map((msg)=>{\n            const url = msg.imageUrl || (msg.file?.mime?.startsWith?.(\"image/\") ? msg.file.url : undefined);\n            return url || null;\n        }).filter((u)=>Boolean(u)), [\n        mediaMessages\n    ]);\n    const openViewerAt = (index)=>{\n        if (!mediaUrls.length) return;\n        const clamped = Math.max(0, Math.min(index, mediaUrls.length - 1));\n        setViewerImages(mediaUrls);\n        setViewerIndex(clamped);\n        setViewerOpen(true);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group-info-panel direct-chat-panel\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-header direct-chat-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"group-info-avatar large\",\n                                children: opponentAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: opponentAvatar,\n                                    alt: \"\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 80,\n                                    columnNumber: 31\n                                }, this) : \"\\uD83D\\uDC64\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 79,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"direct-chat-header-text\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"group-info-title\",\n                                        children: title\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 83,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"group-info-subtitle\",\n                                        children: \"on chat c\\xe1 nh\\xe2n\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 84,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 82,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"direct-chat-action-row\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"direct-chat-circle-btn\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"circle-icon\",\n                                        children: \"\\uD83D\\uDC64\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"circle-label\",\n                                        children: \"Trang c\\xe1 nh\\xe2n\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"direct-chat-circle-btn\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"circle-icon\",\n                                        children: \"\\uD83D\\uDD14\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 95,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"circle-label\",\n                                        children: \"Tt th\\xf4ng b\\xe1o\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 96,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 94,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"direct-chat-circle-btn\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"circle-icon\",\n                                        children: \"\\uD83D\\uDD0D\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 99,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"circle-label\",\n                                        children: \"T\\xecm kim\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 100,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 98,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 89,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-divider\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 104,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                lineNumber: 77,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-section-title\",\n                        children: \"Tu chnh on chat\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-list\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"group-info-item\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: \"\\uD83C\\uDFA8\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"i ch \"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 113,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 111,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"group-info-item\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: \"\\uD83D\\uDC4D\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 116,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Thay i biu tng cm x\\xfac\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 117,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 115,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"group-info-item\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: \"Aa\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 120,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Chnh sa bit danh\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 110,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                lineNumber: 108,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-section-title\",\n                        children: \"File phng tin & file\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 128,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-list\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"group-info-item\",\n                                onClick: ()=>{\n                                    setMediaTab(\"media\");\n                                    setIsMediaOpen(true);\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: \"\\uD83D\\uDDBC\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"File phng tin\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 138,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 130,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"group-info-item\",\n                                onClick: ()=>{\n                                    setMediaTab(\"files\");\n                                    setIsMediaOpen(true);\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: \"\\uD83D\\uDCC1\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 147,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"File\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 140,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                        lineNumber: 129,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                lineNumber: 127,\n                columnNumber: 7\n            }, this),\n            isMediaOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"media-overlay\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"media-overlay-inner\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"media-overlay-header\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"media-back-btn\",\n                                    onClick: ()=>setIsMediaOpen(false),\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 157,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"media-title-group\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"media-title\",\n                                            children: \"File phng tin & file\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                            lineNumber: 161,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"media-subtitle\",\n                                            children: title\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                            lineNumber: 162,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 160,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                            lineNumber: 156,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"media-tabs\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: `media-tab ${mediaTab === \"media\" ? \"active\" : \"\"}`,\n                                    onClick: ()=>setMediaTab(\"media\"),\n                                    children: \"File phng tin\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: `media-tab ${mediaTab === \"files\" ? \"active\" : \"\"}`,\n                                    onClick: ()=>setMediaTab(\"files\"),\n                                    children: \"File\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 173,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"media-content\",\n                            children: mediaTab === \"media\" ? mediaMessages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"media-placeholder\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Cha c\\xf3 file phng tin n\\xe0o trong on chat n\\xe0y.\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 185,\n                                    columnNumber: 21\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 184,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"media-grid\",\n                                children: mediaMessages.map((msg, index)=>{\n                                    const key = msg._id || msg.localId || `${msg.createdAt}-${msg.senderId}`;\n                                    const url = msg.imageUrl || (msg.file?.mime?.startsWith?.(\"image/\") ? msg.file.url : undefined);\n                                    if (!url) return null;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: \"media-grid-item\",\n                                        onClick: ()=>openViewerAt(index),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: url,\n                                            alt: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                            lineNumber: 202,\n                                            columnNumber: 27\n                                        }, this)\n                                    }, key, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 196,\n                                        columnNumber: 25\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 188,\n                                columnNumber: 19\n                            }, this) : fileMessages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"media-placeholder\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Cha c\\xf3 file n\\xe0o trong on chat n\\xe0y.\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 209,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"media-file-list\",\n                                children: fileMessages.map((msg)=>{\n                                    const file = msg.file;\n                                    if (!file) return null;\n                                    const key = msg._id || msg.localId || `${msg.createdAt}-${msg.senderId}`;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: file.url,\n                                        target: \"_blank\",\n                                        rel: \"noreferrer\",\n                                        className: \"media-file-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"media-file-icon\",\n                                                children: \"\\uD83D\\uDCC4\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                                lineNumber: 226,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"media-file-info\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"media-file-name\",\n                                                        children: file.name || \"File \\xednh k\\xe8m\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                                        lineNumber: 228,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"media-file-meta\",\n                                                        children: new Date(msg.createdAt).toLocaleDateString(\"vi-VN\")\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                                        lineNumber: 229,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                                lineNumber: 227,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, key, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 23\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                lineNumber: 213,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                            lineNumber: 181,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                    lineNumber: 155,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                lineNumber: 154,\n                columnNumber: 9\n            }, this),\n            viewerOpen ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-image-viewer-backdrop\",\n                onClick: ()=>setViewerOpen(false),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-image-viewer-content\",\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        viewerImages[viewerIndex] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: viewerImages[viewerIndex],\n                            alt: \"attachment-large\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                            lineNumber: 253,\n                            columnNumber: 19\n                        }, this) : null,\n                        viewerImages.length > 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-image-viewer-thumbs\",\n                            children: viewerImages.map((src, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    className: [\n                                        \"chat-image-viewer-thumb\",\n                                        index === viewerIndex ? \"chat-image-viewer-thumb--active\" : \"\"\n                                    ].filter(Boolean).join(\" \"),\n                                    onClick: ()=>setViewerIndex(index),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: src,\n                                        alt: `thumb-${index}`\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                        lineNumber: 269,\n                                        columnNumber: 25\n                                    }, this)\n                                }, src + index, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                                    lineNumber: 258,\n                                    columnNumber: 23\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                            lineNumber: 256,\n                            columnNumber: 19\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                    lineNumber: 248,\n                    columnNumber: 15\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n                lineNumber: 244,\n                columnNumber: 13\n            }, this), document.body) : null\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\DirectChatInfoPanel.tsx\",\n        lineNumber: 75,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9EaXJlY3RDaGF0SW5mb1BhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMEM7QUFDRDtBQUNFO0FBV3BDLFNBQVNHLG9CQUFvQixFQUNsQ0MsWUFBWSxFQUNaQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsV0FBVyxFQUFFLEVBQ1k7SUFDekIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdSLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ1MsVUFBVUMsWUFBWSxHQUFHViwrQ0FBUUEsQ0FBb0I7SUFDNUQsTUFBTSxDQUFDVyxZQUFZQyxjQUFjLEdBQUdaLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ2EsY0FBY0MsZ0JBQWdCLEdBQUdkLCtDQUFRQSxDQUFXLEVBQUU7SUFDN0QsTUFBTSxDQUFDZSxhQUFhQyxlQUFlLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUUvQyxNQUFNaUIsUUFBUWxCLDhDQUFPQSxDQUNuQixJQUFNSyxnQkFBZ0JELGFBQWFjLEtBQUssSUFBSSxhQUM1QztRQUFDYjtRQUFjRCxhQUFhYyxLQUFLO0tBQUM7SUFHcEMsTUFBTUMsZ0JBQWdCbkIsOENBQU9BLENBQzNCLElBQ0VPLFNBQVNhLE1BQU0sQ0FBQyxDQUFDQztZQUNmLE1BQU1DLGNBQWNDLFFBQVFGLElBQUlHLFFBQVE7WUFDeEMsTUFBTUMsY0FBY0osSUFBSUssSUFBSSxLQUFLO1lBQ2pDLE1BQU1DLGNBQWMsSUFBYUMsSUFBSSxFQUFFQyxNQUFNQyxhQUFhO1lBQzFELE9BQU9SLGVBQWVHLGVBQWVFO1FBQ3ZDLElBQ0Y7UUFBQ3BCO0tBQVM7SUFHWixNQUFNd0IsZUFBZS9CLDhDQUFPQSxDQUMxQixJQUNFTyxTQUFTYSxNQUFNLENBQUMsQ0FBQ0M7WUFDZixNQUFNVyxhQUFhWCxJQUFJSyxJQUFJLEtBQUs7WUFDaEMsTUFBTU8sVUFBVVYsUUFBUSxJQUFhSyxJQUFJO1lBQ3pDLE1BQU1NLGlC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WixJQUFJa0IsS0FBSzdDLElBQUlzQyxTQUFTLEVBQUVRLGtCQUFrQixDQUFDOzs7Ozs7Ozs7Ozs7O3VDQVYzQ1g7Ozs7O2dDQWVYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBT1g1QywyQkFDR1YsdURBQVlBLGVBQ1YsOERBQUM2QztnQkFDQ0MsV0FBVTtnQkFDVk0sU0FBUyxJQUFNekMsY0FBYzswQkFFN0IsNEVBQUNrQztvQkFDQ0MsV0FBVTtvQkFDVk0sU0FBUyxDQUFDYyxJQUFNQSxFQUFFQyxlQUFlOzt3QkFFaEN2RCxZQUFZLENBQUNFLFlBQVksaUJBQ3hCLDhEQUFDaUM7NEJBQUlDLEtBQUtwQyxZQUFZLENBQUNFLFlBQVk7NEJBQUVtQyxLQUFJOzs7OzttQ0FDdkM7d0JBQ0hyQyxhQUFhNEIsTUFBTSxHQUFHLGtCQUNyQiw4REFBQ0s7NEJBQUlDLFdBQVU7c0NBQ1psQyxhQUFhc0IsR0FBRyxDQUFDLENBQUNjLEtBQUtULHNCQUN0Qiw4REFBQ1c7b0NBRUMxQixNQUFLO29DQUNMc0IsV0FBVzt3Q0FDVDt3Q0FDQVAsVUFBVXpCLGNBQWMsb0NBQW9DO3FDQUM3RCxDQUNFSSxNQUFNLENBQUNHLFNBQ1ArQyxJQUFJLENBQUM7b0NBQ1JoQixTQUFTLElBQU1yQyxlQUFld0I7OENBRTlCLDRFQUFDUTt3Q0FBSUMsS0FBS0E7d0NBQUtDLEtBQUssQ0FBQyxNQUFNLEVBQUVWLE1BQU0sQ0FBQzs7Ozs7O21DQVYvQlMsTUFBTVQ7Ozs7Ozs7OzttQ0FjZjs7Ozs7Ozs7Ozs7c0JBR1I4QixTQUFTQyxJQUFJLElBRWY7Ozs7Ozs7QUFHViIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvRGlyZWN0Q2hhdEluZm9QYW5lbC50c3g/OTc4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0ICcuLi8uLi9zdHlsZXMvZ3JvdXAtaW5mby1wYW5lbC5jc3MnO1xyXG5pbXBvcnQgdHlwZSB7IENvbnZlcnNhdGlvbiB9IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCB0eXBlIHsgQ2hhdE1lc3NhZ2UgfSBmcm9tICcuLi8uLi90eXBlcy9jaGF0JztcclxuXHJcbmludGVyZmFjZSBEaXJlY3RDaGF0SW5mb1BhbmVsUHJvcHMge1xyXG4gIGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uO1xyXG4gIG9wcG9uZW50TmFtZT86IHN0cmluZztcclxuICBvcHBvbmVudEF2YXRhcj86IHN0cmluZztcclxuICBtZXNzYWdlcz86IENoYXRNZXNzYWdlW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBEaXJlY3RDaGF0SW5mb1BhbmVsKHtcclxuICBjb252ZXJzYXRpb24sXHJcbiAgb3Bwb25lbnROYW1lLFxyXG4gIG9wcG9uZW50QXZhdGFyLFxyXG4gIG1lc3NhZ2VzID0gW10sXHJcbn06IERpcmVjdENoYXRJbmZvUGFuZWxQcm9wcykge1xyXG4gIGNvbnN0IFtpc01lZGlhT3Blbiwgc2V0SXNNZWRpYU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFttZWRpYVRhYiwgc2V0TWVkaWFUYWJdID0gdXNlU3RhdGU8J21lZGlhJyB8ICdmaWxlcyc+KCdtZWRpYScpO1xyXG4gIGNvbnN0IFt2aWV3ZXJPcGVuLCBzZXRWaWV3ZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdmlld2VySW1hZ2VzLCBzZXRWaWV3ZXJJbWFnZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcclxuICBjb25zdCBbdmlld2VySW5kZXgsIHNldFZpZXdlckluZGV4XSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICBjb25zdCB0aXRsZSA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiBvcHBvbmVudE5hbWUgfHwgY29udmVyc2F0aW9uLnRpdGxlIHx8ICfEkG/huqFuIGNoYXQnLFxyXG4gICAgW29wcG9uZW50TmFtZSwgY29udmVyc2F0aW9uLnRpdGxlXSxcclxuICApO1xyXG5cclxuICBjb25zdCBtZWRpYU1lc3NhZ2VzID0gdXNlTWVtbyhcclxuICAgICgpID0+XHJcbiAgICAgIG1lc3NhZ2VzLmZpbHRlcigobXNnKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaGFzSW1hZ2VVcmwgPSBCb29sZWFuKG1zZy5pbWFnZVVybCk7XHJcbiAgICAgICAgY29uc3QgaXNJbWFnZVR5cGUgPSBtc2cudHlwZSA9PT0gJ2ltYWdlJztcclxuICAgICAgICBjb25zdCBpc0ZpbGVJbWFnZSA9IChtc2cgYXMgYW55KS5maWxlPy5taW1lPy5zdGFydHNXaXRoPy4oJ2ltYWdlLycpO1xyXG4gICAgICAgIHJldHVybiBoYXNJbWFnZVVybCB8fCBpc0ltYWdlVHlwZSB8fCBpc0ZpbGVJbWFnZTtcclxuICAgICAgfSksXHJcbiAgICBbbWVzc2FnZXNdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGZpbGVNZXNzYWdlcyA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PlxyXG4gICAgICBtZXNzYWdlcy5maWx0ZXIoKG1zZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzRmlsZVR5cGUgPSBtc2cudHlwZSA9PT0gJ2ZpbGUnO1xyXG4gICAgICAgIGNvbnN0IGhhc0ZpbGUgPSBCb29sZWFuKChtc2cgYXMgYW55KS5maWxlKTtcclxuICAgICAgICBjb25zdCBpc05vbkltYWdlRmlsZSA9IChtc2cgYXMgYW55KS5maWxlICYmICEobXNnIGFzIGFueSkuZmlsZS5taW1lPy5zdGFydHNXaXRoPy4oJ2ltYWdlLycpO1xyXG4gICAgICAgIHJldHVybiBpc0ZpbGVUeXBlIHx8IChoYXNGaWxlICYmIGlzTm9uSW1hZ2VGaWxlKTtcclxuICAgICAgfSksXHJcbiAgICBbbWVzc2FnZXNdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IG1lZGlhVXJscyA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PlxyXG4gICAgICBtZWRpYU1lc3NhZ2VzXHJcbiAgICAgICAgLm1hcCgobXNnKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB1cmwgPVxyXG4gICAgICAgICAgICBtc2cuaW1hZ2VVcmwgfHxcclxuICAgICAgICAgICAgKChtc2cgYXMgYW55KS5maWxlPy5taW1lPy5zdGFydHNXaXRoPy4oJ2ltYWdlLycpID8gKG1zZyBhcyBhbnkpLmZpbGUudXJsIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgIHJldHVybiB1cmwgfHwgbnVsbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maWx0ZXIoKHUpOiB1IGlzIHN0cmluZyA9PiBCb29sZWFuKHUpKSxcclxuICAgIFttZWRpYU1lc3NhZ2VzXSxcclxuICApO1xyXG5cclxuICBjb25zdCBvcGVuVmlld2VyQXQgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKCFtZWRpYVVybHMubGVuZ3RoKSByZXR1cm47XHJcbiAgICBjb25zdCBjbGFtcGVkID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oaW5kZXgsIG1lZGlhVXJscy5sZW5ndGggLSAxKSk7XHJcbiAgICBzZXRWaWV3ZXJJbWFnZXMobWVkaWFVcmxzKTtcclxuICAgIHNldFZpZXdlckluZGV4KGNsYW1wZWQpO1xyXG4gICAgc2V0Vmlld2VyT3Blbih0cnVlKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLXBhbmVsIGRpcmVjdC1jaGF0LXBhbmVsXCI+XHJcbiAgICAgIHsvKiBUaMO0bmcgdGluIHbhu4EgxJFv4bqhbiBjaGF0ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tc2VjdGlvblwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1oZWFkZXIgZGlyZWN0LWNoYXQtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tYXZhdGFyIGxhcmdlXCI+XHJcbiAgICAgICAgICAgIHtvcHBvbmVudEF2YXRhciA/IDxpbWcgc3JjPXtvcHBvbmVudEF2YXRhcn0gYWx0PVwiXCIgLz4gOiAn8J+RpCd9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGlyZWN0LWNoYXQtaGVhZGVyLXRleHRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLXRpdGxlXCI+e3RpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tc3VidGl0bGVcIj7EkG/huqFuIGNoYXQgY8OhIG5ow6JuPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGlyZWN0LWNoYXQtYWN0aW9uLXJvd1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJkaXJlY3QtY2hhdC1jaXJjbGUtYnRuXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNpcmNsZS1pY29uXCI+8J+RpDwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2lyY2xlLWxhYmVsXCI+VHJhbmcgY8OhIG5ow6JuPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImRpcmVjdC1jaGF0LWNpcmNsZS1idG5cIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2lyY2xlLWljb25cIj7wn5SUPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjaXJjbGUtbGFiZWxcIj5U4bqvdCB0aMO0bmcgYsOhbzwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJkaXJlY3QtY2hhdC1jaXJjbGUtYnRuXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNpcmNsZS1pY29uXCI+8J+UjTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2lyY2xlLWxhYmVsXCI+VMOsbSBraeG6v208L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWRpdmlkZXJcIiAvPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBUdeG7syBjaOG7iW5oIMSRb+G6oW4gY2hhdCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLXNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tc2VjdGlvbi10aXRsZVwiPlR14buzIGNo4buJbmggxJFv4bqhbiBjaGF0PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWxpc3RcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdyb3VwLWluZm8taXRlbS1pY29uXCI+8J+OqDwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4+xJDhu5VpIGNo4bunIMSR4buBPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImdyb3VwLWluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWl0ZW0taWNvblwiPvCfkY08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuPlRoYXkgxJHhu5VpIGJp4buDdSB0xrDhu6NuZyBj4bqjbSB4w7pjPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImdyb3VwLWluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWl0ZW0taWNvblwiPkFhPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3Bhbj5DaOG7iW5oIHPhu61hIGJp4buHdCBkYW5oPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIEZpbGUgcGjGsMahbmcgdGnhu4duICYgZmlsZSAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLXNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tc2VjdGlvbi10aXRsZVwiPkZpbGUgcGjGsMahbmcgdGnhu4duICYgZmlsZTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1saXN0XCI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImdyb3VwLWluZm8taXRlbVwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICBzZXRNZWRpYVRhYignbWVkaWEnKTtcclxuICAgICAgICAgICAgICBzZXRJc01lZGlhT3Blbih0cnVlKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1pdGVtLWljb25cIj7wn5a877iPPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3Bhbj5GaWxlIHBoxrDGoW5nIHRp4buHbjwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJncm91cC1pbmZvLWl0ZW1cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2V0TWVkaWFUYWIoJ2ZpbGVzJyk7XHJcbiAgICAgICAgICAgICAgc2V0SXNNZWRpYU9wZW4odHJ1ZSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdyb3VwLWluZm8taXRlbS1pY29uXCI+8J+TgTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4+RmlsZTwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHtpc01lZGlhT3BlbiAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1vdmVybGF5XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLW92ZXJsYXktaW5uZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1vdmVybGF5LWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwibWVkaWEtYmFjay1idG5cIiBvbkNsaWNrPXsoKSA9PiBzZXRJc01lZGlhT3BlbihmYWxzZSl9PlxyXG4gICAgICAgICAgICAgICAg4oaQXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS10aXRsZS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS10aXRsZVwiPkZpbGUgcGjGsMahbmcgdGnhu4duICYgZmlsZTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1zdWJ0aXRsZVwiPnt0aXRsZX08L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLXRhYnNcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtZWRpYS10YWIgJHttZWRpYVRhYiA9PT0gJ21lZGlhJyA/ICdhY3RpdmUnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1lZGlhVGFiKCdtZWRpYScpfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIEZpbGUgcGjGsMahbmcgdGnhu4duXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWVkaWEtdGFiICR7bWVkaWFUYWIgPT09ICdmaWxlcycgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNZWRpYVRhYignZmlsZXMnKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBGaWxlXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAge21lZGlhVGFiID09PSAnbWVkaWEnID8gKFxyXG4gICAgICAgICAgICAgICAgbWVkaWFNZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtcGxhY2Vob2xkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cD5DaMawYSBjw7MgZmlsZSBwaMawxqFuZyB0aeG7h24gbsOgbyB0cm9uZyDEkW/huqFuIGNoYXQgbsOgeS48L3A+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ncmlkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge21lZGlhTWVzc2FnZXMubWFwKChtc2csIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBtc2cuX2lkIHx8IG1zZy5sb2NhbElkIHx8IGAke21zZy5jcmVhdGVkQXR9LSR7bXNnLnNlbmRlcklkfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cuaW1hZ2VVcmwgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKChtc2cgYXMgYW55KS5maWxlPy5taW1lPy5zdGFydHNXaXRoPy4oJ2ltYWdlLycpID8gKG1zZyBhcyBhbnkpLmZpbGUudXJsIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICghdXJsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2tleX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1ncmlkLWl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9wZW5WaWV3ZXJBdChpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dXJsfSBhbHQ9XCJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICkgOiBmaWxlTWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1wbGFjZWhvbGRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8cD5DaMawYSBjw7MgZmlsZSBuw6BvIHRyb25nIMSRb+G6oW4gY2hhdCBuw6B5LjwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWZpbGUtbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICB7ZmlsZU1lc3NhZ2VzLm1hcCgobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IChtc2cgYXMgYW55KS5maWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlsZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbXNnLl9pZCB8fCBtc2cubG9jYWxJZCB8fCBgJHttc2cuY3JlYXRlZEF0fS0ke21zZy5zZW5kZXJJZH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2tleX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17ZmlsZS51cmx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1maWxlLWl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWZpbGUtaWNvblwiPvCfk4Q8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1maWxlLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWZpbGUtbmFtZVwiPntmaWxlLm5hbWUgfHwgJ0ZpbGUgxJHDrW5oIGvDqG0nfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtZmlsZS1tZXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUobXNnLmNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCd2aS1WTicpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIHt2aWV3ZXJPcGVuXHJcbiAgICAgICAgPyBjcmVhdGVQb3J0YWwoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWltYWdlLXZpZXdlci1iYWNrZHJvcFwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Vmlld2VyT3BlbihmYWxzZSl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWltYWdlLXZpZXdlci1jb250ZW50XCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt2aWV3ZXJJbWFnZXNbdmlld2VySW5kZXhdID8gKFxyXG4gICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dmlld2VySW1hZ2VzW3ZpZXdlckluZGV4XX0gYWx0PVwiYXR0YWNobWVudC1sYXJnZVwiIC8+XHJcbiAgICAgICAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgICAgICAgIHt2aWV3ZXJJbWFnZXMubGVuZ3RoID4gMSA/IChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWltYWdlLXZpZXdlci10aHVtYnNcIj5cclxuICAgICAgICAgICAgICAgICAgICB7dmlld2VySW1hZ2VzLm1hcCgoc3JjLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NyYyArIGluZGV4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NoYXQtaW1hZ2Utdmlld2VyLXRodW1iJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gdmlld2VySW5kZXggPyAnY2hhdC1pbWFnZS12aWV3ZXItdGh1bWItLWFjdGl2ZScgOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3ZXJJbmRleChpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtzcmN9IGFsdD17YHRodW1iLSR7aW5kZXh9YH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj4sXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHksXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgOiBudWxsfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJjcmVhdGVQb3J0YWwiLCJEaXJlY3RDaGF0SW5mb1BhbmVsIiwiY29udmVyc2F0aW9uIiwib3Bwb25lbnROYW1lIiwib3Bwb25lbnRBdmF0YXIiLCJtZXNzYWdlcyIsImlzTWVkaWFPcGVuIiwic2V0SXNNZWRpYU9wZW4iLCJtZWRpYVRhYiIsInNldE1lZGlhVGFiIiwidmlld2VyT3BlbiIsInNldFZpZXdlck9wZW4iLCJ2aWV3ZXJJbWFnZXMiLCJzZXRWaWV3ZXJJbWFnZXMiLCJ2aWV3ZXJJbmRleCIsInNldFZpZXdlckluZGV4IiwidGl0bGUiLCJtZWRpYU1lc3NhZ2VzIiwiZmlsdGVyIiwibXNnIiwiaGFzSW1hZ2VVcmwiLCJCb29sZWFuIiwiaW1hZ2VVcmwiLCJpc0ltYWdlVHlwZSIsInR5cGUiLCJpc0ZpbGVJbWFnZSIsImZpbGUiLCJtaW1lIiwic3RhcnRzV2l0aCIsImZpbGVNZXNzYWdlcyIsImlzRmlsZVR5cGUiLCJoYXNGaWxlIiwiaXNOb25JbWFnZUZpbGUiLCJtZWRpYVVybHMiLCJtYXAiLCJ1cmwiLCJ1bmRlZmluZWQiLCJ1Iiwib3BlblZpZXdlckF0IiwiaW5kZXgiLCJsZW5ndGgiLCJjbGFtcGVkIiwiTWF0aCIsIm1heCIsIm1pbiIsImRpdiIsImNsYXNzTmFtZSIsImltZyIsInNyYyIsImFsdCIsImJ1dHRvbiIsInNwYW4iLCJvbkNsaWNrIiwicCIsImtleSIsIl9pZCIsImxvY2FsSWQiLCJjcmVhdGVkQXQiLCJzZW5kZXJJZCIsImEiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwibmFtZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiam9pbiIsImRvY3VtZW50IiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/DirectChatInfoPanel.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/ForwardMessageDialog.tsx":
/*!*******************************************************************!*\
  !*** ../../packages/app/components/chat/ForwardMessageDialog.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForwardMessageDialog: () => (/* binding */ ForwardMessageDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.ts\");\n\n\n\nfunction ForwardMessageDialog({ message, onClose, onForwarded }) {\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [selectedConversationId, setSelectedConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwarding, setForwarding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!message) return;\n        loadConversations();\n    }, [\n        message\n    ]);\n    const loadConversations = async ()=>{\n        try {\n            setLoading(true);\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.getConversations)();\n            setConversations(data);\n        } catch (err) {\n            console.error(\"Failed to load conversations:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleForward = async ()=>{\n        if (!message || !selectedConversationId) return;\n        try {\n            setForwarding(true);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createMessageWithPayload)(selectedConversationId, {\n                text: message.text,\n                imageUrl: message.imageUrl,\n                type: message.type\n            });\n            onForwarded?.();\n            onClose();\n        } catch (err) {\n            console.error(\"Failed to forward message:\", err);\n            alert(\"Kh\\xf4ng th chuyn tip tin nhn. Vui l\\xf2ng th li.\");\n        } finally{\n            setForwarding(false);\n        }\n    };\n    if (!message) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-forward-dialog-overlay\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-forward-dialog\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Chuyn tip tin nhn\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-close\",\n                            onClick: onClose,\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 59,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-preview\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-forward-preview-message\",\n                        children: [\n                            message.text && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-forward-preview-text\",\n                                children: message.text\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 30\n                            }, this),\n                            message.imageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: message.imageUrl,\n                                alt: \"Preview\",\n                                className: \"chat-forward-preview-image\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 65,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-list\",\n                    children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-forward-dialog-loading\",\n                        children: \"ang ti...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 13\n                    }, this) : conversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-forward-dialog-empty\",\n                        children: \"Kh\\xf4ng c\\xf3 cuc tr\\xf2 chuyn n\\xe0o\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 13\n                    }, this) : conversations.map((conv)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `chat-forward-dialog-item ${selectedConversationId === conv._id ? \"chat-forward-dialog-item--selected\" : \"\"}`,\n                            onClick: ()=>setSelectedConversationId(conv._id),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"chat-forward-dialog-item-avatar\",\n                                    children: conv.isGroup ? \"\\uD83D\\uDC65\" : \"\\uD83D\\uDCAC\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                    lineNumber: 87,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"chat-forward-dialog-item-info\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"chat-forward-dialog-item-name\",\n                                        children: conv.isGroup ? conv.title || `Nhm (${conv.members.length})` : conv.title || \"Ngi d\\xf9ng\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, conv._id, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-actions\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-cancel\",\n                            onClick: onClose,\n                            children: \"Hy\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 100,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-forward\",\n                            onClick: handleForward,\n                            disabled: !selectedConversationId || forwarding,\n                            children: forwarding ? \"ang chuyn tip...\" : \"Chuyn tip\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 103,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 99,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n            lineNumber: 58,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n        lineNumber: 57,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9Gb3J3YXJkTWVzc2FnZURpYWxvZy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE0QztBQUN5QztBQVM5RSxTQUFTSSxxQkFBcUIsRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLFdBQVcsRUFBNkI7SUFDL0YsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR1IsK0NBQVFBLENBQWlCLEVBQUU7SUFDckUsTUFBTSxDQUFDUyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1csd0JBQXdCQywwQkFBMEIsR0FBR1osK0NBQVFBLENBQWdCO0lBQ3BGLE1BQU0sQ0FBQ2EsWUFBWUMsY0FBYyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUU3Q0QsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNLLFNBQVM7UUFDZFc7SUFDRixHQUFHO1FBQUNYO0tBQVE7SUFFWixNQUFNVyxvQkFBb0I7UUFDeEIsSUFBSTtZQUNGTCxXQUFXO1lBQ1gsTUFBTU0sT0FBTyxNQUFNZixzREFBZ0JBO1lBQ25DTyxpQkFBaUJRO1FBQ25CLEVBQUUsT0FBT0MsS0FBSztZQUNaQyxRQUFRQyxLQUFLLENBQUMsaUNBQWlDRjtRQUNqRCxTQUFVO1lBQ1JQLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTVUsZ0JBQWdCO1FBQ3BCLElBQUksQ0FBQ2hCLFdBQVcsQ0FBQ08sd0JBQXdCO1FBRXpDLElBQUk7WUFDRkcsY0FBYztZQUNkLE1BQU1aLDhEQUF3QkEsQ0FBQ1Msd0JBQXdCO2dCQUNyRFUsTUFBTWpCLFFBQVFpQixJQUFJO2dCQUNsQkMsVUFBVWxCLFFBQVFrQixRQUFRO2dCQUMxQkMsTUFBTW5CLFFBQVFtQixJQUFJO1lBQ3BCO1lBQ0FqQjtZQUNBRDtRQUNGLEVBQUUsT0FBT1ksS0FBSztZQUNaQyxRQUFRQyxLQUFLLENBQUMsOEJBQThCRjtZQUM1Q08sTUFBTTtRQUNSLFNBQVU7WUFDUlYsY0FBYztRQUNoQjtJQUNGO0lBRUEsSUFBSSxDQUFDVixTQUFTLE9BQU87SUFFckIscUJBQ0UsOERBQUNxQjtRQUFJQyxXQUFVO1FBQThCQyxTQUFTdEI7a0JBQ3BELDRFQUFDb0I7WUFBSUMsV0FBVTtZQUFzQkMsU0FBUyxDQUFDQyxJQUFNQSxFQUFFQyxlQUFlOzs4QkFDcEUsOERBQUNKO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0k7c0NBQUc7Ozs7OztzQ0FDSiw4REFBQ0M7NEJBQU9MLFdBQVU7NEJBQTRCQyxTQUFTdEI7c0NBQVM7Ozs7Ozs7Ozs7Ozs4QkFJbEUsOERBQUNvQjtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0Q7d0JBQUlDLFdBQVU7OzRCQUNadEIsUUFBUWlCLElBQUksa0JBQUksOERBQUNJO2dDQUFJQyxXQUFVOzBDQUE2QnRCLFFBQVFpQixJQUFJOzs7Ozs7NEJBQ3hFakIsUUFBUWtCLFFBQVEsa0JBQ2YsOERBQUNVO2dDQUFJQyxLQUFLN0IsUUFBUWtCLFFBQVE7Z0NBQUVZLEtBQUk7Z0NBQVVSLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUkxRCw4REFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ1pqQix3QkFDQyw4REFBQ2dCO3dCQUFJQyxXQUFVO2tDQUE4Qjs7Ozs7K0JBQzNDbkIsY0FBYzRCLE1BQU0sS0FBSyxrQkFDM0IsOERBQUNWO3dCQUFJQyxXQUFVO2tDQUE0Qjs7Ozs7K0JBRTNDbkIsY0FBYzZCLEdBQUcsQ0FBQyxDQUFDQyxxQkFDakIsOERBQUNOOzRCQUVDTCxXQUFXLENBQUMseUJBQXlCLEVBQ25DZiwyQkFBMkIwQixLQUFLQyxHQUFHLEdBQUcsdUNBQXVDLEdBQzlFLENBQUM7NEJBQ0ZYLFNBQVMsSUFBTWYsMEJBQTBCeUIsS0FBS0MsR0FBRzs7OENBRWpELDhEQUFDYjtvQ0FBSUMsV0FBVTs4Q0FDWlcsS0FBS0UsT0FBTyxHQUFHLGlCQUFPOzs7Ozs7OENBRXpCLDhEQUFDZDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7a0RBQ1pXLEtBQUtFLE9BQU8sR0FBR0YsS0FBS0csS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFSCxLQUFLSSxPQUFPLENBQUNOLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBR0UsS0FBS0csS0FBSyxJQUFJOzs7Ozs7Ozs7Ozs7MkJBWDdFSCxLQUFLQyxHQUFHOzs7Ozs7Ozs7OzhCQWtCckIsOERBQUNiO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0s7NEJBQU9MLFdBQVU7NEJBQTZCQyxTQUFTdEI7c0NBQVM7Ozs7OztzQ0FHakUsOERBQUMwQjs0QkFDQ0wsV0FBVTs0QkFDVkMsU0FBU1A7NEJBQ1RzQixVQUFVLENBQUMvQiwwQkFBMEJFO3NDQUVwQ0EsYUFBYSx3QkFBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTWxEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9Gb3J3YXJkTWVzc2FnZURpYWxvZy50c3g/ZjgzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBnZXRDb252ZXJzYXRpb25zLCBDb252ZXJzYXRpb24sIGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZCB9IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vdHlwZXMvY2hhdCc7XHJcblxyXG5pbnRlcmZhY2UgRm9yd2FyZE1lc3NhZ2VEaWFsb2dQcm9wcyB7XHJcbiAgbWVzc2FnZTogQ2hhdE1lc3NhZ2UgfCBudWxsO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgb25Gb3J3YXJkZWQ/OiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRm9yd2FyZE1lc3NhZ2VEaWFsb2coeyBtZXNzYWdlLCBvbkNsb3NlLCBvbkZvcndhcmRlZCB9OiBGb3J3YXJkTWVzc2FnZURpYWxvZ1Byb3BzKSB7XHJcbiAgY29uc3QgW2NvbnZlcnNhdGlvbnMsIHNldENvbnZlcnNhdGlvbnNdID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uW10+KFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbc2VsZWN0ZWRDb252ZXJzYXRpb25JZCwgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZm9yd2FyZGluZywgc2V0Rm9yd2FyZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjtcclxuICAgIGxvYWRDb252ZXJzYXRpb25zKCk7XHJcbiAgfSwgW21lc3NhZ2VdKTtcclxuXHJcbiAgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpO1xyXG4gICAgICBzZXRDb252ZXJzYXRpb25zKGRhdGEpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbnM6JywgZXJyKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvcndhcmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNlbGVjdGVkQ29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRGb3J3YXJkaW5nKHRydWUpO1xyXG4gICAgICBhd2FpdCBjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQoc2VsZWN0ZWRDb252ZXJzYXRpb25JZCwge1xyXG4gICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcclxuICAgICAgICBpbWFnZVVybDogbWVzc2FnZS5pbWFnZVVybCxcclxuICAgICAgICB0eXBlOiBtZXNzYWdlLnR5cGUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBvbkZvcndhcmRlZD8uKCk7XHJcbiAgICAgIG9uQ2xvc2UoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZm9yd2FyZCBtZXNzYWdlOicsIGVycik7XHJcbiAgICAgIGFsZXJ0KCdLaMO0bmcgdGjhu4MgY2h1eeG7g24gdGnhur9wIHRpbiBuaOG6r24uIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaS4nKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldEZvcndhcmRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmICghbWVzc2FnZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctb3ZlcmxheVwiIG9uQ2xpY2s9e29uQ2xvc2V9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2dcIiBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLWhlYWRlclwiPlxyXG4gICAgICAgICAgPGgzPkNodXnhu4NuIHRp4bq/cCB0aW4gbmjhuq9uPC9oMz5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1jbG9zZVwiIG9uQ2xpY2s9e29uQ2xvc2V9PlxyXG4gICAgICAgICAgICDDl1xyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLXByZXZpZXdcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLXByZXZpZXctbWVzc2FnZVwiPlxyXG4gICAgICAgICAgICB7bWVzc2FnZS50ZXh0ICYmIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLXByZXZpZXctdGV4dFwiPnttZXNzYWdlLnRleHR9PC9kaXY+fVxyXG4gICAgICAgICAgICB7bWVzc2FnZS5pbWFnZVVybCAmJiAoXHJcbiAgICAgICAgICAgICAgPGltZyBzcmM9e21lc3NhZ2UuaW1hZ2VVcmx9IGFsdD1cIlByZXZpZXdcIiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtcHJldmlldy1pbWFnZVwiIC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctbGlzdFwiPlxyXG4gICAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1sb2FkaW5nXCI+xJBhbmcgdOG6o2kuLi48L2Rpdj5cclxuICAgICAgICAgICkgOiBjb252ZXJzYXRpb25zLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLWVtcHR5XCI+S2jDtG5nIGPDsyBjdeG7mWMgdHLDsiBjaHV54buHbiBuw6BvPC9kaXY+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICBjb252ZXJzYXRpb25zLm1hcCgoY29udikgPT4gKFxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGtleT17Y29udi5faWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjaGF0LWZvcndhcmQtZGlhbG9nLWl0ZW0gJHtcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb252ZXJzYXRpb25JZCA9PT0gY29udi5faWQgPyAnY2hhdC1mb3J3YXJkLWRpYWxvZy1pdGVtLS1zZWxlY3RlZCcgOiAnJ1xyXG4gICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZENvbnZlcnNhdGlvbklkKGNvbnYuX2lkKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctaXRlbS1hdmF0YXJcIj5cclxuICAgICAgICAgICAgICAgICAge2NvbnYuaXNHcm91cCA/ICfwn5GlJyA6ICfwn5KsJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLWl0ZW0taW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctaXRlbS1uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbnYuaXNHcm91cCA/IGNvbnYudGl0bGUgfHwgYE5ow7NtICgke2NvbnYubWVtYmVycy5sZW5ndGh9KWAgOiBjb252LnRpdGxlIHx8ICdOZ8aw4budaSBkw7luZyd9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICkpXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctY2FuY2VsXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgIEjhu6d5XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1mb3J3YXJkXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRm9yd2FyZH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3RlZENvbnZlcnNhdGlvbklkIHx8IGZvcndhcmRpbmd9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtmb3J3YXJkaW5nID8gJ8SQYW5nIGNodXnhu4NuIHRp4bq/cC4uLicgOiAnQ2h1eeG7g24gdGnhur9wJ31cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsImdldENvbnZlcnNhdGlvbnMiLCJjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQiLCJGb3J3YXJkTWVzc2FnZURpYWxvZyIsIm1lc3NhZ2UiLCJvbkNsb3NlIiwib25Gb3J3YXJkZWQiLCJjb252ZXJzYXRpb25zIiwic2V0Q29udmVyc2F0aW9ucyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2VsZWN0ZWRDb252ZXJzYXRpb25JZCIsInNldFNlbGVjdGVkQ29udmVyc2F0aW9uSWQiLCJmb3J3YXJkaW5nIiwic2V0Rm9yd2FyZGluZyIsImxvYWRDb252ZXJzYXRpb25zIiwiZGF0YSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUZvcndhcmQiLCJ0ZXh0IiwiaW1hZ2VVcmwiLCJ0eXBlIiwiYWxlcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImgzIiwiYnV0dG9uIiwiaW1nIiwic3JjIiwiYWx0IiwibGVuZ3RoIiwibWFwIiwiY29udiIsIl9pZCIsImlzR3JvdXAiLCJ0aXRsZSIsIm1lbWJlcnMiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/ForwardMessageDialog.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageComposer/MessageComposer.tsx":
/*!******************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageComposer/MessageComposer.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageComposer: () => (/* binding */ MessageComposer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api */ \"(ssr)/../../packages/app/api.ts\");\n\n\n\nfunction MessageComposer({ onSend, disabled, onValueChange, replyPreview, onCancelReply, editingLabel, onCancelEdit, value }) {\n    const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const text = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>value !== undefined ? value : internalValue, [\n        value,\n        internalValue\n    ]);\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const mediaInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const updateValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((next)=>{\n        if (value !== undefined) {\n            onValueChange?.(next);\n        } else {\n            setInternalValue(next);\n            onValueChange?.(next);\n        }\n    }, [\n        onValueChange,\n        value\n    ]);\n    const resetValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (value !== undefined) {\n            onValueChange?.(\"\");\n        } else {\n            setInternalValue(\"\");\n            onValueChange?.(\"\");\n        }\n    }, [\n        onValueChange,\n        value\n    ]);\n    const handleSubmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (event)=>{\n        event.preventDefault();\n        const trimmed = text.trim();\n        if (!trimmed && !replyPreview) return;\n        try {\n            setSending(true);\n            await onSend({\n                text: trimmed\n            });\n            resetValue();\n        } finally{\n            setSending(false);\n        }\n    }, [\n        onSend,\n        text,\n        replyPreview,\n        resetValue\n    ]);\n    const handleUpload = (kind)=>async (event)=>{\n            const file = event.target.files?.[0];\n            event.target.value = \"\";\n            if (!file) return;\n            try {\n                setSending(true);\n                const uploaded = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.uploadChatFile)(file);\n                if (!uploaded?.url) {\n                    console.warn(\"Upload did not return URL\");\n                    return;\n                }\n                const baseFile = {\n                    url: uploaded.url,\n                    name: uploaded.name ?? file.name,\n                    mime: uploaded.mime ?? file.type,\n                    size: uploaded.size ?? file.size\n                };\n                if (kind === \"media\") {\n                    const isImageOrVideo = baseFile.mime?.startsWith(\"image/\") || baseFile.mime?.startsWith(\"video/\") || file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\");\n                    const payload = {\n                        type: isImageOrVideo ? \"image\" : \"file\",\n                        file: baseFile\n                    };\n                    await onSend(payload);\n                } else {\n                    const payload = {\n                        type: \"file\",\n                        file: baseFile\n                    };\n                    await onSend(payload);\n                }\n            } finally{\n                setSending(false);\n            }\n        };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        className: \"chat-composer-form\",\n        onSubmit: handleSubmit,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: mediaInputRef,\n                type: \"file\",\n                accept: \"image/*,video/*\",\n                hidden: true,\n                onChange: handleUpload(\"media\")\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 118,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: audioInputRef,\n                type: \"file\",\n                accept: \"audio/*\",\n                hidden: true,\n                onChange: handleUpload(\"audio\")\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 125,\n                columnNumber: 7\n            }, this),\n            replyPreview ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-composer-reply-preview\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-reply-indicator\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 128,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-composer-reply-body\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-reply-label\",\n                                children: \"Tr li\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                                lineNumber: 130,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-reply-text\",\n                                children: replyPreview\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                                lineNumber: 131,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 129,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-reply-cancel\",\n                        onClick: onCancelReply,\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 133,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 127,\n                columnNumber: 9\n            }, this) : null,\n            editingLabel ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-composer-edit-banner\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: editingLabel\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 140,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: onCancelEdit,\n                        children: \"Hy\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 141,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 139,\n                columnNumber: 9\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-composer-left\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-composer-icon-btn\",\n                        disabled: disabled || sending,\n                        title: \"Gi nh/video\",\n                        onClick: ()=>mediaInputRef.current?.click(),\n                        children: \"\\uD83D\\uDCF7\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 147,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-composer-icon-btn\",\n                        disabled: disabled || sending,\n                        title: \"Gi \\xe2m thanh\",\n                        onClick: ()=>audioInputRef.current?.click(),\n                        children: \"\\uD83C\\uDFA4\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                        lineNumber: 156,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 146,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                className: \"chat-composer-input\",\n                placeholder: \"Nhp tin nhn...\",\n                value: text,\n                onChange: (event)=>updateValue(event.target.value),\n                disabled: disabled || sending\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 166,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-composer-send\",\n                type: \"submit\",\n                disabled: disabled || sending || !text.trim(),\n                children: \"Gi\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n                lineNumber: 173,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageComposer\\\\MessageComposer.tsx\",\n        lineNumber: 117,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlQ29tcG9zZXIvTWVzc2FnZUNvbXBvc2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVGO0FBRXpDO0FBYXZDLFNBQVNLLGdCQUFnQixFQUM5QkMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxhQUFhLEVBQ2JDLFlBQVksRUFDWkMsWUFBWSxFQUNaQyxLQUFLLEVBQ2dCO0lBQ3JCLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUdaLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU1hLE9BQU9mLDhDQUFPQSxDQUFDLElBQU9ZLFVBQVVJLFlBQVlKLFFBQVFDLGVBQWdCO1FBQUNEO1FBQU9DO0tBQWM7SUFDaEcsTUFBTSxDQUFDSSxTQUFTQyxXQUFXLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNaUIsZ0JBQWdCbEIsNkNBQU1BLENBQTBCO0lBQ3RELE1BQU1tQixnQkFBZ0JuQiw2Q0FBTUEsQ0FBMEI7SUFFdEQsTUFBTW9CLGNBQWN0QixrREFBV0EsQ0FDN0IsQ0FBQ3VCO1FBQ0MsSUFBSVYsVUFBVUksV0FBVztZQUN2QlQsZ0JBQWdCZTtRQUNsQixPQUFPO1lBQ0xSLGlCQUFpQlE7WUFDakJmLGdCQUFnQmU7UUFDbEI7SUFDRixHQUNBO1FBQUNmO1FBQWVLO0tBQU07SUFHeEIsTUFBTVcsYUFBYXhCLGtEQUFXQSxDQUFDO1FBQzdCLElBQUlhLFVBQVVJLFdBQVc7WUFDdkJULGdCQUFnQjtRQUNsQixPQUFPO1lBQ0xPLGlCQUFpQjtZQUNqQlAsZ0JBQWdCO1FBQ2xCO0lBQ0YsR0FBRztRQUFDQTtRQUFlSztLQUFNO0lBRXpCLE1BQU1ZLGVBQWV6QixrREFBV0EsQ0FDOUIsT0FBTzBCO1FBQ0xBLE1BQU1DLGNBQWM7UUFDcEIsTUFBTUMsVUFBVVosS0FBS2EsSUFBSTtRQUN6QixJQUFJLENBQUNELFdBQVcsQ0FBQ25CLGNBQWM7UUFF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Ozs7Ozs7Ozs7MEJBSUgsOERBQUNYO2dCQUNDRixXQUFVO2dCQUNWYyxhQUFZO2dCQUNaakQsT0FBT0c7Z0JBQ1BzQyxVQUFVLENBQUM1QixRQUFVSixZQUFZSSxNQUFNTyxNQUFNLENBQUNwQixLQUFLO2dCQUNuRE4sVUFBVUEsWUFBWVc7Ozs7OzswQkFFeEIsOERBQUN1QztnQkFBT1QsV0FBVTtnQkFBcUJOLE1BQUs7Z0JBQVNuQyxVQUFVQSxZQUFZVyxXQUFXLENBQUNGLEtBQUthLElBQUk7MEJBQUk7Ozs7Ozs7Ozs7OztBQUsxRyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvTWVzc2FnZUNvbXBvc2VyL01lc3NhZ2VDb21wb3Nlci50c3g/ZjNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VFdmVudCwgRm9ybUV2ZW50LCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgU2VuZE1lc3NhZ2VQYXlsb2FkIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvY2hhdCc7XHJcbmltcG9ydCB7IHVwbG9hZENoYXRGaWxlIH0gZnJvbSAnLi4vLi4vLi4vYXBpJztcclxuXHJcbmludGVyZmFjZSBNZXNzYWdlQ29tcG9zZXJQcm9wcyB7XHJcbiAgb25TZW5kOiAocGF5bG9hZDogU2VuZE1lc3NhZ2VQYXlsb2FkKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcclxuICBkaXNhYmxlZD86IGJvb2xlYW47XHJcbiAgb25WYWx1ZUNoYW5nZT86ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIHJlcGx5UHJldmlldz86IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICBvbkNhbmNlbFJlcGx5PzogKCkgPT4gdm9pZDtcclxuICBlZGl0aW5nTGFiZWw/OiBzdHJpbmc7XHJcbiAgb25DYW5jZWxFZGl0PzogKCkgPT4gdm9pZDtcclxuICB2YWx1ZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2VDb21wb3Nlcih7XHJcbiAgb25TZW5kLFxyXG4gIGRpc2FibGVkLFxyXG4gIG9uVmFsdWVDaGFuZ2UsXHJcbiAgcmVwbHlQcmV2aWV3LFxyXG4gIG9uQ2FuY2VsUmVwbHksXHJcbiAgZWRpdGluZ0xhYmVsLFxyXG4gIG9uQ2FuY2VsRWRpdCxcclxuICB2YWx1ZSxcclxufTogTWVzc2FnZUNvbXBvc2VyUHJvcHMpIHtcclxuICBjb25zdCBbaW50ZXJuYWxWYWx1ZSwgc2V0SW50ZXJuYWxWYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgdGV4dCA9IHVzZU1lbW8oKCkgPT4gKHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGludGVybmFsVmFsdWUpLCBbdmFsdWUsIGludGVybmFsVmFsdWVdKTtcclxuICBjb25zdCBbc2VuZGluZywgc2V0U2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgbWVkaWFJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgYXVkaW9JbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVZhbHVlID0gdXNlQ2FsbGJhY2soXHJcbiAgICAobmV4dDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb25WYWx1ZUNoYW5nZT8uKG5leHQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldEludGVybmFsVmFsdWUobmV4dCk7XHJcbiAgICAgICAgb25WYWx1ZUNoYW5nZT8uKG5leHQpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW29uVmFsdWVDaGFuZ2UsIHZhbHVlXSxcclxuICApO1xyXG5cclxuICBjb25zdCByZXNldFZhbHVlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgb25WYWx1ZUNoYW5nZT8uKCcnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldEludGVybmFsVmFsdWUoJycpO1xyXG4gICAgICBvblZhbHVlQ2hhbmdlPy4oJycpO1xyXG4gICAgfVxyXG4gIH0sIFtvblZhbHVlQ2hhbmdlLCB2YWx1ZV0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSB1c2VDYWxsYmFjayhcclxuICAgIGFzeW5jIChldmVudDogRm9ybUV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSB0ZXh0LnRyaW0oKTtcclxuICAgICAgaWYgKCF0cmltbWVkICYmICFyZXBseVByZXZpZXcpIHJldHVybjtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgc2V0U2VuZGluZyh0cnVlKTtcclxuICAgICAgICBhd2FpdCBvblNlbmQoeyB0ZXh0OiB0cmltbWVkIH0pO1xyXG4gICAgICAgIHJlc2V0VmFsdWUoKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBzZXRTZW5kaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtvblNlbmQsIHRleHQsIHJlcGx5UHJldmlldywgcmVzZXRWYWx1ZV0sXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVXBsb2FkID1cclxuICAgIChraW5kOiAnbWVkaWEnIHwgJ2F1ZGlvJykgPT5cclxuICAgIGFzeW5jIChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlcz8uWzBdO1xyXG4gICAgICBldmVudC50YXJnZXQudmFsdWUgPSAnJztcclxuICAgICAgaWYgKCFmaWxlKSByZXR1cm47XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNldFNlbmRpbmcodHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgdXBsb2FkZWQgPSBhd2FpdCB1cGxvYWRDaGF0RmlsZShmaWxlKTtcclxuICAgICAgICBpZiAoIXVwbG9hZGVkPy51cmwpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignVXBsb2FkIGRpZCBub3QgcmV0dXJuIFVSTCcpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmFzZUZpbGUgPSB7XHJcbiAgICAgICAgICB1cmw6IHVwbG9hZGVkLnVybCxcclxuICAgICAgICAgIG5hbWU6IHVwbG9hZGVkLm5hbWUgPz8gZmlsZS5uYW1lLFxyXG4gICAgICAgICAgbWltZTogdXBsb2FkZWQubWltZSA/PyBmaWxlLnR5cGUsXHJcbiAgICAgICAgICBzaXplOiB1cGxvYWRlZC5zaXplID8/IGZpbGUuc2l6ZSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoa2luZCA9PT0gJ21lZGlhJykge1xyXG4gICAgICAgICAgY29uc3QgaXNJbWFnZU9yVmlkZW8gPVxyXG4gICAgICAgICAgICBiYXNlRmlsZS5taW1lPy5zdGFydHNXaXRoKCdpbWFnZS8nKSB8fFxyXG4gICAgICAgICAgICBiYXNlRmlsZS5taW1lPy5zdGFydHNXaXRoKCd2aWRlby8nKSB8fFxyXG4gICAgICAgICAgICBmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgfHxcclxuICAgICAgICAgICAgZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHBheWxvYWQ6IFNlbmRNZXNzYWdlUGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgdHlwZTogaXNJbWFnZU9yVmlkZW8gPyAnaW1hZ2UnIDogJ2ZpbGUnLFxyXG4gICAgICAgICAgICBmaWxlOiBiYXNlRmlsZSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBhd2FpdCBvblNlbmQocGF5bG9hZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHBheWxvYWQ6IFNlbmRNZXNzYWdlUGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxyXG4gICAgICAgICAgICBmaWxlOiBiYXNlRmlsZSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBhd2FpdCBvblNlbmQocGF5bG9hZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldFNlbmRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGZvcm0gY2xhc3NOYW1lPVwiY2hhdC1jb21wb3Nlci1mb3JtXCIgb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XHJcbiAgICAgIDxpbnB1dFxyXG4gICAgICAgIHJlZj17bWVkaWFJbnB1dFJlZn1cclxuICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKix2aWRlby8qXCJcclxuICAgICAgICBoaWRkZW5cclxuICAgICAgICBvbkNoYW5nZT17aGFuZGxlVXBsb2FkKCdtZWRpYScpfVxyXG4gICAgICAvPlxyXG4gICAgICA8aW5wdXQgcmVmPXthdWRpb0lucHV0UmVmfSB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cImF1ZGlvLypcIiBoaWRkZW4gb25DaGFuZ2U9e2hhbmRsZVVwbG9hZCgnYXVkaW8nKX0gLz5cclxuICAgICAge3JlcGx5UHJldmlldyA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtY29tcG9zZXItcmVwbHktcHJldmlld1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXJlcGx5LWluZGljYXRvclwiIC8+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtY29tcG9zZXItcmVwbHktYm9keVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LXJlcGx5LWxhYmVsXCI+VHLhuqMgbOG7nWk8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNoYXQtcmVwbHktdGV4dFwiPntyZXBseVByZXZpZXd9PC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjaGF0LXJlcGx5LWNhbmNlbFwiIG9uQ2xpY2s9e29uQ2FuY2VsUmVwbHl9PlxyXG4gICAgICAgICAgICDinJVcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApIDogbnVsbH1cclxuICAgICAge2VkaXRpbmdMYWJlbCA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtY29tcG9zZXItZWRpdC1iYW5uZXJcIj5cclxuICAgICAgICAgIDxzcGFuPntlZGl0aW5nTGFiZWx9PC9zcGFuPlxyXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17b25DYW5jZWxFZGl0fT5cclxuICAgICAgICAgICAgSOG7p3lcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApIDogbnVsbH1cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWNvbXBvc2VyLWxlZnRcIj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29tcG9zZXItaWNvbi1idG5cIlxyXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IHNlbmRpbmd9XHJcbiAgICAgICAgICB0aXRsZT1cIkfhu61pIOG6o25oL3ZpZGVvXCJcclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1lZGlhSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICDwn5O3XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWNvbXBvc2VyLWljb24tYnRuXCJcclxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZCB8fCBzZW5kaW5nfVxyXG4gICAgICAgICAgdGl0bGU9XCJH4butaSDDom0gdGhhbmhcIlxyXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gYXVkaW9JbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIPCfjqRcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxpbnB1dFxyXG4gICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29tcG9zZXItaW5wdXRcIlxyXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiTmjhuq1wIHRpbiBuaOG6r24uLi5cIlxyXG4gICAgICAgIHZhbHVlPXt0ZXh0fVxyXG4gICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHVwZGF0ZVZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkIHx8IHNlbmRpbmd9XHJcbiAgICAgIC8+XHJcbiAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1jb21wb3Nlci1zZW5kXCIgdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXtkaXNhYmxlZCB8fCBzZW5kaW5nIHx8ICF0ZXh0LnRyaW0oKX0+XHJcbiAgICAgICAgR+G7rWlcclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8L2Zvcm0+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1cGxvYWRDaGF0RmlsZSIsIk1lc3NhZ2VDb21wb3NlciIsIm9uU2VuZCIsImRpc2FibGVkIiwib25WYWx1ZUNoYW5nZSIsInJlcGx5UHJldmlldyIsIm9uQ2FuY2VsUmVwbHkiLCJlZGl0aW5nTGFiZWwiLCJvbkNhbmNlbEVkaXQiLCJ2YWx1ZSIsImludGVybmFsVmFsdWUiLCJzZXRJbnRlcm5hbFZhbHVlIiwidGV4dCIsInVuZGVmaW5lZCIsInNlbmRpbmciLCJzZXRTZW5kaW5nIiwibWVkaWFJbnB1dFJlZiIsImF1ZGlvSW5wdXRSZWYiLCJ1cGRhdGVWYWx1ZSIsIm5leHQiLCJyZXNldFZhbHVlIiwiaGFuZGxlU3VibWl0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW1tZWQiLCJ0cmltIiwiaGFuZGxlVXBsb2FkIiwia2luZCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInVwbG9hZGVkIiwidXJsIiwiY29uc29sZSIsIndhcm4iLCJiYXNlRmlsZSIsIm5hbWUiLCJtaW1lIiwidHlwZSIsInNpemUiLCJpc0ltYWdlT3JWaWRlbyIsInN0YXJ0c1dpdGgiLCJwYXlsb2FkIiwiZm9ybSIsImNsYXNzTmFtZSIsIm9uU3VibWl0IiwiaW5wdXQiLCJyZWYiLCJhY2NlcHQiLCJoaWRkZW4iLCJvbkNoYW5nZSIsImRpdiIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJjdXJyZW50IiwiY2xpY2siLCJwbGFjZWhvbGRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageComposer/MessageComposer.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/MessageBubble.tsx":
/*!************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/MessageBubble.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageBubble: () => (/* binding */ MessageBubble)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ReplyPreview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ReplyPreview */ \"(ssr)/../../packages/app/components/chat/MessageList/ReplyPreview.tsx\");\n/* harmony import */ var _ReactionSummary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ReactionSummary */ \"(ssr)/../../packages/app/components/chat/MessageList/ReactionSummary.tsx\");\n/* harmony import */ var _MessageContextMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MessageContextMenu */ \"(ssr)/../../packages/app/components/chat/MessageList/MessageContextMenu.tsx\");\n/* harmony import */ var _ReactionPicker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ReactionPicker */ \"(ssr)/../../packages/app/components/chat/MessageList/ReactionPicker.tsx\");\n\n\n\n\n\n\n\nconst getInitials = (name)=>{\n    return name.split(\" \").map((n)=>n[0]).join(\"\").toUpperCase().slice(0, 2);\n};\nfunction MessageBubble({ message, isOwn, senderName, senderAvatar, onReply, onReact, onTogglePin, onEdit, onDelete, onForward, onStar, onRevoke }) {\n    const displayName = senderName || message.sender?.name || \"Ngi d\\xf9ng\";\n    const displayAvatar = senderAvatar || message.sender?.avatar;\n    const [menuOpen, setMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pickerOpen, setPickerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [menuPosition, setMenuPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pickerPosition, setPickerPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [viewerOpen, setViewerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewerImages, setViewerImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [viewerIndex, setViewerIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const emojiButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wrapperClass = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble-wrapper\",\n            isOwn ? \"chat-bubble-wrapper--own\" : \"chat-bubble-wrapper--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const rowClass = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble-row\",\n            isOwn ? \"chat-bubble-row--own\" : \"chat-bubble-row--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const footerClass = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble-footer\",\n            isOwn ? \"chat-bubble-footer--own\" : \"chat-bubble-footer--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const classes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble\",\n            isOwn ? \"chat-bubble--own\" : \"chat-bubble--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const replyPreviewContent = (()=>{\n        if (!message.replyTo) return undefined;\n        if (typeof message.replyTo === \"string\") {\n            return \"[Tr li tin nhn trc]\";\n        }\n        return message.replyTo;\n    })();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!menuOpen || !buttonRef.current) return;\n        const updateMenuPosition = ()=>{\n            if (buttonRef.current) {\n                const rect = buttonRef.current.getBoundingClientRect();\n                setMenuPosition({\n                    top: rect.bottom + 6,\n                    right: window.innerWidth - rect.right,\n                    left: rect.left\n                });\n            }\n        };\n        updateMenuPosition();\n        window.addEventListener(\"scroll\", updateMenuPosition, true);\n        window.addEventListener(\"resize\", updateMenuPosition);\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (menuRef.current && !menuRef.current.contains(target) && buttonRef.current && !buttonRef.current.contains(target)) {\n                setMenuOpen(false);\n                setMenuPosition(null);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n            window.removeEventListener(\"scroll\", updateMenuPosition, true);\n            window.removeEventListener(\"resize\", updateMenuPosition);\n        };\n    }, [\n        menuOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!pickerOpen || !emojiButtonRef.current) return;\n        const updatePickerPosition = ()=>{\n            if (emojiButtonRef.current) {\n                const rect = emojiButtonRef.current.getBoundingClientRect();\n                setPickerPosition({\n                    top: rect.bottom + 6,\n                    right: window.innerWidth - rect.right,\n                    left: rect.left\n                });\n            }\n        };\n        updatePickerPosition();\n        window.addEventListener(\"scroll\", updatePickerPosition, true);\n        window.addEventListener(\"resize\", updatePickerPosition);\n        return ()=>{\n            window.removeEventListener(\"scroll\", updatePickerPosition, true);\n            window.removeEventListener(\"resize\", updatePickerPosition);\n        };\n    }, [\n        pickerOpen\n    ]);\n    const isRevoked = Boolean(message.isRevoked);\n    const isDeleted = Boolean(message.deletedAt);\n    const hasContent = Boolean(message.text) || Boolean(message.imageUrl);\n    const isActionDisabled = isRevoked || isDeleted;\n    const openImageViewer = ()=>{\n        if (!message.imageUrl) return;\n        try {\n            const nodes = Array.from(document.querySelectorAll(\".chat-bubble-image\"));\n            const srcs = nodes.map((n)=>n.src);\n            const idx = srcs.indexOf(message.imageUrl);\n            setViewerImages(srcs);\n            setViewerIndex(idx >= 0 ? idx : 0);\n            setViewerOpen(true);\n        } catch  {\n            setViewerImages([\n                message.imageUrl\n            ]);\n            setViewerIndex(0);\n            setViewerOpen(true);\n        }\n    };\n    const renderMessageBody = ()=>{\n        if (isRevoked) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-bubble-removed\",\n                children: \"Tin nhn \\xe3 b thu hi\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                lineNumber: 176,\n                columnNumber: 14\n            }, this);\n        }\n        if (isDeleted) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-bubble-removed\",\n                children: \"Tin nhn \\xe3 b x\\xf3a\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                lineNumber: 180,\n                columnNumber: 14\n            }, this);\n        }\n        if (!hasContent) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-bubble-removed\",\n                children: \"[Kh\\xf4ng c\\xf3 ni dung hin th]\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                lineNumber: 184,\n                columnNumber: 14\n            }, this);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                message.text ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-bubble-text\",\n                    children: message.text\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                    lineNumber: 189,\n                    columnNumber: 25\n                }, this) : null,\n                message.imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-bubble-image-wrapper\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: message.imageUrl,\n                        alt: \"attachment\",\n                        className: \"chat-bubble-image\",\n                        onClick: openImageViewer\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                        lineNumber: 192,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                    lineNumber: 191,\n                    columnNumber: 11\n                }, this) : null\n            ]\n        }, void 0, true);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: wrapperClass,\n        \"data-message-id\": message._id,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: rowClass,\n                children: [\n                    !isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-bubble-sender-avatar\",\n                        children: displayAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: displayAvatar,\n                            alt: displayName,\n                            className: \"chat-bubble-sender-avatar-img\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-bubble-sender-avatar-initials\",\n                            children: getInitials(displayName)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                            lineNumber: 212,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                        lineNumber: 208,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: [\n                            classes,\n                            !message.text && message.imageUrl ? \"chat-bubble--image-only\" : \"\"\n                        ].filter(Boolean).join(\" \"),\n                        children: [\n                            !isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-bubble-sender-name\",\n                                children: displayName\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 13\n                            }, this),\n                            message.isPinned ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-bubble-pinned\",\n                                children: \"\\uD83D\\uDCCC \\xe3 ghim\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 227,\n                                columnNumber: 31\n                            }, this) : null,\n                            message.isStarred ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-bubble-starred\",\n                                children: \" \\xe3 \\xe1nh du\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 228,\n                                columnNumber: 32\n                            }, this) : null,\n                            replyPreviewContent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ReplyPreview__WEBPACK_IMPORTED_MODULE_3__.ReplyPreview, {\n                                message: replyPreviewContent\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 229,\n                                columnNumber: 34\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-bubble-body\",\n                                children: renderMessageBody()\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 230,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                        lineNumber: 216,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: [\n                            \"chat-bubble-actions\",\n                            isOwn ? \"chat-bubble-actions--own\" : \"chat-bubble-actions--other\",\n                            menuOpen || pickerOpen ? \"chat-bubble-actions--visible\" : \"\"\n                        ].filter(Boolean).join(\" \"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                ref: emojiButtonRef,\n                                className: \"chat-bubble-action\",\n                                onClick: ()=>{\n                                    if (isActionDisabled) return;\n                                    if (emojiButtonRef.current) {\n                                        const rect = emojiButtonRef.current.getBoundingClientRect();\n                                        setPickerPosition({\n                                            top: rect.bottom + 6,\n                                            right: window.innerWidth - rect.right,\n                                            left: rect.left\n                                        });\n                                    }\n                                    setPickerOpen((prev)=>!prev);\n                                },\n                                title: \"Th\\xeam cm x\\xfac\",\n                                type: \"button\",\n                                disabled: isActionDisabled,\n                                children: \"\\uD83D\\uDE0A\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 243,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                ref: buttonRef,\n                                className: \"chat-bubble-action\",\n                                onClick: ()=>{\n                                    if (isActionDisabled) return;\n                                    setMenuOpen((prev)=>!prev);\n                                },\n                                title: \"T\\xf9y chn\",\n                                type: \"button\",\n                                disabled: isActionDisabled,\n                                children: \"\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 264,\n                                columnNumber: 11\n                            }, this),\n                            pickerOpen && pickerPosition ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ReactionPicker__WEBPACK_IMPORTED_MODULE_6__.ReactionPicker, {\n                                isOpen: pickerOpen,\n                                position: pickerPosition,\n                                onSelect: (emoji)=>{\n                                    onReact?.(message._id, emoji);\n                                    setPickerOpen(false);\n                                    setPickerPosition(null);\n                                },\n                                onClose: ()=>{\n                                    setPickerOpen(false);\n                                    setPickerPosition(null);\n                                },\n                                anchorClassName: isOwn ? undefined : \"chat-reaction-picker--other\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 13\n                            }, this) : null,\n                            menuOpen && menuPosition ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageContextMenu__WEBPACK_IMPORTED_MODULE_5__.MessageContextMenu, {\n                                ref: menuRef,\n                                message: message,\n                                isOwn: isOwn,\n                                style: {\n                                    top: `${menuPosition.top}px`,\n                                    ...isOwn ? {\n                                        right: `${menuPosition.right}px`\n                                    } : {\n                                        left: `${menuPosition.left}px`\n                                    }\n                                },\n                                onReply: (msg)=>{\n                                    onReply?.(msg);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onCopy: ()=>{\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onPinToggle: (shouldPin)=>{\n                                    onTogglePin?.(message._id, shouldPin);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onEdit: ()=>{\n                                    onEdit?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onDelete: ()=>{\n                                    onDelete?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onRevoke: ()=>{\n                                    onRevoke?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onStar: ()=>{\n                                    onStar?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onForward: (msg)=>{\n                                    onForward?.(msg);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                anchorClassName: isOwn ? undefined : \"chat-context-menu--other\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 17\n                            }, this), document.body) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                        lineNumber: 234,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                lineNumber: 206,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: footerClass,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-bubble-meta\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-bubble-time\",\n                                children: new Date(message.createdAt).toLocaleTimeString(\"vi-VN\", {\n                                    hour: \"2-digit\",\n                                    minute: \"2-digit\"\n                                })\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 351,\n                                columnNumber: 11\n                            }, this),\n                            message.isEdited ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-bubble-edited\",\n                                children: \"(\\xe3 chnh sa)\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 357,\n                                columnNumber: 31\n                            }, this) : null,\n                            message.pending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-bubble-pending\",\n                                children: \"ang gi\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 358,\n                                columnNumber: 30\n                            }, this) : null,\n                            message.error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-bubble-error\",\n                                children: message.error\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 359,\n                                columnNumber: 28\n                            }, this) : null,\n                            isOwn && message.readBy && message.readBy.length > 0 && !message.pending && !message.error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-bubble-read\",\n                                title: ` c bi ${message.readBy.length} ngi`,\n                                children: \"\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 361,\n                                columnNumber: 13\n                            }, this) : isOwn && !message.pending && !message.error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-bubble-sent\",\n                                title: \"\\xe3 gi\",\n                                children: \"\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                lineNumber: 365,\n                                columnNumber: 13\n                            }, this) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                        lineNumber: 350,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ReactionSummary__WEBPACK_IMPORTED_MODULE_4__.ReactionSummary, {\n                        reactions: message.reactions\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                        lineNumber: 368,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                lineNumber: 349,\n                columnNumber: 7\n            }, this),\n            viewerOpen ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-image-viewer-backdrop\",\n                onClick: ()=>setViewerOpen(false),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-image-viewer-content\",\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        viewerImages[viewerIndex] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: viewerImages[viewerIndex],\n                            alt: \"attachment-large\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                            lineNumber: 381,\n                            columnNumber: 19\n                        }, this) : null,\n                        viewerImages.length > 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-image-viewer-thumbs\",\n                            children: viewerImages.map((src, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    className: [\n                                        \"chat-image-viewer-thumb\",\n                                        index === viewerIndex ? \"chat-image-viewer-thumb--active\" : \"\"\n                                    ].filter(Boolean).join(\" \"),\n                                    onClick: ()=>setViewerIndex(index),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: src,\n                                        alt: `thumb-${index}`\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                        lineNumber: 397,\n                                        columnNumber: 25\n                                    }, this)\n                                }, src + index, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                                    lineNumber: 386,\n                                    columnNumber: 23\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                            lineNumber: 384,\n                            columnNumber: 19\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                    lineNumber: 376,\n                    columnNumber: 15\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n                lineNumber: 372,\n                columnNumber: 13\n            }, this), document.body) : null\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageBubble.tsx\",\n        lineNumber: 205,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQnViYmxlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNkQ7QUFDcEI7QUFFSztBQUNNO0FBQ007QUFDUjtBQWlCbEQsTUFBTVMsY0FBYyxDQUFDQztJQUNuQixPQUFPQSxLQUNKQyxLQUFLLENBQUMsS0FDTkMsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxDQUFDLENBQUMsRUFBRSxFQUNiQyxJQUFJLENBQUMsSUFDTEMsV0FBVyxHQUNYQyxLQUFLLENBQUMsR0FBRztBQUNkO0FBRU8sU0FBU0MsY0FBYyxFQUM1QkMsT0FBTyxFQUNQQyxLQUFLLEVBQ0xDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxPQUFPLEVBQ1BDLE9BQU8sRUFDUEMsV0FBVyxFQUNYQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsU0FBUyxFQUNUQyxNQUFNLEVBQ05DLFFBQVEsRUFDVztJQUNuQixNQUFNQyxjQUFjVixjQUFjRixRQUFRYSxNQUFNLEVBQUVyQixRQUFRO0lBQzFELE1BQU1zQixnQkFBZ0JYLGdCQUFnQkgsUUFBUWEsTUFBTSxFQUFFRTtJQUN0RCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2lDLFlBQVlDLGNBQWMsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ21DLGNBQWNDLGdCQUFnQixHQUFHcEMsK0NBQVFBLENBQXVEO0lBQ3ZHLE1BQU0sQ0FBQ3FDLGdCQUFnQkMsa0JBQWtCLEdBQUd0QywrQ0FBUUEsQ0FBdUQ7SUFDM0csTUFBTSxDQUFDdUMsWUFBWUMsY0FBYyxHQUFHeEMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDeUMsY0FBY0MsZ0JBQWdCLEdBQUcxQywrQ0FBUUEsQ0FBVyxFQUFFO0lBQzdELE1BQU0sQ0FBQzJDLGFBQWFDLGVBQWUsR0FBRzVDLCtDQUFRQSxDQUFDO0lB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YXdGLE1BQU0sR0FBRyxrQkFDckIsOERBQUN0Qzs0QkFBSUMsV0FBVTtzQ0FDWm5ELGFBQWFoQyxHQUFHLENBQUMsQ0FBQzhFLEtBQUs4QyxzQkFDdEIsOERBQUNoQztvQ0FFQ0ksTUFBSztvQ0FDTGIsV0FBVzt3Q0FDVDt3Q0FDQXlDLFVBQVUxRixjQUFjLG9DQUFvQztxQ0FDN0QsQ0FDRXVELE1BQU0sQ0FBQ3hCLFNBQ1AvRCxJQUFJLENBQUM7b0NBQ1JvRixTQUFTLElBQU1uRCxlQUFleUY7OENBRTlCLDRFQUFDeEM7d0NBQUlOLEtBQUtBO3dDQUFLTyxLQUFLLENBQUMsTUFBTSxFQUFFdUMsTUFBTSxDQUFDOzs7Ozs7bUNBVi9COUMsTUFBTThDOzs7Ozs7Ozs7bUNBY2Y7Ozs7Ozs7Ozs7O3NCQUdSL0QsU0FBU2dELElBQUksSUFFZjs7Ozs7OztBQUdWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQnViYmxlLnRzeD9hZTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9jaGF0JztcclxuaW1wb3J0IHsgUmVwbHlQcmV2aWV3IH0gZnJvbSAnLi9SZXBseVByZXZpZXcnO1xyXG5pbXBvcnQgeyBSZWFjdGlvblN1bW1hcnkgfSBmcm9tICcuL1JlYWN0aW9uU3VtbWFyeSc7XHJcbmltcG9ydCB7IE1lc3NhZ2VDb250ZXh0TWVudSB9IGZyb20gJy4vTWVzc2FnZUNvbnRleHRNZW51JztcclxuaW1wb3J0IHsgUmVhY3Rpb25QaWNrZXIgfSBmcm9tICcuL1JlYWN0aW9uUGlja2VyJztcclxuXHJcbmludGVyZmFjZSBNZXNzYWdlQnViYmxlUHJvcHMge1xyXG4gIG1lc3NhZ2U6IENoYXRNZXNzYWdlO1xyXG4gIGlzT3duOiBib29sZWFuO1xyXG4gIHNlbmRlck5hbWU/OiBzdHJpbmc7XHJcbiAgc2VuZGVyQXZhdGFyPzogc3RyaW5nO1xyXG4gIG9uUmVwbHk/OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25SZWFjdD86IChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4gdm9pZDtcclxuICBvblRvZ2dsZVBpbj86IChtZXNzYWdlSWQ6IHN0cmluZywgc2hvdWxkUGluOiBib29sZWFuKSA9PiB2b2lkO1xyXG4gIG9uRWRpdD86IChtZXNzYWdlOiBDaGF0TWVzc2FnZSkgPT4gdm9pZDtcclxuICBvbkRlbGV0ZT86IChtZXNzYWdlOiBDaGF0TWVzc2FnZSkgPT4gdm9pZDtcclxuICBvbkZvcndhcmQ/OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25TdGFyPzogKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB2b2lkO1xyXG4gIG9uUmV2b2tlPzogKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBnZXRJbml0aWFscyA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICByZXR1cm4gbmFtZVxyXG4gICAgLnNwbGl0KCcgJylcclxuICAgIC5tYXAobiA9PiBuWzBdKVxyXG4gICAgLmpvaW4oJycpXHJcbiAgICAudG9VcHBlckNhc2UoKVxyXG4gICAgLnNsaWNlKDAsIDIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2VCdWJibGUoe1xyXG4gIG1lc3NhZ2UsXHJcbiAgaXNPd24sXHJcbiAgc2VuZGVyTmFtZSxcclxuICBzZW5kZXJBdmF0YXIsXHJcbiAgb25SZXBseSxcclxuICBvblJlYWN0LFxyXG4gIG9uVG9nZ2xlUGluLFxyXG4gIG9uRWRpdCxcclxuICBvbkRlbGV0ZSxcclxuICBvbkZvcndhcmQsXHJcbiAgb25TdGFyLFxyXG4gIG9uUmV2b2tlLFxyXG59OiBNZXNzYWdlQnViYmxlUHJvcHMpIHtcclxuICBjb25zdCBkaXNwbGF5TmFtZSA9IHNlbmRlck5hbWUgfHwgbWVzc2FnZS5zZW5kZXI/Lm5hbWUgfHwgJ05nxrDhu51pIGTDuW5nJztcclxuICBjb25zdCBkaXNwbGF5QXZhdGFyID0gc2VuZGVyQXZhdGFyIHx8IG1lc3NhZ2Uuc2VuZGVyPy5hdmF0YXI7XHJcbiAgY29uc3QgW21lbnVPcGVuLCBzZXRNZW51T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3BpY2tlck9wZW4sIHNldFBpY2tlck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFttZW51UG9zaXRpb24sIHNldE1lbnVQb3NpdGlvbl0gPSB1c2VTdGF0ZTx7IHRvcDogbnVtYmVyOyBsZWZ0OiBudW1iZXI7IHJpZ2h0PzogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbcGlja2VyUG9zaXRpb24sIHNldFBpY2tlclBvc2l0aW9uXSA9IHVzZVN0YXRlPHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ/OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt2aWV3ZXJPcGVuLCBzZXRWaWV3ZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdmlld2VySW1hZ2VzLCBzZXRWaWV3ZXJJbWFnZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcclxuICBjb25zdCBbdmlld2VySW5kZXgsIHNldFZpZXdlckluZGV4XSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IG1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGJ1dHRvblJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgZW1vamlCdXR0b25SZWYgPSB1c2VSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KG51bGwpO1xyXG5cclxuICBjb25zdCB3cmFwcGVyQ2xhc3MgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT4gWydjaGF0LWJ1YmJsZS13cmFwcGVyJywgaXNPd24gPyAnY2hhdC1idWJibGUtd3JhcHBlci0tb3duJyA6ICdjaGF0LWJ1YmJsZS13cmFwcGVyLS1vdGhlciddLmpvaW4oJyAnKSxcclxuICAgIFtpc093bl0sXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgcm93Q2xhc3MgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT4gWydjaGF0LWJ1YmJsZS1yb3cnLCBpc093biA/ICdjaGF0LWJ1YmJsZS1yb3ctLW93bicgOiAnY2hhdC1idWJibGUtcm93LS1vdGhlciddLmpvaW4oJyAnKSxcclxuICAgIFtpc093bl0sXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgZm9vdGVyQ2xhc3MgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT4gWydjaGF0LWJ1YmJsZS1mb290ZXInLCBpc093biA/ICdjaGF0LWJ1YmJsZS1mb290ZXItLW93bicgOiAnY2hhdC1idWJibGUtZm9vdGVyLS1vdGhlciddLmpvaW4oJyAnKSxcclxuICAgIFtpc093bl0sXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiBbJ2NoYXQtYnViYmxlJywgaXNPd24gPyAnY2hhdC1idWJibGUtLW93bicgOiAnY2hhdC1idWJibGUtLW90aGVyJ10uam9pbignICcpLFxyXG4gICAgW2lzT3duXSxcclxuICApO1xyXG5cclxuICBjb25zdCByZXBseVByZXZpZXdDb250ZW50ID0gKCgpID0+IHtcclxuICAgIGlmICghbWVzc2FnZS5yZXBseVRvKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlLnJlcGx5VG8gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiAnW1Ry4bqjIGzhu51pIHRpbiBuaOG6r24gdHLGsOG7m2NdJztcclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlLnJlcGx5VG87XHJcbiAgfSkoKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghbWVudU9wZW4gfHwgIWJ1dHRvblJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdXBkYXRlTWVudVBvc2l0aW9uID0gKCkgPT4ge1xyXG4gICAgICBpZiAoYnV0dG9uUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCByZWN0ID0gYnV0dG9uUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgc2V0TWVudVBvc2l0aW9uKHtcclxuICAgICAgICAgIHRvcDogcmVjdC5ib3R0b20gKyA2LFxyXG4gICAgICAgICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCxcclxuICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVNZW51UG9zaXRpb24oKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVNZW51UG9zaXRpb24sIHRydWUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZU1lbnVQb3NpdGlvbik7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBOb2RlO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbWVudVJlZi5jdXJyZW50ICYmXHJcbiAgICAgICAgIW1lbnVSZWYuY3VycmVudC5jb250YWlucyh0YXJnZXQpICYmXHJcbiAgICAgICAgYnV0dG9uUmVmLmN1cnJlbnQgJiZcclxuICAgICAgICAhYnV0dG9uUmVmLmN1cnJlbnQuY29udGFpbnModGFyZ2V0KVxyXG4gICAgICApIHtcclxuICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XHJcbiAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlTWVudVBvc2l0aW9uLCB0cnVlKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZU1lbnVQb3NpdGlvbik7XHJcbiAgICB9O1xyXG4gIH0sIFttZW51T3Blbl0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFwaWNrZXJPcGVuIHx8ICFlbW9qaUJ1dHRvblJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdXBkYXRlUGlja2VyUG9zaXRpb24gPSAoKSA9PiB7XHJcbiAgICAgIGlmIChlbW9qaUJ1dHRvblJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IGVtb2ppQnV0dG9uUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgc2V0UGlja2VyUG9zaXRpb24oe1xyXG4gICAgICAgICAgdG9wOiByZWN0LmJvdHRvbSArIDYsXHJcbiAgICAgICAgICByaWdodDogd2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0LFxyXG4gICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZVBpY2tlclBvc2l0aW9uKCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlUGlja2VyUG9zaXRpb24sIHRydWUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZVBpY2tlclBvc2l0aW9uKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlUGlja2VyUG9zaXRpb24sIHRydWUpO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlUGlja2VyUG9zaXRpb24pO1xyXG4gICAgfTtcclxuICB9LCBbcGlja2VyT3Blbl0pO1xyXG5cclxuICBjb25zdCBpc1Jldm9rZWQgPSBCb29sZWFuKG1lc3NhZ2UuaXNSZXZva2VkKTtcclxuICBjb25zdCBpc0RlbGV0ZWQgPSBCb29sZWFuKG1lc3NhZ2UuZGVsZXRlZEF0KTtcclxuICBjb25zdCBoYXNDb250ZW50ID0gQm9vbGVhbihtZXNzYWdlLnRleHQpIHx8IEJvb2xlYW4obWVzc2FnZS5pbWFnZVVybCk7XHJcbiAgY29uc3QgaXNBY3Rpb25EaXNhYmxlZCA9IGlzUmV2b2tlZCB8fCBpc0RlbGV0ZWQ7XHJcblxyXG4gIGNvbnN0IG9wZW5JbWFnZVZpZXdlciA9ICgpID0+IHtcclxuICAgIGlmICghbWVzc2FnZS5pbWFnZVVybCkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5vZGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxJbWFnZUVsZW1lbnQ+KCcuY2hhdC1idWJibGUtaW1hZ2UnKSk7XHJcbiAgICAgIGNvbnN0IHNyY3MgPSBub2Rlcy5tYXAoKG4pID0+IG4uc3JjKTtcclxuICAgICAgY29uc3QgaWR4ID0gc3Jjcy5pbmRleE9mKG1lc3NhZ2UuaW1hZ2VVcmwpO1xyXG5cclxuICAgICAgc2V0Vmlld2VySW1hZ2VzKHNyY3MpO1xyXG4gICAgICBzZXRWaWV3ZXJJbmRleChpZHggPj0gMCA/IGlkeCA6IDApO1xyXG4gICAgICBzZXRWaWV3ZXJPcGVuKHRydWUpO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHNldFZpZXdlckltYWdlcyhbbWVzc2FnZS5pbWFnZVVybF0pO1xyXG4gICAgICBzZXRWaWV3ZXJJbmRleCgwKTtcclxuICAgICAgc2V0Vmlld2VyT3Blbih0cnVlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCByZW5kZXJNZXNzYWdlQm9keSA9ICgpID0+IHtcclxuICAgIGlmIChpc1Jldm9rZWQpIHtcclxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtcmVtb3ZlZFwiPlRpbiBuaOG6r24gxJHDoyBi4buLIHRodSBo4buTaTwvZGl2PjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNEZWxldGVkKSB7XHJcbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtYnViYmxlLXJlbW92ZWRcIj5UaW4gbmjhuq9uIMSRw6MgYuG7iyB4w7NhPC9kaXY+O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaGFzQ29udGVudCkge1xyXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1yZW1vdmVkXCI+W0tow7RuZyBjw7MgbuG7mWkgZHVuZyBoaeG7g24gdGjhu4tdPC9kaXY+O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDw+XHJcbiAgICAgICAge21lc3NhZ2UudGV4dCA/IDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtdGV4dFwiPnttZXNzYWdlLnRleHR9PC9kaXY+IDogbnVsbH1cclxuICAgICAgICB7bWVzc2FnZS5pbWFnZVVybCA/IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtaW1hZ2Utd3JhcHBlclwiPlxyXG4gICAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgICAgc3JjPXttZXNzYWdlLmltYWdlVXJsfVxyXG4gICAgICAgICAgICAgIGFsdD1cImF0dGFjaG1lbnRcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtYnViYmxlLWltYWdlXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtvcGVuSW1hZ2VWaWV3ZXJ9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogbnVsbH1cclxuICAgICAgPC8+XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17d3JhcHBlckNsYXNzfSBkYXRhLW1lc3NhZ2UtaWQ9e21lc3NhZ2UuX2lkfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e3Jvd0NsYXNzfT5cclxuICAgICAgICB7IWlzT3duICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtc2VuZGVyLWF2YXRhclwiPlxyXG4gICAgICAgICAgICB7ZGlzcGxheUF2YXRhciA/IChcclxuICAgICAgICAgICAgICA8aW1nIHNyYz17ZGlzcGxheUF2YXRhcn0gYWx0PXtkaXNwbGF5TmFtZX0gY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtc2VuZGVyLWF2YXRhci1pbWdcIiAvPlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtc2VuZGVyLWF2YXRhci1pbml0aWFsc1wiPntnZXRJbml0aWFscyhkaXNwbGF5TmFtZSl9PC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT17W1xyXG4gICAgICAgICAgICBjbGFzc2VzLFxyXG4gICAgICAgICAgICAhbWVzc2FnZS50ZXh0ICYmIG1lc3NhZ2UuaW1hZ2VVcmwgPyAnY2hhdC1idWJibGUtLWltYWdlLW9ubHknIDogJycsXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcclxuICAgICAgICAgICAgLmpvaW4oJyAnKX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7IWlzT3duICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1zZW5kZXItbmFtZVwiPntkaXNwbGF5TmFtZX08L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7bWVzc2FnZS5pc1Bpbm5lZCA/IDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtcGlubmVkXCI+8J+TjCDEkMOjIGdoaW08L2Rpdj4gOiBudWxsfVxyXG4gICAgICAgICAge21lc3NhZ2UuaXNTdGFycmVkID8gPGRpdiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1zdGFycmVkXCI+4q2QIMSQw6MgxJHDoW5oIGThuqV1PC9kaXY+IDogbnVsbH1cclxuICAgICAgICAgIHtyZXBseVByZXZpZXdDb250ZW50ID8gPFJlcGx5UHJldmlldyBtZXNzYWdlPXtyZXBseVByZXZpZXdDb250ZW50fSAvPiA6IG51bGx9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtYnViYmxlLWJvZHlcIj5cclxuICAgICAgICAgICAge3JlbmRlck1lc3NhZ2VCb2R5KCl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzc05hbWU9e1tcclxuICAgICAgICAgICAgJ2NoYXQtYnViYmxlLWFjdGlvbnMnLFxyXG4gICAgICAgICAgICBpc093biA/ICdjaGF0LWJ1YmJsZS1hY3Rpb25zLS1vd24nIDogJ2NoYXQtYnViYmxlLWFjdGlvbnMtLW90aGVyJyxcclxuICAgICAgICAgICAgbWVudU9wZW4gfHwgcGlja2VyT3BlbiA/ICdjaGF0LWJ1YmJsZS1hY3Rpb25zLS12aXNpYmxlJyA6ICcnLFxyXG4gICAgICAgICAgXVxyXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXHJcbiAgICAgICAgICAgIC5qb2luKCcgJyl9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICByZWY9e2Vtb2ppQnV0dG9uUmVmfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1hY3Rpb25cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzQWN0aW9uRGlzYWJsZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICBpZiAoZW1vamlCdXR0b25SZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVtb2ppQnV0dG9uUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBzZXRQaWNrZXJQb3NpdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIHRvcDogcmVjdC5ib3R0b20gKyA2LFxyXG4gICAgICAgICAgICAgICAgICByaWdodDogd2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgc2V0UGlja2VyT3BlbigocHJldikgPT4gIXByZXYpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICB0aXRsZT1cIlRow6ptIGPhuqNtIHjDumNcIlxyXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQWN0aW9uRGlzYWJsZWR9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIPCfmIpcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICByZWY9e2J1dHRvblJlZn1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtYWN0aW9uXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChpc0FjdGlvbkRpc2FibGVkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgc2V0TWVudU9wZW4oKHByZXYpID0+ICFwcmV2KTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgdGl0bGU9XCJUw7l5IGNo4buNblwiXHJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNBY3Rpb25EaXNhYmxlZH1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAg4ouvXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIHtwaWNrZXJPcGVuICYmIHBpY2tlclBvc2l0aW9uID8gKFxyXG4gICAgICAgICAgICA8UmVhY3Rpb25QaWNrZXJcclxuICAgICAgICAgICAgICBpc09wZW49e3BpY2tlck9wZW59XHJcbiAgICAgICAgICAgICAgcG9zaXRpb249e3BpY2tlclBvc2l0aW9ufVxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXsoZW1vamkpID0+IHtcclxuICAgICAgICAgICAgICAgIG9uUmVhY3Q/LihtZXNzYWdlLl9pZCwgZW1vamkpO1xyXG4gICAgICAgICAgICAgICAgc2V0UGlja2VyT3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBzZXRQaWNrZXJQb3NpdGlvbihudWxsKTtcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFBpY2tlck9wZW4oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgc2V0UGlja2VyUG9zaXRpb24obnVsbCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBhbmNob3JDbGFzc05hbWU9e2lzT3duID8gdW5kZWZpbmVkIDogJ2NoYXQtcmVhY3Rpb24tcGlja2VyLS1vdGhlcid9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgIHttZW51T3BlbiAmJiBtZW51UG9zaXRpb25cclxuICAgICAgICAgICAgPyBjcmVhdGVQb3J0YWwoXHJcbiAgICAgICAgICAgICAgICA8TWVzc2FnZUNvbnRleHRNZW51XHJcbiAgICAgICAgICAgICAgICAgIHJlZj17bWVudVJlZn1cclxuICAgICAgICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgaXNPd249e2lzT3dufVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogYCR7bWVudVBvc2l0aW9uLnRvcH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgLi4uKGlzT3duID8geyByaWdodDogYCR7bWVudVBvc2l0aW9uLnJpZ2h0fXB4YCB9IDogeyBsZWZ0OiBgJHttZW51UG9zaXRpb24ubGVmdH1weGAgfSksXHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uUmVwbHk9eyhtc2cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvblJlcGx5Py4obXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvbkNvcHk9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvblBpblRvZ2dsZT17KHNob3VsZFBpbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uVG9nZ2xlUGluPy4obWVzc2FnZS5faWQsIHNob3VsZFBpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVudU9wZW4oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldE1lbnVQb3NpdGlvbihudWxsKTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgb25FZGl0PXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25FZGl0Py4obWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVudU9wZW4oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldE1lbnVQb3NpdGlvbihudWxsKTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgb25EZWxldGU9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZT8uKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uUmV2b2tlPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZXZva2U/LihtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvblN0YXI9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvblN0YXI/LihtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICBvbkZvcndhcmQ9eyhtc2cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvbkZvcndhcmQ/Lihtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIGFuY2hvckNsYXNzTmFtZT17aXNPd24gPyB1bmRlZmluZWQgOiAnY2hhdC1jb250ZXh0LW1lbnUtLW90aGVyJ31cclxuICAgICAgICAgICAgICAgIC8+LFxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIDogbnVsbH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtmb290ZXJDbGFzc30+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1tZXRhXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS10aW1lXCI+XHJcbiAgICAgICAgICAgIHtuZXcgRGF0ZShtZXNzYWdlLmNyZWF0ZWRBdCkudG9Mb2NhbGVUaW1lU3RyaW5nKCd2aS1WTicsIHtcclxuICAgICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXHJcbiAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAge21lc3NhZ2UuaXNFZGl0ZWQgPyA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1lZGl0ZWRcIj4oxJHDoyBjaOG7iW5oIHPhu61hKTwvc3Bhbj4gOiBudWxsfVxyXG4gICAgICAgICAge21lc3NhZ2UucGVuZGluZyA/IDxzcGFuIGNsYXNzTmFtZT1cImNoYXQtYnViYmxlLXBlbmRpbmdcIj7EkGFuZyBn4butaeKApjwvc3Bhbj4gOiBudWxsfVxyXG4gICAgICAgICAge21lc3NhZ2UuZXJyb3IgPyA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1lcnJvclwiPnttZXNzYWdlLmVycm9yfTwvc3Bhbj4gOiBudWxsfVxyXG4gICAgICAgICAge2lzT3duICYmIG1lc3NhZ2UucmVhZEJ5ICYmIG1lc3NhZ2UucmVhZEJ5Lmxlbmd0aCA+IDAgJiYgIW1lc3NhZ2UucGVuZGluZyAmJiAhbWVzc2FnZS5lcnJvciA/IChcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2hhdC1idWJibGUtcmVhZFwiIHRpdGxlPXtgxJDDoyDEkeG7jWMgYuG7n2kgJHttZXNzYWdlLnJlYWRCeS5sZW5ndGh9IG5nxrDhu51pYH0+XHJcbiAgICAgICAgICAgICAg4pyT4pyTXHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICkgOiBpc093biAmJiAhbWVzc2FnZS5wZW5kaW5nICYmICFtZXNzYWdlLmVycm9yID8gKFxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LWJ1YmJsZS1zZW50XCIgdGl0bGU9XCLEkMOjIGfhu61pXCI+4pyTPC9zcGFuPlxyXG4gICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPFJlYWN0aW9uU3VtbWFyeSByZWFjdGlvbnM9e21lc3NhZ2UucmVhY3Rpb25zfSAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAge3ZpZXdlck9wZW5cclxuICAgICAgICA/IGNyZWF0ZVBvcnRhbChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtaW1hZ2Utdmlld2VyLWJhY2tkcm9wXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3ZXJPcGVuKGZhbHNlKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtaW1hZ2Utdmlld2VyLWNvbnRlbnRcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3ZpZXdlckltYWdlc1t2aWV3ZXJJbmRleF0gPyAoXHJcbiAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXt2aWV3ZXJJbWFnZXNbdmlld2VySW5kZXhdfSBhbHQ9XCJhdHRhY2htZW50LWxhcmdlXCIgLz5cclxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAge3ZpZXdlckltYWdlcy5sZW5ndGggPiAxID8gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaW1hZ2Utdmlld2VyLXRodW1ic1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt2aWV3ZXJJbWFnZXMubWFwKChzcmMsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c3JjICsgaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhdC1pbWFnZS12aWV3ZXItdGh1bWInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID09PSB2aWV3ZXJJbmRleCA/ICdjaGF0LWltYWdlLXZpZXdlci10aHVtYi0tYWN0aXZlJyA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXdlckluZGV4KGluZGV4KX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3NyY30gYWx0PXtgdGh1bWItJHtpbmRleH1gfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PixcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgIClcclxuICAgICAgICA6IG51bGx9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJjcmVhdGVQb3J0YWwiLCJSZXBseVByZXZpZXciLCJSZWFjdGlvblN1bW1hcnkiLCJNZXNzYWdlQ29udGV4dE1lbnUiLCJSZWFjdGlvblBpY2tlciIsImdldEluaXRpYWxzIiwibmFtZSIsInNwbGl0IiwibWFwIiwibiIsImpvaW4iLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiTWVzc2FnZUJ1YmJsZSIsIm1lc3NhZ2UiLCJpc093biIsInNlbmRlck5hbWUiLCJzZW5kZXJBdmF0YXIiLCJvblJlcGx5Iiwib25SZWFjdCIsIm9uVG9nZ2xlUGluIiwib25FZGl0Iiwib25EZWxldGUiLCJvbkZvcndhcmQiLCJvblN0YXIiLCJvblJldm9rZSIsImRpc3BsYXlOYW1lIiwic2VuZGVyIiwiZGlzcGxheUF2YXRhciIsImF2YXRhciIsIm1lbnVPcGVuIiwic2V0TWVudU9wZW4iLCJwaWNrZXJPcGVuIiwic2V0UGlja2VyT3BlbiIsIm1lbnVQb3NpdGlvbiIsInNldE1lbnVQb3NpdGlvbiIsInBpY2tlclBvc2l0aW9uIiwic2V0UGlja2VyUG9zaXRpb24iLCJ2aWV3ZXJPcGVuIiwic2V0Vmlld2VyT3BlbiIsInZpZXdlckltYWdlcyIsInNldFZpZXdlckltYWdlcyIsInZpZXdlckluZGV4Iiwic2V0Vmlld2VySW5kZXgiLCJtZW51UmVmIiwiYnV0dG9uUmVmIiwiZW1vamlCdXR0b25SZWYiLCJ3cmFwcGVyQ2xhc3MiLCJyb3dDbGFzcyIsImZvb3RlckNsYXNzIiwiY2xhc3NlcyIsInJlcGx5UHJldmlld0NvbnRlbnQiLCJyZXBseVRvIiwidW5kZWZpbmVkIiwiY3VycmVudCIsInVwZGF0ZU1lbnVQb3NpdGlvbiIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJsZWZ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJkb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVQaWNrZXJQb3NpdGlvbiIsImlzUmV2b2tlZCIsIkJvb2xlYW4iLCJpc0RlbGV0ZWQiLCJkZWxldGVkQXQiLCJoYXNDb250ZW50IiwidGV4dCIsImltYWdlVXJsIiwiaXNBY3Rpb25EaXNhYmxlZCIsIm9wZW5JbWFnZVZpZXdlciIsIm5vZGVzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNyY3MiLCJzcmMiLCJpZHgiLCJpbmRleE9mIiwicmVuZGVyTWVzc2FnZUJvZHkiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJhbHQiLCJvbkNsaWNrIiwiZGF0YS1tZXNzYWdlLWlkIiwiX2lkIiwiZmlsdGVyIiwiaXNQaW5uZWQiLCJpc1N0YXJyZWQiLCJidXR0b24iLCJyZWYiLCJwcmV2IiwidGl0bGUiLCJ0eXBlIiwiZGlzYWJsZWQiLCJpc09wZW4iLCJwb3NpdGlvbiIsIm9uU2VsZWN0IiwiZW1vamkiLCJvbkNsb3NlIiwiYW5jaG9yQ2xhc3NOYW1lIiwic3R5bGUiLCJtc2ciLCJvbkNvcHkiLCJvblBpblRvZ2dsZSIsInNob3VsZFBpbiIsImJvZHkiLCJzcGFuIiwiRGF0ZSIsImNyZWF0ZWRBdCIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJpc0VkaXRlZCIsInBlbmRpbmciLCJlcnJvciIsInJlYWRCeSIsImxlbmd0aCIsInJlYWN0aW9ucyIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJpbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/MessageBubble.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/MessageContextMenu.tsx":
/*!*****************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/MessageContextMenu.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageContextMenu: () => (/* binding */ MessageContextMenu)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst MessageContextMenu = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ message, isOwn, onReply, onCopy, onPinToggle, onEdit, onDelete, onForward, onStar, onRevoke, anchorClassName, style }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: [\n            \"chat-context-menu\",\n            anchorClassName\n        ].filter(Boolean).join(\" \"),\n        style: style,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onReply(message);\n                },\n                children: \" Tr li\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 39,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    navigator.clipboard.writeText(message.text ?? \"\");\n                    onCopy?.(message);\n                },\n                children: \"\\uD83D\\uDCCB Sao ch\\xe9p\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onPinToggle?.(!message.isPinned);\n                },\n                children: message.isPinned ? \"\\uD83D\\uDCCC B ghim\" : \"\\uD83D\\uDCCC Ghim tin nhn\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, undefined),\n            !message.isStarred ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onStar?.();\n                },\n                children: \" \\xe1nh du sao\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 68,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                disabled: true,\n                children: \" \\xe3 \\xe1nh du\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 78,\n                columnNumber: 9\n            }, undefined),\n            isOwn ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onEdit?.();\n                },\n                children: \" Chnh sa\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 83,\n                columnNumber: 9\n            }, undefined) : null,\n            isOwn && !message.isRevoked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onRevoke?.();\n                },\n                children: \" Thu hi\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 94,\n                columnNumber: 9\n            }, undefined) : null,\n            isOwn ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item chat-context-menu-item--danger\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onDelete?.();\n                },\n                children: \"\\uD83D\\uDDD1 X\\xf3a\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 105,\n                columnNumber: 9\n            }, undefined) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onForward?.(message);\n                },\n                children: \" Chuyn tip\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n                lineNumber: 115,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageContextMenu.tsx\",\n        lineNumber: 38,\n        columnNumber: 7\n    }, undefined);\n});\nMessageContextMenu.displayName = \"MessageContextMenu\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQ29udGV4dE1lbnUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtQztBQWtCNUIsTUFBTUMsbUNBQXFCRCxpREFBVUEsQ0FDMUMsQ0FDRSxFQUNFRSxPQUFPLEVBQ1BDLEtBQUssRUFDTEMsT0FBTyxFQUNQQyxNQUFNLEVBQ05DLFdBQVcsRUFDWEMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLFNBQVMsRUFDVEMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLGVBQWUsRUFDZkMsS0FBSyxFQUNOLEVBQ0RDO0lBRUEscUJBQ0UsOERBQUNDO1FBQUlELEtBQUtBO1FBQUtFLFdBQVc7WUFBQztZQUFxQko7U0FBZ0IsQ0FBQ0ssTUFBTSxDQUFDQyxTQUFTQyxJQUFJLENBQUM7UUFBTU4sT0FBT0E7OzBCQUNuRyw4REFBQ087Z0JBQ0NKLFdBQVU7Z0JBQ1ZLLFNBQVMsQ0FBQ0M7b0JBQ1JBLEVBQUVDLGVBQWU7b0JBQ2pCbkIsUUFBUUY7Z0JBQ1Y7MEJBQ0Q7Ozs7OzswQkFHRCw4REFBQ2tCO2dCQUNDSixXQUFVO2dCQUNWSyxTQUFTLENBQUNDO29CQUNSQSxFQUFFQyxlQUFlO29CQUNqQkMsVUFBVUMsU0FBUyxDQUFDQyxTQUFTLENBQUN4QixRQUFReUIsSUFBSSxJQUFJO29CQUM5Q3RCLFNBQVNIO2dCQUNYOzBCQUNEOzs7Ozs7MEJBR0QsOERBQUNrQjtnQkFDQ0osV0FBVTtnQkFDVkssU0FBUyxDQUFDQztvQkFDUkEsRUFBRUMsZUFBZTtvQkFDakJqQixjQUFjLENBQUNKLFFBQVEwQixRQUFRO2dCQUNqQzswQkFFQzFCLFFBQVEwQixRQUFRLEdBQUcseUJBQWU7Ozs7OztZQUVwQyxDQUFDMUIsUUFBUTJCLFNBQVMsaUJBQ2pCLDhEQUFDVDtnQkFDQ0osV0FBVTtnQkFDVkssU0FBUyxDQUFDQztvQkFDUkEsRUFBRUMsZUFBZTtvQkFDakJiO2dCQUNGOzBCQUNEOzs7OzswQ0FJRCw4REFBQ1U7Z0JBQU9KLFdBQVU7Z0JBQXlCYyxRQUFROzBCQUFDOzs7Ozs7WUFJckQzQixzQkFDQyw4REFBQ2lCO2dCQUNDSixXQUFVO2dCQUNWSyxTQUFTLENBQUNDO29CQUNSQSxFQUFFQyxlQUFlO29CQUNqQmhCO2dCQUNGOzBCQUNEOzs7Ozs0QkFHQztZQUNISixTQUFTLENBQUNELFFBQVE2QixTQUFTLGlCQUMxQiw4REFBQ1g7Z0JBQ0NKLFdBQVU7Z0JBQ1ZLLFNBQVMsQ0FBQ0M7b0JBQ1JBLEVBQUVDLGVBQWU7b0JBQ2pCWjtnQkFDRjswQkFDRDs7Ozs7NEJBR0M7WUFDSFIsc0JBQ0MsOERBQUNpQjtnQkFDQ0osV0FBVTtnQkFDVkssU0FBUyxDQUFDQztvQkFDUkEsRUFBRUMsZUFBZTtvQkFDakJmO2dCQUNGOzBCQUNEOzs7Ozs0QkFHQzswQkFDSiw4REFBQ1k7Z0JBQ0NKLFdBQVU7Z0JBQ1ZLLFNBQVMsQ0FBQ0M7b0JBQ1JBLEVBQUVDLGVBQWU7b0JBQ2pCZCxZQUFZUDtnQkFDZDswQkFDRDs7Ozs7Ozs7Ozs7O0FBS0wsR0FDQTtBQUVGRCxtQkFBbUIrQixXQUFXLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L01lc3NhZ2VDb250ZXh0TWVudS50c3g/YjQxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBDaGF0TWVzc2FnZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2NoYXQnO1xyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2VDb250ZXh0TWVudVByb3BzIHtcclxuICBtZXNzYWdlOiBDaGF0TWVzc2FnZTtcclxuICBpc093bjogYm9vbGVhbjtcclxuICBvblJlcGx5OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25Db3B5PzogKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB2b2lkO1xyXG4gIG9uUGluVG9nZ2xlPzogKHNob3VsZFBpbjogYm9vbGVhbikgPT4gdm9pZDtcclxuICBvbkVkaXQ/OiAoKSA9PiB2b2lkO1xyXG4gIG9uRGVsZXRlPzogKCkgPT4gdm9pZDtcclxuICBvbkZvcndhcmQ/OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25TdGFyPzogKCkgPT4gdm9pZDtcclxuICBvblJldm9rZT86ICgpID0+IHZvaWQ7XHJcbiAgYW5jaG9yQ2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllcztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VDb250ZXh0TWVudSA9IGZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIE1lc3NhZ2VDb250ZXh0TWVudVByb3BzPihcclxuICAoXHJcbiAgICB7XHJcbiAgICAgIG1lc3NhZ2UsXHJcbiAgICAgIGlzT3duLFxyXG4gICAgICBvblJlcGx5LFxyXG4gICAgICBvbkNvcHksXHJcbiAgICAgIG9uUGluVG9nZ2xlLFxyXG4gICAgICBvbkVkaXQsXHJcbiAgICAgIG9uRGVsZXRlLFxyXG4gICAgICBvbkZvcndhcmQsXHJcbiAgICAgIG9uU3RhcixcclxuICAgICAgb25SZXZva2UsXHJcbiAgICAgIGFuY2hvckNsYXNzTmFtZSxcclxuICAgICAgc3R5bGUsXHJcbiAgICB9LFxyXG4gICAgcmVmLFxyXG4gICkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiByZWY9e3JlZn0gY2xhc3NOYW1lPXtbJ2NoYXQtY29udGV4dC1tZW51JywgYW5jaG9yQ2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpfSBzdHlsZT17c3R5bGV9PlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbVwiXHJcbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICBvblJlcGx5KG1lc3NhZ2UpO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICDihqkgVHLhuqMgbOG7nWlcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCJcclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG1lc3NhZ2UudGV4dCA/PyAnJyk7XHJcbiAgICAgICAgICBvbkNvcHk/LihtZXNzYWdlKTtcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAg8J+TiyBTYW8gY2jDqXBcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCJcclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIG9uUGluVG9nZ2xlPy4oIW1lc3NhZ2UuaXNQaW5uZWQpO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7bWVzc2FnZS5pc1Bpbm5lZCA/ICfwn5OMIELhu48gZ2hpbScgOiAn8J+TjCBHaGltIHRpbiBuaOG6r24nfVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgeyFtZXNzYWdlLmlzU3RhcnJlZCA/IChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCJcclxuICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIG9uU3Rhcj8uKCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOKtkCDEkMOhbmggZOG6pXUgc2FvXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCIgZGlzYWJsZWQ+XHJcbiAgICAgICAgICDirZAgxJDDoyDEkcOhbmggZOG6pXVcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKX1cclxuICAgICAge2lzT3duID8gKFxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIlxyXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgb25FZGl0Py4oKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAg4pyP77iPIENo4buJbmggc+G7rWFcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKSA6IG51bGx9XHJcbiAgICAgIHtpc093biAmJiAhbWVzc2FnZS5pc1Jldm9rZWQgPyAoXHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbVwiXHJcbiAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBvblJldm9rZT8uKCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOKGqe+4jyBUaHUgaOG7k2lcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKSA6IG51bGx9XHJcbiAgICAgIHtpc093biA/IChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWNvbnRleHQtbWVudS1pdGVtIGNoYXQtY29udGV4dC1tZW51LWl0ZW0tLWRhbmdlclwiXHJcbiAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBvbkRlbGV0ZT8uKCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIPCfl5HvuI8gWMOzYVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICApIDogbnVsbH1cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIlxyXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgb25Gb3J3YXJkPy4obWVzc2FnZSk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIOKGqu+4jyBDaHV54buDbiB0aeG6v3BcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9LFxyXG4pO1xyXG5cclxuTWVzc2FnZUNvbnRleHRNZW51LmRpc3BsYXlOYW1lID0gJ01lc3NhZ2VDb250ZXh0TWVudSc7XHJcbiJdLCJuYW1lcyI6WyJmb3J3YXJkUmVmIiwiTWVzc2FnZUNvbnRleHRNZW51IiwibWVzc2FnZSIsImlzT3duIiwib25SZXBseSIsIm9uQ29weSIsIm9uUGluVG9nZ2xlIiwib25FZGl0Iiwib25EZWxldGUiLCJvbkZvcndhcmQiLCJvblN0YXIiLCJvblJldm9rZSIsImFuY2hvckNsYXNzTmFtZSIsInN0eWxlIiwicmVmIiwiZGl2IiwiY2xhc3NOYW1lIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJidXR0b24iLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInRleHQiLCJpc1Bpbm5lZCIsImlzU3RhcnJlZCIsImRpc2FibGVkIiwiaXNSZXZva2VkIiwiZGlzcGxheU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/MessageContextMenu.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/MessageList.tsx":
/*!**********************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/MessageList.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageList: () => (/* binding */ MessageList)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MessageBubble__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageBubble */ \"(ssr)/../../packages/app/components/chat/MessageList/MessageBubble.tsx\");\n/* harmony import */ var _PinnedMessagesBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PinnedMessagesBar */ \"(ssr)/../../packages/app/components/chat/MessageList/PinnedMessagesBar.tsx\");\n\n\n\n\nfunction MessageList({ messages, currentUserId, loading, hasMore, opponentName, opponentAvatar, onReply, onLoadMore, onReact, onTogglePin, onScrollToMessage, focusMessageId, onFocusHandled, onEdit, onDelete, onForward, onStar, onRevoke }) {\n    const listRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rowRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = listRef.current;\n        if (!el) return;\n        el.scrollTop = el.scrollHeight;\n    }, [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = listRef.current;\n        if (!el || !onLoadMore) return;\n        const handleScroll = ()=>{\n            if (el.scrollTop <= 32) {\n                onLoadMore();\n            }\n        };\n        el.addEventListener(\"scroll\", handleScroll);\n        return ()=>el.removeEventListener(\"scroll\", handleScroll);\n    }, [\n        onLoadMore\n    ]);\n    const pinnedMessages = messages.filter((message)=>message.isPinned);\n    const scrollToMessage = (messageId)=>{\n        const target = rowRefs.current[messageId];\n        if (target) {\n            target.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\"\n            });\n            target.classList.add(\"chat-message-row--highlight\");\n            setTimeout(()=>target.classList.remove(\"chat-message-row--highlight\"), 1200);\n        } else {\n            onScrollToMessage?.(messageId);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (focusMessageId) {\n            scrollToMessage(focusMessageId);\n            onFocusHandled?.();\n        }\n    }, [\n        focusMessageId,\n        messages\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-message-list-wrapper\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PinnedMessagesBar__WEBPACK_IMPORTED_MODULE_3__.PinnedMessagesBar, {\n                messages: pinnedMessages,\n                onSelect: scrollToMessage\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                lineNumber: 92,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-message-list\",\n                ref: listRef,\n                children: [\n                    hasMore ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-load-more\",\n                        onClick: ()=>onLoadMore?.(),\n                        children: \"Xem th\\xeam tin nhn c\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                        lineNumber: 95,\n                        columnNumber: 11\n                    }, this) : null,\n                    loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-message-placeholder\",\n                        children: \"ang ti tin nhn...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                        lineNumber: 103,\n                        columnNumber: 20\n                    }, this) : null,\n                    !loading && messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-message-placeholder\",\n                        children: \"Bt u cuc tr\\xf2 chuyn u ti\\xean!\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 11\n                    }, this) : null,\n                    messages.map((message)=>{\n                        const isOwn = message.senderId === currentUserId;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `chat-message-row ${isOwn ? \"mine\" : \"\"}`,\n                            ref: (el)=>{\n                                if (el && message._id) {\n                                    rowRefs.current[message._id] = el;\n                                }\n                            },\n                            onMouseEnter: ()=>{\n                            /* future: show contextual actions */ },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageBubble__WEBPACK_IMPORTED_MODULE_2__.MessageBubble, {\n                                    message: message,\n                                    isOwn: message.senderId === currentUserId,\n                                    senderName: message.sender?.name || (message.senderId !== currentUserId ? opponentName : undefined),\n                                    senderAvatar: message.sender?.avatar || (message.senderId !== currentUserId ? opponentAvatar : undefined),\n                                    onReply: onReply,\n                                    onReact: onReact,\n                                    onTogglePin: onTogglePin,\n                                    onEdit: onEdit,\n                                    onDelete: onDelete,\n                                    onForward: onForward,\n                                    onStar: onStar,\n                                    onRevoke: onRevoke\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                                    lineNumber: 122,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"chat-message-actions\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-message-action\",\n                                        onClick: ()=>onReply?.(message),\n                                        title: \"Tr li\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                                    lineNumber: 136,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, message._id || message.localId, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                            lineNumber: 110,\n                            columnNumber: 13\n                        }, this);\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\MessageList.tsx\",\n        lineNumber: 91,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlTGlzdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEM7QUFFTTtBQUNRO0FBdUJqRCxTQUFTSSxZQUFZLEVBQzFCQyxRQUFRLEVBQ1JDLGFBQWEsRUFDYkMsT0FBTyxFQUNQQyxPQUFPLEVBQ1BDLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxPQUFPLEVBQ1BDLFVBQVUsRUFDVkMsT0FBTyxFQUNQQyxXQUFXLEVBQ1hDLGlCQUFpQixFQUNqQkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLE1BQU0sRUFDTkMsUUFBUSxFQUNTO0lBQ2pCLE1BQU1DLFVBQVV0Qiw2Q0FBTUEsQ0FBd0I7SUFDOUMsTUFBTXVCLFVBQVV2Qiw2Q0FBTUEsQ0FBaUMsQ0FBQztJQUV4REQsZ0RBQVNBLENBQUM7UUFDUixNQUFNeUIsS0FBS0YsUUFBUUcsT0FBTztRQUMxQixJQUFJLENBQUNELElBQUk7UUFDVEEsR0FBR0UsU0FBUyxHQUFHRixHQUFHRyxZQUFZO0lBQ2hDLEdBQUc7UUFBQ3ZCO0tBQVM7SUFFYkwsZ0RBQVNBLENBQUM7UUFDUixNQUFNeUIsS0FBS0YsUUFBUUcsT0FBTztRQUMxQixJQUFJLENBQUNELE1BQU0sQ0FBQ2IsWUFBWTtRQUV4QixNQUFNaUIsZUFBZTtZQUNuQixJQUFJSixHQUFHRSxTQUFTLElBQUksSUFBSTtnQkFDdEJmO1lBQ0Y7UUFDRjtRQUVBYSxHQUFHSyxnQkFBZ0IsQ0FBQyxVQUFVRDtRQUM5QixPQUFPLElBQU1KLEdBQUdNLG1CQUFtQixDQUFDLFVBQVVGO0lBQ2hELEdBQUc7UUFBQ2pCO0tBQVc7SUFFZixNQUFNb0IsaUJBQWlCM0IsU0FBUzRCLE1BQU0sQ0FBQyxDQUFDQyxVQUFZQSxRQUFRQyxRQUFRO0lBRXBFLE1BQU1DLGtCQUFrQixDQUFDQztRQUN2QixNQUFNQyxTQUFTZCxRQUFRRSxPQUFPLENBQUNXLFVBQVU7UUFDekMsSUFBSUMsUUFBUTtZQUNWQSxPQUFPQyxjQUFjLENBQUM7Z0JBQUVDLFVBQVU7Z0JBQVVDLE9BQU87WUFBUztZQUM1REgsT0FBT0ksU0FBUyxDQUFDQyxHQUFHLENBQUM7WUFDckJDLFdBQVcsSUFBTU4sT0FBT0ksU0FBUyxDQUFDRyxNQUFNLENBQUMsZ0NBQWdDO1FBQzNFLE9BQU87WUFDTDlCLG9CQUFvQnNCO1FBQ3RCO0lBQ0Y7SUFFQXJDLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWdCLGdCQUFnQjtZQUNsQm9CLGdCQUFnQnBCO1lBQ2hCQztRQUNGO0lBQ0YsR0FBRztRQUFDRDtRQUFnQlg7S0FBUztJQUU3QixxQkFDRSw4REFBQ3lDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDNUMsaUVBQWlCQTtnQkFBQ0UsVUFBVTJCO2dCQUFnQmdCLFVBQVVaOzs7Ozs7MEJBQ3ZELDhEQUFDVTtnQkFBSUMsV0FBVTtnQkFBb0JFLEtBQUsxQjs7b0JBQ3JDZix3QkFDQyw4REFBQzBDO3dCQUNDQyxNQUFLO3dCQUNMSixXQUFVO3dCQUNWSyxTQUFTLElBQU14QztrQ0FDaEI7Ozs7OytCQUdDO29CQUNITCx3QkFBVSw4REFBQ3VDO3dCQUFJQyxXQUFVO2tDQUEyQjs7Ozs7K0JBQTZCO29CQUNqRixDQUFDeEMsV0FBV0YsU0FBU2dELE1BQU0sS0FBSyxrQkFDL0IsOERBQUNQO3dCQUFJQyxXQUFVO2tDQUEyQjs7Ozs7K0JBQ3hDO29CQUNIMUMsU0FBU2lELEdBQUcsQ0FBQyxDQUFDcEI7d0JBQ2IsTUFBTXFCLFFBQVFyQixRQUFRc0IsUUFBUSxLQUFLbEQ7d0JBQ25DLHFCQUNFLDhEQUFDd0M7NEJBRUNDLFdBQVcsQ0FBQyxpQkFBaUIsRUFBRVEsUUFBUSxTQUFTLEdBQUcsQ0FBQzs0QkFDcEROLEtBQUssQ0FBQ3hCO2dDQUNKLElBQUlBLE1BQU1TLFFBQVF1QixHQUFHLEVBQUU7b0NBQ3JCakMsUUFBUUUsT0FBTyxDQUFDUSxRQUFRdUIsR0FBRyxDQUFDLEdBQUdoQztnQ0FDakM7NEJBQ0Y7NEJBQ0FpQyxjQUFjOzRCQUNaLG1DQUFtQyxHQUNyQzs7OENBRUYsOERBQUN4RCx5REFBYUE7b0NBQ1pnQyxTQUFTQTtvQ0FDVHFCLE9BQU9yQixRQUFRc0IsUUFBUSxLQUFLbEQ7b0NBQzVCcUQsWUFBWXpCLFFBQVEwQixNQUFNLEVBQUVDLFFBQVMzQixDQUFBQSxRQUFRc0IsUUFBUSxLQUFLbEQsZ0JBQWdCRyxlQUFlcUQsU0FBUTtvQ0FDakdDLGNBQWM3QixRQUFRMEIsTUFBTSxFQUFFSSxVQUFXOUIsQ0FBQUEsUUFBUXNCLFFBQVEsS0FBS2xELGdCQUFnQkksaUJBQWlCb0QsU0FBUTtvQ0FDdkduRCxTQUFTQTtvQ0FDVEUsU0FBU0E7b0NBQ1RDLGFBQWFBO29DQUNiSSxRQUFRQTtvQ0FDUkMsVUFBVUE7b0NBQ1ZDLFdBQVdBO29DQUNYQyxRQUFRQTtvQ0FDUkMsVUFBVUE7Ozs7Ozs4Q0FFWiw4REFBQ3dCO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDRzt3Q0FDQ0gsV0FBVTt3Q0FDVkssU0FBUyxJQUFNekMsVUFBVXVCO3dDQUN6QitCLE9BQU07a0RBQ1A7Ozs7Ozs7Ozs7OzsyQkE5QkkvQixRQUFRdUIsR0FBRyxJQUFJdkIsUUFBUWdDLE9BQU87Ozs7O29CQW9DekM7Ozs7Ozs7Ozs7Ozs7QUFJUiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvTWVzc2FnZUxpc3QvTWVzc2FnZUxpc3QudHN4PzIyNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvY2hhdCc7XHJcbmltcG9ydCB7IE1lc3NhZ2VCdWJibGUgfSBmcm9tICcuL01lc3NhZ2VCdWJibGUnO1xyXG5pbXBvcnQgeyBQaW5uZWRNZXNzYWdlc0JhciB9IGZyb20gJy4vUGlubmVkTWVzc2FnZXNCYXInO1xyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2VMaXN0UHJvcHMge1xyXG4gIG1lc3NhZ2VzOiBDaGF0TWVzc2FnZVtdO1xyXG4gIGN1cnJlbnRVc2VySWQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbG9hZGluZz86IGJvb2xlYW47XHJcbiAgaGFzTW9yZT86IGJvb2xlYW47XHJcbiAgb3Bwb25lbnROYW1lPzogc3RyaW5nO1xyXG4gIG9wcG9uZW50QXZhdGFyPzogc3RyaW5nO1xyXG4gIG9uUmVwbHk/OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25Mb2FkTW9yZT86ICgpID0+IHZvaWQ7XHJcbiAgb25SZWFjdD86IChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4gdm9pZDtcclxuICBvblRvZ2dsZVBpbj86IChtZXNzYWdlSWQ6IHN0cmluZywgc2hvdWxkUGluOiBib29sZWFuKSA9PiB2b2lkO1xyXG4gIG9uU2Nyb2xsVG9NZXNzYWdlPzogKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGZvY3VzTWVzc2FnZUlkPzogc3RyaW5nIHwgbnVsbDtcclxuICBvbkZvY3VzSGFuZGxlZD86ICgpID0+IHZvaWQ7XHJcbiAgb25FZGl0PzogKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB2b2lkO1xyXG4gIG9uRGVsZXRlPzogKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiB2b2lkO1xyXG4gIG9uRm9yd2FyZD86IChtZXNzYWdlOiBDaGF0TWVzc2FnZSkgPT4gdm9pZDtcclxuICBvblN0YXI/OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25SZXZva2U/OiAobWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNZXNzYWdlTGlzdCh7XHJcbiAgbWVzc2FnZXMsXHJcbiAgY3VycmVudFVzZXJJZCxcclxuICBsb2FkaW5nLFxyXG4gIGhhc01vcmUsXHJcbiAgb3Bwb25lbnROYW1lLFxyXG4gIG9wcG9uZW50QXZhdGFyLFxyXG4gIG9uUmVwbHksXHJcbiAgb25Mb2FkTW9yZSxcclxuICBvblJlYWN0LFxyXG4gIG9uVG9nZ2xlUGluLFxyXG4gIG9uU2Nyb2xsVG9NZXNzYWdlLFxyXG4gIGZvY3VzTWVzc2FnZUlkLFxyXG4gIG9uRm9jdXNIYW5kbGVkLFxyXG4gIG9uRWRpdCxcclxuICBvbkRlbGV0ZSxcclxuICBvbkZvcndhcmQsXHJcbiAgb25TdGFyLFxyXG4gIG9uUmV2b2tlLFxyXG59OiBNZXNzYWdlTGlzdFByb3BzKSB7XHJcbiAgY29uc3QgbGlzdFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHJvd1JlZnMgPSB1c2VSZWY8UmVjb3JkPHN0cmluZywgSFRNTERpdkVsZW1lbnQ+Pih7fSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBlbCA9IGxpc3RSZWYuY3VycmVudDtcclxuICAgIGlmICghZWwpIHJldHVybjtcclxuICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodDtcclxuICB9LCBbbWVzc2FnZXNdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGVsID0gbGlzdFJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFlbCB8fCAhb25Mb2FkTW9yZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgICAgaWYgKGVsLnNjcm9sbFRvcCA8PSAzMikge1xyXG4gICAgICAgIG9uTG9hZE1vcmUoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xyXG4gICAgcmV0dXJuICgpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XHJcbiAgfSwgW29uTG9hZE1vcmVdKTtcclxuXHJcbiAgY29uc3QgcGlubmVkTWVzc2FnZXMgPSBtZXNzYWdlcy5maWx0ZXIoKG1lc3NhZ2UpID0+IG1lc3NhZ2UuaXNQaW5uZWQpO1xyXG5cclxuICBjb25zdCBzY3JvbGxUb01lc3NhZ2UgPSAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHJvd1JlZnMuY3VycmVudFttZXNzYWdlSWRdO1xyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICB0YXJnZXQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJyB9KTtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NoYXQtbWVzc2FnZS1yb3ctLWhpZ2hsaWdodCcpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0LW1lc3NhZ2Utcm93LS1oaWdobGlnaHQnKSwgMTIwMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvblNjcm9sbFRvTWVzc2FnZT8uKG1lc3NhZ2VJZCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChmb2N1c01lc3NhZ2VJZCkge1xyXG4gICAgICBzY3JvbGxUb01lc3NhZ2UoZm9jdXNNZXNzYWdlSWQpO1xyXG4gICAgICBvbkZvY3VzSGFuZGxlZD8uKCk7XHJcbiAgICB9XHJcbiAgfSwgW2ZvY3VzTWVzc2FnZUlkLCBtZXNzYWdlc10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LW1lc3NhZ2UtbGlzdC13cmFwcGVyXCI+XHJcbiAgICAgIDxQaW5uZWRNZXNzYWdlc0JhciBtZXNzYWdlcz17cGlubmVkTWVzc2FnZXN9IG9uU2VsZWN0PXtzY3JvbGxUb01lc3NhZ2V9IC8+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1tZXNzYWdlLWxpc3RcIiByZWY9e2xpc3RSZWZ9PlxyXG4gICAgICAgIHtoYXNNb3JlID8gKFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1sb2FkLW1vcmVcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkxvYWRNb3JlPy4oKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgWGVtIHRow6ptIHRpbiBuaOG6r24gY8WpXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApIDogbnVsbH1cclxuICAgICAgICB7bG9hZGluZyA/IDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1tZXNzYWdlLXBsYWNlaG9sZGVyXCI+xJBhbmcgdOG6o2kgdGluIG5o4bqvbi4uLjwvZGl2PiA6IG51bGx9XHJcbiAgICAgICAgeyFsb2FkaW5nICYmIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1tZXNzYWdlLXBsYWNlaG9sZGVyXCI+QuG6r3QgxJHhuqd1IGN14buZYyB0csOyIGNodXnhu4duIMSR4bqndSB0acOqbiE8L2Rpdj5cclxuICAgICAgICApIDogbnVsbH1cclxuICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpc093biA9IG1lc3NhZ2Uuc2VuZGVySWQgPT09IGN1cnJlbnRVc2VySWQ7XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAga2V5PXttZXNzYWdlLl9pZCB8fCBtZXNzYWdlLmxvY2FsSWR9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY2hhdC1tZXNzYWdlLXJvdyAke2lzT3duID8gJ21pbmUnIDogJyd9YH1cclxuICAgICAgICAgICAgICByZWY9eyhlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIG1lc3NhZ2UuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJvd1JlZnMuY3VycmVudFttZXNzYWdlLl9pZF0gPSBlbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLyogZnV0dXJlOiBzaG93IGNvbnRleHR1YWwgYWN0aW9ucyAqL1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgPE1lc3NhZ2VCdWJibGVcclxuICAgICAgICAgICAgICBtZXNzYWdlPXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgIGlzT3duPXttZXNzYWdlLnNlbmRlcklkID09PSBjdXJyZW50VXNlcklkfVxyXG4gICAgICAgICAgICAgIHNlbmRlck5hbWU9e21lc3NhZ2Uuc2VuZGVyPy5uYW1lIHx8IChtZXNzYWdlLnNlbmRlcklkICE9PSBjdXJyZW50VXNlcklkID8gb3Bwb25lbnROYW1lIDogdW5kZWZpbmVkKX1cclxuICAgICAgICAgICAgICBzZW5kZXJBdmF0YXI9e21lc3NhZ2Uuc2VuZGVyPy5hdmF0YXIgfHwgKG1lc3NhZ2Uuc2VuZGVySWQgIT09IGN1cnJlbnRVc2VySWQgPyBvcHBvbmVudEF2YXRhciA6IHVuZGVmaW5lZCl9XHJcbiAgICAgICAgICAgICAgb25SZXBseT17b25SZXBseX1cclxuICAgICAgICAgICAgICBvblJlYWN0PXtvblJlYWN0fVxyXG4gICAgICAgICAgICAgIG9uVG9nZ2xlUGluPXtvblRvZ2dsZVBpbn1cclxuICAgICAgICAgICAgICBvbkVkaXQ9e29uRWRpdH1cclxuICAgICAgICAgICAgICBvbkRlbGV0ZT17b25EZWxldGV9XHJcbiAgICAgICAgICAgICAgb25Gb3J3YXJkPXtvbkZvcndhcmR9XHJcbiAgICAgICAgICAgICAgb25TdGFyPXtvblN0YXJ9XHJcbiAgICAgICAgICAgICAgb25SZXZva2U9e29uUmV2b2tlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtbWVzc2FnZS1hY3Rpb25zXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1tZXNzYWdlLWFjdGlvblwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJlcGx5Py4obWVzc2FnZSl9XHJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIlRy4bqjIGzhu51pXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICDihqlcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiTWVzc2FnZUJ1YmJsZSIsIlBpbm5lZE1lc3NhZ2VzQmFyIiwiTWVzc2FnZUxpc3QiLCJtZXNzYWdlcyIsImN1cnJlbnRVc2VySWQiLCJsb2FkaW5nIiwiaGFzTW9yZSIsIm9wcG9uZW50TmFtZSIsIm9wcG9uZW50QXZhdGFyIiwib25SZXBseSIsIm9uTG9hZE1vcmUiLCJvblJlYWN0Iiwib25Ub2dnbGVQaW4iLCJvblNjcm9sbFRvTWVzc2FnZSIsImZvY3VzTWVzc2FnZUlkIiwib25Gb2N1c0hhbmRsZWQiLCJvbkVkaXQiLCJvbkRlbGV0ZSIsIm9uRm9yd2FyZCIsIm9uU3RhciIsIm9uUmV2b2tlIiwibGlzdFJlZiIsInJvd1JlZnMiLCJlbCIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJoYW5kbGVTY3JvbGwiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBpbm5lZE1lc3NhZ2VzIiwiZmlsdGVyIiwibWVzc2FnZSIsImlzUGlubmVkIiwic2Nyb2xsVG9NZXNzYWdlIiwibWVzc2FnZUlkIiwidGFyZ2V0Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsImRpdiIsImNsYXNzTmFtZSIsIm9uU2VsZWN0IiwicmVmIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJsZW5ndGgiLCJtYXAiLCJpc093biIsInNlbmRlcklkIiwiX2lkIiwib25Nb3VzZUVudGVyIiwic2VuZGVyTmFtZSIsInNlbmRlciIsIm5hbWUiLCJ1bmRlZmluZWQiLCJzZW5kZXJBdmF0YXIiLCJhdmF0YXIiLCJ0aXRsZSIsImxvY2FsSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/MessageList.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/PinnedMessagesBar.tsx":
/*!****************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/PinnedMessagesBar.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PinnedMessagesBar: () => (/* binding */ PinnedMessagesBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction PinnedMessagesBar({ messages, onSelect }) {\n    if (!messages.length) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-pinned-bar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"chat-pinned-label\",\n                children: \"Tin nhn \\xe3 ghim\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\PinnedMessagesBar.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-pinned-items\",\n                children: messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-pinned-item\",\n                        onClick: ()=>onSelect?.(message._id),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-pinned-icon\",\n                                children: \"\\uD83D\\uDCCC\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\PinnedMessagesBar.tsx\",\n                                lineNumber: 22,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"chat-pinned-text\",\n                                children: message.text ?? \"[\\xednh k\\xe8m]\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\PinnedMessagesBar.tsx\",\n                                lineNumber: 23,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, message._id, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\PinnedMessagesBar.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\PinnedMessagesBar.tsx\",\n                lineNumber: 14,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\PinnedMessagesBar.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9QaW5uZWRNZXNzYWdlc0Jhci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU9PLFNBQVNBLGtCQUFrQixFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBMEI7SUFDOUUsSUFBSSxDQUFDRCxTQUFTRSxNQUFNLEVBQUUsT0FBTztJQUU3QixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNDO2dCQUFLRCxXQUFVOzBCQUFvQjs7Ozs7OzBCQUNwQyw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ1pKLFNBQVNNLEdBQUcsQ0FBQyxDQUFDQyx3QkFDYiw4REFBQ0M7d0JBRUNDLE1BQUs7d0JBQ0xMLFdBQVU7d0JBQ1ZNLFNBQVMsSUFBTVQsV0FBV00sUUFBUUksR0FBRzs7MENBRXJDLDhEQUFDTjtnQ0FBS0QsV0FBVTswQ0FBbUI7Ozs7OzswQ0FDbkMsOERBQUNDO2dDQUFLRCxXQUFVOzBDQUFvQkcsUUFBUUssSUFBSSxJQUFJOzs7Ozs7O3VCQU4vQ0wsUUFBUUksR0FBRzs7Ozs7Ozs7Ozs7Ozs7OztBQVk1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvTWVzc2FnZUxpc3QvUGlubmVkTWVzc2FnZXNCYXIudHN4P2MwZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdE1lc3NhZ2UgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9jaGF0JztcclxuXHJcbmludGVyZmFjZSBQaW5uZWRNZXNzYWdlc0JhclByb3BzIHtcclxuICBtZXNzYWdlczogQ2hhdE1lc3NhZ2VbXTtcclxuICBvblNlbGVjdD86IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFBpbm5lZE1lc3NhZ2VzQmFyKHsgbWVzc2FnZXMsIG9uU2VsZWN0IH06IFBpbm5lZE1lc3NhZ2VzQmFyUHJvcHMpIHtcclxuICBpZiAoIW1lc3NhZ2VzLmxlbmd0aCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGlubmVkLWJhclwiPlxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LXBpbm5lZC1sYWJlbFwiPlRpbiBuaOG6r24gxJHDoyBnaGltPC9zcGFuPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGlubmVkLWl0ZW1zXCI+XHJcbiAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBrZXk9e21lc3NhZ2UuX2lkfVxyXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1waW5uZWQtaXRlbVwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0Py4obWVzc2FnZS5faWQpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjaGF0LXBpbm5lZC1pY29uXCI+8J+TjDwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2hhdC1waW5uZWQtdGV4dFwiPnttZXNzYWdlLnRleHQgPz8gJ1vEkMOtbmgga8OobV0nfTwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICkpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlBpbm5lZE1lc3NhZ2VzQmFyIiwibWVzc2FnZXMiLCJvblNlbGVjdCIsImxlbmd0aCIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJtYXAiLCJtZXNzYWdlIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJfaWQiLCJ0ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/PinnedMessagesBar.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/ReactionPicker.tsx":
/*!*************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/ReactionPicker.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReactionPicker: () => (/* binding */ ReactionPicker)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst COMMON_EMOJIS = [\n    \"\\uD83D\\uDC4D\",\n    \"\",\n    \"\\uD83D\\uDE02\",\n    \"\\uD83D\\uDE2E\",\n    \"\\uD83D\\uDE22\",\n    \"\\uD83D\\uDE4F\",\n    \"\\uD83D\\uDD25\",\n    \"\\uD83D\\uDC4F\",\n    \"\\uD83C\\uDF89\",\n    \"\",\n    \"\",\n    \"\\uD83D\\uDCAF\"\n];\nfunction ReactionPicker({ isOpen, position, onSelect, onClose, anchorClassName }) {\n    const pickerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (pickerRef.current && !pickerRef.current.contains(target)) {\n                onClose();\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        isOpen,\n        onClose\n    ]);\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: pickerRef,\n        className: [\n            \"chat-reaction-picker\",\n            anchorClassName\n        ].filter(Boolean).join(\" \"),\n        style: {\n            position: \"fixed\",\n            top: `${position.top}px`,\n            ...position.right !== undefined ? {\n                right: `${position.right}px`\n            } : {\n                left: `${position.left}px`\n            },\n            zIndex: 100000\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-reaction-picker-grid\",\n            children: COMMON_EMOJIS.map((emoji)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"chat-reaction-picker-item\",\n                    onClick: (e)=>{\n                        e.stopPropagation();\n                        onSelect(emoji);\n                        onClose();\n                    },\n                    title: emoji,\n                    children: emoji\n                }, emoji, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReactionPicker.tsx\",\n                    lineNumber: 56,\n                    columnNumber: 11\n                }, this))\n        }, void 0, false, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReactionPicker.tsx\",\n            lineNumber: 54,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReactionPicker.tsx\",\n        lineNumber: 42,\n        columnNumber: 5\n    }, this), document.body);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZWFjdGlvblBpY2tlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEM7QUFDRDtBQUV6QyxNQUFNRyxnQkFBZ0I7SUFBQztJQUFNO0lBQU07SUFBTTtJQUFNO0lBQU07SUFBTTtJQUFNO0lBQU07SUFBTTtJQUFLO0lBQUs7Q0FBSztBQVVyRixTQUFTQyxlQUFlLEVBQzdCQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxPQUFPLEVBQ1BDLGVBQWUsRUFDSztJQUNwQixNQUFNQyxZQUFZVCw2Q0FBTUEsQ0FBaUI7SUFFekNELGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDSyxRQUFRO1FBRWIsTUFBTU0scUJBQXFCLENBQUNDO1lBQzFCLE1BQU1DLFNBQVNELE1BQU1DLE1BQU07WUFDM0IsSUFBSUgsVUFBVUksT0FBTyxJQUFJLENBQUNKLFVBQVVJLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDRixTQUFTO2dCQUM1REw7WUFDRjtRQUNGO1FBRUFRLFNBQVNDLGdCQUFnQixDQUFDLGFBQWFOO1FBQ3ZDLE9BQU87WUFDTEssU0FBU0UsbUJBQW1CLENBQUMsYUFBYVA7UUFDNUM7SUFDRixHQUFHO1FBQUNOO1FBQVFHO0tBQVE7SUFFcEIsSUFBSSxDQUFDSCxRQUFRLE9BQU87SUFFcEIscUJBQU9ILHVEQUFZQSxlQUNqQiw4REFBQ2lCO1FBQ0NDLEtBQUtWO1FBQ0xXLFdBQVc7WUFBQztZQUF3Qlo7U0FBZ0IsQ0FBQ2EsTUFBTSxDQUFDQyxTQUFTQyxJQUFJLENBQUM7UUFDMUVDLE9BQU87WUFDTG5CLFVBQVU7WUFDVm9CLEtBQUssQ0FBQyxFQUFFcEIsU0FBU29CLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDeEIsR0FBSXBCLFNBQVNxQixLQUFLLEtBQUtDLFlBQ25CO2dCQUFFRCxPQUFPLENBQUMsRUFBRXJCLFNBQVNxQixLQUFLLENBQUMsRUFBRSxDQUFDO1lBQUMsSUFDL0I7Z0JBQUVFLE1BQU0sQ0FBQyxFQUFFdkIsU0FBU3VCLElBQUksQ0FBQyxFQUFFLENBQUM7WUFBQyxDQUFDO1lBQ2xDQyxRQUFRO1FBQ1Y7a0JBRUEsNEVBQUNYO1lBQUlFLFdBQVU7c0JBQ1psQixjQUFjNEIsR0FBRyxDQUFDLENBQUNDLHNCQUNsQiw4REFBQ0M7b0JBRUNaLFdBQVU7b0JBQ1ZhLFNBQVMsQ0FBQ0M7d0JBQ1JBLEVBQUVDLGVBQWU7d0JBQ2pCN0IsU0FBU3lCO3dCQUNUeEI7b0JBQ0Y7b0JBQ0E2QixPQUFPTDs4QkFFTkE7bUJBVElBOzs7Ozs7Ozs7Ozs7OztjQWNiaEIsU0FBU3NCLElBQUk7QUFFakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L1JlYWN0aW9uUGlja2VyLnRzeD8zNDczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5cclxuY29uc3QgQ09NTU9OX0VNT0pJUyA9IFsn8J+RjScsICfinaTvuI8nLCAn8J+YgicsICfwn5iuJywgJ/CfmKInLCAn8J+ZjycsICfwn5SlJywgJ/CfkY8nLCAn8J+OiScsICfinIUnLCAn4p2MJywgJ/Cfkq8nXTtcclxuXHJcbmludGVyZmFjZSBSZWFjdGlvblBpY2tlclByb3BzIHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgcG9zaXRpb246IHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ/OiBudW1iZXIgfTtcclxuICBvblNlbGVjdDogKGVtb2ppOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBhbmNob3JDbGFzc05hbWU/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBSZWFjdGlvblBpY2tlcih7XHJcbiAgaXNPcGVuLFxyXG4gIHBvc2l0aW9uLFxyXG4gIG9uU2VsZWN0LFxyXG4gIG9uQ2xvc2UsXHJcbiAgYW5jaG9yQ2xhc3NOYW1lLFxyXG59OiBSZWFjdGlvblBpY2tlclByb3BzKSB7XHJcbiAgY29uc3QgcGlja2VyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNPcGVuKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBOb2RlO1xyXG4gICAgICBpZiAocGlja2VyUmVmLmN1cnJlbnQgJiYgIXBpY2tlclJlZi5jdXJyZW50LmNvbnRhaW5zKHRhcmdldCkpIHtcclxuICAgICAgICBvbkNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICB9O1xyXG4gIH0sIFtpc09wZW4sIG9uQ2xvc2VdKTtcclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gY3JlYXRlUG9ydGFsKFxyXG4gICAgPGRpdlxyXG4gICAgICByZWY9e3BpY2tlclJlZn1cclxuICAgICAgY2xhc3NOYW1lPXtbJ2NoYXQtcmVhY3Rpb24tcGlja2VyJywgYW5jaG9yQ2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpfVxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgIHRvcDogYCR7cG9zaXRpb24udG9wfXB4YCxcclxuICAgICAgICAuLi4ocG9zaXRpb24ucmlnaHQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgPyB7IHJpZ2h0OiBgJHtwb3NpdGlvbi5yaWdodH1weGAgfVxyXG4gICAgICAgICAgOiB7IGxlZnQ6IGAke3Bvc2l0aW9uLmxlZnR9cHhgIH0pLFxyXG4gICAgICAgIHpJbmRleDogMTAwMDAwLFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcmVhY3Rpb24tcGlja2VyLWdyaWRcIj5cclxuICAgICAgICB7Q09NTU9OX0VNT0pJUy5tYXAoKGVtb2ppKSA9PiAoXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGtleT17ZW1vaml9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtcmVhY3Rpb24tcGlja2VyLWl0ZW1cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgb25TZWxlY3QoZW1vamkpO1xyXG4gICAgICAgICAgICAgIG9uQ2xvc2UoKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgdGl0bGU9e2Vtb2ppfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7ZW1vaml9XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj4sXHJcbiAgICBkb2N1bWVudC5ib2R5LFxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJjcmVhdGVQb3J0YWwiLCJDT01NT05fRU1PSklTIiwiUmVhY3Rpb25QaWNrZXIiLCJpc09wZW4iLCJwb3NpdGlvbiIsIm9uU2VsZWN0Iiwib25DbG9zZSIsImFuY2hvckNsYXNzTmFtZSIsInBpY2tlclJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwidGFyZ2V0IiwiY3VycmVudCIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsInJlZiIsImNsYXNzTmFtZSIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwic3R5bGUiLCJ0b3AiLCJyaWdodCIsInVuZGVmaW5lZCIsImxlZnQiLCJ6SW5kZXgiLCJtYXAiLCJlbW9qaSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwidGl0bGUiLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/ReactionPicker.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/ReactionSummary.tsx":
/*!**************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/ReactionSummary.tsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReactionSummary: () => (/* binding */ ReactionSummary)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ReactionSummary({ reactions }) {\n    if (!reactions || reactions.length === 0) return null;\n    const grouped = reactions.reduce((acc, reaction)=>{\n        acc[reaction.emoji] = (acc[reaction.emoji] ?? 0) + 1;\n        return acc;\n    }, {});\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-reaction-summary\",\n        children: Object.entries(grouped).map(([emoji, count])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"chat-reaction-chip\",\n                children: [\n                    emoji,\n                    \" \",\n                    count\n                ]\n            }, emoji, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReactionSummary.tsx\",\n                lineNumber: 18,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReactionSummary.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZWFjdGlvblN1bW1hcnkudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFNTyxTQUFTQSxnQkFBZ0IsRUFBRUMsU0FBUyxFQUF3QjtJQUNqRSxJQUFJLENBQUNBLGFBQWFBLFVBQVVDLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFFakQsTUFBTUMsVUFBVUYsVUFBVUcsTUFBTSxDQUF5QixDQUFDQyxLQUFLQztRQUM3REQsR0FBRyxDQUFDQyxTQUFTQyxLQUFLLENBQUMsR0FBRyxDQUFDRixHQUFHLENBQUNDLFNBQVNDLEtBQUssQ0FBQyxJQUFJLEtBQUs7UUFDbkQsT0FBT0Y7SUFDVCxHQUFHLENBQUM7SUFFSixxQkFDRSw4REFBQ0c7UUFBSUMsV0FBVTtrQkFDWkMsT0FBT0MsT0FBTyxDQUFDUixTQUFTUyxHQUFHLENBQUMsQ0FBQyxDQUFDTCxPQUFPTSxNQUFNLGlCQUMxQyw4REFBQ0M7Z0JBQWlCTCxXQUFVOztvQkFDekJGO29CQUFNO29CQUFFTTs7ZUFEQU47Ozs7Ozs7Ozs7QUFNbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L1JlYWN0aW9uU3VtbWFyeS50c3g/ZjE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFJlYWN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vYXBpJztcclxuXHJcbmludGVyZmFjZSBSZWFjdGlvblN1bW1hcnlQcm9wcyB7XHJcbiAgcmVhY3Rpb25zPzogUmVhY3Rpb25bXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFJlYWN0aW9uU3VtbWFyeSh7IHJlYWN0aW9ucyB9OiBSZWFjdGlvblN1bW1hcnlQcm9wcykge1xyXG4gIGlmICghcmVhY3Rpb25zIHx8IHJlYWN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBncm91cGVkID0gcmVhY3Rpb25zLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PigoYWNjLCByZWFjdGlvbikgPT4ge1xyXG4gICAgYWNjW3JlYWN0aW9uLmVtb2ppXSA9IChhY2NbcmVhY3Rpb24uZW1vamldID8/IDApICsgMTtcclxuICAgIHJldHVybiBhY2M7XHJcbiAgfSwge30pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXJlYWN0aW9uLXN1bW1hcnlcIj5cclxuICAgICAge09iamVjdC5lbnRyaWVzKGdyb3VwZWQpLm1hcCgoW2Vtb2ppLCBjb3VudF0pID0+IChcclxuICAgICAgICA8c3BhbiBrZXk9e2Vtb2ppfSBjbGFzc05hbWU9XCJjaGF0LXJlYWN0aW9uLWNoaXBcIj5cclxuICAgICAgICAgIHtlbW9qaX0ge2NvdW50fVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgKSl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdGlvblN1bW1hcnkiLCJyZWFjdGlvbnMiLCJsZW5ndGgiLCJncm91cGVkIiwicmVkdWNlIiwiYWNjIiwicmVhY3Rpb24iLCJlbW9qaSIsImRpdiIsImNsYXNzTmFtZSIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJjb3VudCIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/ReactionSummary.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/ReplyPreview.tsx":
/*!***********************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/ReplyPreview.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReplyPreview: () => (/* binding */ ReplyPreview)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ReplyPreview({ message }) {\n    if (!message) return null;\n    const previewText = typeof message === \"string\" ? message : message.text ?? \"[\\xednh k\\xe8m]\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-reply-preview\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-reply-indicator\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReplyPreview.tsx\",\n                lineNumber: 14,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-reply-content\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-reply-label\",\n                        children: \"Tr li\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReplyPreview.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-reply-text\",\n                        children: previewText\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReplyPreview.tsx\",\n                        lineNumber: 17,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReplyPreview.tsx\",\n                lineNumber: 15,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\MessageList\\\\ReplyPreview.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZXBseVByZXZpZXcudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFNTyxTQUFTQSxhQUFhLEVBQUVDLE9BQU8sRUFBcUI7SUFDekQsSUFBSSxDQUFDQSxTQUFTLE9BQU87SUFFckIsTUFBTUMsY0FBYyxPQUFPRCxZQUFZLFdBQVdBLFVBQVVBLFFBQVFFLElBQUksSUFBSTtJQUU1RSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOzs7Ozs7MEJBQ2YsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQW1COzs7Ozs7a0NBQ2xDLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBbUJIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L1JlcGx5UHJldmlldy50c3g/Yjg4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0TWVzc2FnZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2NoYXQnO1xyXG5cclxuaW50ZXJmYWNlIFJlcGx5UHJldmlld1Byb3BzIHtcclxuICBtZXNzYWdlOiBDaGF0TWVzc2FnZSB8IHN0cmluZyB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFJlcGx5UHJldmlldyh7IG1lc3NhZ2UgfTogUmVwbHlQcmV2aWV3UHJvcHMpIHtcclxuICBpZiAoIW1lc3NhZ2UpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBwcmV2aWV3VGV4dCA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyA/IG1lc3NhZ2UgOiBtZXNzYWdlLnRleHQgPz8gJ1vEkMOtbmgga8OobV0nO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXJlcGx5LXByZXZpZXdcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXJlcGx5LWluZGljYXRvclwiIC8+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1yZXBseS1jb250ZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXJlcGx5LWxhYmVsXCI+VHLhuqMgbOG7nWk8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcmVwbHktdGV4dFwiPntwcmV2aWV3VGV4dH08L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZXBseVByZXZpZXciLCJtZXNzYWdlIiwicHJldmlld1RleHQiLCJ0ZXh0IiwiZGl2IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/ReplyPreview.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/NewConversationModal.tsx":
/*!*******************************************************************!*\
  !*** ../../packages/app/components/chat/NewConversationModal.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NewConversationModal: () => (/* binding */ NewConversationModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _styles_new_conversation_modal_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/new-conversation-modal.css */ \"(ssr)/../../packages/app/styles/new-conversation-modal.css\");\n/* __next_internal_client_entry_do_not_use__ NewConversationModal auto */ \n\n\n\nfunction NewConversationModal({ isOpen, onClose, onCreated }) {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedUsers, setSelectedUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [groupName, setGroupName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearching, setIsSearching] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [infoMessage, setInfoMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const currentUserId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (true) return \"\";\n        try {\n            return window.localStorage.getItem(\"user_id\") || \"\";\n        } catch  {\n            return \"\";\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) {\n            setSearchQuery(\"\");\n            setSearchResults([]);\n            setSelectedUsers([]);\n            setGroupName(\"\");\n            setError(null);\n            setInfoMessage(null);\n            setIsSearching(false);\n            setIsSubmitting(false);\n            return;\n        }\n        setGroupName(\"\");\n    }, [\n        isOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedUsers.length < 2 && groupName) {\n            setGroupName(\"\");\n        }\n    }, [\n        selectedUsers.length,\n        groupName\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        if (!isOpen) {\n            return;\n        }\n        if (searchQuery.trim().length < 2) {\n            setSearchResults([]);\n            setInfoMessage(\"Nhp \\xedt nht 2 k\\xfd t  t\\xecm kim\");\n            setError(null);\n            return;\n        }\n        async function runSearch() {\n            setIsSearching(true);\n            setInfoMessage(null);\n            try {\n                const result = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.searchUsers)(searchQuery.trim());\n                if (!active) return;\n                const filtered = result.users.filter((user)=>user._id !== currentUserId);\n                setSearchResults(filtered);\n                setError(filtered.length === 0 ? \"Kh\\xf4ng t\\xecm thy ngi d\\xf9ng ph\\xf9 hp\" : null);\n            } catch (err) {\n                console.error(\"Search users error:\", err);\n                if (!active) return;\n                setError(\"Kh\\xf4ng th t\\xecm kim l\\xfac n\\xe0y, th li sau\");\n            } finally{\n                if (active) {\n                    setIsSearching(false);\n                }\n            }\n        }\n        const timeout = setTimeout(runSearch, 350);\n        return ()=>{\n            active = false;\n            clearTimeout(timeout);\n        };\n    }, [\n        searchQuery,\n        isOpen,\n        currentUserId\n    ]);\n    const isSelected = (userId)=>selectedUsers.some((user)=>user._id === userId);\n    const toggleUser = (user)=>{\n        setSelectedUsers((prev)=>{\n            if (prev.some((item)=>item._id === user._id)) {\n                return prev.filter((item)=>item._id !== user._id);\n            }\n            return [\n                ...prev,\n                user\n            ];\n        });\n    };\n    const selectedIds = selectedUsers.map((user)=>user._id);\n    const handleCreate = async ()=>{\n        if (selectedUsers.length === 0) {\n            setError(\"H\\xe3y chn \\xedt nht mt ngi d\\xf9ng\");\n            return;\n        }\n        setIsSubmitting(true);\n        setError(null);\n        try {\n            let conversation;\n            if (selectedUsers.length === 1) {\n                conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createConversationWithUser)(selectedUsers[0]._id);\n            } else {\n                conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createGroupConversation)(selectedIds, groupName.trim() || undefined);\n            }\n            onCreated?.(conversation);\n            onClose();\n        } catch (err) {\n            console.error(\"Create conversation error:\", err);\n            const apiError = err?.response?.data?.error || err?.message;\n            setError(apiError || \"Kh\\xf4ng th to cuc tr\\xf2 chuyn, th li sau\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    if (!isOpen) return null;\n    const canSubmit = selectedUsers.length >= 1 && !isSubmitting;\n    const isGroup = selectedUsers.length >= 2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"new-conversation-modal-overlay\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"new-conversation-modal\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"new-conversation-modal__header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: \"To cuc tr\\xf2 chuyn\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 158,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Chn mt hoc nhiu ngi  bt u tr\\xf2 chuyn\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 159,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 157,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"modal-close-btn\",\n                            onClick: onClose,\n                            \"aria-label\": \"\\xf3ng\",\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 161,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                    lineNumber: 156,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"new-conversation-modal__body\",\n                    children: [\n                        isGroup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"form-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"groupName\",\n                                    children: \"T\\xean nh\\xf3m\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 169,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    id: \"groupName\",\n                                    type: \"text\",\n                                    value: groupName,\n                                    onChange: (e)=>setGroupName(e.target.value),\n                                    placeholder: \"V\\xed d: Nh\\xf3m d \\xe1n, Team marketing...\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"hint\",\n                                    children: \"Nh\\xf3m s xut hin khi bn chn t 2 ngi tr l\\xean\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 177,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 168,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"form-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"searchUsers\",\n                                    children: \"T\\xecm kim ngi d\\xf9ng\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 182,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    id: \"searchUsers\",\n                                    type: \"text\",\n                                    value: searchQuery,\n                                    onChange: (e)=>setSearchQuery(e.target.value),\n                                    placeholder: \"Nhp t\\xean, email hoc username\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 183,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 181,\n                            columnNumber: 11\n                        }, this),\n                        isSearching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hint\",\n                            children: \"ang t\\xecm kim...\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 192,\n                            columnNumber: 27\n                        }, this),\n                        infoMessage && !isSearching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hint\",\n                            children: infoMessage\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 193,\n                            columnNumber: 43\n                        }, this),\n                        error && !isSearching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"error-message\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 194,\n                            columnNumber: 37\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"search-results\",\n                            children: searchResults.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    className: `search-result-item ${isSelected(user._id) ? \"selected\" : \"\"}`,\n                                    onClick: ()=>toggleUser(user),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"result-avatar\",\n                                            children: user.avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: user.avatar,\n                                                alt: user.name\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 21\n                                            }, this) : user.name?.[0]?.toUpperCase() || \"?\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                            lineNumber: 204,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"result-info\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"result-name\",\n                                                    children: user.name\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                                    lineNumber: 212,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"result-subline\",\n                                                    children: [\n                                                        user.email,\n                                                        user.username ? `  @${user.username}` : \"\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                                    lineNumber: 213,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                            lineNumber: 211,\n                                            columnNumber: 17\n                                        }, this),\n                                        isSelected(user._id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"result-check\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                            lineNumber: 218,\n                                            columnNumber: 42\n                                        }, this)\n                                    ]\n                                }, user._id, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 198,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 196,\n                            columnNumber: 11\n                        }, this),\n                        selectedUsers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"selected-users\",\n                            children: selectedUsers.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"selected-chip\",\n                                    onClick: ()=>toggleUser(user),\n                                    children: [\n                                        user.name,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"chip-remove\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, user._id, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 224,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                    lineNumber: 166,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"new-conversation-modal__footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            disabled: isSubmitting,\n                            children: \"Hy\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 236,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"primary-btn\",\n                            onClick: handleCreate,\n                            disabled: !canSubmit,\n                            children: isSubmitting ? \"ang to...\" : \"To\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                            lineNumber: 239,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n                    lineNumber: 235,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n            lineNumber: 155,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\NewConversationModal.tsx\",\n        lineNumber: 154,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9OZXdDb252ZXJzYXRpb25Nb2RhbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFcUQ7QUFNbEM7QUFDOEI7QUFnQjFDLFNBQVNNLHFCQUFxQixFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUE2QjtJQUM1RixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1QsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDVSxlQUFlQyxpQkFBaUIsR0FBR1gsK0NBQVFBLENBQWUsRUFBRTtJQUNuRSxNQUFNLENBQUNZLGVBQWVDLGlCQUFpQixHQUFHYiwrQ0FBUUEsQ0FBZSxFQUFFO0lBQ25FLE1BQU0sQ0FBQ2MsV0FBV0MsYUFBYSxHQUFHZiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNnQixhQUFhQyxlQUFlLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQixjQUFjQyxnQkFBZ0IsR0FBR25CLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ29CLE9BQU9DLFNBQVMsR0FBR3JCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUNzQixhQUFhQyxlQUFlLEdBQUd2QiwrQ0FBUUEsQ0FBZ0I7SUFFOUQsTUFBTXdCLGdCQUFnQnpCLDhDQUFPQSxDQUFDO1FBQzVCLElBQUksSUFBa0IsRUFBYSxPQUFPO1FBQzFDLElBQUk7WUFDRixPQUFPMEIsT0FBT0MsWUFBWSxDQUFDQyxPQUFPLENBQUMsY0FBYztRQUNuRCxFQUFFLE9BQU07WUFDTixPQUFPO1FBQ1Q7SUFDRixHQUFHLEVBQUU7SUFFTDdCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDTyxRQUFRO1lBQ1hJLGVBQWU7WUFDZkUsaUJBQWlCLEVBQUU7WUFDbkJFLGlCQUFpQixFQUFFO1lBQ25CRSxhQUFhO1lBQ2JNLFNBQVM7WUFDVEUsZUFBZTtZQUNmTixlQUFlO1lBQ2ZFLGdCQUFnQjtZQUNoQjtRQUNG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VUFBVXhFO3NDQUFjOzs7Ozs7c0NBRzVFLDhEQUFDaUQ7NEJBQU9OLFdBQVU7NEJBQWNPLFNBQVNqQjs0QkFBY3VDLFVBQVUsQ0FBQ2hDO3NDQUMvRHhDLGVBQWUsZ0JBQWdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU01QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvTmV3Q29udmVyc2F0aW9uTW9kYWwudHN4P2FjNGEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtcclxuICBDb252ZXJzYXRpb24sXHJcbiAgY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIsXHJcbiAgY3JlYXRlR3JvdXBDb252ZXJzYXRpb24sXHJcbiAgc2VhcmNoVXNlcnMsXHJcbn0gZnJvbSAnLi4vLi4vYXBpJztcclxuaW1wb3J0ICcuLi8uLi9zdHlsZXMvbmV3LWNvbnZlcnNhdGlvbi1tb2RhbC5jc3MnO1xyXG5cclxudHlwZSBTZWFyY2hVc2VyID0ge1xyXG4gIF9pZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHVzZXJuYW1lPzogc3RyaW5nO1xyXG4gIGF2YXRhcj86IHN0cmluZztcclxufTtcclxuXHJcbmludGVyZmFjZSBOZXdDb252ZXJzYXRpb25Nb2RhbFByb3BzIHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBvbkNyZWF0ZWQ/OiAoY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24pID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBOZXdDb252ZXJzYXRpb25Nb2RhbCh7IGlzT3Blbiwgb25DbG9zZSwgb25DcmVhdGVkIH06IE5ld0NvbnZlcnNhdGlvbk1vZGFsUHJvcHMpIHtcclxuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2VhcmNoUmVzdWx0cywgc2V0U2VhcmNoUmVzdWx0c10gPSB1c2VTdGF0ZTxTZWFyY2hVc2VyW10+KFtdKTtcclxuICBjb25zdCBbc2VsZWN0ZWRVc2Vycywgc2V0U2VsZWN0ZWRVc2Vyc10gPSB1c2VTdGF0ZTxTZWFyY2hVc2VyW10+KFtdKTtcclxuICBjb25zdCBbZ3JvdXBOYW1lLCBzZXRHcm91cE5hbWVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtpc1NlYXJjaGluZywgc2V0SXNTZWFyY2hpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaW5mb01lc3NhZ2UsIHNldEluZm9NZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG5cclxuICBjb25zdCBjdXJyZW50VXNlcklkID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAnJztcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKSB8fCAnJztcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc09wZW4pIHtcclxuICAgICAgc2V0U2VhcmNoUXVlcnkoJycpO1xyXG4gICAgICBzZXRTZWFyY2hSZXN1bHRzKFtdKTtcclxuICAgICAgc2V0U2VsZWN0ZWRVc2VycyhbXSk7XHJcbiAgICAgIHNldEdyb3VwTmFtZSgnJyk7XHJcbiAgICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgICBzZXRJbmZvTWVzc2FnZShudWxsKTtcclxuICAgICAgc2V0SXNTZWFyY2hpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R3JvdXBOYW1lKCcnKTtcclxuICB9LCBbaXNPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoc2VsZWN0ZWRVc2Vycy5sZW5ndGggPCAyICYmIGdyb3VwTmFtZSkge1xyXG4gICAgICBzZXRHcm91cE5hbWUoJycpO1xyXG4gICAgfVxyXG4gIH0sIFtzZWxlY3RlZFVzZXJzLmxlbmd0aCwgZ3JvdXBOYW1lXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIWlzT3Blbikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNlYXJjaFF1ZXJ5LnRyaW0oKS5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xyXG4gICAgICBzZXRJbmZvTWVzc2FnZSgnTmjhuq1wIMOtdCBuaOG6pXQgMiBrw70gdOG7sSDEkeG7gyB0w6xtIGtp4bq/bScpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIHJ1blNlYXJjaCgpIHtcclxuICAgICAgc2V0SXNTZWFyY2hpbmcodHJ1ZSk7XHJcbiAgICAgIHNldEluZm9NZXNzYWdlKG51bGwpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaFVzZXJzKHNlYXJjaFF1ZXJ5LnRyaW0oKSk7XHJcbiAgICAgICAgaWYgKCFhY3RpdmUpIHJldHVybjtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHJlc3VsdC51c2Vycy5maWx0ZXIoKHVzZXIpID0+IHVzZXIuX2lkICE9PSBjdXJyZW50VXNlcklkKTtcclxuICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKGZpbHRlcmVkKTtcclxuICAgICAgICBzZXRFcnJvcihmaWx0ZXJlZC5sZW5ndGggPT09IDAgPyAnS2jDtG5nIHTDrG0gdGjhuqV5IG5nxrDhu51pIGTDuW5nIHBow7kgaOG7o3AnIDogbnVsbCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlYXJjaCB1c2VycyBlcnJvcjonLCBlcnIpO1xyXG4gICAgICAgIGlmICghYWN0aXZlKSByZXR1cm47XHJcbiAgICAgICAgc2V0RXJyb3IoJ0tow7RuZyB0aOG7gyB0w6xtIGtp4bq/bSBsw7pjIG7DoHksIHRo4butIGzhuqFpIHNhdScpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChhY3RpdmUpIHtcclxuICAgICAgICAgIHNldElzU2VhcmNoaW5nKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChydW5TZWFyY2gsIDM1MCk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgfTtcclxuICB9LCBbc2VhcmNoUXVlcnksIGlzT3BlbiwgY3VycmVudFVzZXJJZF0pO1xyXG5cclxuICBjb25zdCBpc1NlbGVjdGVkID0gKHVzZXJJZDogc3RyaW5nKSA9PiBzZWxlY3RlZFVzZXJzLnNvbWUoKHVzZXIpID0+IHVzZXIuX2lkID09PSB1c2VySWQpO1xyXG5cclxuICBjb25zdCB0b2dnbGVVc2VyID0gKHVzZXI6IFNlYXJjaFVzZXIpID0+IHtcclxuICAgIHNldFNlbGVjdGVkVXNlcnMoKHByZXYpID0+IHtcclxuICAgICAgaWYgKHByZXYuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IHVzZXIuX2lkKSkge1xyXG4gICAgICAgIHJldHVybiBwcmV2LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5faWQgIT09IHVzZXIuX2lkKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gWy4uLnByZXYsIHVzZXJdO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFVzZXJzLm1hcCgodXNlcikgPT4gdXNlci5faWQpO1xyXG5cclxuICBjb25zdCBoYW5kbGVDcmVhdGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgc2V0RXJyb3IoJ0jDo3kgY2jhu41uIMOtdCBuaOG6pXQgbeG7mXQgbmfGsOG7nWkgZMO5bmcnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldElzU3VibWl0dGluZyh0cnVlKTtcclxuICAgIHNldEVycm9yKG51bGwpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBjb252ZXJzYXRpb246IENvbnZlcnNhdGlvbjtcclxuICAgICAgaWYgKHNlbGVjdGVkVXNlcnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgY29udmVyc2F0aW9uID0gYXdhaXQgY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIoc2VsZWN0ZWRVc2Vyc1swXS5faWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnZlcnNhdGlvbiA9IGF3YWl0IGNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uKHNlbGVjdGVkSWRzLCBncm91cE5hbWUudHJpbSgpIHx8IHVuZGVmaW5lZCk7XHJcbiAgICAgIH1cclxuICAgICAgb25DcmVhdGVkPy4oY29udmVyc2F0aW9uKTtcclxuICAgICAgb25DbG9zZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ3JlYXRlIGNvbnZlcnNhdGlvbiBlcnJvcjonLCBlcnIpO1xyXG4gICAgICBjb25zdCBhcGlFcnJvciA9IGVycj8ucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8IGVycj8ubWVzc2FnZTtcclxuICAgICAgc2V0RXJyb3IoYXBpRXJyb3IgfHwgJ0tow7RuZyB0aOG7gyB04bqhbyBjdeG7mWMgdHLDsiBjaHV54buHbiwgdGjhu60gbOG6oWkgc2F1Jyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgY29uc3QgY2FuU3VibWl0ID0gc2VsZWN0ZWRVc2Vycy5sZW5ndGggPj0gMSAmJiAhaXNTdWJtaXR0aW5nO1xyXG4gIGNvbnN0IGlzR3JvdXAgPSBzZWxlY3RlZFVzZXJzLmxlbmd0aCA+PSAyO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJuZXctY29udmVyc2F0aW9uLW1vZGFsLW92ZXJsYXlcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1tb2RhbD1cInRydWVcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctY29udmVyc2F0aW9uLW1vZGFsXCI+XHJcbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJuZXctY29udmVyc2F0aW9uLW1vZGFsX19oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxoMj5U4bqhbyBjdeG7mWMgdHLDsiBjaHV54buHbjwvaDI+XHJcbiAgICAgICAgICAgIDxwPkNo4buNbiBt4buZdCBob+G6t2Mgbmhp4buBdSBuZ8aw4budaSDEkeG7gyBi4bqvdCDEkeG6p3UgdHLDsiBjaHV54buHbjwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJtb2RhbC1jbG9zZS1idG5cIiBvbkNsaWNrPXtvbkNsb3NlfSBhcmlhLWxhYmVsPVwixJDDs25nXCI+XHJcbiAgICAgICAgICAgIOKclVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9oZWFkZXI+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LWNvbnZlcnNhdGlvbi1tb2RhbF9fYm9keVwiPlxyXG4gICAgICAgICAge2lzR3JvdXAgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImdyb3VwTmFtZVwiPlTDqm4gbmjDs208L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJncm91cE5hbWVcIlxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2dyb3VwTmFtZX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0R3JvdXBOYW1lKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVsOtIGThu6U6IE5ow7NtIGThu7Egw6FuLCBUZWFtIG1hcmtldGluZy4uLlwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaW50XCI+TmjDs20gc+G6vSB4deG6pXQgaGnhu4duIGtoaSBi4bqhbiBjaOG7jW4gdOG7qyAyIG5nxrDhu51pIHRy4bufIGzDqm48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzZWFyY2hVc2Vyc1wiPlTDrG0ga2nhur9tIG5nxrDhu51pIGTDuW5nPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgaWQ9XCJzZWFyY2hVc2Vyc1wiXHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5o4bqtcCB0w6puLCBlbWFpbCBob+G6t2MgdXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAge2lzU2VhcmNoaW5nICYmIDxkaXYgY2xhc3NOYW1lPVwiaGludFwiPsSQYW5nIHTDrG0ga2nhur9tLi4uPC9kaXY+fVxyXG4gICAgICAgICAge2luZm9NZXNzYWdlICYmICFpc1NlYXJjaGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cImhpbnRcIj57aW5mb01lc3NhZ2V9PC9kaXY+fVxyXG4gICAgICAgICAge2Vycm9yICYmICFpc1NlYXJjaGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj57ZXJyb3J9PC9kaXY+fVxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLXJlc3VsdHNcIj5cclxuICAgICAgICAgICAge3NlYXJjaFJlc3VsdHMubWFwKCh1c2VyKSA9PiAoXHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAga2V5PXt1c2VyLl9pZH1cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc2VhcmNoLXJlc3VsdC1pdGVtICR7aXNTZWxlY3RlZCh1c2VyLl9pZCkgPyAnc2VsZWN0ZWQnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVVzZXIodXNlcil9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHQtYXZhdGFyXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt1c2VyLmF2YXRhciA/IChcclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dXNlci5hdmF0YXJ9IGFsdD17dXNlci5uYW1lfSAvPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXIubmFtZT8uWzBdPy50b1VwcGVyQ2FzZSgpIHx8ICc/J1xyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3VsdC1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdWx0LW5hbWVcIj57dXNlci5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3VsdC1zdWJsaW5lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3VzZXIuZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAge3VzZXIudXNlcm5hbWUgPyBgIMK3IEAke3VzZXIudXNlcm5hbWV9YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge2lzU2VsZWN0ZWQodXNlci5faWQpICYmIDxzcGFuIGNsYXNzTmFtZT1cInJlc3VsdC1jaGVja1wiPuKckzwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAge3NlbGVjdGVkVXNlcnMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0ZWQtdXNlcnNcIj5cclxuICAgICAgICAgICAgICB7c2VsZWN0ZWRVc2Vycy5tYXAoKHVzZXIpID0+IChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT17dXNlci5faWR9IGNsYXNzTmFtZT1cInNlbGVjdGVkLWNoaXBcIiBvbkNsaWNrPXsoKSA9PiB0b2dnbGVVc2VyKHVzZXIpfT5cclxuICAgICAgICAgICAgICAgICAge3VzZXIubmFtZX1cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2hpcC1yZW1vdmVcIj7inJU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJuZXctY29udmVyc2F0aW9uLW1vZGFsX19mb290ZXJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiIG9uQ2xpY2s9e29uQ2xvc2V9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PlxyXG4gICAgICAgICAgICBI4buneVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInByaW1hcnktYnRuXCIgb25DbGljaz17aGFuZGxlQ3JlYXRlfSBkaXNhYmxlZD17IWNhblN1Ym1pdH0+XHJcbiAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAnxJBhbmcgdOG6oW8uLi4nIDogJ1ThuqFvJ31cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZm9vdGVyPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJjcmVhdGVDb252ZXJzYXRpb25XaXRoVXNlciIsImNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uIiwic2VhcmNoVXNlcnMiLCJOZXdDb252ZXJzYXRpb25Nb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvbkNyZWF0ZWQiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5Iiwic2VhcmNoUmVzdWx0cyIsInNldFNlYXJjaFJlc3VsdHMiLCJzZWxlY3RlZFVzZXJzIiwic2V0U2VsZWN0ZWRVc2VycyIsImdyb3VwTmFtZSIsInNldEdyb3VwTmFtZSIsImlzU2VhcmNoaW5nIiwic2V0SXNTZWFyY2hpbmciLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaW5mb01lc3NhZ2UiLCJzZXRJbmZvTWVzc2FnZSIsImN1cnJlbnRVc2VySWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGVuZ3RoIiwiYWN0aXZlIiwidHJpbSIsInJ1blNlYXJjaCIsInJlc3VsdCIsImZpbHRlcmVkIiwidXNlcnMiLCJmaWx0ZXIiLCJ1c2VyIiwiX2lkIiwiZXJyIiwiY29uc29sZSIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaXNTZWxlY3RlZCIsInVzZXJJZCIsInNvbWUiLCJ0b2dnbGVVc2VyIiwicHJldiIsIml0ZW0iLCJzZWxlY3RlZElkcyIsIm1hcCIsImhhbmRsZUNyZWF0ZSIsImNvbnZlcnNhdGlvbiIsInVuZGVmaW5lZCIsImFwaUVycm9yIiwicmVzcG9uc2UiLCJkYXRhIiwibWVzc2FnZSIsImNhblN1Ym1pdCIsImlzR3JvdXAiLCJkaXYiLCJjbGFzc05hbWUiLCJyb2xlIiwiYXJpYS1tb2RhbCIsImhlYWRlciIsImgyIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwic3BhbiIsImF2YXRhciIsImltZyIsInNyYyIsImFsdCIsIm5hbWUiLCJ0b1VwcGVyQ2FzZSIsImVtYWlsIiwidXNlcm5hbWUiLCJmb290ZXIiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/NewConversationModal.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/TypingIndicator.tsx":
/*!**************************************************************!*\
  !*** ../../packages/app/components/chat/TypingIndicator.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypingIndicator: () => (/* binding */ TypingIndicator)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction TypingIndicator({ users }) {\n    if (!users.length) return null;\n    const text = users.length === 1 ? `${users[0].name ?? \"Ai \\xf3\"} ang nhp...` : `${users.length} ngi ang nhp...`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-typing-indicator\",\n        children: text\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\TypingIndicator.tsx\",\n        lineNumber: 15,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9UeXBpbmdJbmRpY2F0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFNTyxTQUFTQSxnQkFBZ0IsRUFBRUMsS0FBSyxFQUF3QjtJQUM3RCxJQUFJLENBQUNBLE1BQU1DLE1BQU0sRUFBRSxPQUFPO0lBRTFCLE1BQU1DLE9BQ0pGLE1BQU1DLE1BQU0sS0FBSyxJQUNiLENBQUMsRUFBRUQsS0FBSyxDQUFDLEVBQUUsQ0FBQ0csSUFBSSxJQUFJLFdBQVEsYUFBYSxDQUFDLEdBQzFDLENBQUMsRUFBRUgsTUFBTUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDO0lBRTFDLHFCQUFPLDhEQUFDRztRQUFJQyxXQUFVO2tCQUF5Qkg7Ozs7OztBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvVHlwaW5nSW5kaWNhdG9yLnRzeD81YjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGluZ1VzZXIgfSBmcm9tICcuLi8uLi90eXBlcy9jaGF0JztcclxuXHJcbmludGVyZmFjZSBUeXBpbmdJbmRpY2F0b3JQcm9wcyB7XHJcbiAgdXNlcnM6IFR5cGluZ1VzZXJbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFR5cGluZ0luZGljYXRvcih7IHVzZXJzIH06IFR5cGluZ0luZGljYXRvclByb3BzKSB7XHJcbiAgaWYgKCF1c2Vycy5sZW5ndGgpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCB0ZXh0ID1cclxuICAgIHVzZXJzLmxlbmd0aCA9PT0gMVxyXG4gICAgICA/IGAke3VzZXJzWzBdLm5hbWUgPz8gJ0FpIMSRw7MnfSDEkWFuZyBuaOG6rXAuLi5gXHJcbiAgICAgIDogYCR7dXNlcnMubGVuZ3RofSBuZ8aw4budaSDEkWFuZyBuaOG6rXAuLi5gO1xyXG5cclxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjaGF0LXR5cGluZy1pbmRpY2F0b3JcIj57dGV4dH08L2Rpdj47XHJcbn1cclxuIl0sIm5hbWVzIjpbIlR5cGluZ0luZGljYXRvciIsInVzZXJzIiwibGVuZ3RoIiwidGV4dCIsIm5hbWUiLCJkaXYiLCJjbGFzc05hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/TypingIndicator.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/AddMembersModal.tsx":
/*!***************************************************************!*\
  !*** ../../packages/app/components/group/AddMembersModal.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddMembersModal: () => (/* binding */ AddMembersModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _styles_group_modals_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/group-modals.css */ \"(ssr)/../../packages/app/styles/group-modals.css\");\n\n\n\n\nfunction AddMembersModal({ isOpen, onClose, onConfirm, conversation }) {\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selected, setSelected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [submitting, setSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) {\n            setQuery(\"\");\n            setResults([]);\n            setSelected(new Set());\n            setError(null);\n        }\n    }, [\n        isOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        if (!isOpen || query.trim().length < 2) {\n            setResults([]);\n            return;\n        }\n        (async ()=>{\n            setLoading(true);\n            try {\n                const res = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.searchUsers)(query.trim());\n                if (!active) return;\n                const conversationMemberSet = new Set(conversation.members.map((m)=>String(m)));\n                const filtered = res.users.filter((user)=>!conversationMemberSet.has(user._id));\n                setResults(filtered);\n            } catch (err) {\n                console.error(\"Search users error\", err);\n                if (active) setError(\"Kh\\xf4ng th t\\xecm kim ngi d\\xf9ng, th li sau\");\n            } finally{\n                if (active) setLoading(false);\n            }\n        })();\n        return ()=>{\n            active = false;\n        };\n    }, [\n        isOpen,\n        query,\n        conversation.members\n    ]);\n    const toggleUser = (userId)=>{\n        setSelected((prev)=>{\n            const next = new Set(prev);\n            if (next.has(userId)) {\n                next.delete(userId);\n            } else {\n                next.add(userId);\n            }\n            return next;\n        });\n    };\n    const handleConfirm = async ()=>{\n        if (selected.size === 0) {\n            setError(\"H\\xe3y chn \\xedt nht mt ngi\");\n            return;\n        }\n        try {\n            setSubmitting(true);\n            await onConfirm(Array.from(selected));\n            onClose();\n        } catch (err) {\n            console.error(\"Add members error\", err);\n            setError(err?.response?.data?.error || \"Kh\\xf4ng th th\\xeam th\\xe0nh vi\\xean\");\n        } finally{\n            setSubmitting(false);\n        }\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group-modal-overlay\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"group-modal\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"group-modal__header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Th\\xeam th\\xe0nh vi\\xean\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 91,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                    lineNumber: 89,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"group-modal__body\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            placeholder: \"Nhp t\\xean/email  t\\xecm kim\",\n                            value: query,\n                            onChange: (e)=>setQuery(e.target.value)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 94,\n                            columnNumber: 11\n                        }, this),\n                        loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"hint\",\n                            children: \"ang t\\xecm...\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 100,\n                            columnNumber: 23\n                        }, this),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"error-message\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"group-modal__list\",\n                            children: [\n                                results.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: `group-modal__item ${selected.has(user._id) ? \"selected\" : \"\"}`,\n                                        onClick: ()=>toggleUser(user._id),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"member-avatar\",\n                                                children: user.avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: user.avatar,\n                                                    alt: user.name\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                                    lineNumber: 111,\n                                                    columnNumber: 34\n                                                }, this) : user.name.slice(0, 2).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                                lineNumber: 110,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"member-meta\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: user.name\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                                        lineNumber: 114,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"member-email\",\n                                                        children: user.email\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                                        lineNumber: 115,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                                lineNumber: 113,\n                                                columnNumber: 17\n                                            }, this),\n                                            selected.has(user._id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                                lineNumber: 117,\n                                                columnNumber: 44\n                                            }, this)\n                                        ]\n                                    }, user._id, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                        lineNumber: 104,\n                                        columnNumber: 15\n                                    }, this)),\n                                !loading && results.length === 0 && query.length >= 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"hint\",\n                                    children: \"Kh\\xf4ng t\\xecm thy ngi d\\xf9ng n\\xe0o\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 102,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                    lineNumber: 93,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"group-modal__footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            disabled: submitting,\n                            children: \"Hy\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 126,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"primary-btn\",\n                            onClick: handleConfirm,\n                            disabled: submitting,\n                            children: submitting ? \"ang th\\xeam...\" : \"Th\\xeam th\\xe0nh vi\\xean\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                            lineNumber: 129,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n                    lineNumber: 125,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n            lineNumber: 88,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\AddMembersModal.tsx\",\n        lineNumber: 87,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvQWRkTWVtYmVyc01vZGFsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0QztBQUNVO0FBQ2Y7QUFTaEMsU0FBU0csZ0JBQWdCLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUVDLFlBQVksRUFBUztJQUNqRixNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR1IsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDUyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUF3RSxFQUFFO0lBQ2hILE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHWiwrQ0FBUUEsQ0FBYyxJQUFJYTtJQUMxRCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR2YsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0IsWUFBWUMsY0FBYyxHQUFHakIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDa0IsT0FBT0MsU0FBUyxHQUFHbkIsK0NBQVFBLENBQWdCO0lBRWxERCxnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ0ksUUFBUTtZQUNYSyxTQUFTO1lBQ1RFLFdBQVcsRUFBRTtZQUNiRSxZQUFZLElBQUlDO1lBQ2hCTSxTQUFTO1FBQ1g7SUFDRixHQUFHO1FBQUNoQjtLQUFPO0lBRVhKLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXFCLFNBQVM7UUFDYixJQUFJLENBQUNqQixVQUFVSSxNQUFNYyxJQUFJLEdBQUdDLE1BQU0sR0FBRyxHQUFHO1lBQ3RDWixXQUFXLEVBQUU7WUFDYjtRQUNGO1FBQ0M7WUFDQ0ssV0FBVztZQUNYLElBQUk7Z0JBQ0YsTUFBTVEsTUFBTSxNQUFNdEIsaURBQVdBLENBQUNNLE1BQU1jLElBQUk7Z0JBQ3hDLElBQUksQ0FBQ0QsUUFBUTtnQkFDYixNQUFNSSx3QkFBd0IsSUFBSVgsSUFBSVAsYUFBYW1CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQU1DLE9BQU9EO2dC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ZixNQUFNZSxNQUFNLElBQUksbUJBQ25ELDhEQUFDMkI7b0NBQUlDLFdBQVU7OENBQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFJNUIsOERBQUNxQjtvQkFBT3JCLFdBQVU7O3NDQUNoQiw4REFBQ0c7NEJBQU9ILFdBQVU7NEJBQWdCSSxTQUFTbEQ7NEJBQVNvRSxVQUFVeEQ7c0NBQVk7Ozs7OztzQ0FHMUUsOERBQUNxQzs0QkFBT0gsV0FBVTs0QkFBY0ksU0FBU1g7NEJBQWU2QixVQUFVeEQ7c0NBQy9EQSxhQUFhLG9CQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9ncm91cC9BZGRNZW1iZXJzTW9kYWwudHN4P2MxODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQ29udmVyc2F0aW9uLCBzZWFyY2hVc2VycyB9IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2dyb3VwLW1vZGFscy5jc3MnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBvbkNvbmZpcm06ICh1c2VySWRzOiBzdHJpbmdbXSkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XHJcbiAgY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBZGRNZW1iZXJzTW9kYWwoeyBpc09wZW4sIG9uQ2xvc2UsIG9uQ29uZmlybSwgY29udmVyc2F0aW9uIH06IFByb3BzKSB7XHJcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3Jlc3VsdHMsIHNldFJlc3VsdHNdID0gdXNlU3RhdGU8QXJyYXk8eyBfaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBhdmF0YXI/OiBzdHJpbmc7IGVtYWlsPzogc3RyaW5nIH0+PihbXSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzT3Blbikge1xyXG4gICAgICBzZXRRdWVyeSgnJyk7XHJcbiAgICAgIHNldFJlc3VsdHMoW10pO1xyXG4gICAgICBzZXRTZWxlY3RlZChuZXcgU2V0KCkpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcclxuICAgIGlmICghaXNPcGVuIHx8IHF1ZXJ5LnRyaW0oKS5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHNldFJlc3VsdHMoW10pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNlYXJjaFVzZXJzKHF1ZXJ5LnRyaW0oKSk7XHJcbiAgICAgICAgaWYgKCFhY3RpdmUpIHJldHVybjtcclxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25NZW1iZXJTZXQgPSBuZXcgU2V0KGNvbnZlcnNhdGlvbi5tZW1iZXJzLm1hcCgobSkgPT4gU3RyaW5nKG0pKSk7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSByZXMudXNlcnMuZmlsdGVyKCh1c2VyKSA9PiAhY29udmVyc2F0aW9uTWVtYmVyU2V0Lmhhcyh1c2VyLl9pZCkpO1xyXG4gICAgICAgIHNldFJlc3VsdHMoZmlsdGVyZWQpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggdXNlcnMgZXJyb3InLCBlcnIpO1xyXG4gICAgICAgIGlmIChhY3RpdmUpIHNldEVycm9yKCdLaMO0bmcgdGjhu4MgdMOsbSBraeG6v20gbmfGsOG7nWkgZMO5bmcsIHRo4butIGzhuqFpIHNhdScpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChhY3RpdmUpIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gIH0sIFtpc09wZW4sIHF1ZXJ5LCBjb252ZXJzYXRpb24ubWVtYmVyc10pO1xyXG5cclxuICBjb25zdCB0b2dnbGVVc2VyID0gKHVzZXJJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZCgocHJldikgPT4ge1xyXG4gICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcclxuICAgICAgaWYgKG5leHQuaGFzKHVzZXJJZCkpIHtcclxuICAgICAgICBuZXh0LmRlbGV0ZSh1c2VySWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5leHQuYWRkKHVzZXJJZCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDb25maXJtID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkLnNpemUgPT09IDApIHtcclxuICAgICAgc2V0RXJyb3IoJ0jDo3kgY2jhu41uIMOtdCBuaOG6pXQgbeG7mXQgbmfGsOG7nWknKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0U3VibWl0dGluZyh0cnVlKTtcclxuICAgICAgYXdhaXQgb25Db25maXJtKEFycmF5LmZyb20oc2VsZWN0ZWQpKTtcclxuICAgICAgb25DbG9zZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQWRkIG1lbWJlcnMgZXJyb3InLCBlcnIpO1xyXG4gICAgICBzZXRFcnJvcihlcnI/LnJlc3BvbnNlPy5kYXRhPy5lcnJvciB8fCAnS2jDtG5nIHRo4buDIHRow6ptIHRow6BuaCB2acOqbicpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U3VibWl0dGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1tb2RhbC1vdmVybGF5XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtbW9kYWxcIj5cclxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsX19oZWFkZXJcIj5cclxuICAgICAgICAgIDxoMj5UaMOqbSB0aMOgbmggdmnDqm48L2gyPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfT7inJU8L2J1dHRvbj5cclxuICAgICAgICA8L2hlYWRlcj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsX19ib2R5XCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5o4bqtcCB0w6puL2VtYWlsIMSR4buDIHTDrG0ga2nhur9tXCJcclxuICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5fVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICB7bG9hZGluZyAmJiA8ZGl2IGNsYXNzTmFtZT1cImhpbnRcIj7EkGFuZyB0w6xtLi4uPC9kaXY+fVxyXG4gICAgICAgICAge2Vycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPntlcnJvcn08L2Rpdj59XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsX19saXN0XCI+XHJcbiAgICAgICAgICAgIHtyZXN1bHRzLm1hcCgodXNlcikgPT4gKFxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGtleT17dXNlci5faWR9XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGdyb3VwLW1vZGFsX19pdGVtICR7c2VsZWN0ZWQuaGFzKHVzZXIuX2lkKSA/ICdzZWxlY3RlZCcgOiAnJ31gfVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlVXNlcih1c2VyLl9pZCl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZW1iZXItYXZhdGFyXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt1c2VyLmF2YXRhciA/IDxpbWcgc3JjPXt1c2VyLmF2YXRhcn0gYWx0PXt1c2VyLm5hbWV9IC8+IDogdXNlci5uYW1lLnNsaWNlKDAsIDIpLnRvVXBwZXJDYXNlKCl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVtYmVyLW1ldGFcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdj57dXNlci5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZW1iZXItZW1haWxcIj57dXNlci5lbWFpbH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZC5oYXModXNlci5faWQpICYmIDxzcGFuPuKckzwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICB7IWxvYWRpbmcgJiYgcmVzdWx0cy5sZW5ndGggPT09IDAgJiYgcXVlcnkubGVuZ3RoID49IDIgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGludFwiPktow7RuZyB0w6xtIHRo4bqleSBuZ8aw4budaSBkw7luZyBuw6BvPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsX19mb290ZXJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiIG9uQ2xpY2s9e29uQ2xvc2V9IGRpc2FibGVkPXtzdWJtaXR0aW5nfT5cclxuICAgICAgICAgICAgSOG7p3lcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJwcmltYXJ5LWJ0blwiIG9uQ2xpY2s9e2hhbmRsZUNvbmZpcm19IGRpc2FibGVkPXtzdWJtaXR0aW5nfT5cclxuICAgICAgICAgICAge3N1Ym1pdHRpbmcgPyAnxJBhbmcgdGjDqm0uLi4nIDogJ1Row6ptIHRow6BuaCB2acOqbid9XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Zvb3Rlcj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJzZWFyY2hVc2VycyIsIkFkZE1lbWJlcnNNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvbkNvbmZpcm0iLCJjb252ZXJzYXRpb24iLCJxdWVyeSIsInNldFF1ZXJ5IiwicmVzdWx0cyIsInNldFJlc3VsdHMiLCJzZWxlY3RlZCIsInNldFNlbGVjdGVkIiwiU2V0IiwibG9hZGluZyIsInNldExvYWRpbmciLCJzdWJtaXR0aW5nIiwic2V0U3VibWl0dGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJhY3RpdmUiLCJ0cmltIiwibGVuZ3RoIiwicmVzIiwiY29udmVyc2F0aW9uTWVtYmVyU2V0IiwibWVtYmVycyIsIm1hcCIsIm0iLCJTdHJpbmciLCJmaWx0ZXJlZCIsInVzZXJzIiwiZmlsdGVyIiwidXNlciIsImhhcyIsIl9pZCIsImVyciIsImNvbnNvbGUiLCJ0b2dnbGVVc2VyIiwidXNlcklkIiwicHJldiIsIm5leHQiLCJkZWxldGUiLCJhZGQiLCJoYW5kbGVDb25maXJtIiwic2l6ZSIsIkFycmF5IiwiZnJvbSIsInJlc3BvbnNlIiwiZGF0YSIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJhdmF0YXIiLCJpbWciLCJzcmMiLCJhbHQiLCJuYW1lIiwic2xpY2UiLCJ0b1VwcGVyQ2FzZSIsInNwYW4iLCJlbWFpbCIsImZvb3RlciIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/AddMembersModal.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/ConfirmActionModal.tsx":
/*!******************************************************************!*\
  !*** ../../packages/app/components/group/ConfirmActionModal.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfirmActionModal: () => (/* binding */ ConfirmActionModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_group_modals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/group-modals.css */ \"(ssr)/../../packages/app/styles/group-modals.css\");\n\n\nfunction ConfirmActionModal({ isOpen, title, description, confirmLabel = \"X\\xe1c nhn\", onClose, onConfirm, variant = \"danger\" }) {\n    if (!isOpen) return null;\n    const handleConfirm = async ()=>{\n        await onConfirm();\n        onClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group-modal-overlay\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"group-modal\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"group-modal__header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: title\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                            lineNumber: 34,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"group-modal__body\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: description\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                        lineNumber: 37,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                    lineNumber: 36,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"group-modal__footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            children: \"Hy\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                            lineNumber: 40,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `primary-btn ${variant === \"danger\" ? \"danger\" : \"\"}`,\n                            onClick: handleConfirm,\n                            children: confirmLabel\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                            lineNumber: 43,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n                    lineNumber: 39,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n            lineNumber: 31,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\ConfirmActionModal.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvQ29uZmlybUFjdGlvbk1vZGFsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1QztBQVloQyxTQUFTQSxtQkFBbUIsRUFDakNDLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxXQUFXLEVBQ1hDLGVBQWUsYUFBVSxFQUN6QkMsT0FBTyxFQUNQQyxTQUFTLEVBQ1RDLFVBQVUsUUFBUSxFQUNNO0lBQ3hCLElBQUksQ0FBQ04sUUFBUSxPQUFPO0lBRXBCLE1BQU1PLGdCQUFnQjtRQUNwQixNQUFNRjtRQUNORDtJQUNGO0lBRUEscUJBQ0UsOERBQUNJO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNEO1lBQUlDLFdBQVU7OzhCQUNiLDhEQUFDQztvQkFBT0QsV0FBVTs7c0NBQ2hCLDhEQUFDRTtzQ0FBSVY7Ozs7OztzQ0FDTCw4REFBQ1c7NEJBQU9DLFNBQVNUO3NDQUFTOzs7Ozs7Ozs7Ozs7OEJBRTVCLDhEQUFDSTtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0s7a0NBQUdaOzs7Ozs7Ozs7Ozs4QkFFTiw4REFBQ2E7b0JBQU9OLFdBQVU7O3NDQUNoQiw4REFBQ0c7NEJBQU9ILFdBQVU7NEJBQWdCSSxTQUFTVDtzQ0FBUzs7Ozs7O3NDQUdwRCw4REFBQ1E7NEJBQU9ILFdBQVcsQ0FBQyxZQUFZLEVBQUVILFlBQVksV0FBVyxXQUFXLEdBQUcsQ0FBQzs0QkFBRU8sU0FBU047c0NBQ2hGSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNYiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2dyb3VwL0NvbmZpcm1BY3Rpb25Nb2RhbC50c3g/YTZiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uLy4uL3N0eWxlcy9ncm91cC1tb2RhbHMuY3NzJztcclxuXHJcbmludGVyZmFjZSBDb25maXJtQWN0aW9uTW9kYWxQcm9wcyB7XHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBjb25maXJtTGFiZWw/OiBzdHJpbmc7XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBvbkNvbmZpcm06ICgpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xyXG4gIHZhcmlhbnQ/OiAnZGFuZ2VyJyB8ICdkZWZhdWx0JztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENvbmZpcm1BY3Rpb25Nb2RhbCh7XHJcbiAgaXNPcGVuLFxyXG4gIHRpdGxlLFxyXG4gIGRlc2NyaXB0aW9uLFxyXG4gIGNvbmZpcm1MYWJlbCA9ICdYw6FjIG5o4bqtbicsXHJcbiAgb25DbG9zZSxcclxuICBvbkNvbmZpcm0sXHJcbiAgdmFyaWFudCA9ICdkYW5nZXInLFxyXG59OiBDb25maXJtQWN0aW9uTW9kYWxQcm9wcykge1xyXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29uZmlybSA9IGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IG9uQ29uZmlybSgpO1xyXG4gICAgb25DbG9zZSgpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsLW92ZXJsYXlcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1tb2RhbFwiPlxyXG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZ3JvdXAtbW9kYWxfX2hlYWRlclwiPlxyXG4gICAgICAgICAgPGgyPnt0aXRsZX08L2gyPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfT7inJU8L2J1dHRvbj5cclxuICAgICAgICA8L2hlYWRlcj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsX19ib2R5XCI+XHJcbiAgICAgICAgICA8cD57ZGVzY3JpcHRpb259PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwiZ3JvdXAtbW9kYWxfX2Zvb3RlclwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgIEjhu6d5XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtgcHJpbWFyeS1idG4gJHt2YXJpYW50ID09PSAnZGFuZ2VyJyA/ICdkYW5nZXInIDogJyd9YH0gb25DbGljaz17aGFuZGxlQ29uZmlybX0+XHJcbiAgICAgICAgICAgIHtjb25maXJtTGFiZWx9XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Zvb3Rlcj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiQ29uZmlybUFjdGlvbk1vZGFsIiwiaXNPcGVuIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNvbmZpcm1MYWJlbCIsIm9uQ2xvc2UiLCJvbkNvbmZpcm0iLCJ2YXJpYW50IiwiaGFuZGxlQ29uZmlybSIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImgyIiwiYnV0dG9uIiwib25DbGljayIsInAiLCJmb290ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/ConfirmActionModal.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/GroupInfoPanel.tsx":
/*!**************************************************************!*\
  !*** ../../packages/app/components/group/GroupInfoPanel.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupInfoPanel: () => (/* binding */ GroupInfoPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _styles_group_info_panel_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/group-info-panel.css */ \"(ssr)/../../packages/app/styles/group-info-panel.css\");\n/* harmony import */ var _MemberRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MemberRow */ \"(ssr)/../../packages/app/components/group/MemberRow.tsx\");\n\n\n\n\n\nfunction GroupInfoPanel({ conversation, currentUserId, onAddMembers, onRemoveMember, onLeaveGroup, onMakeAdmin, onRemoveAdmin, onChangeInfo, onGenerateInvite, inviteLink, isGeneratingInvite }) {\n    const [showMembers, setShowMembers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [membersInfo, setMembersInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [copyState, setCopyState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const isAdmin = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>conversation.admins?.some((id)=>id === currentUserId), [\n        conversation.admins,\n        currentUserId\n    ]);\n    const members = conversation.members || [];\n    const admins = conversation.admins || [];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        async function loadMembers() {\n            if (!conversation.isGroup || !members.length) {\n                setMembersInfo([]);\n                return;\n            }\n            const memberIds = members.map((m)=>typeof m === \"string\" ? m : String(m));\n            try {\n                const res = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.getUsersByIds)(memberIds);\n                if (!active) return;\n                const mapped = res.users.map((user)=>({\n                        _id: user._id,\n                        name: user.name || user.username || user.email || user._id,\n                        avatar: user.avatar,\n                        email: user.email\n                    }));\n                setMembersInfo(mapped);\n            } catch (err) {\n                console.error(\"Failed to load member info\", err);\n            }\n        }\n        loadMembers();\n        return ()=>{\n            active = false;\n        };\n    }, [\n        conversation._id,\n        conversation.isGroup,\n        members\n    ]);\n    const getMemberInfo = (memberId)=>{\n        return membersInfo?.find((info)=>info._id === memberId);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group-info-panel\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"group-info-avatar\",\n                                children: conversation.groupAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: conversation.groupAvatar,\n                                    alt: \"\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                    lineNumber: 87,\n                                    columnNumber: 41\n                                }, this) : \"\\uD83D\\uDC65\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                lineNumber: 86,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"group-info-title\",\n                                        children: conversation.title || `Nhm (${members.length})`\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                        lineNumber: 90,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"group-info-subtitle\",\n                                        children: [\n                                            members.length,\n                                            \" th\\xe0nh vi\\xean\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                lineNumber: 89,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 85,\n                        columnNumber: 9\n                    }, this),\n                    isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"group-info-action\",\n                        onClick: onChangeInfo,\n                        children: \"Chnh sa t\\xean/nh nh\\xf3m\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 95,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                lineNumber: 84,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-row\",\n                        onClick: ()=>setShowMembers((prev)=>!prev),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Th\\xe0nh vi\\xean\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                lineNumber: 103,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    showMembers ? \"n\" : \"Xem\",\n                                    \" (\",\n                                    members.length,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                lineNumber: 104,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 102,\n                        columnNumber: 9\n                    }, this),\n                    showMembers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-member-list\",\n                        children: members.map((memberId)=>{\n                            const info = getMemberInfo(memberId);\n                            const isMemberAdmin = admins.includes(memberId);\n                            const isSelf = memberId === currentUserId;\n                            const canManage = Boolean(isAdmin);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MemberRow__WEBPACK_IMPORTED_MODULE_4__.MemberRow, {\n                                memberId: memberId,\n                                name: info?.name,\n                                email: info?.email,\n                                avatar: info?.avatar,\n                                isAdmin: isMemberAdmin,\n                                isSelf: isSelf,\n                                canManage: canManage,\n                                onMakeAdmin: onMakeAdmin,\n                                onRemoveAdmin: onRemoveAdmin,\n                                onRemove: onRemoveMember\n                            }, memberId, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                lineNumber: 116,\n                                columnNumber: 17\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                lineNumber: 101,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"group-info-action\",\n                        onClick: onAddMembers,\n                        children: \"Th\\xeam th\\xe0nh vi\\xean\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 11\n                    }, this),\n                    isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"group-info-invite\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"group-info-action\",\n                                onClick: onGenerateInvite,\n                                disabled: isGeneratingInvite,\n                                children: isGeneratingInvite ? \"ang to link...\" : \"To link mi\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                lineNumber: 143,\n                                columnNumber: 13\n                            }, this),\n                            inviteLink && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"invite-link-box\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"invite-link-text\",\n                                                title: inviteLink,\n                                                children: inviteLink\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                                lineNumber: 149,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"secondary-btn\",\n                                                onClick: async ()=>{\n                                                    try {\n                                                        await navigator.clipboard?.writeText(inviteLink);\n                                                        setCopyState(\"copied\");\n                                                        setTimeout(()=>setCopyState(\"idle\"), 2000);\n                                                    } catch (err) {\n                                                        console.error(\"Copy failed\", err);\n                                                        setCopyState(\"error\");\n                                                    }\n                                                },\n                                                children: copyState === \"copied\" ? \"\\xe3 sao ch\\xe9p\" : \"Sao ch\\xe9p\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"invite-link-actions\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                className: \"secondary-btn link-button\",\n                                                href: inviteLink,\n                                                target: \"_blank\",\n                                                rel: \"noreferrer\",\n                                                children: \"M link tr\\xean web\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                                lineNumber: 169,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"invite-code-chip\",\n                                                title: \"Chia s m\\xe3  nhp th c\\xf4ng\",\n                                                children: [\n                                                    \"M\\xe3: \",\n                                                    inviteLink.split(\"/\").pop() || inviteLink\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                                lineNumber: 177,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                        lineNumber: 168,\n                                        columnNumber: 17\n                                    }, this),\n                                    copyState === \"error\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"invite-link-hint\",\n                                        children: \"Kh\\xf4ng sao ch\\xe9p c, h\\xe3y b\\xf4i en ng dn ri nhn Ctrl+C.\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                                        lineNumber: 182,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"group-info-action danger\",\n                        onClick: onLeaveGroup,\n                        children: \"Ri nh\\xf3m\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                        lineNumber: 190,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n                lineNumber: 135,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\GroupInfoPanel.tsx\",\n        lineNumber: 83,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvR3JvdXBJbmZvUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFxRDtBQUNnQjtBQUMxQjtBQUNIO0FBdUJqQyxTQUFTSyxlQUFlLEVBQzdCQyxZQUFZLEVBQ1pDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxjQUFjLEVBQ2RDLFlBQVksRUFDWkMsV0FBVyxFQUNYQyxhQUFhLEVBQ2JDLFlBQVksRUFDWkMsZ0JBQWdCLEVBQ2hCQyxVQUFVLEVBQ1ZDLGtCQUFrQixFQUNFO0lBQ3BCLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHaEIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDaUIsYUFBYUMsZUFBZSxHQUFHbEIsK0NBQVFBLENBQWUsRUFBRTtJQUMvRCxNQUFNLENBQUNtQixXQUFXQyxhQUFhLEdBQUdwQiwrQ0FBUUEsQ0FBOEI7SUFDeEUsTUFBTXFCLFVBQVV0Qiw4Q0FBT0EsQ0FDckIsSUFBTUssYUFBYWtCLE1BQU0sRUFBRUMsS0FBSyxDQUFDQyxLQUFPQSxPQUFPbkIsZ0JBQy9DO1FBQUNELGFBQWFrQixNQUFNO1FBQUVqQjtLQUFjO0lBRXRDLE1BQU1vQixVQUFVckIsYUFBYXFCLE9BQU8sSUFBSSxFQUFFO0lBQzFDLE1BQU1ILFNBQVNsQixhQUFha0IsTUFBTSxJQUFJLEVBQUU7SUFFeEN4QixnREFBU0EsQ0FBQztRQUNSLElBQUk0QixTQUFTO1FBQ2IsZUFBZUM7WUFDYixJQUFJLENBQUN2QixhQUFhd0IsT0FBTyxJQUFJLENBQUNILFFBQVFJLE1BQU0sRUFBRTtnQkFDNUNYLGVBQWUsRUFBRTtnQkFDakI7WUFDRjtZQUNBLE1BQU1ZLFlBQVlMLFFBQVFNLEdBQUcsQ0FBQyxDQUFDQyxJQUFPLE9BQU9BLE1BQU0sV0FBV0EsSUFBSUMsT0FBT0Q7WUFDekUsSUFBSTtnQkFDRixNQUFNRSxNQUFNLE1BQU1qQyxtREFBYUEsQ0FBQzZCO2dCQUNoQyxJQUFJLENBQUNKLFFBQVE7Z0JBQ2IsTUFBTVMsU0FBdUJELElBQUlFLEtBQUssQ0FBQ0wsR0FBRyxDQUFDLENBQUNNLE9BQXVCO3dCQUNqRUMsS0FBS0QsS0FBS0MsR0FBRzt3QkFDYkMsTUFBTUYsS0FBS0UsSUFBSSxJQUFJRixLQUFLRyxRQUFRLElBQUlILEtBQUtJLEtBQUssSUFBSUosS0FBS0MsR0FBRzt3QkFDMURJLFFBQVFMLEtBQUtLLE1BQU07d0JBQ25CRCxPQUFPSixLQUFLSSxLQUFLO29CQUNuQjtnQkFDQXZCLGVBQWVpQjtZQUNqQixFQUFFLE9BQU9RLEtBQUs7Z0JBQ1pDLFFBQVFDLEtBQUssQ0FBQyw4QkFBOEJGO1lBQzlDO1FBQ0Y7UUFDQWhCO1FBQ0EsT0FBTztZQUNMRCxTQUFTO1FBQ1g7SUFDRixHQUFHO1FBQUN0QixhQUFha0MsR0FBRztRQUFFbEMsYUFBYXdCLE9BQU87UUFBRUg7S0FBUTtJQUVwRCxNQUFNcUIsZ0JBQWdCLENBQUNDO1FBQ3JCLE9BQU85QixhQUFhK0IsS0FBSyxDQUFDQyxPQUFTQSxLQUFLWCxHQUFHLEtBQUtTO0lBQ2xEO0lBRUEscUJBQ0UsOERBQUNHO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7MENBQ1ovQyxhQUFhZ0QsV0FBVyxpQkFBRyw4REFBQ0M7b0NBQUlDLEtBQUtsRCxhQUFhZ0QsV0FBVztvQ0FBRUcsS0FBSTs7Ozs7MkNBQVE7Ozs7OzswQ0FFOUUsOERBQUNMOztrREFDQyw4REFBQ0E7d0NBQUlDLFdBQVU7a0RBQW9CL0MsYUFBYW9ELEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRS9CLFFBQVFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7Ozs7OztrREFDbkYsOERBQUNxQjt3Q0FBSUMsV0FBVTs7NENBQXVCMUIsUUFBUUksTUFBTTs0Q0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFHeERSLHlCQUNDLDhEQUFDb0M7d0JBQU9OLFdBQVU7d0JBQW9CTyxTQUFTL0M7a0NBQWM7Ozs7Ozs7Ozs7OzswQkFNakUsOERBQUN1QztnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO3dCQUFpQk8sU0FBUyxJQUFNMUMsZUFBZSxDQUFDMkMsT0FBUyxDQUFDQTs7MENBQ3ZFLDhEQUFDQzswQ0FBSzs7Ozs7OzBDQUNOLDhEQUFDQTs7b0NBQ0U3QyxjQUFjLE9BQU87b0NBQU07b0NBQUdVLFFBQVFJLE1BQU07b0NBQUM7Ozs7Ozs7Ozs7Ozs7b0JBR2pEZCw2QkFDQyw4REFBQ21DO3dCQUFJQyxXQUFVO2tDQUNaMUIsUUFBUU0sR0FBRyxDQUFDLENBQUNnQjs0QkFDWixNQUFNRSxPQUFPSCxjQUFjQzs0QkFDM0IsTUFBTWMsZ0JBQWdCdkMsT0FBT3dDLFFBQVEsQ0FBQ2Y7NEJBQ3RDLE1BQU1nQixTQUFTaEIsYUFBYTFDOzRCQUM1QixNQUFNMkQsWUFBWUMsUUFBUTVDOzRCQUMxQixxQkFDRSw4REFBQ25CLGlEQUFTQTtnQ0FFUjZDLFVBQVVBO2dDQUNWUixNQUFNVSxNQUFNVjtnQ0FDWkUsT0FBT1EsTUFBTVI7Z0NBQ2JDLFFBQVFPLE1BQU1QO2dDQUNkckIsU0FBU3dDO2dDQUNURSxRQUFRQTtnQ0FDUkMsV0FBV0E7Z0NBQ1h2RCxhQUFhQTtnQ0FDYkMsZUFBZUE7Z0NBQ2Z3RCxVQUFVM0Q7K0JBVkx3Qzs7Ozs7d0JBYVg7Ozs7Ozs7Ozs7OzswQkFLTiw4REFBQ0c7Z0JBQUlDLFdBQVU7O29CQUNaOUIseUJBQ0MsOERBQUNvQzt3QkFBT04sV0FBVTt3QkFBb0JPLFNBQVNwRDtrQ0FBYzs7Ozs7O29CQUk5RGUseUJBQ0MsOERBQUM2Qjt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNNO2dDQUFPTixXQUFVO2dDQUFvQk8sU0FBUzlDO2dDQUFrQnVELFVBQVVyRDswQ0FDeEVBLHFCQUFxQixxQkFBcUI7Ozs7Ozs0QkFFNUNELDRCQUNDOztrREFDRSw4REFBQ3FDO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ0Q7Z0RBQUlDLFdBQVU7Z0RBQW1CSyxPQUFPM0M7MERBQ3RDQTs7Ozs7OzBEQUVILDhEQUFDNEM7Z0RBQ0NOLFdBQVU7Z0RBQ1ZPLFNBQVM7b0RBQ1AsSUFBSTt3REFDRixNQUFNVSxVQUFVQyxTQUFTLEVBQUVDLFVBQVV6RDt3REFDckNPLGFBQWE7d0RBQ2JtRCxXQUFXLElBQU1uRCxhQUFhLFNBQVM7b0RBQ3pDLEVBQUUsT0FBT3VCLEtBQUs7d0RBQ1pDLFFBQVFDLEtBQUssQ0FBQyxlQUFlRjt3REFDN0J2QixhQUFhO29EQUNmO2dEQUNGOzBEQUVDRCxjQUFjLFdBQVcsc0JBQWdCOzs7Ozs7Ozs7Ozs7a0RBRzlDLDhEQUFDK0I7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDcUI7Z0RBQ0NyQixXQUFVO2dEQUNWc0IsTUFBTTVEO2dEQUNONkQsUUFBTztnREFDUEMsS0FBSTswREFDTDs7Ozs7OzBEQUdILDhEQUFDekI7Z0RBQUlDLFdBQVU7Z0RBQW1CSyxPQUFNOztvREFBOEI7b0RBQy9EM0MsV0FBVytELEtBQUssQ0FBQyxLQUFLQyxHQUFHLE1BQU1oRTs7Ozs7Ozs7Ozs7OztvQ0FHckNNLGNBQWMseUJBQ2IsOERBQUMrQjt3Q0FBSUMsV0FBVTtrREFBbUI7Ozs7Ozs7Ozs7Ozs7O2tDQVE1Qyw4REFBQ007d0JBQU9OLFdBQVU7d0JBQTJCTyxTQUFTbEQ7a0NBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU01RSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2dyb3VwL0dyb3VwSW5mb1BhbmVsLnRzeD84MThmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IENvbnZlcnNhdGlvbiwgZ2V0VXNlcnNCeUlkcywgVXNlclByb2ZpbGUgfSBmcm9tICcuLi8uLi9hcGknO1xyXG5pbXBvcnQgJy4uLy4uL3N0eWxlcy9ncm91cC1pbmZvLXBhbmVsLmNzcyc7XHJcbmltcG9ydCB7IE1lbWJlclJvdyB9IGZyb20gJy4vTWVtYmVyUm93JztcclxuXHJcbmludGVyZmFjZSBNZW1iZXJJbmZvIHtcclxuICBfaWQ6IHN0cmluZztcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIGF2YXRhcj86IHN0cmluZztcclxuICBlbWFpbD86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEdyb3VwSW5mb1BhbmVsUHJvcHMge1xyXG4gIGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uO1xyXG4gIGN1cnJlbnRVc2VySWQ6IHN0cmluZztcclxuICBvbkFkZE1lbWJlcnM/OiAoKSA9PiB2b2lkO1xyXG4gIG9uUmVtb3ZlTWVtYmVyPzogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uTGVhdmVHcm91cD86ICgpID0+IHZvaWQ7XHJcbiAgb25NYWtlQWRtaW4/OiAodXNlcklkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25SZW1vdmVBZG1pbj86ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBvbkNoYW5nZUluZm8/OiAoKSA9PiB2b2lkO1xyXG4gIG9uR2VuZXJhdGVJbnZpdGU/OiAoKSA9PiB2b2lkO1xyXG4gIGludml0ZUxpbms/OiBzdHJpbmc7XHJcbiAgaXNHZW5lcmF0aW5nSW52aXRlPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdyb3VwSW5mb1BhbmVsKHtcclxuICBjb252ZXJzYXRpb24sXHJcbiAgY3VycmVudFVzZXJJZCxcclxuICBvbkFkZE1lbWJlcnMsXHJcbiAgb25SZW1vdmVNZW1iZXIsXHJcbiAgb25MZWF2ZUdyb3VwLFxyXG4gIG9uTWFrZUFkbWluLFxyXG4gIG9uUmVtb3ZlQWRtaW4sXHJcbiAgb25DaGFuZ2VJbmZvLFxyXG4gIG9uR2VuZXJhdGVJbnZpdGUsXHJcbiAgaW52aXRlTGluayxcclxuICBpc0dlbmVyYXRpbmdJbnZpdGUsXHJcbn06IEdyb3VwSW5mb1BhbmVsUHJvcHMpIHtcclxuICBjb25zdCBbc2hvd01lbWJlcnMsIHNldFNob3dNZW1iZXJzXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFttZW1iZXJzSW5mbywgc2V0TWVtYmVyc0luZm9dID0gdXNlU3RhdGU8TWVtYmVySW5mb1tdPihbXSk7XHJcbiAgY29uc3QgW2NvcHlTdGF0ZSwgc2V0Q29weVN0YXRlXSA9IHVzZVN0YXRlPCdpZGxlJyB8ICdjb3BpZWQnIHwgJ2Vycm9yJz4oJ2lkbGUnKTtcclxuICBjb25zdCBpc0FkbWluID0gdXNlTWVtbyhcclxuICAgICgpID0+IGNvbnZlcnNhdGlvbi5hZG1pbnM/LnNvbWUoKGlkKSA9PiBpZCA9PT0gY3VycmVudFVzZXJJZCksXHJcbiAgICBbY29udmVyc2F0aW9uLmFkbWlucywgY3VycmVudFVzZXJJZF1cclxuICApO1xyXG4gIGNvbnN0IG1lbWJlcnMgPSBjb252ZXJzYXRpb24ubWVtYmVycyB8fCBbXTtcclxuICBjb25zdCBhZG1pbnMgPSBjb252ZXJzYXRpb24uYWRtaW5zIHx8IFtdO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGFjdGl2ZSA9IHRydWU7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkTWVtYmVycygpIHtcclxuICAgICAgaWYgKCFjb252ZXJzYXRpb24uaXNHcm91cCB8fCAhbWVtYmVycy5sZW5ndGgpIHtcclxuICAgICAgICBzZXRNZW1iZXJzSW5mbyhbXSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IG1lbWJlcklkcyA9IG1lbWJlcnMubWFwKChtKSA9PiAodHlwZW9mIG0gPT09ICdzdHJpbmcnID8gbSA6IFN0cmluZyhtKSkpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFVzZXJzQnlJZHMobWVtYmVySWRzKTtcclxuICAgICAgICBpZiAoIWFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IG1hcHBlZDogTWVtYmVySW5mb1tdID0gcmVzLnVzZXJzLm1hcCgodXNlcjogVXNlclByb2ZpbGUpID0+ICh7XHJcbiAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lIHx8IHVzZXIudXNlcm5hbWUgfHwgdXNlci5lbWFpbCB8fCB1c2VyLl9pZCxcclxuICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgc2V0TWVtYmVyc0luZm8obWFwcGVkKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgbWVtYmVyIGluZm8nLCBlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2FkTWVtYmVycygpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gIH0sIFtjb252ZXJzYXRpb24uX2lkLCBjb252ZXJzYXRpb24uaXNHcm91cCwgbWVtYmVyc10pO1xyXG5cclxuICBjb25zdCBnZXRNZW1iZXJJbmZvID0gKG1lbWJlcklkOiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiBtZW1iZXJzSW5mbz8uZmluZCgoaW5mbykgPT4gaW5mby5faWQgPT09IG1lbWJlcklkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLXBhbmVsXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1zZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWhlYWRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWF2YXRhclwiPlxyXG4gICAgICAgICAgICB7Y29udmVyc2F0aW9uLmdyb3VwQXZhdGFyID8gPGltZyBzcmM9e2NvbnZlcnNhdGlvbi5ncm91cEF2YXRhcn0gYWx0PVwiXCIgLz4gOiAn8J+RpSd9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby10aXRsZVwiPntjb252ZXJzYXRpb24udGl0bGUgfHwgYE5ow7NtICgke21lbWJlcnMubGVuZ3RofSlgfTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tc3VidGl0bGVcIj57bWVtYmVycy5sZW5ndGh9IHRow6BuaCB2acOqbjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge2lzQWRtaW4gJiYgKFxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWFjdGlvblwiIG9uQ2xpY2s9e29uQ2hhbmdlSW5mb30+XHJcbiAgICAgICAgICAgIENo4buJbmggc+G7rWEgdMOqbi/huqNuaCBuaMOzbVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8tc2VjdGlvblwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1yb3dcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TWVtYmVycygocHJldikgPT4gIXByZXYpfT5cclxuICAgICAgICAgIDxzcGFuPlRow6BuaCB2acOqbjwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICB7c2hvd01lbWJlcnMgPyAn4bqobicgOiAnWGVtJ30gKHttZW1iZXJzLmxlbmd0aH0pXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge3Nob3dNZW1iZXJzICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtbWVtYmVyLWxpc3RcIj5cclxuICAgICAgICAgICAge21lbWJlcnMubWFwKChtZW1iZXJJZCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBnZXRNZW1iZXJJbmZvKG1lbWJlcklkKTtcclxuICAgICAgICAgICAgICBjb25zdCBpc01lbWJlckFkbWluID0gYWRtaW5zLmluY2x1ZGVzKG1lbWJlcklkKTtcclxuICAgICAgICAgICAgICBjb25zdCBpc1NlbGYgPSBtZW1iZXJJZCA9PT0gY3VycmVudFVzZXJJZDtcclxuICAgICAgICAgICAgICBjb25zdCBjYW5NYW5hZ2UgPSBCb29sZWFuKGlzQWRtaW4pO1xyXG4gICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8TWVtYmVyUm93XHJcbiAgICAgICAgICAgICAgICAgIGtleT17bWVtYmVySWR9XHJcbiAgICAgICAgICAgICAgICAgIG1lbWJlcklkPXttZW1iZXJJZH1cclxuICAgICAgICAgICAgICAgICAgbmFtZT17aW5mbz8ubmFtZX1cclxuICAgICAgICAgICAgICAgICAgZW1haWw9e2luZm8/LmVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICBhdmF0YXI9e2luZm8/LmF2YXRhcn1cclxuICAgICAgICAgICAgICAgICAgaXNBZG1pbj17aXNNZW1iZXJBZG1pbn1cclxuICAgICAgICAgICAgICAgICAgaXNTZWxmPXtpc1NlbGZ9XHJcbiAgICAgICAgICAgICAgICAgIGNhbk1hbmFnZT17Y2FuTWFuYWdlfVxyXG4gICAgICAgICAgICAgICAgICBvbk1ha2VBZG1pbj17b25NYWtlQWRtaW59XHJcbiAgICAgICAgICAgICAgICAgIG9uUmVtb3ZlQWRtaW49e29uUmVtb3ZlQWRtaW59XHJcbiAgICAgICAgICAgICAgICAgIG9uUmVtb3ZlPXtvblJlbW92ZU1lbWJlcn1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1zZWN0aW9uXCI+XHJcbiAgICAgICAge2lzQWRtaW4gJiYgKFxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJncm91cC1pbmZvLWFjdGlvblwiIG9uQ2xpY2s9e29uQWRkTWVtYmVyc30+XHJcbiAgICAgICAgICAgIFRow6ptIHRow6BuaCB2acOqblxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7aXNBZG1pbiAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLWluZm8taW52aXRlXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1hY3Rpb25cIiBvbkNsaWNrPXtvbkdlbmVyYXRlSW52aXRlfSBkaXNhYmxlZD17aXNHZW5lcmF0aW5nSW52aXRlfT5cclxuICAgICAgICAgICAgICB7aXNHZW5lcmF0aW5nSW52aXRlID8gJ8SQYW5nIHThuqFvIGxpbmsuLi4nIDogJ1ThuqFvIGxpbmsgbeG7nWknfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAge2ludml0ZUxpbmsgJiYgKFxyXG4gICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImludml0ZS1saW5rLWJveFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImludml0ZS1saW5rLXRleHRcIiB0aXRsZT17aW52aXRlTGlua30+XHJcbiAgICAgICAgICAgICAgICAgICAge2ludml0ZUxpbmt9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZD8ud3JpdGVUZXh0KGludml0ZUxpbmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDb3B5U3RhdGUoJ2NvcGllZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcHlTdGF0ZSgnaWRsZScpLCAyMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb3B5IGZhaWxlZCcsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvcHlTdGF0ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvcHlTdGF0ZSA9PT0gJ2NvcGllZCcgPyAnxJDDoyBzYW8gY2jDqXAnIDogJ1NhbyBjaMOpcCd9XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImludml0ZS1saW5rLWFjdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuIGxpbmstYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICBocmVmPXtpbnZpdGVMaW5rfVxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9yZWZlcnJlclwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBN4bufIGxpbmsgdHLDqm4gd2ViXHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW52aXRlLWNvZGUtY2hpcFwiIHRpdGxlPVwiQ2hpYSBz4bq7IG3DoyDEkeG7gyBuaOG6rXAgdGjhu6cgY8O0bmdcIj5cclxuICAgICAgICAgICAgICAgICAgTcOjOiB7aW52aXRlTGluay5zcGxpdCgnLycpLnBvcCgpIHx8IGludml0ZUxpbmt9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge2NvcHlTdGF0ZSA9PT0gJ2Vycm9yJyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW52aXRlLWxpbmstaGludFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEtow7RuZyBzYW8gY2jDqXAgxJHGsOG7o2MsIGjDo3kgYsO0aSDEkWVuIMSRxrDhu51uZyBk4bqrbiBy4buTaSBuaOG6pW4gQ3RybCtDLlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZ3JvdXAtaW5mby1hY3Rpb24gZGFuZ2VyXCIgb25DbGljaz17b25MZWF2ZUdyb3VwfT5cclxuICAgICAgICAgIFLhu51pIG5ow7NtXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsImdldFVzZXJzQnlJZHMiLCJNZW1iZXJSb3ciLCJHcm91cEluZm9QYW5lbCIsImNvbnZlcnNhdGlvbiIsImN1cnJlbnRVc2VySWQiLCJvbkFkZE1lbWJlcnMiLCJvblJlbW92ZU1lbWJlciIsIm9uTGVhdmVHcm91cCIsIm9uTWFrZUFkbWluIiwib25SZW1vdmVBZG1pbiIsIm9uQ2hhbmdlSW5mbyIsIm9uR2VuZXJhdGVJbnZpdGUiLCJpbnZpdGVMaW5rIiwiaXNHZW5lcmF0aW5nSW52aXRlIiwic2hvd01lbWJlcnMiLCJzZXRTaG93TWVtYmVycyIsIm1lbWJlcnNJbmZvIiwic2V0TWVtYmVyc0luZm8iLCJjb3B5U3RhdGUiLCJzZXRDb3B5U3RhdGUiLCJpc0FkbWluIiwiYWRtaW5zIiwic29tZSIsImlkIiwibWVtYmVycyIsImFjdGl2ZSIsImxvYWRNZW1iZXJzIiwiaXNHcm91cCIsImxlbmd0aCIsIm1lbWJlcklkcyIsIm1hcCIsIm0iLCJTdHJpbmciLCJyZXMiLCJtYXBwZWQiLCJ1c2VycyIsInVzZXIiLCJfaWQiLCJuYW1lIiwidXNlcm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImdldE1lbWJlckluZm8iLCJtZW1iZXJJZCIsImZpbmQiLCJpbmZvIiwiZGl2IiwiY2xhc3NOYW1lIiwiZ3JvdXBBdmF0YXIiLCJpbWciLCJzcmMiLCJhbHQiLCJ0aXRsZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwcmV2Iiwic3BhbiIsImlzTWVtYmVyQWRtaW4iLCJpbmNsdWRlcyIsImlzU2VsZiIsImNhbk1hbmFnZSIsIkJvb2xlYW4iLCJvblJlbW92ZSIsImRpc2FibGVkIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2V0VGltZW91dCIsImEiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwic3BsaXQiLCJwb3AiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/GroupInfoPanel.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/MemberRow.tsx":
/*!*********************************************************!*\
  !*** ../../packages/app/components/group/MemberRow.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemberRow: () => (/* binding */ MemberRow)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_group_info_panel_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/group-info-panel.css */ \"(ssr)/../../packages/app/styles/group-info-panel.css\");\n\n\nfunction MemberRow({ memberId, name, email, avatar, isAdmin, isSelf, canManage, onMakeAdmin, onRemoveAdmin, onRemove }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group-member-item\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"member-info\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"member-avatar\",\n                        children: avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: avatar,\n                            alt: name || memberId\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                            lineNumber: 32,\n                            columnNumber: 21\n                        }, this) : (name || memberId).slice(0, 2).toUpperCase()\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"member-meta\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: name || memberId\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                                lineNumber: 35,\n                                columnNumber: 11\n                            }, this),\n                            isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"badge-admin\",\n                                children: \"Admin\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                                lineNumber: 36,\n                                columnNumber: 23\n                            }, this),\n                            email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"member-email\",\n                                children: email\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                                lineNumber: 37,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"member-actions\",\n                children: canManage && !isSelf && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        isAdmin ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onRemoveAdmin?.(memberId),\n                            children: \"B admin\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                            lineNumber: 44,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onMakeAdmin?.(memberId),\n                            children: \"Chn admin\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                            lineNumber: 46,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onRemove?.(memberId),\n                            children: \"X\\xf3a\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                            lineNumber: 48,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\MemberRow.tsx\",\n        lineNumber: 29,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvTWVtYmVyUm93LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyQztBQWVwQyxTQUFTQSxVQUFVLEVBQ3hCQyxRQUFRLEVBQ1JDLElBQUksRUFDSkMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsTUFBTSxFQUNOQyxTQUFTLEVBQ1RDLFdBQVcsRUFDWEMsYUFBYSxFQUNiQyxRQUFRLEVBQ087SUFDZixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQ1pSLHVCQUFTLDhEQUFDUzs0QkFBSUMsS0FBS1Y7NEJBQVFXLEtBQUtiLFFBQVFEOzs7OzttQ0FBZSxDQUFDQyxRQUFRRCxRQUFPLEVBQUdlLEtBQUssQ0FBQyxHQUFHLEdBQUdDLFdBQVc7Ozs7OztrQ0FFcEcsOERBQUNOO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7MENBQUtULFFBQVFEOzs7Ozs7NEJBQ2JJLHlCQUFXLDhEQUFDYTtnQ0FBS04sV0FBVTswQ0FBYzs7Ozs7OzRCQUN6Q1QsdUJBQVMsOERBQUNlO2dDQUFLTixXQUFVOzBDQUFnQlQ7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFHOUMsOERBQUNRO2dCQUFJQyxXQUFVOzBCQUNaTCxhQUFhLENBQUNELHdCQUNiOzt3QkFDR0Qsd0JBQ0MsOERBQUNjOzRCQUFPQyxTQUFTLElBQU1YLGdCQUFnQlI7c0NBQVc7Ozs7O2lEQUVsRCw4REFBQ2tCOzRCQUFPQyxTQUFTLElBQU1aLGNBQWNQO3NDQUFXOzs7Ozs7c0NBRWxELDhEQUFDa0I7NEJBQU9DLFNBQVMsSUFBTVYsV0FBV1Q7c0NBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNekQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9ncm91cC9NZW1iZXJSb3cudHN4P2I3N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi8uLi9zdHlsZXMvZ3JvdXAtaW5mby1wYW5lbC5jc3MnO1xyXG5cclxuaW50ZXJmYWNlIE1lbWJlclJvd1Byb3BzIHtcclxuICBtZW1iZXJJZDogc3RyaW5nO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgZW1haWw/OiBzdHJpbmc7XHJcbiAgYXZhdGFyPzogc3RyaW5nO1xyXG4gIGlzQWRtaW46IGJvb2xlYW47XHJcbiAgaXNTZWxmOiBib29sZWFuO1xyXG4gIGNhbk1hbmFnZTogYm9vbGVhbjtcclxuICBvbk1ha2VBZG1pbj86ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBvblJlbW92ZUFkbWluPzogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uUmVtb3ZlPzogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTWVtYmVyUm93KHtcclxuICBtZW1iZXJJZCxcclxuICBuYW1lLFxyXG4gIGVtYWlsLFxyXG4gIGF2YXRhcixcclxuICBpc0FkbWluLFxyXG4gIGlzU2VsZixcclxuICBjYW5NYW5hZ2UsXHJcbiAgb25NYWtlQWRtaW4sXHJcbiAgb25SZW1vdmVBZG1pbixcclxuICBvblJlbW92ZSxcclxufTogTWVtYmVyUm93UHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC1tZW1iZXItaXRlbVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lbWJlci1pbmZvXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZW1iZXItYXZhdGFyXCI+XHJcbiAgICAgICAgICB7YXZhdGFyID8gPGltZyBzcmM9e2F2YXRhcn0gYWx0PXtuYW1lIHx8IG1lbWJlcklkfSAvPiA6IChuYW1lIHx8IG1lbWJlcklkKS5zbGljZSgwLCAyKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVtYmVyLW1ldGFcIj5cclxuICAgICAgICAgIDxkaXY+e25hbWUgfHwgbWVtYmVySWR9PC9kaXY+XHJcbiAgICAgICAgICB7aXNBZG1pbiAmJiA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZS1hZG1pblwiPkFkbWluPC9zcGFuPn1cclxuICAgICAgICAgIHtlbWFpbCAmJiA8c3BhbiBjbGFzc05hbWU9XCJtZW1iZXItZW1haWxcIj57ZW1haWx9PC9zcGFuPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVtYmVyLWFjdGlvbnNcIj5cclxuICAgICAgICB7Y2FuTWFuYWdlICYmICFpc1NlbGYgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAge2lzQWRtaW4gPyAoXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvblJlbW92ZUFkbWluPy4obWVtYmVySWQpfT5C4buPIGFkbWluPC9idXR0b24+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvbk1ha2VBZG1pbj8uKG1lbWJlcklkKX0+Q2jhu41uIGFkbWluPC9idXR0b24+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25SZW1vdmU/LihtZW1iZXJJZCl9PljDs2E8L2J1dHRvbj5cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIk1lbWJlclJvdyIsIm1lbWJlcklkIiwibmFtZSIsImVtYWlsIiwiYXZhdGFyIiwiaXNBZG1pbiIsImlzU2VsZiIsImNhbk1hbmFnZSIsIm9uTWFrZUFkbWluIiwib25SZW1vdmVBZG1pbiIsIm9uUmVtb3ZlIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW1nIiwic3JjIiwiYWx0Iiwic2xpY2UiLCJ0b1VwcGVyQ2FzZSIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/MemberRow.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/UpdateGroupInfoModal.tsx":
/*!********************************************************************!*\
  !*** ../../packages/app/components/group/UpdateGroupInfoModal.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UpdateGroupInfoModal: () => (/* binding */ UpdateGroupInfoModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_group_modals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styles/group-modals.css */ \"(ssr)/../../packages/app/styles/group-modals.css\");\n\n\n\nfunction UpdateGroupInfoModal({ isOpen, onClose, onSave, initialTitle, initialAvatar }) {\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialTitle || \"\");\n    const [avatar, setAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialAvatar || \"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setTitle(initialTitle || \"\");\n            setAvatar(initialAvatar || \"\");\n            setError(null);\n        }\n    }, [\n        isOpen,\n        initialTitle,\n        initialAvatar\n    ]);\n    const handleSubmit = async ()=>{\n        if (!title.trim()) {\n            setError(\"T\\xean nh\\xf3m kh\\xf4ng c  trng\");\n            return;\n        }\n        try {\n            setSaving(true);\n            await onSave({\n                title: title.trim(),\n                avatar: avatar.trim() || undefined\n            });\n            onClose();\n        } catch (err) {\n            console.error(\"Update group info error\", err);\n            setError(err?.response?.data?.error || \"Kh\\xf4ng th cp nht nh\\xf3m\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"group-modal-overlay\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"group-modal\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"group-modal__header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Chnh sa nh\\xf3m\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 55,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 56,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                    lineNumber: 54,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"group-modal__body\",\n                    children: [\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"error-message\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 59,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            children: \"T\\xean nh\\xf3m\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            value: title,\n                            onChange: (e)=>setTitle(e.target.value),\n                            placeholder: \"Nhp t\\xean nh\\xf3m mi\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            children: \"nh nh\\xf3m (URL)\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 63,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            value: avatar,\n                            onChange: (e)=>setAvatar(e.target.value),\n                            placeholder: \"https://...\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 64,\n                            columnNumber: 11\n                        }, this),\n                        avatar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"preview-avatar\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: avatar,\n                                alt: \"preview\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 66,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"group-modal__footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            disabled: saving,\n                            children: \"Hy\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"primary-btn\",\n                            onClick: handleSubmit,\n                            disabled: saving,\n                            children: saving ? \"ang lu...\" : \"Lu\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                            lineNumber: 75,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n            lineNumber: 53,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\group\\\\UpdateGroupInfoModal.tsx\",\n        lineNumber: 52,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvVXBkYXRlR3JvdXBJbmZvTW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNEM7QUFDTDtBQVVoQyxTQUFTRSxxQkFBcUIsRUFDbkNDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxNQUFNLEVBQ05DLFlBQVksRUFDWkMsYUFBYSxFQUNhO0lBQzFCLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHVCwrQ0FBUUEsQ0FBQ00sZ0JBQWdCO0lBQ25ELE1BQU0sQ0FBQ0ksUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQ08saUJBQWlCO0lBQ3RELE1BQU0sQ0FBQ0ssT0FBT0MsU0FBUyxHQUFHYiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDYyxRQUFRQyxVQUFVLEdBQUdmLCtDQUFRQSxDQUFDO0lBRXJDQyxnREFBU0EsQ0FBQztRQUNSLElBQUlFLFFBQVE7WUFDVk0sU0FBU0gsZ0JBQWdCO1lBQ3pCSyxVQUFVSixpQkFBaUI7WUFDM0JNLFNBQVM7UUFDWDtJQUNGLEdBQUc7UUFBQ1Y7UUFBUUc7UUFBY0M7S0FBYztJQUV4QyxNQUFNUyxlQUFlO1FBQ25CLElBQUksQ0FBQ1IsTUFBTVMsSUFBSSxJQUFJO1lBQ2pCSixTQUFTO1lBQ1Q7UUFDRjtRQUNBLElBQUk7WUFDRkUsVUFBVTtZQUNWLE1BQU1WLE9BQU87Z0JBQUVHLE9BQU9BLE1BQU1TLElBQUk7Z0JBQUlQLFFBQVFBLE9BQU9PLElBQUksTUFBTUM7WUFBVTtZQUN2RWQ7UUFDRixFQUFFLE9BQU9lLEtBQVU7WUFDakJDLFFBQVFSLEtBQUssQ0FBQywyQkFBMkJPO1lBQ3pDTixTQUFTTSxLQUFLRSxVQUFVQyxNQUFNVixTQUFTO1FBQ3pDLFNBQVU7WUFDUkcsVUFBVTtRQUNaO0lBQ0Y7SUFFQSxJQUFJLENBQUNaLFFBQVEsT0FBTztJQUVwQixxQkFDRSw4REFBQ29CO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNEO1lBQUlDLFdBQVU7OzhCQUNiLDhEQUFDQztvQkFBT0QsV0FBVTs7c0NBQ2hCLDhEQUFDRTtzQ0FBRzs7Ozs7O3NDQUNKLDhEQUFDQzs0QkFBT0MsU0FBU3hCO3NDQUFTOzs7Ozs7Ozs7Ozs7OEJBRTVCLDhEQUFDbUI7b0JBQUlDLFdBQVU7O3dCQUNaWix1QkFBUyw4REFBQ1c7NEJBQUlDLFdBQVU7c0NBQWlCWjs7Ozs7O3NDQUMxQyw4REFBQ2lCO3NDQUFNOzs7Ozs7c0NBQ1AsOERBQUNDOzRCQUFNQyxPQUFPdkI7NEJBQU93QixVQUFVLENBQUNDLElBQU14QixTQUFTd0IsRUFBRUMsTUFBTSxDQUFDSCxLQUFLOzRCQUFHSSxhQUFZOzs7Ozs7c0NBRTVFLDhEQUFDTjtzQ0FBTTs7Ozs7O3NDQUNQLDhEQUFDQzs0QkFBTUMsT0FBT3JCOzRCQUFRc0IsVUFBVSxDQUFDQyxJQUFNdEIsVUFBVXNCLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSzs0QkFBR0ksYUFBWTs7Ozs7O3dCQUM3RXpCLHdCQUNDLDhEQUFDYTs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ1k7Z0NBQUlDLEtBQUszQjtnQ0FBUTRCLEtBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUk1Qiw4REFBQ0M7b0JBQU9mLFdBQVU7O3NDQUNoQiw4REFBQ0c7NEJBQU9ILFdBQVU7NEJBQWdCSSxTQUFTeEI7NEJBQVNvQyxVQUFVMUI7c0NBQVE7Ozs7OztzQ0FHdEUsOERBQUNhOzRCQUFPSCxXQUFVOzRCQUFjSSxTQUFTWjs0QkFBY3dCLFVBQVUxQjtzQ0FDOURBLFNBQVMsZ0JBQWdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU10QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2dyb3VwL1VwZGF0ZUdyb3VwSW5mb01vZGFsLnRzeD82MDFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2dyb3VwLW1vZGFscy5jc3MnO1xyXG5cclxuaW50ZXJmYWNlIFVwZGF0ZUdyb3VwSW5mb01vZGFsUHJvcHMge1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG4gIG9uU2F2ZTogKGRhdGE6IHsgdGl0bGU/OiBzdHJpbmc7IGF2YXRhcj86IHN0cmluZyB9KSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcclxuICBpbml0aWFsVGl0bGU/OiBzdHJpbmc7XHJcbiAgaW5pdGlhbEF2YXRhcj86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0ZUdyb3VwSW5mb01vZGFsKHtcclxuICBpc09wZW4sXHJcbiAgb25DbG9zZSxcclxuICBvblNhdmUsXHJcbiAgaW5pdGlhbFRpdGxlLFxyXG4gIGluaXRpYWxBdmF0YXIsXHJcbn06IFVwZGF0ZUdyb3VwSW5mb01vZGFsUHJvcHMpIHtcclxuICBjb25zdCBbdGl0bGUsIHNldFRpdGxlXSA9IHVzZVN0YXRlKGluaXRpYWxUaXRsZSB8fCAnJyk7XHJcbiAgY29uc3QgW2F2YXRhciwgc2V0QXZhdGFyXSA9IHVzZVN0YXRlKGluaXRpYWxBdmF0YXIgfHwgJycpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgc2V0VGl0bGUoaW5pdGlhbFRpdGxlIHx8ICcnKTtcclxuICAgICAgc2V0QXZhdGFyKGluaXRpYWxBdmF0YXIgfHwgJycpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuLCBpbml0aWFsVGl0bGUsIGluaXRpYWxBdmF0YXJdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCF0aXRsZS50cmltKCkpIHtcclxuICAgICAgc2V0RXJyb3IoJ1TDqm4gbmjDs20ga2jDtG5nIMSRxrDhu6NjIMSR4buDIHRy4buRbmcnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgICBhd2FpdCBvblNhdmUoeyB0aXRsZTogdGl0bGUudHJpbSgpLCBhdmF0YXI6IGF2YXRhci50cmltKCkgfHwgdW5kZWZpbmVkIH0pO1xyXG4gICAgICBvbkNsb3NlKCk7XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVcGRhdGUgZ3JvdXAgaW5mbyBlcnJvcicsIGVycik7XHJcbiAgICAgIHNldEVycm9yKGVycj8ucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8ICdLaMO0bmcgdGjhu4MgY+G6rXAgbmjhuq10IG5ow7NtJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtbW9kYWwtb3ZlcmxheVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsXCI+XHJcbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJncm91cC1tb2RhbF9faGVhZGVyXCI+XHJcbiAgICAgICAgICA8aDI+Q2jhu4luaCBz4butYSBuaMOzbTwvaDI+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9PuKclTwvYnV0dG9uPlxyXG4gICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAtbW9kYWxfX2JvZHlcIj5cclxuICAgICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj57ZXJyb3J9PC9kaXY+fVxyXG4gICAgICAgICAgPGxhYmVsPlTDqm4gbmjDs208L2xhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHZhbHVlPXt0aXRsZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXRUaXRsZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPVwiTmjhuq1wIHTDqm4gbmjDs20gbeG7m2lcIiAvPlxyXG5cclxuICAgICAgICAgIDxsYWJlbD7huqJuaCBuaMOzbSAoVVJMKTwvbGFiZWw+XHJcbiAgICAgICAgICA8aW5wdXQgdmFsdWU9e2F2YXRhcn0gb25DaGFuZ2U9eyhlKSA9PiBzZXRBdmF0YXIoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cImh0dHBzOi8vLi4uXCIgLz5cclxuICAgICAgICAgIHthdmF0YXIgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctYXZhdGFyXCI+XHJcbiAgICAgICAgICAgICAgPGltZyBzcmM9e2F2YXRhcn0gYWx0PVwicHJldmlld1wiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cImdyb3VwLW1vZGFsX19mb290ZXJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiIG9uQ2xpY2s9e29uQ2xvc2V9IGRpc2FibGVkPXtzYXZpbmd9PlxyXG4gICAgICAgICAgICBI4buneVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInByaW1hcnktYnRuXCIgb25DbGljaz17aGFuZGxlU3VibWl0fSBkaXNhYmxlZD17c2F2aW5nfT5cclxuICAgICAgICAgICAge3NhdmluZyA/ICfEkGFuZyBsxrB1Li4uJyA6ICdMxrB1J31cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZm9vdGVyPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlVwZGF0ZUdyb3VwSW5mb01vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU2F2ZSIsImluaXRpYWxUaXRsZSIsImluaXRpYWxBdmF0YXIiLCJ0aXRsZSIsInNldFRpdGxlIiwiYXZhdGFyIiwic2V0QXZhdGFyIiwiZXJyb3IiLCJzZXRFcnJvciIsInNhdmluZyIsInNldFNhdmluZyIsImhhbmRsZVN1Ym1pdCIsInRyaW0iLCJ1bmRlZmluZWQiLCJlcnIiLCJjb25zb2xlIiwicmVzcG9uc2UiLCJkYXRhIiwiZGl2IiwiY2xhc3NOYW1lIiwiaGVhZGVyIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwibGFiZWwiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJpbWciLCJzcmMiLCJhbHQiLCJmb290ZXIiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/UpdateGroupInfoModal.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/index.ts":
/*!****************************************************!*\
  !*** ../../packages/app/components/group/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddMembersModal: () => (/* reexport safe */ _AddMembersModal__WEBPACK_IMPORTED_MODULE_1__.AddMembersModal),\n/* harmony export */   ConfirmActionModal: () => (/* reexport safe */ _ConfirmActionModal__WEBPACK_IMPORTED_MODULE_3__.ConfirmActionModal),\n/* harmony export */   GroupInfoPanel: () => (/* reexport safe */ _GroupInfoPanel__WEBPACK_IMPORTED_MODULE_0__.GroupInfoPanel),\n/* harmony export */   MemberRow: () => (/* reexport safe */ _MemberRow__WEBPACK_IMPORTED_MODULE_4__.MemberRow),\n/* harmony export */   UpdateGroupInfoModal: () => (/* reexport safe */ _UpdateGroupInfoModal__WEBPACK_IMPORTED_MODULE_2__.UpdateGroupInfoModal)\n/* harmony export */ });\n/* harmony import */ var _GroupInfoPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GroupInfoPanel */ \"(ssr)/../../packages/app/components/group/GroupInfoPanel.tsx\");\n/* harmony import */ var _AddMembersModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AddMembersModal */ \"(ssr)/../../packages/app/components/group/AddMembersModal.tsx\");\n/* harmony import */ var _UpdateGroupInfoModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UpdateGroupInfoModal */ \"(ssr)/../../packages/app/components/group/UpdateGroupInfoModal.tsx\");\n/* harmony import */ var _ConfirmActionModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConfirmActionModal */ \"(ssr)/../../packages/app/components/group/ConfirmActionModal.tsx\");\n/* harmony import */ var _MemberRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MemberRow */ \"(ssr)/../../packages/app/components/group/MemberRow.tsx\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpQztBQUNDO0FBQ0s7QUFDRjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvaW5kZXgudHM/YmI2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL0dyb3VwSW5mb1BhbmVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9BZGRNZW1iZXJzTW9kYWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1VwZGF0ZUdyb3VwSW5mb01vZGFsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Db25maXJtQWN0aW9uTW9kYWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL01lbWJlclJvdyc7XHJcblxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/index.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/features/chat/Conversations.web.tsx":
/*!**************************************************************!*\
  !*** ../../packages/app/features/chat/Conversations.web.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConversationsScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../socket */ \"(ssr)/../../packages/app/socket.ts\");\n/* harmony import */ var _styles_conversations_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../styles/conversations.css */ \"(ssr)/../../packages/app/styles/conversations.css\");\n/* harmony import */ var _components_chat_DesktopChat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/chat/DesktopChat */ \"(ssr)/../../packages/app/components/chat/DesktopChat.tsx\");\n/* harmony import */ var _components_chat_NewConversationModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/chat/NewConversationModal */ \"(ssr)/../../packages/app/components/chat/NewConversationModal.tsx\");\n/* harmony import */ var _components_group__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/group */ \"(ssr)/../../packages/app/components/group/index.ts\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../package.json */ \"(ssr)/../../packages/app/package.json\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\nconst APP_VERSION = _package_json__WEBPACK_IMPORTED_MODULE_8__.version || \"1.0.0\";\nfunction ConversationsScreen() {\n    console.log(\"\\uD83D\\uDCAC ConversationsScreen component rendering...\");\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedConversation, setSelectedConversation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [searchText, setSearchText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"all\");\n    const [isCreateModalOpen, setIsCreateModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isAddMembersOpen, setIsAddMembersOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUpdateGroupOpen, setIsUpdateGroupOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [confirmLeaveOpen, setConfirmLeaveOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [memberAction, setMemberAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inviteLink, setInviteLink] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inviteGenerating, setInviteGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isInfoVisible, setIsInfoVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDCAC ConversationsScreen useEffect - loading conversations...\");\n        // Connect socket if not connected\n        const token = localStorage.getItem(\"auth_token\");\n        if (token) {\n            const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_3__.getSocket)();\n            if (!socket || !socket.connected) {\n                console.log(\"\\uD83D\\uDD0C Connecting socket...\");\n                const result = (0,_socket__WEBPACK_IMPORTED_MODULE_3__.connectSocket)(token);\n                if (result instanceof Promise) {\n                    result.then((sock)=>{\n                        if (sock) {\n                            console.log(\" Socket connected successfully\");\n                        }\n                    });\n                } else if (result) {\n                    console.log(\" Socket connected successfully\");\n                }\n            } else {\n                console.log(\" Socket already connected\");\n            }\n        }\n        loadConversations();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleDeepLinkJoin = (event)=>{\n            const detail = event.detail;\n            const conversation = detail?.conversation;\n            if (!conversation?._id) {\n                console.warn(\"[Conversations] Received deep link join event without conversation payload\");\n                return;\n            }\n            console.log(\"[Conversations] Deep link joined conversation:\", conversation._id);\n            setConversations((prev)=>{\n                const existingIndex = prev.findIndex((item)=>item._id === conversation._id);\n                if (existingIndex === -1) {\n                    return [\n                        conversation,\n                        ...prev\n                    ];\n                }\n                const clone = [\n                    ...prev\n                ];\n                clone[existingIndex] = conversation;\n                return clone;\n            });\n            setSelectedConversation(conversation);\n        };\n        window.addEventListener(\"conversation:joined\", handleDeepLinkJoin);\n        return ()=>{\n            window.removeEventListener(\"conversation:joined\", handleDeepLinkJoin);\n        };\n    }, []);\n    const loadConversations = async ()=>{\n        try {\n            setLoading(true);\n            console.log(\"\\uD83D\\uDCAC Loading conversations from API...\");\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.getConversations)();\n            console.log(\"\\uD83D\\uDCAC Conversations loaded:\", data.length, \"items\");\n            console.log(\"\\uD83D\\uDCAC Sample conversation:\", data[0] ? {\n                _id: data[0]._id,\n                isGroup: data[0].isGroup,\n                title: data[0].title,\n                opponent: data[0].opponent,\n                lastMessageSender: data[0].lastMessageSender\n            } : \"No conversations\");\n            setConversations(data);\n        } catch (error) {\n            console.error(\" Error loading conversations:\", error);\n        } finally{\n            setLoading(false);\n            console.log(\"\\uD83D\\uDCAC Loading complete, loading state:\", false);\n        }\n    };\n    const handleLogout = async ()=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            if (token) {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_2__.logout)(token);\n            }\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_id\");\n            localStorage.removeItem(\"user_data\");\n            (0,_api__WEBPACK_IMPORTED_MODULE_2__.setAuthToken)();\n            (0,_socket__WEBPACK_IMPORTED_MODULE_3__.disconnectSocket)();\n            window.location.href = \"/login\";\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_id\");\n            localStorage.removeItem(\"user_data\");\n            (0,_api__WEBPACK_IMPORTED_MODULE_2__.setAuthToken)();\n            (0,_socket__WEBPACK_IMPORTED_MODULE_3__.disconnectSocket)();\n            window.location.href = \"/login\";\n        }\n    };\n    const filteredConversations = conversations.filter((conv)=>{\n        if (selectedTab === \"groups\") {\n            return conv.isGroup;\n        }\n        if (selectedTab === \"direct\") {\n            return !conv.isGroup;\n        }\n        return true;\n    }).filter((conv)=>{\n        if (!searchText) return true;\n        const searchLower = searchText.toLowerCase();\n        return conv.title?.toLowerCase().includes(searchLower) || conv.lastMessageSender?.name.toLowerCase().includes(searchLower);\n    });\n    const formatTime = (dateString)=>{\n        if (!dateString) return \"\";\n        const date = new Date(dateString);\n        const now = new Date();\n        const diff = now.getTime() - date.getTime();\n        const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n        if (days === 0) {\n            return date.toLocaleTimeString(\"vi-VN\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n            });\n        } else if (days === 1) {\n            return \"H\\xf4m qua\";\n        } else if (days < 7) {\n            return date.toLocaleDateString(\"vi-VN\", {\n                weekday: \"short\"\n            });\n        } else {\n            return date.toLocaleDateString(\"vi-VN\", {\n                day: \"2-digit\",\n                month: \"2-digit\"\n            });\n        }\n    };\n    const getInitials = (name)=>{\n        return name.split(\" \").map((n)=>n[0]).join(\"\").toUpperCase().slice(0, 2);\n    };\n    const getAvatar = (conv)=>{\n        if (conv.isGroup) {\n            return \"\\uD83D\\uDC65\";\n        }\n        // u tin avatar t opponent, sau  t lastMessageSender\n        const avatar = conv.opponent?.avatar || conv.lastMessageSender?.avatar;\n        if (avatar) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                src: avatar,\n                alt: \"\",\n                className: \"conversation-avatar-img\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                lineNumber: 194,\n                columnNumber: 14\n            }, this);\n        }\n        // Nu khng c avatar, dng initials\n        const name = conv.title || conv.opponent?.name || conv.lastMessageSender?.name || \"U\";\n        return getInitials(name);\n    };\n    const handleConversationClick = (conv)=>{\n        setSelectedConversation(conv);\n    };\n    const handleOpenNewChat = ()=>{\n        setIsCreateModalOpen(true);\n    };\n    const handleConversationCreated = (conversation)=>{\n        setConversations((prev)=>{\n            const filtered = prev.filter((item)=>item._id !== conversation._id);\n            return [\n                conversation,\n                ...filtered\n            ];\n        });\n        setSelectedConversation(conversation);\n    };\n    const refreshCurrentConversation = (updated)=>{\n        setSelectedConversation(updated);\n        setConversations((prev)=>{\n            const index = prev.findIndex((item)=>item._id === updated._id);\n            if (index === -1) return [\n                updated,\n                ...prev\n            ];\n            const clone = [\n                ...prev\n            ];\n            clone[index] = updated;\n            return clone;\n        });\n    };\n    const handleAddMembersConfirm = async (userIds)=>{\n        if (!selectedConversation) return;\n        const updated = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.addGroupMembers)(selectedConversation._id, userIds);\n        refreshCurrentConversation(updated);\n    };\n    const handleUpdateGroupInfo = async (data)=>{\n        if (!selectedConversation) return;\n        const updated = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.updateGroupInfo)(selectedConversation._id, data);\n        refreshCurrentConversation(updated);\n    };\n    const handleMemberActionExecute = async ()=>{\n        if (!selectedConversation || !memberAction) return;\n        try {\n            let updated = null;\n            if (memberAction.type === \"remove\") {\n                updated = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.removeGroupMember)(selectedConversation._id, memberAction.userId);\n            } else if (memberAction.type === \"makeAdmin\") {\n                updated = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.makeGroupAdmin)(selectedConversation._id, memberAction.userId);\n            } else if (memberAction.type === \"removeAdmin\") {\n                updated = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.removeGroupAdmin)(selectedConversation._id, memberAction.userId);\n            }\n            if (updated) {\n                refreshCurrentConversation(updated);\n            }\n        } catch (err) {\n            console.error(\"Member action error:\", err);\n        } finally{\n            setMemberAction(null);\n        }\n    };\n    const handleLeaveGroupConfirm = async ()=>{\n        if (!selectedConversation) return;\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_2__.leaveGroup)(selectedConversation._id);\n            setSelectedConversation(null);\n            loadConversations();\n        } catch (err) {\n            console.error(\"Leave group error:\", err);\n        } finally{\n            setConfirmLeaveOpen(false);\n        }\n    };\n    const inviteBaseUrl =  false || \"https://backend36.dev\";\n    const normalizeBase = (url)=>url.replace(/\\/+$/, \"\");\n    const buildInviteUrl = (shareUrl, inviteCode)=>{\n        const base = normalizeBase(inviteBaseUrl);\n        const normalizedShare = shareUrl?.trim();\n        if (normalizedShare) {\n            if (/^https?:\\/\\//i.test(normalizedShare)) {\n                return normalizedShare;\n            }\n            const cleaned = normalizedShare.replace(/^\\/+/, \"\");\n            if (cleaned.startsWith(\"invite/\")) {\n                return `${base}/${cleaned}`;\n            }\n            if (!cleaned.includes(\"/\")) {\n                return `${base}/invite/${cleaned}`;\n            }\n            return `${base}/${cleaned}`;\n        }\n        if (inviteCode) {\n            return `${base}/invite/${inviteCode}`;\n        }\n        return base;\n    };\n    const handleGenerateInvite = async ()=>{\n        if (!selectedConversation) return;\n        try {\n            setInviteGenerating(true);\n            const res = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createInviteLink)(selectedConversation._id);\n            const link = buildInviteUrl(res.shareUrl, res.inviteCode);\n            setInviteLink(link);\n        } catch (err) {\n            console.error(\"Create invite link error:\", err);\n        } finally{\n            setInviteGenerating(false);\n        }\n    };\n    console.log(\"\\uD83D\\uDCAC ConversationsScreen render - loading:\", loading, \"conversations:\", conversations.length);\n    // Test: Add visible content to verify rendering\n    if (!loading && conversations.length === 0) {\n        console.log(\"\\uD83D\\uDCAC No conversations, showing empty state\");\n    }\n    const centerPanelClass = selectedConversation ? \"center-panel center-panel--chat-active\" : \"center-panel\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"desktop-layout\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"left-panel\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"desktop-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"desktop-header-title\",\n                                children: [\n                                    \"Day2\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"desktop-header-version\",\n                                        children: [\n                                            \"v\",\n                                            APP_VERSION\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                lineNumber: 334,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"desktop-header-actions\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"header-button\",\n                                        title: \"Mng x\\xe3 hi Day2\",\n                                        children: \"\\uD83D\\uDCF0\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                        lineNumber: 340,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"header-button\",\n                                        title: \"C\\xe0i t\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                        lineNumber: 343,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"header-button\",\n                                        onClick: handleLogout,\n                                        children: \"\\uD83D\\uDEAA\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                        lineNumber: 346,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                lineNumber: 338,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 333,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"search-container\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            placeholder: \"T\\xecm kim...\",\n                            className: \"search-input\",\n                            value: searchText,\n                            onChange: (e)=>setSearchText(e.target.value)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                            lineNumber: 354,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 353,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"new-chat-actions single\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"new-chat-button\",\n                            onClick: handleOpenNewChat,\n                            children: \"+ To cuc tr\\xf2 chuyn\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                            lineNumber: 364,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 363,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"tabs-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `tab ${selectedTab === \"all\" ? \"active\" : \"\"}`,\n                                onClick: ()=>setSelectedTab(\"all\"),\n                                children: \"Tt c\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                lineNumber: 370,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `tab ${selectedTab === \"direct\" ? \"active\" : \"\"}`,\n                                onClick: ()=>setSelectedTab(\"direct\"),\n                                children: \"Tin nhn\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                lineNumber: 376,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `tab ${selectedTab === \"groups\" ? \"active\" : \"\"}`,\n                                onClick: ()=>setSelectedTab(\"groups\"),\n                                children: \"Nh\\xf3m\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 369,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"conversations-list\",\n                        children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                padding: 20,\n                                textAlign: \"center\",\n                                color: \"#999\"\n                            },\n                            children: \"ang ti...\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                            lineNumber: 392,\n                            columnNumber: 13\n                        }, this) : filteredConversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                padding: 20,\n                                textAlign: \"center\",\n                                color: \"#999\"\n                            },\n                            children: \"Kh\\xf4ng c\\xf3 cuc tr\\xf2 chuyn\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                            lineNumber: 394,\n                            columnNumber: 13\n                        }, this) : filteredConversations.map((conv)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `conversation-item ${selectedConversation?._id === conv._id ? \"selected\" : \"\"}`,\n                                onClick: ()=>handleConversationClick(conv),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"conversation-avatar\",\n                                        children: getAvatar(conv)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                        lineNumber: 402,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"conversation-content\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"conversation-header\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"conversation-name\",\n                                                        children: conv.isGroup ? conv.title || `Nhm (${conv.members.length})` : conv.title || conv.opponent?.name || conv.lastMessageSender?.name || \"Ngi d\\xf9ng\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                                        lineNumber: 407,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    conv.lastMessageAt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"conversation-time\",\n                                                        children: formatTime(conv.lastMessageAt)\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                                        lineNumber: 413,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                                lineNumber: 406,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"conversation-preview\",\n                                                children: conv.lastMessageSender?.name ? `${conv.lastMessageSender.name}: ` : \"\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                                lineNumber: 416,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                        lineNumber: 405,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, conv._id, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                                lineNumber: 397,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 390,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                lineNumber: 332,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: centerPanelClass,\n                children: selectedConversation ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_DesktopChat__WEBPACK_IMPORTED_MODULE_5__.DesktopChat, {\n                    conversationId: selectedConversation._id,\n                    conversationName: selectedConversation.isGroup ? selectedConversation.title || `Nhm (${selectedConversation.members.length})` : selectedConversation.title || selectedConversation.opponent?.name || \"Ngi d\\xf9ng\",\n                    isGroup: selectedConversation.isGroup,\n                    groupAvatar: selectedConversation.groupAvatar,\n                    groupMemberCount: selectedConversation.members.length,\n                    memberIds: selectedConversation.members,\n                    onToggleInfo: ()=>setIsInfoVisible((prev)=>!prev),\n                    isInfoVisible: isInfoVisible\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                    lineNumber: 430,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"empty-chat-area\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"empty-chat-title\",\n                            children: \"Chn mt cuc tr\\xf2 chuyn\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"empty-chat-subtitle\",\n                            children: \"Chn mt cuc tr\\xf2 chuyn t danh s\\xe1ch  bt u nhn tin\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                            lineNumber: 447,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                    lineNumber: 445,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                lineNumber: 428,\n                columnNumber: 7\n            }, this),\n            selectedConversation && selectedConversation.isGroup && isInfoVisible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-info-panel\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_group__WEBPACK_IMPORTED_MODULE_7__.GroupInfoPanel, {\n                    conversation: selectedConversation,\n                    currentUserId: localStorage.getItem(\"user_id\") || \"\",\n                    onAddMembers: ()=>setIsAddMembersOpen(true),\n                    onRemoveMember: (userId)=>setMemberAction({\n                            type: \"remove\",\n                            userId\n                        }),\n                    onLeaveGroup: ()=>setConfirmLeaveOpen(true),\n                    onMakeAdmin: (userId)=>setMemberAction({\n                            type: \"makeAdmin\",\n                            userId\n                        }),\n                    onRemoveAdmin: (userId)=>setMemberAction({\n                            type: \"removeAdmin\",\n                            userId\n                        }),\n                    onChangeInfo: ()=>setIsUpdateGroupOpen(true),\n                    onGenerateInvite: handleGenerateInvite,\n                    inviteLink: inviteLink ?? undefined,\n                    isGeneratingInvite: inviteGenerating\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                    lineNumber: 455,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                lineNumber: 454,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_NewConversationModal__WEBPACK_IMPORTED_MODULE_6__.NewConversationModal, {\n                isOpen: isCreateModalOpen,\n                onClose: ()=>setIsCreateModalOpen(false),\n                onCreated: handleConversationCreated\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                lineNumber: 470,\n                columnNumber: 7\n            }, this),\n            selectedConversation && selectedConversation.isGroup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_group__WEBPACK_IMPORTED_MODULE_7__.AddMembersModal, {\n                        isOpen: isAddMembersOpen,\n                        onClose: ()=>setIsAddMembersOpen(false),\n                        onConfirm: handleAddMembersConfirm,\n                        conversation: selectedConversation\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 477,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_group__WEBPACK_IMPORTED_MODULE_7__.UpdateGroupInfoModal, {\n                        isOpen: isUpdateGroupOpen,\n                        onClose: ()=>setIsUpdateGroupOpen(false),\n                        onSave: handleUpdateGroupInfo,\n                        initialTitle: selectedConversation.title,\n                        initialAvatar: selectedConversation.groupAvatar\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 483,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_group__WEBPACK_IMPORTED_MODULE_7__.ConfirmActionModal, {\n                        isOpen: Boolean(memberAction),\n                        onClose: ()=>setMemberAction(null),\n                        onConfirm: handleMemberActionExecute,\n                        title: memberAction?.type === \"remove\" ? \"X\\xf3a th\\xe0nh vi\\xean\" : memberAction?.type === \"makeAdmin\" ? \"Chn l\\xe0m admin\" : \"B quyn admin\",\n                        description: memberAction?.type === \"remove\" ? \"Bn chc chn mun x\\xf3a th\\xe0nh vi\\xean n\\xe0y khi nh\\xf3m?\" : memberAction?.type === \"makeAdmin\" ? \"Trao quyn admin cho th\\xe0nh vi\\xean n\\xe0y?\" : \"B quyn admin ca th\\xe0nh vi\\xean n\\xe0y?\",\n                        confirmLabel: memberAction?.type === \"remove\" ? \"X\\xf3a khi nh\\xf3m\" : memberAction?.type === \"makeAdmin\" ? \"Chn l\\xe0m admin\" : \"B admin\",\n                        variant: memberAction?.type === \"remove\" ? \"danger\" : \"default\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 490,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_group__WEBPACK_IMPORTED_MODULE_7__.ConfirmActionModal, {\n                        isOpen: confirmLeaveOpen,\n                        onClose: ()=>setConfirmLeaveOpen(false),\n                        onConfirm: handleLeaveGroupConfirm,\n                        title: \"Ri nh\\xf3m\",\n                        description: \"Bn chc chn mun ri khi nh\\xf3m n\\xe0y?\",\n                        confirmLabel: \"Ri nh\\xf3m\",\n                        variant: \"danger\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n                        lineNumber: 517,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\chat\\\\Conversations.web.tsx\",\n        lineNumber: 330,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2ZlYXR1cmVzL2NoYXQvQ29udmVyc2F0aW9ucy53ZWIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNEM7QUFDcUM7QUFDUDtBQUNsQztBQUN3QjtBQUNrQjtBQU1sRDtBQVNiO0FBQzBCO0FBRTdDLE1BQU1zQixjQUFjRCxrREFBbUIsSUFBSTtBQUU1QixTQUFTRztJQUN0QkMsUUFBUUMsR0FBRyxDQUFDO0lBQ1osTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBRzNCLCtDQUFRQSxDQUFpQixFQUFFO0lBQ3JFLE1BQU0sQ0FBQzRCLHNCQUFzQkMsd0JBQXdCLEdBQUc3QiwrQ0FBUUEsQ0FBc0I7SUFDdEYsTUFBTSxDQUFDOEIsU0FBU0MsV0FBVyxHQUFHL0IsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0MsWUFBWUMsY0FBYyxHQUFHakMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDa0MsYUFBYUMsZUFBZSxHQUFHbkMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDb0MsbUJBQW1CQyxxQkFBcUIsR0FBR3JDLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ3NDLGtCQUFrQkMsb0JBQW9CLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUN3QyxtQkFBbUJDLHFCQUFxQixHQUFHekMsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDMEMsa0JBQWtCQyxvQkFBb0IsR0FBRzNDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQzRDLGNBQWNDLGdCQUFnQixHQUFHN0MsK0NBQVFBLENBQTBFO0lBQzFILE1BQU0sQ0FBQzhDLFlBQVlDLGNBQWMsR0FBRy9DLCtDQUFRQSxDQUFnQjtJQUM1RCxNQUFNLENBQUNnRCxrQkFBa0JDLG9CQUFvQixHQUFHakQsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDa0QsZUFBZUMsaUJBQWlCLEdBQUduRCwrQ0FBUUEsQ0FBQztJQUVuREQsZ0RB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O2dCQUNwQzRKLFdBQVduRTs7Ozs7O1lBRVpsRyx3QkFBd0JBLHFCQUFxQmtELE9BQU8sa0JBQ25EOztrQ0FDRSw4REFBQ3BFLDhEQUFlQTt3QkFDZHFMLFFBQVF6Sjt3QkFDUjBKLFNBQVMsSUFBTXpKLG9CQUFvQjt3QkFDbkMySixXQUFXL0Q7d0JBQ1hsRSxjQUFjckM7Ozs7OztrQ0FFaEIsOERBQUNqQixtRUFBb0JBO3dCQUNuQm9MLFFBQVF2Sjt3QkFDUndKLFNBQVMsSUFBTXZKLHFCQUFxQjt3QkFDcEMwSixRQUFROUQ7d0JBQ1IrRCxjQUFjeEsscUJBQXFCbUQsS0FBSzt3QkFDeENzSCxlQUFleksscUJBQXFCcUosV0FBVzs7Ozs7O2tDQUVqRCw4REFBQ3JLLGlFQUFrQkE7d0JBQ2pCbUwsUUFBUU8sUUFBUTFKO3dCQUNoQm9KLFNBQVMsSUFBTW5KLGdCQUFnQjt3QkFDL0JxSixXQUFXNUQ7d0JBQ1h2RCxPQUNFbkMsY0FBYzJGLFNBQVMsV0FDbkIsNEJBQ0EzRixjQUFjMkYsU0FBUyxjQUN2QixzQkFDQTt3QkFFTmdFLGFBQ0UzSixjQUFjMkYsU0FBUyxXQUNuQixvRUFDQTNGLGNBQWMyRixTQUFTLGNBQ3ZCLGtEQUNBO3dCQUVOaUUsY0FDRTVKLGNBQWMyRixTQUFTLFdBQ25CLHdCQUNBM0YsY0FBYzJGLFNBQVMsY0FDdkIsc0JBQ0E7d0JBRU5rRSxTQUFTN0osY0FBYzJGLFNBQVMsV0FBVyxXQUFXOzs7Ozs7a0NBRXhELDhEQUFDM0gsaUVBQWtCQTt3QkFDakJtTCxRQUFRcko7d0JBQ1JzSixTQUFTLElBQU1ySixvQkFBb0I7d0JBQ25DdUosV0FBV3hEO3dCQUNYM0QsT0FBTTt3QkFDTndILGFBQVk7d0JBQ1pDLGNBQWE7d0JBQ2JDLFNBQVE7Ozs7Ozs7Ozs7Ozs7O0FBTXBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2ZlYXR1cmVzL2NoYXQvQ29udmVyc2F0aW9ucy53ZWIudHN4P2EwYmIiXSwic291cmNlc0NvbnRlbnQiOlsiIFwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0Q29udmVyc2F0aW9ucywgQ29udmVyc2F0aW9uLCBsb2dvdXQsIHNldEF1dGhUb2tlbiB9IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCB7IGRpc2Nvbm5lY3RTb2NrZXQsIGNvbm5lY3RTb2NrZXQsIGdldFNvY2tldCB9IGZyb20gJy4uLy4uL3NvY2tldCc7XHJcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2NvbnZlcnNhdGlvbnMuY3NzJztcclxuaW1wb3J0IHsgRGVza3RvcENoYXQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NoYXQvRGVza3RvcENoYXQnO1xyXG5pbXBvcnQgeyBOZXdDb252ZXJzYXRpb25Nb2RhbCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2hhdC9OZXdDb252ZXJzYXRpb25Nb2RhbCc7XHJcbmltcG9ydCB7XHJcbiAgR3JvdXBJbmZvUGFuZWwsXHJcbiAgQWRkTWVtYmVyc01vZGFsLFxyXG4gIFVwZGF0ZUdyb3VwSW5mb01vZGFsLFxyXG4gIENvbmZpcm1BY3Rpb25Nb2RhbCxcclxufSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2dyb3VwJztcclxuaW1wb3J0IHtcclxuICBhZGRHcm91cE1lbWJlcnMsXHJcbiAgbGVhdmVHcm91cCxcclxuICBtYWtlR3JvdXBBZG1pbixcclxuICByZW1vdmVHcm91cEFkbWluLFxyXG4gIHJlbW92ZUdyb3VwTWVtYmVyLFxyXG4gIHVwZGF0ZUdyb3VwSW5mbyxcclxuICBjcmVhdGVJbnZpdGVMaW5rLFxyXG59IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCBwYWNrYWdlSnNvbiBmcm9tICcuLi8uLi9wYWNrYWdlLmpzb24nO1xyXG5cclxuY29uc3QgQVBQX1ZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uIHx8ICcxLjAuMCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb252ZXJzYXRpb25zU2NyZWVuKCkge1xyXG4gIGNvbnNvbGUubG9nKCfwn5KsIENvbnZlcnNhdGlvbnNTY3JlZW4gY29tcG9uZW50IHJlbmRlcmluZy4uLicpO1xyXG4gIGNvbnN0IFtjb252ZXJzYXRpb25zLCBzZXRDb252ZXJzYXRpb25zXSA9IHVzZVN0YXRlPENvbnZlcnNhdGlvbltdPihbXSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkQ29udmVyc2F0aW9uLCBzZXRTZWxlY3RlZENvbnZlcnNhdGlvbl0gPSB1c2VTdGF0ZTxDb252ZXJzYXRpb24gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbc2VhcmNoVGV4dCwgc2V0U2VhcmNoVGV4dF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3NlbGVjdGVkVGFiLCBzZXRTZWxlY3RlZFRhYl0gPSB1c2VTdGF0ZSgnYWxsJyk7XHJcbiAgY29uc3QgW2lzQ3JlYXRlTW9kYWxPcGVuLCBzZXRJc0NyZWF0ZU1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzQWRkTWVtYmVyc09wZW4sIHNldElzQWRkTWVtYmVyc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1VwZGF0ZUdyb3VwT3Blbiwgc2V0SXNVcGRhdGVHcm91cE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtjb25maXJtTGVhdmVPcGVuLCBzZXRDb25maXJtTGVhdmVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbWVtYmVyQWN0aW9uLCBzZXRNZW1iZXJBY3Rpb25dID0gdXNlU3RhdGU8eyB0eXBlOiAncmVtb3ZlJyB8ICdtYWtlQWRtaW4nIHwgJ3JlbW92ZUFkbWluJzsgdXNlcklkOiBzdHJpbmcgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpbnZpdGVMaW5rLCBzZXRJbnZpdGVMaW5rXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpbnZpdGVHZW5lcmF0aW5nLCBzZXRJbnZpdGVHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNJbmZvVmlzaWJsZSwgc2V0SXNJbmZvVmlzaWJsZV0gPSB1c2VTdGF0ZSh0cnVlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5KsIENvbnZlcnNhdGlvbnNTY3JlZW4gdXNlRWZmZWN0IC0gbG9hZGluZyBjb252ZXJzYXRpb25zLi4uJyk7XHJcbiAgICBcclxuICAgIC8vIENvbm5lY3Qgc29ja2V0IGlmIG5vdCBjb25uZWN0ZWRcclxuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKTtcclxuICAgIGlmICh0b2tlbikge1xyXG4gICAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcclxuICAgICAgaWYgKCFzb2NrZXQgfHwgIXNvY2tldC5jb25uZWN0ZWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBDb25uZWN0aW5nIHNvY2tldC4uLicpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RTb2NrZXQodG9rZW4pO1xyXG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICByZXN1bHQudGhlbigoc29jaykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc29jaykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU29ja2V0IGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU29ja2V0IGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsb2FkQ29udmVyc2F0aW9ucygpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZURlZXBMaW5rSm9pbiA9IChldmVudDogRXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgZGV0YWlsID0gKGV2ZW50IGFzIEN1c3RvbUV2ZW50PHsgY29udmVyc2F0aW9uPzogQ29udmVyc2F0aW9uIH0+KS5kZXRhaWw7XHJcbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IGRldGFpbD8uY29udmVyc2F0aW9uO1xyXG4gICAgICBpZiAoIWNvbnZlcnNhdGlvbj8uX2lkKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbQ29udmVyc2F0aW9uc10gUmVjZWl2ZWQgZGVlcCBsaW5rIGpvaW4gZXZlbnQgd2l0aG91dCBjb252ZXJzYXRpb24gcGF5bG9hZCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZygnW0NvbnZlcnNhdGlvbnNdIERlZXAgbGluayBqb2luZWQgY29udmVyc2F0aW9uOicsIGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICBzZXRDb252ZXJzYXRpb25zKChwcmV2KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHByZXYuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gY29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICByZXR1cm4gW2NvbnZlcnNhdGlvbiwgLi4ucHJldl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNsb25lID0gWy4uLnByZXZdO1xyXG4gICAgICAgIGNsb25lW2V4aXN0aW5nSW5kZXhdID0gY29udmVyc2F0aW9uO1xyXG4gICAgICAgIHJldHVybiBjbG9uZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHNldFNlbGVjdGVkQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb252ZXJzYXRpb246am9pbmVkJywgaGFuZGxlRGVlcExpbmtKb2luKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb252ZXJzYXRpb246am9pbmVkJywgaGFuZGxlRGVlcExpbmtKb2luKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBsb2FkQ29udmVyc2F0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIExvYWRpbmcgY29udmVyc2F0aW9ucyBmcm9tIEFQSS4uLicpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpO1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBDb252ZXJzYXRpb25zIGxvYWRlZDonLCBkYXRhLmxlbmd0aCwgJ2l0ZW1zJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIFNhbXBsZSBjb252ZXJzYXRpb246JywgZGF0YVswXSA/IHtcclxuICAgICAgICBfaWQ6IGRhdGFbMF0uX2lkLFxyXG4gICAgICAgIGlzR3JvdXA6IGRhdGFbMF0uaXNHcm91cCxcclxuICAgICAgICB0aXRsZTogZGF0YVswXS50aXRsZSxcclxuICAgICAgICBvcHBvbmVudDogZGF0YVswXS5vcHBvbmVudCxcclxuICAgICAgICBsYXN0TWVzc2FnZVNlbmRlcjogZGF0YVswXS5sYXN0TWVzc2FnZVNlbmRlclxyXG4gICAgICB9IDogJ05vIGNvbnZlcnNhdGlvbnMnKTtcclxuICAgICAgc2V0Q29udmVyc2F0aW9ucyhkYXRhKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBsb2FkaW5nIGNvbnZlcnNhdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIExvYWRpbmcgY29tcGxldGUsIGxvYWRpbmcgc3RhdGU6JywgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKTtcclxuICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgYXdhaXQgbG9nb3V0KHRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pZCcpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9kYXRhJyk7XHJcbiAgICAgIHNldEF1dGhUb2tlbigpO1xyXG4gICAgICBkaXNjb25uZWN0U29ja2V0KCk7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pZCcpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9kYXRhJyk7XHJcbiAgICAgIHNldEF1dGhUb2tlbigpO1xyXG4gICAgICBkaXNjb25uZWN0U29ja2V0KCk7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZmlsdGVyZWRDb252ZXJzYXRpb25zID0gY29udmVyc2F0aW9ucy5maWx0ZXIoY29udiA9PiB7XHJcbiAgICBpZiAoc2VsZWN0ZWRUYWIgPT09ICdncm91cHMnKSB7XHJcbiAgICAgIHJldHVybiBjb252LmlzR3JvdXA7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VsZWN0ZWRUYWIgPT09ICdkaXJlY3QnKSB7XHJcbiAgICAgIHJldHVybiAhY29udi5pc0dyb3VwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSkuZmlsdGVyKGNvbnYgPT4ge1xyXG4gICAgaWYgKCFzZWFyY2hUZXh0KSByZXR1cm4gdHJ1ZTtcclxuICAgIGNvbnN0IHNlYXJjaExvd2VyID0gc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgY29udi50aXRsZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcclxuICAgICAgY29udi5sYXN0TWVzc2FnZVNlbmRlcj8ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgZm9ybWF0VGltZSA9IChkYXRlU3RyaW5nPzogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnJztcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCBkaWZmID0gbm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpO1xyXG4gICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XHJcbiAgICBcclxuICAgIGlmIChkYXlzID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygndmktVk4nLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGRheXMgPT09IDEpIHtcclxuICAgICAgcmV0dXJuICdIw7RtIHF1YSc7XHJcbiAgICB9IGVsc2UgaWYgKGRheXMgPCA3KSB7XHJcbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygndmktVk4nLCB7IHdlZWtkYXk6ICdzaG9ydCcgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3ZpLVZOJywgeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICcyLWRpZ2l0JyB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRJbml0aWFscyA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiBuYW1lXHJcbiAgICAgIC5zcGxpdCgnICcpXHJcbiAgICAgIC5tYXAobiA9PiBuWzBdKVxyXG4gICAgICAuam9pbignJylcclxuICAgICAgLnRvVXBwZXJDYXNlKClcclxuICAgICAgLnNsaWNlKDAsIDIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldEF2YXRhciA9IChjb252OiBDb252ZXJzYXRpb24pID0+IHtcclxuICAgIGlmIChjb252LmlzR3JvdXApIHtcclxuICAgICAgcmV0dXJuICfwn5GlJztcclxuICAgIH1cclxuICAgIC8vIMavdSB0acOqbiBhdmF0YXIgdOG7qyBvcHBvbmVudCwgc2F1IMSRw7MgdOG7qyBsYXN0TWVzc2FnZVNlbmRlclxyXG4gICAgY29uc3QgYXZhdGFyID0gY29udi5vcHBvbmVudD8uYXZhdGFyIHx8IGNvbnYubGFzdE1lc3NhZ2VTZW5kZXI/LmF2YXRhcjtcclxuICAgIGlmIChhdmF0YXIpIHtcclxuICAgICAgcmV0dXJuIDxpbWcgc3JjPXthdmF0YXJ9IGFsdD1cIlwiIGNsYXNzTmFtZT1cImNvbnZlcnNhdGlvbi1hdmF0YXItaW1nXCIgLz47XHJcbiAgICB9XHJcbiAgICAvLyBO4bq/dSBraMO0bmcgY8OzIGF2YXRhciwgZMO5bmcgaW5pdGlhbHNcclxuICAgIGNvbnN0IG5hbWUgPSBjb252LnRpdGxlIHx8IGNvbnYub3Bwb25lbnQ/Lm5hbWUgfHwgY29udi5sYXN0TWVzc2FnZVNlbmRlcj8ubmFtZSB8fCAnVSc7XHJcbiAgICByZXR1cm4gZ2V0SW5pdGlhbHMobmFtZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29udmVyc2F0aW9uQ2xpY2sgPSAoY29udjogQ29udmVyc2F0aW9uKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZENvbnZlcnNhdGlvbihjb252KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVPcGVuTmV3Q2hhdCA9ICgpID0+IHtcclxuICAgIHNldElzQ3JlYXRlTW9kYWxPcGVuKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvbnZlcnNhdGlvbkNyZWF0ZWQgPSAoY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24pID0+IHtcclxuICAgIHNldENvbnZlcnNhdGlvbnMoKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5faWQgIT09IGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICByZXR1cm4gW2NvbnZlcnNhdGlvbiwgLi4uZmlsdGVyZWRdO1xyXG4gICAgfSk7XHJcbiAgICBzZXRTZWxlY3RlZENvbnZlcnNhdGlvbihjb252ZXJzYXRpb24pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlZnJlc2hDdXJyZW50Q29udmVyc2F0aW9uID0gKHVwZGF0ZWQ6IENvbnZlcnNhdGlvbikgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb24odXBkYXRlZCk7XHJcbiAgICBzZXRDb252ZXJzYXRpb25zKChwcmV2KSA9PiB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gcHJldi5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB1cGRhdGVkLl9pZCk7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBbdXBkYXRlZCwgLi4ucHJldl07XHJcbiAgICAgIGNvbnN0IGNsb25lID0gWy4uLnByZXZdO1xyXG4gICAgICBjbG9uZVtpbmRleF0gPSB1cGRhdGVkO1xyXG4gICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVBZGRNZW1iZXJzQ29uZmlybSA9IGFzeW5jICh1c2VySWRzOiBzdHJpbmdbXSkgPT4ge1xyXG4gICAgaWYgKCFzZWxlY3RlZENvbnZlcnNhdGlvbikgcmV0dXJuO1xyXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGFkZEdyb3VwTWVtYmVycyhzZWxlY3RlZENvbnZlcnNhdGlvbi5faWQsIHVzZXJJZHMpO1xyXG4gICAgcmVmcmVzaEN1cnJlbnRDb252ZXJzYXRpb24odXBkYXRlZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVXBkYXRlR3JvdXBJbmZvID0gYXN5bmMgKGRhdGE6IHsgdGl0bGU/OiBzdHJpbmc7IGF2YXRhcj86IHN0cmluZyB9KSA9PiB7XHJcbiAgICBpZiAoIXNlbGVjdGVkQ29udmVyc2F0aW9uKSByZXR1cm47XHJcbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgdXBkYXRlR3JvdXBJbmZvKHNlbGVjdGVkQ29udmVyc2F0aW9uLl9pZCwgZGF0YSk7XHJcbiAgICByZWZyZXNoQ3VycmVudENvbnZlcnNhdGlvbih1cGRhdGVkKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVNZW1iZXJBY3Rpb25FeGVjdXRlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFzZWxlY3RlZENvbnZlcnNhdGlvbiB8fCAhbWVtYmVyQWN0aW9uKSByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXBkYXRlZDogQ29udmVyc2F0aW9uIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgIGlmIChtZW1iZXJBY3Rpb24udHlwZSA9PT0gJ3JlbW92ZScpIHtcclxuICAgICAgICB1cGRhdGVkID0gYXdhaXQgcmVtb3ZlR3JvdXBNZW1iZXIoc2VsZWN0ZWRDb252ZXJzYXRpb24uX2lkLCBtZW1iZXJBY3Rpb24udXNlcklkKTtcclxuICAgICAgfSBlbHNlIGlmIChtZW1iZXJBY3Rpb24udHlwZSA9PT0gJ21ha2VBZG1pbicpIHtcclxuICAgICAgICB1cGRhdGVkID0gYXdhaXQgbWFrZUdyb3VwQWRtaW4oc2VsZWN0ZWRDb252ZXJzYXRpb24uX2lkLCBtZW1iZXJBY3Rpb24udXNlcklkKTtcclxuICAgICAgfSBlbHNlIGlmIChtZW1iZXJBY3Rpb24udHlwZSA9PT0gJ3JlbW92ZUFkbWluJykge1xyXG4gICAgICAgIHVwZGF0ZWQgPSBhd2FpdCByZW1vdmVHcm91cEFkbWluKHNlbGVjdGVkQ29udmVyc2F0aW9uLl9pZCwgbWVtYmVyQWN0aW9uLnVzZXJJZCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHVwZGF0ZWQpIHtcclxuICAgICAgICByZWZyZXNoQ3VycmVudENvbnZlcnNhdGlvbih1cGRhdGVkKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01lbWJlciBhY3Rpb24gZXJyb3I6JywgZXJyKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldE1lbWJlckFjdGlvbihudWxsKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVMZWF2ZUdyb3VwQ29uZmlybSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghc2VsZWN0ZWRDb252ZXJzYXRpb24pIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGxlYXZlR3JvdXAoc2VsZWN0ZWRDb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb24obnVsbCk7XHJcbiAgICAgIGxvYWRDb252ZXJzYXRpb25zKCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTGVhdmUgZ3JvdXAgZXJyb3I6JywgZXJyKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldENvbmZpcm1MZWF2ZU9wZW4oZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGludml0ZUJhc2VVcmwgPVxyXG4gICAgKGltcG9ydC5tZXRhIGFzIGFueSk/LmVudj8uVklURV9JTlZJVEVfQkFTRV9VUkwgfHxcclxuICAgICdodHRwczovL2JhY2tlbmQzNi5kZXYnO1xyXG4gIGNvbnN0IG5vcm1hbGl6ZUJhc2UgPSAodXJsOiBzdHJpbmcpID0+IHVybC5yZXBsYWNlKC9cXC8rJC8sICcnKTtcclxuXHJcbiAgY29uc3QgYnVpbGRJbnZpdGVVcmwgPSAoc2hhcmVVcmw/OiBzdHJpbmcgfCBudWxsLCBpbnZpdGVDb2RlPzogc3RyaW5nIHwgbnVsbCkgPT4ge1xyXG4gICAgY29uc3QgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoaW52aXRlQmFzZVVybCk7XHJcbiAgICBjb25zdCBub3JtYWxpemVkU2hhcmUgPSBzaGFyZVVybD8udHJpbSgpO1xyXG5cclxuICAgIGlmIChub3JtYWxpemVkU2hhcmUpIHtcclxuICAgICAgaWYgKC9eaHR0cHM/OlxcL1xcLy9pLnRlc3Qobm9ybWFsaXplZFNoYXJlKSkge1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkU2hhcmU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgY2xlYW5lZCA9IG5vcm1hbGl6ZWRTaGFyZS5yZXBsYWNlKC9eXFwvKy8sICcnKTtcclxuICAgICAgaWYgKGNsZWFuZWQuc3RhcnRzV2l0aCgnaW52aXRlLycpKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke2Jhc2V9LyR7Y2xlYW5lZH1gO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghY2xlYW5lZC5pbmNsdWRlcygnLycpKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke2Jhc2V9L2ludml0ZS8ke2NsZWFuZWR9YDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYCR7YmFzZX0vJHtjbGVhbmVkfWA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGludml0ZUNvZGUpIHtcclxuICAgICAgcmV0dXJuIGAke2Jhc2V9L2ludml0ZS8ke2ludml0ZUNvZGV9YDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYmFzZTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUludml0ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghc2VsZWN0ZWRDb252ZXJzYXRpb24pIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldEludml0ZUdlbmVyYXRpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNyZWF0ZUludml0ZUxpbmsoc2VsZWN0ZWRDb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgY29uc3QgbGluayA9IGJ1aWxkSW52aXRlVXJsKHJlcy5zaGFyZVVybCwgcmVzLmludml0ZUNvZGUpO1xyXG4gICAgICBzZXRJbnZpdGVMaW5rKGxpbmspO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NyZWF0ZSBpbnZpdGUgbGluayBlcnJvcjonLCBlcnIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SW52aXRlR2VuZXJhdGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc29sZS5sb2coJ/CfkqwgQ29udmVyc2F0aW9uc1NjcmVlbiByZW5kZXIgLSBsb2FkaW5nOicsIGxvYWRpbmcsICdjb252ZXJzYXRpb25zOicsIGNvbnZlcnNhdGlvbnMubGVuZ3RoKTtcclxuICBcclxuICAvLyBUZXN0OiBBZGQgdmlzaWJsZSBjb250ZW50IHRvIHZlcmlmeSByZW5kZXJpbmdcclxuICBpZiAoIWxvYWRpbmcgJiYgY29udmVyc2F0aW9ucy5sZW5ndGggPT09IDApIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5KsIE5vIGNvbnZlcnNhdGlvbnMsIHNob3dpbmcgZW1wdHkgc3RhdGUnKTtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgY2VudGVyUGFuZWxDbGFzcyA9IHNlbGVjdGVkQ29udmVyc2F0aW9uXHJcbiAgICA/ICdjZW50ZXItcGFuZWwgY2VudGVyLXBhbmVsLS1jaGF0LWFjdGl2ZSdcclxuICAgIDogJ2NlbnRlci1wYW5lbCc7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2t0b3AtbGF5b3V0XCI+XHJcbiAgICAgIHsvKiBMZWZ0IFBhbmVsICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlZnQtcGFuZWxcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2t0b3AtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZGVza3RvcC1oZWFkZXItdGl0bGVcIj5cclxuICAgICAgICAgICAgRGF5MlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXNrdG9wLWhlYWRlci12ZXJzaW9uXCI+dntBUFBfVkVSU0lPTn08L3NwYW4+XHJcbiAgICAgICAgICA8L2gxPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNrdG9wLWhlYWRlci1hY3Rpb25zXCI+XHJcbiAgICAgICAgICB7LyogQ8OhYyBuw7p0IMSRaeG7gXUgaMaw4bubbmcgc+G6vSDEkcaw4bujYyB44butIGzDvSDhu58gY+G6pXAgTmV4dC5qcywgdOG6oW0gdGjhu51pIGNo4buJIGhp4buDbiB0aOG7iyBpY29uICovfVxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImhlYWRlci1idXR0b25cIiB0aXRsZT1cIk3huqFuZyB4w6MgaOG7mWkgRGF5MlwiPlxyXG4gICAgICAgICAgICAgIPCfk7BcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaGVhZGVyLWJ1dHRvblwiIHRpdGxlPVwiQ8OgaSDEkeG6t3RcIj5cclxuICAgICAgICAgICAgICDimpnvuI9cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaGVhZGVyLWJ1dHRvblwiIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0+XHJcbiAgICAgICAgICAgICAg8J+aqlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlTDrG0ga2nhur9tLi4uXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoLWlucHV0XCJcclxuICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRleHR9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGV4dChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy1jaGF0LWFjdGlvbnMgc2luZ2xlXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm5ldy1jaGF0LWJ1dHRvblwiIG9uQ2xpY2s9e2hhbmRsZU9wZW5OZXdDaGF0fT5cclxuICAgICAgICAgICAgKyBU4bqhbyBjdeG7mWMgdHLDsiBjaHV54buHblxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFicy1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGFiICR7c2VsZWN0ZWRUYWIgPT09ICdhbGwnID8gJ2FjdGl2ZScgOiAnJ31gfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFRhYignYWxsJyl9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIFThuqV0IGPhuqNcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2B0YWIgJHtzZWxlY3RlZFRhYiA9PT0gJ2RpcmVjdCcgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVGFiKCdkaXJlY3QnKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgVGluIG5o4bqvblxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHRhYiAke3NlbGVjdGVkVGFiID09PSAnZ3JvdXBzJyA/ICdhY3RpdmUnIDogJyd9YH1cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRUYWIoJ2dyb3VwcycpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBOaMOzbVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udmVyc2F0aW9ucy1saXN0XCI+XHJcbiAgICAgICAgICB7bG9hZGluZyA/IChcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAyMCwgdGV4dEFsaWduOiAnY2VudGVyJywgY29sb3I6ICcjOTk5JyB9fT7EkGFuZyB04bqjaS4uLjwvZGl2PlxyXG4gICAgICAgICAgKSA6IGZpbHRlcmVkQ29udmVyc2F0aW9ucy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogMjAsIHRleHRBbGlnbjogJ2NlbnRlcicsIGNvbG9yOiAnIzk5OScgfX0+S2jDtG5nIGPDsyBjdeG7mWMgdHLDsiBjaHV54buHbjwvZGl2PlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgZmlsdGVyZWRDb252ZXJzYXRpb25zLm1hcCgoY29udikgPT4gKFxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGtleT17Y29udi5faWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bjb252ZXJzYXRpb24taXRlbSAke3NlbGVjdGVkQ29udmVyc2F0aW9uPy5faWQgPT09IGNvbnYuX2lkID8gJ3NlbGVjdGVkJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDb252ZXJzYXRpb25DbGljayhjb252KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnZlcnNhdGlvbi1hdmF0YXJcIj5cclxuICAgICAgICAgICAgICAgICAge2dldEF2YXRhcihjb252KX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb252ZXJzYXRpb24tY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnZlcnNhdGlvbi1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb252ZXJzYXRpb24tbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2NvbnYuaXNHcm91cCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjb252LnRpdGxlIHx8IGBOaMOzbSAoJHtjb252Lm1lbWJlcnMubGVuZ3RofSlgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNvbnYudGl0bGUgfHwgY29udi5vcHBvbmVudD8ubmFtZSB8fCBjb252Lmxhc3RNZXNzYWdlU2VuZGVyPy5uYW1lIHx8ICdOZ8aw4budaSBkw7luZyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIHtjb252Lmxhc3RNZXNzYWdlQXQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29udmVyc2F0aW9uLXRpbWVcIj57Zm9ybWF0VGltZShjb252Lmxhc3RNZXNzYWdlQXQpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb252ZXJzYXRpb24tcHJldmlld1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtjb252Lmxhc3RNZXNzYWdlU2VuZGVyPy5uYW1lID8gYCR7Y29udi5sYXN0TWVzc2FnZVNlbmRlci5uYW1lfTogYCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBMYXN0IG1lc3NhZ2UgcHJldmlldyB3b3VsZCBnbyBoZXJlICovfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ2VudGVyIFBhbmVsICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2VudGVyUGFuZWxDbGFzc30+XHJcbiAgICAgICAge3NlbGVjdGVkQ29udmVyc2F0aW9uID8gKFxyXG4gICAgICAgICAgPERlc2t0b3BDaGF0XHJcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkPXtzZWxlY3RlZENvbnZlcnNhdGlvbi5faWR9XHJcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbk5hbWU9e1xyXG4gICAgICAgICAgICAgIHNlbGVjdGVkQ29udmVyc2F0aW9uLmlzR3JvdXBcclxuICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRDb252ZXJzYXRpb24udGl0bGUgfHwgYE5ow7NtICgke3NlbGVjdGVkQ29udmVyc2F0aW9uLm1lbWJlcnMubGVuZ3RofSlgXHJcbiAgICAgICAgICAgICAgICA6IHNlbGVjdGVkQ29udmVyc2F0aW9uLnRpdGxlIHx8IHNlbGVjdGVkQ29udmVyc2F0aW9uLm9wcG9uZW50Py5uYW1lIHx8ICdOZ8aw4budaSBkw7luZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpc0dyb3VwPXtzZWxlY3RlZENvbnZlcnNhdGlvbi5pc0dyb3VwfVxyXG4gICAgICAgICAgICBncm91cEF2YXRhcj17c2VsZWN0ZWRDb252ZXJzYXRpb24uZ3JvdXBBdmF0YXJ9XHJcbiAgICAgICAgICAgIGdyb3VwTWVtYmVyQ291bnQ9e3NlbGVjdGVkQ29udmVyc2F0aW9uLm1lbWJlcnMubGVuZ3RofVxyXG4gICAgICAgICAgICBtZW1iZXJJZHM9e3NlbGVjdGVkQ29udmVyc2F0aW9uLm1lbWJlcnN9XHJcbiAgICAgICAgICAgIG9uVG9nZ2xlSW5mbz17KCkgPT4gc2V0SXNJbmZvVmlzaWJsZSgocHJldikgPT4gIXByZXYpfVxyXG4gICAgICAgICAgICBpc0luZm9WaXNpYmxlPXtpc0luZm9WaXNpYmxlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1jaGF0LWFyZWFcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1jaGF0LXRpdGxlXCI+Q2jhu41uIG3hu5l0IGN14buZYyB0csOyIGNodXnhu4duPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktY2hhdC1zdWJ0aXRsZVwiPkNo4buNbiBt4buZdCBjdeG7mWMgdHLDsiBjaHV54buHbiB04burIGRhbmggc8OhY2ggxJHhu4MgYuG6r3QgxJHhuqd1IG5o4bqvbiB0aW48L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFJpZ2h0IFBhbmVsIC0gR3JvdXAgSW5mbyAoa2VlcCBncm91cCBiZWhhdmlvciBoZXJlKS4gRGlyZWN0IGNoYXQgaW5mbyBpcyByZW5kZXJlZCBpbnNpZGUgRGVza3RvcENoYXQuICovfVxyXG4gICAgICB7c2VsZWN0ZWRDb252ZXJzYXRpb24gJiYgc2VsZWN0ZWRDb252ZXJzYXRpb24uaXNHcm91cCAmJiBpc0luZm9WaXNpYmxlICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaW5mby1wYW5lbFwiPlxyXG4gICAgICAgICAgPEdyb3VwSW5mb1BhbmVsXHJcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbj17c2VsZWN0ZWRDb252ZXJzYXRpb259XHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VySWQ9e2xvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykgfHwgJyd9XHJcbiAgICAgICAgICAgIG9uQWRkTWVtYmVycz17KCkgPT4gc2V0SXNBZGRNZW1iZXJzT3Blbih0cnVlKX1cclxuICAgICAgICAgICAgb25SZW1vdmVNZW1iZXI9eyh1c2VySWQpID0+IHNldE1lbWJlckFjdGlvbih7IHR5cGU6ICdyZW1vdmUnLCB1c2VySWQgfSl9XHJcbiAgICAgICAgICAgIG9uTGVhdmVHcm91cD17KCkgPT4gc2V0Q29uZmlybUxlYXZlT3Blbih0cnVlKX1cclxuICAgICAgICAgICAgb25NYWtlQWRtaW49eyh1c2VySWQpID0+IHNldE1lbWJlckFjdGlvbih7IHR5cGU6ICdtYWtlQWRtaW4nLCB1c2VySWQgfSl9XHJcbiAgICAgICAgICAgIG9uUmVtb3ZlQWRtaW49eyh1c2VySWQpID0+IHNldE1lbWJlckFjdGlvbih7IHR5cGU6ICdyZW1vdmVBZG1pbicsIHVzZXJJZCB9KX1cclxuICAgICAgICAgICAgb25DaGFuZ2VJbmZvPXsoKSA9PiBzZXRJc1VwZGF0ZUdyb3VwT3Blbih0cnVlKX1cclxuICAgICAgICAgICAgb25HZW5lcmF0ZUludml0ZT17aGFuZGxlR2VuZXJhdGVJbnZpdGV9XHJcbiAgICAgICAgICAgIGludml0ZUxpbms9e2ludml0ZUxpbmsgPz8gdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICBpc0dlbmVyYXRpbmdJbnZpdGU9e2ludml0ZUdlbmVyYXRpbmd9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgICA8TmV3Q29udmVyc2F0aW9uTW9kYWxcclxuICAgICAgICBpc09wZW49e2lzQ3JlYXRlTW9kYWxPcGVufVxyXG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzQ3JlYXRlTW9kYWxPcGVuKGZhbHNlKX1cclxuICAgICAgICBvbkNyZWF0ZWQ9e2hhbmRsZUNvbnZlcnNhdGlvbkNyZWF0ZWR9XHJcbiAgICAgIC8+XHJcbiAgICAgIHtzZWxlY3RlZENvbnZlcnNhdGlvbiAmJiBzZWxlY3RlZENvbnZlcnNhdGlvbi5pc0dyb3VwICYmIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgPEFkZE1lbWJlcnNNb2RhbFxyXG4gICAgICAgICAgICBpc09wZW49e2lzQWRkTWVtYmVyc09wZW59XHJcbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzQWRkTWVtYmVyc09wZW4oZmFsc2UpfVxyXG4gICAgICAgICAgICBvbkNvbmZpcm09e2hhbmRsZUFkZE1lbWJlcnNDb25maXJtfVxyXG4gICAgICAgICAgICBjb252ZXJzYXRpb249e3NlbGVjdGVkQ29udmVyc2F0aW9ufVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxVcGRhdGVHcm91cEluZm9Nb2RhbFxyXG4gICAgICAgICAgICBpc09wZW49e2lzVXBkYXRlR3JvdXBPcGVufVxyXG4gICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc1VwZGF0ZUdyb3VwT3BlbihmYWxzZSl9XHJcbiAgICAgICAgICAgIG9uU2F2ZT17aGFuZGxlVXBkYXRlR3JvdXBJbmZvfVxyXG4gICAgICAgICAgICBpbml0aWFsVGl0bGU9e3NlbGVjdGVkQ29udmVyc2F0aW9uLnRpdGxlfVxyXG4gICAgICAgICAgICBpbml0aWFsQXZhdGFyPXtzZWxlY3RlZENvbnZlcnNhdGlvbi5ncm91cEF2YXRhcn1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8Q29uZmlybUFjdGlvbk1vZGFsXHJcbiAgICAgICAgICAgIGlzT3Blbj17Qm9vbGVhbihtZW1iZXJBY3Rpb24pfVxyXG4gICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRNZW1iZXJBY3Rpb24obnVsbCl9XHJcbiAgICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlTWVtYmVyQWN0aW9uRXhlY3V0ZX1cclxuICAgICAgICAgICAgdGl0bGU9e1xyXG4gICAgICAgICAgICAgIG1lbWJlckFjdGlvbj8udHlwZSA9PT0gJ3JlbW92ZSdcclxuICAgICAgICAgICAgICAgID8gJ1jDs2EgdGjDoG5oIHZpw6puJ1xyXG4gICAgICAgICAgICAgICAgOiBtZW1iZXJBY3Rpb24/LnR5cGUgPT09ICdtYWtlQWRtaW4nXHJcbiAgICAgICAgICAgICAgICA/ICdDaOG7jW4gbMOgbSBhZG1pbidcclxuICAgICAgICAgICAgICAgIDogJ0Lhu48gcXV54buBbiBhZG1pbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbj17XHJcbiAgICAgICAgICAgICAgbWVtYmVyQWN0aW9uPy50eXBlID09PSAncmVtb3ZlJ1xyXG4gICAgICAgICAgICAgICAgPyAnQuG6oW4gY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSB0aMOgbmggdmnDqm4gbsOgeSBraOG7j2kgbmjDs20/J1xyXG4gICAgICAgICAgICAgICAgOiBtZW1iZXJBY3Rpb24/LnR5cGUgPT09ICdtYWtlQWRtaW4nXHJcbiAgICAgICAgICAgICAgICA/ICdUcmFvIHF1eeG7gW4gYWRtaW4gY2hvIHRow6BuaCB2acOqbiBuw6B5PydcclxuICAgICAgICAgICAgICAgIDogJ0Lhu48gcXV54buBbiBhZG1pbiBj4bunYSB0aMOgbmggdmnDqm4gbsOgeT8nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uZmlybUxhYmVsPXtcclxuICAgICAgICAgICAgICBtZW1iZXJBY3Rpb24/LnR5cGUgPT09ICdyZW1vdmUnXHJcbiAgICAgICAgICAgICAgICA/ICdYw7NhIGto4buPaSBuaMOzbSdcclxuICAgICAgICAgICAgICAgIDogbWVtYmVyQWN0aW9uPy50eXBlID09PSAnbWFrZUFkbWluJ1xyXG4gICAgICAgICAgICAgICAgPyAnQ2jhu41uIGzDoG0gYWRtaW4nXHJcbiAgICAgICAgICAgICAgICA6ICdC4buPIGFkbWluJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhcmlhbnQ9e21lbWJlckFjdGlvbj8udHlwZSA9PT0gJ3JlbW92ZScgPyAnZGFuZ2VyJyA6ICdkZWZhdWx0J31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8Q29uZmlybUFjdGlvbk1vZGFsXHJcbiAgICAgICAgICAgIGlzT3Blbj17Y29uZmlybUxlYXZlT3Blbn1cclxuICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0Q29uZmlybUxlYXZlT3BlbihmYWxzZSl9XHJcbiAgICAgICAgICAgIG9uQ29uZmlybT17aGFuZGxlTGVhdmVHcm91cENvbmZpcm19XHJcbiAgICAgICAgICAgIHRpdGxlPVwiUuG7nWkgbmjDs21cIlxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbj1cIkLhuqFuIGNo4bqvYyBjaOG6r24gbXXhu5FuIHLhu51pIGto4buPaSBuaMOzbSBuw6B5P1wiXHJcbiAgICAgICAgICAgIGNvbmZpcm1MYWJlbD1cIlLhu51pIG5ow7NtXCJcclxuICAgICAgICAgICAgdmFyaWFudD1cImRhbmdlclwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJnZXRDb252ZXJzYXRpb25zIiwibG9nb3V0Iiwic2V0QXV0aFRva2VuIiwiZGlzY29ubmVjdFNvY2tldCIsImNvbm5lY3RTb2NrZXQiLCJnZXRTb2NrZXQiLCJEZXNrdG9wQ2hhdCIsIk5ld0NvbnZlcnNhdGlvbk1vZGFsIiwiR3JvdXBJbmZvUGFuZWwiLCJBZGRNZW1iZXJzTW9kYWwiLCJVcGRhdGVHcm91cEluZm9Nb2RhbCIsIkNvbmZpcm1BY3Rpb25Nb2RhbCIsImFkZEdyb3VwTWVtYmVycyIsImxlYXZlR3JvdXAiLCJtYWtlR3JvdXBBZG1pbiIsInJlbW92ZUdyb3VwQWRtaW4iLCJyZW1vdmVHcm91cE1lbWJlciIsInVwZGF0ZUdyb3VwSW5mbyIsImNyZWF0ZUludml0ZUxpbmsiLCJwYWNrYWdlSnNvbiIsIkFQUF9WRVJTSU9OIiwidmVyc2lvbiIsIkNvbnZlcnNhdGlvbnNTY3JlZW4iLCJjb25zb2xlIiwibG9nIiwiY29udmVyc2F0aW9ucyIsInNldENvbnZlcnNhdGlvbnMiLCJzZWxlY3RlZENvbnZlcnNhdGlvbiIsInNldFNlbGVjdGVkQ29udmVyc2F0aW9uIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZWFyY2hUZXh0Iiwic2V0U2VhcmNoVGV4dCIsInNlbGVjdGVkVGFiIiwic2V0U2VsZWN0ZWRUYWIiLCJpc0NyZWF0ZU1vZGFsT3BlbiIsInNldElzQ3JlYXRlTW9kYWxPcGVuIiwiaXNBZGRNZW1iZXJzT3BlbiIsInNldElzQWRkTWVtYmVyc09wZW4iLCJpc1VwZGF0ZUdyb3VwT3BlbiIsInNldElzVXBkYXRlR3JvdXBPcGVuIiwiY29uZmlybUxlYXZlT3BlbiIsInNldENvbmZpcm1MZWF2ZU9wZW4iLCJtZW1iZXJBY3Rpb24iLCJzZXRNZW1iZXJBY3Rpb24iLCJpbnZpdGVMaW5rIiwic2V0SW52aXRlTGluayIsImludml0ZUdlbmVyYXRpbmciLCJzZXRJbnZpdGVHZW5lcmF0aW5nIiwiaXNJbmZvVmlzaWJsZSIsInNldElzSW5mb1Zpc2libGUiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzb2NrZXQiLCJjb25uZWN0ZWQiLCJyZXN1bHQiLCJQcm9taXNlIiwidGhlbiIsInNvY2siLCJsb2FkQ29udmVyc2F0aW9ucyIsImhhbmRsZURlZXBMaW5rSm9pbiIsImV2ZW50IiwiZGV0YWlsIiwiY29udmVyc2F0aW9uIiwiX2lkIiwid2FybiIsInByZXYiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwiaXRlbSIsImNsb25lIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkYXRhIiwibGVuZ3RoIiwiaXNHcm91cCIsInRpdGxlIiwib3Bwb25lbnQiLCJsYXN0TWVzc2FnZVNlbmRlciIsImVycm9yIiwiaGFuZGxlTG9nb3V0IiwicmVtb3ZlSXRlbSIsImxvY2F0aW9uIiwiaHJlZiIsImZpbHRlcmVkQ29udmVyc2F0aW9ucyIsImZpbHRlciIsImNvbnYiLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJuYW1lIiwiZm9ybWF0VGltZSIsImRhdGVTdHJpbmciLCJkYXRlIiwiRGF0ZSIsIm5vdyIsImRpZmYiLCJnZXRUaW1lIiwiZGF5cyIsIk1hdGgiLCJmbG9vciIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwiZGF5IiwibW9udGgiLCJnZXRJbml0aWFscyIsInNwbGl0IiwibWFwIiwibiIsImpvaW4iLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZ2V0QXZhdGFyIiwiYXZhdGFyIiwiaW1nIiwic3JjIiwiYWx0IiwiY2xhc3NOYW1lIiwiaGFuZGxlQ29udmVyc2F0aW9uQ2xpY2siLCJoYW5kbGVPcGVuTmV3Q2hhdCIsImhhbmRsZUNvbnZlcnNhdGlvbkNyZWF0ZWQiLCJmaWx0ZXJlZCIsInJlZnJlc2hDdXJyZW50Q29udmVyc2F0aW9uIiwidXBkYXRlZCIsImluZGV4IiwiaGFuZGxlQWRkTWVtYmVyc0NvbmZpcm0iLCJ1c2VySWRzIiwiaGFuZGxlVXBkYXRlR3JvdXBJbmZvIiwiaGFuZGxlTWVtYmVyQWN0aW9uRXhlY3V0ZSIsInR5cGUiLCJ1c2VySWQiLCJlcnIiLCJoYW5kbGVMZWF2ZUdyb3VwQ29uZmlybSIsImludml0ZUJhc2VVcmwiLCJlbnYiLCJWSVRFX0lOVklURV9CQVNFX1VSTCIsIm5vcm1hbGl6ZUJhc2UiLCJ1cmwiLCJyZXBsYWNlIiwiYnVpbGRJbnZpdGVVcmwiLCJzaGFyZVVybCIsImludml0ZUNvZGUiLCJiYXNlIiwibm9ybWFsaXplZFNoYXJlIiwidHJpbSIsInRlc3QiLCJjbGVhbmVkIiwic3RhcnRzV2l0aCIsImhhbmRsZUdlbmVyYXRlSW52aXRlIiwicmVzIiwibGluayIsImNlbnRlclBhbmVsQ2xhc3MiLCJkaXYiLCJoMSIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwic3R5bGUiLCJwYWRkaW5nIiwidGV4dEFsaWduIiwiY29sb3IiLCJtZW1iZXJzIiwibGFzdE1lc3NhZ2VBdCIsImNvbnZlcnNhdGlvbklkIiwiY29udmVyc2F0aW9uTmFtZSIsImdyb3VwQXZhdGFyIiwiZ3JvdXBNZW1iZXJDb3VudCIsIm1lbWJlcklkcyIsIm9uVG9nZ2xlSW5mbyIsImN1cnJlbnRVc2VySWQiLCJvbkFkZE1lbWJlcnMiLCJvblJlbW92ZU1lbWJlciIsIm9uTGVhdmVHcm91cCIsIm9uTWFrZUFkbWluIiwib25SZW1vdmVBZG1pbiIsIm9uQ2hhbmdlSW5mbyIsIm9uR2VuZXJhdGVJbnZpdGUiLCJ1bmRlZmluZWQiLCJpc0dlbmVyYXRpbmdJbnZpdGUiLCJpc09wZW4iLCJvbkNsb3NlIiwib25DcmVhdGVkIiwib25Db25maXJtIiwib25TYXZlIiwiaW5pdGlhbFRpdGxlIiwiaW5pdGlhbEF2YXRhciIsIkJvb2xlYW4iLCJkZXNjcmlwdGlvbiIsImNvbmZpcm1MYWJlbCIsInZhcmlhbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/features/chat/Conversations.web.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useChatMessages.ts":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useChatMessages.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChatMessages: () => (/* binding */ useChatMessages)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.ts\");\n/* harmony import */ var _services_chatSocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/chatSocket */ \"(ssr)/../../packages/app/services/chatSocket.ts\");\n\n\n\n\nconst DEFAULT_PAGE_SIZE = 40;\nconst toChatMessage = (message)=>({\n        ...message,\n        // Chun ha  UI d render nh: u tin imageUrl, fallback sang file.url\n        imageUrl: message.imageUrl ?? message.file?.url\n    });\nconst sortMessages = (msgs)=>[\n        ...msgs\n    ].sort((a, b)=>new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\nfunction useChatMessages(conversationId) {\n    const [allMessages, setAllMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [hasMore, setHasMore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loadingOlder, setLoadingOlder] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loadedSkip, setLoadedSkip] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const storedUserId = localStorage.getItem(\"user_id\");\n        if (storedUserId) {\n            setCurrentUserId(storedUserId);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        setLoadedSkip(0);\n        setAllMessages([]);\n    }, [\n        conversationId\n    ]);\n    const loadMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (skip = 0)=>{\n        if (!conversationId) {\n            setAllMessages([]);\n            setHasMore(false);\n            return;\n        }\n        try {\n            if (skip === 0) {\n                setLoading(true);\n            } else {\n                setLoadingOlder(true);\n            }\n            setError(null);\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getMessages)(conversationId, {\n                limit: DEFAULT_PAGE_SIZE,\n                skip\n            });\n            // Handle both old format (array) and new format (object with messages and pagination)\n            let messages;\n            let hasMoreData = false;\n            if (Array.isArray(data)) {\n                // Old format: direct array\n                messages = data;\n                hasMoreData = messages.length >= DEFAULT_PAGE_SIZE;\n            } else {\n                // New format: object with messages and pagination\n                messages = data.messages || [];\n                hasMoreData = data.pagination?.hasMore || false;\n            }\n            const newMessages = messages.map(toChatMessage);\n            if (skip === 0) {\n                // Initial load - replace all messages\n                setAllMessages(sortMessages(newMessages));\n            } else {\n                // Loading older - prepend to existing messages\n                setAllMessages((prev)=>sortMessages([\n                        ...newMessages,\n                        ...prev\n                    ]));\n            }\n            setHasMore(hasMoreData);\n            setLoadedSkip(skip + newMessages.length);\n        } catch (err) {\n            console.error(\" Failed to load messages:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to load messages\");\n        } finally{\n            setLoading(false);\n            setLoadingOlder(false);\n        }\n    }, [\n        conversationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        loadMessages(0);\n    }, [\n        loadMessages\n    ]);\n    const applyMessageUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((messageId, updater)=>{\n        setAllMessages((prev)=>{\n            const next = prev.map((msg)=>msg._id === messageId ? updater(msg) : msg).filter((msg)=>msg !== null);\n            return sortMessages(next);\n        });\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_2__.getSocket)();\n        if (!socket) {\n            console.warn(\" Socket not available, cannot join room\");\n            return;\n        }\n        const joinRoom = ()=>{\n            console.log(` Joining conversation room: conv:${conversationId}`);\n            socket.emit(\"conversation:join\", conversationId);\n        };\n        // Join conversation room  nhn realtime messages\n        if (socket.connected) {\n            joinRoom();\n        } else {\n            console.log(\" Socket not connected yet, waiting for connect...\");\n            // Nu cha connect, i connect ri join\n            const onConnect = ()=>{\n                console.log(` Socket connected, joining room: conv:${conversationId}`);\n                joinRoom();\n                socket.off(\"connect\", onConnect);\n            };\n            socket.on(\"connect\", onConnect);\n            // Cleanup listener on unmount\n            return ()=>{\n                socket.off(\"connect\", onConnect);\n            };\n        }\n        const unsubscribe = (0,_services_chatSocket__WEBPACK_IMPORTED_MODULE_3__.registerChatSocket)(socket, conversationId, {\n            onMessageCreated: (message)=>{\n                console.log(\"\\uD83D\\uDCE8 New message received via socket:\", message._id);\n                setAllMessages((prev)=>{\n                    const exists = prev.some((item)=>item._id === message._id);\n                    if (exists) {\n                        console.log(\" Message already exists, skipping:\", message._id);\n                        return prev;\n                    }\n                    console.log(\" Adding new message to list\");\n                    return sortMessages([\n                        ...prev,\n                        toChatMessage(message)\n                    ]);\n                });\n            },\n            onMessageUpdated: (message)=>{\n                setAllMessages((prev)=>sortMessages(prev.map((item)=>item._id === message._id ? toChatMessage(message) : item)));\n            },\n            onMessageDeleted: (messageId)=>{\n                setAllMessages((prev)=>prev.filter((item)=>item._id !== messageId));\n            },\n            onMessagePinned: (data)=>{\n                console.log(` Socket: Message ${data.messageId} ${data.action}ed`);\n                // Reload messages to get updated pin status\n                loadMessages();\n            },\n            onMessageReaction: (data)=>{\n                if (!data.reaction) return;\n                const reaction = data.reaction;\n                applyMessageUpdate(data.messageId, (msg)=>{\n                    const current = msg.reactions ?? [];\n                    if (data.action === \"remove\") {\n                        return {\n                            ...msg,\n                            reactions: current.filter((existing)=>!(existing.userId === reaction.userId && existing.emoji === reaction.emoji))\n                        };\n                    }\n                    const exists = current.some((existing)=>existing.userId === reaction.userId && existing.emoji === reaction.emoji);\n                    if (exists) {\n                        return msg;\n                    }\n                    return {\n                        ...msg,\n                        reactions: [\n                            ...current,\n                            {\n                                emoji: reaction.emoji,\n                                userId: reaction.userId,\n                                createdAt: reaction.createdAt ?? new Date().toISOString()\n                            }\n                        ]\n                    };\n                });\n            },\n            onMessageRevoked: (payload)=>{\n                applyMessageUpdate(payload.messageId, (msg)=>({\n                        ...msg,\n                        isRevoked: true,\n                        revokedAt: payload.revokedAt ?? new Date().toISOString(),\n                        revokedBy: payload.revokedBy,\n                        text: null,\n                        imageUrl: undefined\n                    }));\n            },\n            onMessageRead: (payload)=>{\n                if (!payload.userId) return;\n                applyMessageUpdate(payload.messageId, (msg)=>{\n                    const alreadyRead = msg.readBy?.some((entry)=>entry.userId === payload.userId);\n                    if (alreadyRead) {\n                        return msg;\n                    }\n                    const nextRead = [\n                        ...msg.readBy ?? [],\n                        {\n                            userId: payload.userId,\n                            readAt: payload.readAt ?? new Date().toISOString()\n                        }\n                    ];\n                    return {\n                        ...msg,\n                        readBy: nextRead\n                    };\n                });\n            }\n        });\n        return ()=>{\n            unsubscribe();\n        };\n    }, [\n        conversationId,\n        loadMessages\n    ]);\n    const markConversationAsRead = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!conversationId) return;\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.markAsRead)(conversationId);\n        } catch (err) {\n            console.warn(\" Failed to mark conversation as read:\", err);\n        }\n    }, [\n        conversationId\n    ]);\n    const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (payload)=>{\n        if (!conversationId) {\n            console.warn(\"sendMessage called without conversationId\");\n            return;\n        }\n        const content = payload.text?.trim() ?? \"\";\n        if (!content && !payload.imageUrl && !payload.file) {\n            return;\n        }\n        try {\n            let response;\n            if (payload.imageUrl || payload.file) {\n                const data = {\n                    text: payload.text,\n                    imageUrl: payload.imageUrl,\n                    file: payload.file,\n                    type: payload.type ?? (payload.imageUrl ? \"image\" : \"file\"),\n                    replyTo: payload.replyTo\n                };\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.createMessageWithPayload)(conversationId, data);\n            } else {\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.createMessage)(conversationId, content);\n            }\n            // Add message if socket handler hasn't added it yet\n            setAllMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === response._id);\n                if (exists) {\n                    return prev;\n                }\n                return sortMessages([\n                    ...prev,\n                    toChatMessage(response)\n                ]);\n            });\n        } catch (err) {\n            console.error(\" Failed to send message:\", err);\n            const messageError = err instanceof Error ? err.message : \"Failed to send message\";\n            setError(messageError);\n        }\n    }, [\n        conversationId\n    ]);\n    const loadOlder = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!hasMore || loadingOlder || !conversationId) return;\n        await loadMessages(loadedSkip);\n    }, [\n        hasMore,\n        loadingOlder,\n        conversationId,\n        loadedSkip,\n        loadMessages\n    ]);\n    const reactToMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId, emoji)=>{\n        const target = allMessages.find((msg)=>msg._id === messageId);\n        const alreadyReacted = target?.reactions?.some((reaction)=>reaction.emoji === emoji && reaction.userId === currentUserId);\n        if (alreadyReacted) {\n            applyMessageUpdate(messageId, (msg)=>({\n                    ...msg,\n                    reactions: (msg.reactions ?? []).filter((reaction)=>!(reaction.emoji === emoji && reaction.userId === currentUserId))\n                }));\n            try {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_1__.removeReaction)(messageId, emoji);\n            } catch (err) {\n                console.error(\" Failed to remove reaction:\", err);\n                loadMessages();\n            }\n            return;\n        }\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                reactions: [\n                    ...msg.reactions ?? [],\n                    {\n                        emoji,\n                        userId: currentUserId ?? \"me\",\n                        createdAt: new Date().toISOString()\n                    }\n                ]\n            }));\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.addReaction)(messageId, emoji);\n        } catch (err) {\n            console.error(\" Failed to add reaction:\", err);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.removeReaction)(messageId, emoji).catch(()=>undefined);\n            loadMessages();\n        }\n    }, [\n        allMessages,\n        applyMessageUpdate,\n        currentUserId,\n        loadMessages\n    ]);\n    const togglePinMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId, shouldPin)=>{\n        console.log(` Toggling pin for message ${messageId}, shouldPin: ${shouldPin}`);\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                isPinned: shouldPin\n            }));\n        try {\n            let response;\n            if (shouldPin) {\n                console.log(` Pinning message ${messageId}...`);\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.pinMessage)(messageId);\n            } else {\n                console.log(` Unpinning message ${messageId}...`);\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.unpinMessage)(messageId);\n            }\n            console.log(` Pin toggle successful, response:`, response);\n            // Update message from response\n            applyMessageUpdate(messageId, ()=>toChatMessage(response));\n            // Also reload to ensure consistency\n            await loadMessages();\n        } catch (err) {\n            console.error(\" Failed to toggle pin:\", err);\n            // Revert on error\n            applyMessageUpdate(messageId, (msg)=>({\n                    ...msg,\n                    isPinned: !shouldPin\n                }));\n        }\n    }, [\n        applyMessageUpdate,\n        loadMessages\n    ]);\n    const editMessageContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId, text)=>{\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                text,\n                isEdited: true\n            }));\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.editMessage)(messageId, text);\n        } catch (err) {\n            console.error(\" Failed to edit message:\", err);\n            loadMessages();\n        }\n    }, [\n        applyMessageUpdate,\n        loadMessages\n    ]);\n    const deleteMessageById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId)=>{\n        const previous = allMessages;\n        applyMessageUpdate(messageId, ()=>null);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.deleteMessage)(messageId);\n        } catch (err) {\n            console.error(\" Failed to delete message:\", err);\n            setAllMessages(previous);\n        }\n    }, [\n        allMessages,\n        applyMessageUpdate\n    ]);\n    const revokeMessageById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId)=>{\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                isRevoked: true,\n                revokedAt: new Date().toISOString(),\n                revokedBy: currentUserId ?? undefined,\n                text: null,\n                imageUrl: undefined\n            }));\n        try {\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.revokeMessage)(messageId);\n            applyMessageUpdate(messageId, ()=>toChatMessage(response));\n        } catch (err) {\n            console.error(\" Failed to revoke message:\", err);\n            loadMessages();\n        }\n    }, [\n        applyMessageUpdate,\n        currentUserId,\n        loadMessages\n    ]);\n    const starMessageById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId)=>{\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                isStarred: true\n            }));\n        try {\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.starMessage)(messageId);\n            applyMessageUpdate(messageId, ()=>toChatMessage(response));\n        } catch (err) {\n            console.error(\" Failed to star message:\", err);\n            loadMessages();\n        }\n    }, [\n        applyMessageUpdate,\n        loadMessages\n    ]);\n    const sortedMessages = sortMessages(allMessages);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            messages: sortedMessages,\n            loading,\n            error,\n            currentUserId,\n            hasMore,\n            sendMessage,\n            reload: ()=>loadMessages(0),\n            loadOlder,\n            markConversationAsRead,\n            reactToMessage,\n            togglePinMessage,\n            editMessageContent,\n            deleteMessageById,\n            revokeMessageById,\n            starMessageById\n        }), [\n        sortedMessages,\n        loading,\n        error,\n        currentUserId,\n        hasMore,\n        sendMessage,\n        loadMessages,\n        loadOlder,\n        markConversationAsRead,\n        reactToMessage,\n        togglePinMessage,\n        editMessageContent,\n        deleteMessageById,\n        revokeMessageById,\n        starMessageById\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZUNoYXRNZXNzYWdlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0U7QUFpQmxEO0FBRXNCO0FBQ3NCO0FBRTVELE1BQU1rQixvQkFBb0I7QUFvQjFCLE1BQU1DLGdCQUFnQixDQUFDQyxVQUFtQztRQUN4RCxHQUFHQSxPQUFPO1FBQ1YsMEVBQTBFO1FBQzFFQyxVQUFVLFFBQWlCQSxRQUFRLElBQUksUUFBaUJDLElBQUksRUFBRUM7SUFDaEU7QUFFQSxNQUFNQyxlQUFlLENBQUNDLE9BQ3BCO1dBQUlBO0tBQUssQ0FBQ0MsSUFBSSxDQUNaLENBQUNDLEdBQUdDLElBQU0sSUFBSUMsS0FBS0YsRUFBRUcsU0FBUyxFQUFFQyxPQUFPLEtBQUssSUFBSUYsS0FBS0QsRUFBRUUsU0FBUyxFQUFFQyxPQUFPO0FBR3RFLFNBQVNDLGdCQUFnQkMsY0FBdUI7SUFDckQsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdoQywrQ0FBUUEsQ0FBZ0IsRUFBRTtJQUNoRSxNQUFNLENBQUNpQyxTQUFTQyxXQUFXLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNtQyxTQUFTQyxXQUFXLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNxQyxjQUFjQyxnQkFBZ0IsR0FBR3RDLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3VDLE9BQU9DLFNBQVMsR0FBR3hDLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUN5QyxlQUFlQyxpQkFBaUIsR0FBRzFDLCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUMyQyxZQUFZQyxjQUFjLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUU3Q0YsZ0RBQVNBLENBQUM7UUFDUixNQUFNK0MsZUFBZUMsYUFBYUMsT0FBTyxDQUFDO1FBQzFDLElBQUlGLGNBQWM7WUFDaEJILGlCQUFpQkc7UUFDbkI7SUFDRixHQUFHLEVBQUU7SUFFTC9DLGdEQUFTQSxDQUFDO1FBQ1I4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O1lBQ0FHO1lBQ0FFO1lBQ0FFO1lBQ0FDO1FBQ0YsSUFDQTtRQUNFRTtRQUNBbkc7UUFDQUk7UUFDQUU7UUFDQVI7UUFDQThFO1FBQ0EvRDtRQUNBc0U7UUFDQVI7UUFDQVM7UUFDQUs7UUFDQUc7UUFDQUU7UUFDQUU7UUFDQUM7S0FDRDtBQUVMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZUNoYXRNZXNzYWdlcy50cz85ZDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgZ2V0TWVzc2FnZXMsXG4gIGNyZWF0ZU1lc3NhZ2UsXG4gIGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZCxcbiAgTWVzc2FnZSxcbiAgbWFya0FzUmVhZCxcbiAgQ3JlYXRlTWVzc2FnZVBheWxvYWQsXG4gIGFkZFJlYWN0aW9uLFxuICByZW1vdmVSZWFjdGlvbixcbiAgcGluTWVzc2FnZSxcbiAgdW5waW5NZXNzYWdlLFxuICBlZGl0TWVzc2FnZSxcbiAgZGVsZXRlTWVzc2FnZSxcbiAgcmV2b2tlTWVzc2FnZSxcbiAgc3Rhck1lc3NhZ2UsXG4gIFJlYWRSZWNlaXB0LFxufSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UsIFNlbmRNZXNzYWdlUGF5bG9hZCB9IGZyb20gJy4uL3R5cGVzL2NoYXQnO1xuaW1wb3J0IHsgZ2V0U29ja2V0IH0gZnJvbSAnLi4vc29ja2V0JztcbmltcG9ydCB7IHJlZ2lzdGVyQ2hhdFNvY2tldCB9IGZyb20gJy4uL3NlcnZpY2VzL2NoYXRTb2NrZXQnO1xuXG5jb25zdCBERUZBVUxUX1BBR0VfU0laRSA9IDQwO1xuXG5pbnRlcmZhY2UgVXNlQ2hhdE1lc3NhZ2VzUmVzdWx0IHtcbiAgbWVzc2FnZXM6IENoYXRNZXNzYWdlW107XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBjdXJyZW50VXNlcklkOiBzdHJpbmcgfCBudWxsO1xuICBoYXNNb3JlOiBib29sZWFuO1xuICBzZW5kTWVzc2FnZTogKHBheWxvYWQ6IFNlbmRNZXNzYWdlUGF5bG9hZCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVsb2FkOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2FkT2xkZXI6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIG1hcmtDb252ZXJzYXRpb25Bc1JlYWQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHJlYWN0VG9NZXNzYWdlOiAobWVzc2FnZUlkOiBzdHJpbmcsIGVtb2ppOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHRvZ2dsZVBpbk1lc3NhZ2U6IChtZXNzYWdlSWQ6IHN0cmluZywgc2hvdWxkUGluOiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBlZGl0TWVzc2FnZUNvbnRlbnQ6IChtZXNzYWdlSWQ6IHN0cmluZywgdGV4dDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBkZWxldGVNZXNzYWdlQnlJZDogKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZXZva2VNZXNzYWdlQnlJZDogKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzdGFyTWVzc2FnZUJ5SWQ6IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgdG9DaGF0TWVzc2FnZSA9IChtZXNzYWdlOiBNZXNzYWdlKTogQ2hhdE1lc3NhZ2UgPT4gKHtcbiAgLi4ubWVzc2FnZSxcbiAgLy8gQ2h14bqpbiBow7NhIMSR4buDIFVJIGThu4UgcmVuZGVyIOG6o25oOiDGsHUgdGnDqm4gaW1hZ2VVcmwsIGZhbGxiYWNrIHNhbmcgZmlsZS51cmxcbiAgaW1hZ2VVcmw6IChtZXNzYWdlIGFzIGFueSkuaW1hZ2VVcmwgPz8gKG1lc3NhZ2UgYXMgYW55KS5maWxlPy51cmwsXG59KTtcblxuY29uc3Qgc29ydE1lc3NhZ2VzID0gKG1zZ3M6IENoYXRNZXNzYWdlW10pID0+XG4gIFsuLi5tc2dzXS5zb3J0KFxuICAgIChhLCBiKSA9PiBuZXcgRGF0ZShhLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSxcbiAgKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNoYXRNZXNzYWdlcyhjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IFVzZUNoYXRNZXNzYWdlc1Jlc3VsdCB7XG4gIGNvbnN0IFthbGxNZXNzYWdlcywgc2V0QWxsTWVzc2FnZXNdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbaGFzTW9yZSwgc2V0SGFzTW9yZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdPbGRlciwgc2V0TG9hZGluZ09sZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkZWRTa2lwLCBzZXRMb2FkZWRTa2lwXSA9IHVzZVN0YXRlKDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmVkVXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcbiAgICBpZiAoc3RvcmVkVXNlcklkKSB7XG4gICAgICBzZXRDdXJyZW50VXNlcklkKHN0b3JlZFVzZXJJZCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRMb2FkZWRTa2lwKDApO1xuICAgIHNldEFsbE1lc3NhZ2VzKFtdKTtcbiAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XG5cbiAgY29uc3QgbG9hZE1lc3NhZ2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNraXA6IG51bWJlciA9IDApID0+IHtcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSB7XG4gICAgICBzZXRBbGxNZXNzYWdlcyhbXSk7XG4gICAgICBzZXRIYXNNb3JlKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHNraXAgPT09IDApIHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldExvYWRpbmdPbGRlcih0cnVlKTtcbiAgICAgIH1cbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldE1lc3NhZ2VzKGNvbnZlcnNhdGlvbklkLCB7IGxpbWl0OiBERUZBVUxUX1BBR0VfU0laRSwgc2tpcCB9KTtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIGJvdGggb2xkIGZvcm1hdCAoYXJyYXkpIGFuZCBuZXcgZm9ybWF0IChvYmplY3Qgd2l0aCBtZXNzYWdlcyBhbmQgcGFnaW5hdGlvbilcbiAgICAgIGxldCBtZXNzYWdlczogTWVzc2FnZVtdO1xuICAgICAgbGV0IGhhc01vcmVEYXRhID0gZmFsc2U7XG4gICAgICBcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIC8vIE9sZCBmb3JtYXQ6IGRpcmVjdCBhcnJheVxuICAgICAgICBtZXNzYWdlcyA9IGRhdGE7XG4gICAgICAgIGhhc01vcmVEYXRhID0gbWVzc2FnZXMubGVuZ3RoID49IERFRkFVTFRfUEFHRV9TSVpFO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTmV3IGZvcm1hdDogb2JqZWN0IHdpdGggbWVzc2FnZXMgYW5kIHBhZ2luYXRpb25cbiAgICAgICAgbWVzc2FnZXMgPSBkYXRhLm1lc3NhZ2VzIHx8IFtdO1xuICAgICAgICBoYXNNb3JlRGF0YSA9IGRhdGEucGFnaW5hdGlvbj8uaGFzTW9yZSB8fCBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAodG9DaGF0TWVzc2FnZSk7XG4gICAgICBcbiAgICAgIGlmIChza2lwID09PSAwKSB7XG4gICAgICAgIC8vIEluaXRpYWwgbG9hZCAtIHJlcGxhY2UgYWxsIG1lc3NhZ2VzXG4gICAgICAgIHNldEFsbE1lc3NhZ2VzKHNvcnRNZXNzYWdlcyhuZXdNZXNzYWdlcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTG9hZGluZyBvbGRlciAtIHByZXBlbmQgdG8gZXhpc3RpbmcgbWVzc2FnZXNcbiAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHNvcnRNZXNzYWdlcyhbLi4ubmV3TWVzc2FnZXMsIC4uLnByZXZdKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEhhc01vcmUoaGFzTW9yZURhdGEpO1xuICAgICAgc2V0TG9hZGVkU2tpcChza2lwICsgbmV3TWVzc2FnZXMubGVuZ3RoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbG9hZCBtZXNzYWdlczonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gbG9hZCBtZXNzYWdlcycpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHNldExvYWRpbmdPbGRlcihmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udmVyc2F0aW9uSWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRNZXNzYWdlcygwKTtcbiAgfSwgW2xvYWRNZXNzYWdlc10pO1xuXG4gIGNvbnN0IGFwcGx5TWVzc2FnZVVwZGF0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChtZXNzYWdlSWQ6IHN0cmluZywgdXBkYXRlcjogKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSA9PiBDaGF0TWVzc2FnZSB8IG51bGwpID0+IHtcbiAgICAgIHNldEFsbE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBwcmV2XG4gICAgICAgICAgLm1hcCgobXNnKSA9PiAobXNnLl9pZCA9PT0gbWVzc2FnZUlkID8gdXBkYXRlcihtc2cpIDogbXNnKSlcbiAgICAgICAgICAuZmlsdGVyKChtc2cpOiBtc2cgaXMgQ2hhdE1lc3NhZ2UgPT4gbXNnICE9PSBudWxsKTtcbiAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhuZXh0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW10sXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XG4gICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XG4gICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvY2tldCBub3QgYXZhaWxhYmxlLCBjYW5ub3Qgam9pbiByb29tJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgam9pblJvb20gPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+TsSBKb2luaW5nIGNvbnZlcnNhdGlvbiByb29tOiBjb252OiR7Y29udmVyc2F0aW9uSWR9YCk7XG4gICAgICBzb2NrZXQuZW1pdCgnY29udmVyc2F0aW9uOmpvaW4nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgfTtcblxuICAgIC8vIEpvaW4gY29udmVyc2F0aW9uIHJvb20gxJHhu4Mgbmjhuq1uIHJlYWx0aW1lIG1lc3NhZ2VzXG4gICAgaWYgKHNvY2tldC5jb25uZWN0ZWQpIHtcbiAgICAgIGpvaW5Sb29tKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCfij7MgU29ja2V0IG5vdCBjb25uZWN0ZWQgeWV0LCB3YWl0aW5nIGZvciBjb25uZWN0Li4uJyk7XG4gICAgICAvLyBO4bq/dSBjaMawYSBjb25uZWN0LCDEkeG7o2kgY29ubmVjdCBy4buTaSBqb2luXG4gICAgICBjb25zdCBvbkNvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgU29ja2V0IGNvbm5lY3RlZCwgam9pbmluZyByb29tOiBjb252OiR7Y29udmVyc2F0aW9uSWR9YCk7XG4gICAgICAgIGpvaW5Sb29tKCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ2Nvbm5lY3QnLCBvbkNvbm5lY3QpO1xuICAgICAgfTtcbiAgICAgIHNvY2tldC5vbignY29ubmVjdCcsIG9uQ29ubmVjdCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFudXAgbGlzdGVuZXIgb24gdW5tb3VudFxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc29ja2V0Lm9mZignY29ubmVjdCcsIG9uQ29ubmVjdCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gcmVnaXN0ZXJDaGF0U29ja2V0KHNvY2tldCwgY29udmVyc2F0aW9uSWQsIHtcbiAgICAgIG9uTWVzc2FnZUNyZWF0ZWQ6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OoIE5ldyBtZXNzYWdlIHJlY2VpdmVkIHZpYSBzb2NrZXQ6JywgbWVzc2FnZS5faWQpO1xuICAgICAgICBzZXRBbGxNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIE1lc3NhZ2UgYWxyZWFkeSBleGlzdHMsIHNraXBwaW5nOicsIG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFkZGluZyBuZXcgbWVzc2FnZSB0byBsaXN0Jyk7XG4gICAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgdG9DaGF0TWVzc2FnZShtZXNzYWdlKV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbk1lc3NhZ2VVcGRhdGVkOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICBzZXRBbGxNZXNzYWdlcygocHJldikgPT5cbiAgICAgICAgICBzb3J0TWVzc2FnZXMoXG4gICAgICAgICAgICBwcmV2Lm1hcCgoaXRlbSkgPT4gKGl0ZW0uX2lkID09PSBtZXNzYWdlLl9pZCA/IHRvQ2hhdE1lc3NhZ2UobWVzc2FnZSkgOiBpdGVtKSksXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbk1lc3NhZ2VEZWxldGVkOiAobWVzc2FnZUlkKSA9PiB7XG4gICAgICAgIHNldEFsbE1lc3NhZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5faWQgIT09IG1lc3NhZ2VJZCkpO1xuICAgICAgfSxcbiAgICAgIG9uTWVzc2FnZVBpbm5lZDogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4wgU29ja2V0OiBNZXNzYWdlICR7ZGF0YS5tZXNzYWdlSWR9ICR7ZGF0YS5hY3Rpb259ZWRgKTtcbiAgICAgICAgLy8gUmVsb2FkIG1lc3NhZ2VzIHRvIGdldCB1cGRhdGVkIHBpbiBzdGF0dXNcbiAgICAgICAgbG9hZE1lc3NhZ2VzKCk7XG4gICAgICB9LFxuICAgICAgb25NZXNzYWdlUmVhY3Rpb246IChkYXRhKSA9PiB7XG4gICAgICAgIGlmICghZGF0YS5yZWFjdGlvbikgcmV0dXJuO1xuICAgICAgICBjb25zdCByZWFjdGlvbiA9IGRhdGEucmVhY3Rpb24hO1xuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUoZGF0YS5tZXNzYWdlSWQsIChtc2cpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gbXNnLnJlYWN0aW9ucyA/PyBbXTtcbiAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5tc2csXG4gICAgICAgICAgICAgIHJlYWN0aW9uczogY3VycmVudC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKGV4aXN0aW5nKSA9PlxuICAgICAgICAgICAgICAgICAgIShleGlzdGluZy51c2VySWQgPT09IHJlYWN0aW9uLnVzZXJJZCAmJiBleGlzdGluZy5lbW9qaSA9PT0gcmVhY3Rpb24uZW1vamkpLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZXhpc3RzID0gY3VycmVudC5zb21lKFxuICAgICAgICAgICAgKGV4aXN0aW5nKSA9PiBleGlzdGluZy51c2VySWQgPT09IHJlYWN0aW9uLnVzZXJJZCAmJiBleGlzdGluZy5lbW9qaSA9PT0gcmVhY3Rpb24uZW1vamksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgICAgcmVhY3Rpb25zOiBbXG4gICAgICAgICAgICAgIC4uLmN1cnJlbnQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbW9qaTogcmVhY3Rpb24uZW1vamksXG4gICAgICAgICAgICAgICAgdXNlcklkOiByZWFjdGlvbi51c2VySWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiByZWFjdGlvbi5jcmVhdGVkQXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbk1lc3NhZ2VSZXZva2VkOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUocGF5bG9hZC5tZXNzYWdlSWQsIChtc2cpID0+ICh7XG4gICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgIGlzUmV2b2tlZDogdHJ1ZSxcbiAgICAgICAgICByZXZva2VkQXQ6IHBheWxvYWQucmV2b2tlZEF0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICByZXZva2VkQnk6IHBheWxvYWQucmV2b2tlZEJ5LFxuICAgICAgICAgIHRleHQ6IG51bGwgYXMgYW55LFxuICAgICAgICAgIGltYWdlVXJsOiB1bmRlZmluZWQsXG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICBvbk1lc3NhZ2VSZWFkOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoIXBheWxvYWQudXNlcklkKSByZXR1cm47XG4gICAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShwYXlsb2FkLm1lc3NhZ2VJZCwgKG1zZykgPT4ge1xuICAgICAgICAgIGNvbnN0IGFscmVhZHlSZWFkID0gbXNnLnJlYWRCeT8uc29tZSgoZW50cnkpID0+IGVudHJ5LnVzZXJJZCA9PT0gcGF5bG9hZC51c2VySWQpO1xuICAgICAgICAgIGlmIChhbHJlYWR5UmVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV4dFJlYWQ6IFJlYWRSZWNlaXB0W10gPSBbXG4gICAgICAgICAgICAuLi4obXNnLnJlYWRCeSA/PyBbXSksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHVzZXJJZDogcGF5bG9hZC51c2VySWQsXG4gICAgICAgICAgICAgIHJlYWRBdDogcGF5bG9hZC5yZWFkQXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdO1xuICAgICAgICAgIHJldHVybiB7IC4uLm1zZywgcmVhZEJ5OiBuZXh0UmVhZCB9O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbY29udmVyc2F0aW9uSWQsIGxvYWRNZXNzYWdlc10pO1xuXG4gIGNvbnN0IG1hcmtDb252ZXJzYXRpb25Bc1JlYWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtYXJrQXNSZWFkKGNvbnZlcnNhdGlvbklkKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byBtYXJrIGNvbnZlcnNhdGlvbiBhcyByZWFkOicsIGVycik7XG4gICAgfVxuICB9LCBbY29udmVyc2F0aW9uSWRdKTtcblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChwYXlsb2FkOiBTZW5kTWVzc2FnZVBheWxvYWQpID0+IHtcbiAgICAgIGlmICghY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdzZW5kTWVzc2FnZSBjYWxsZWQgd2l0aG91dCBjb252ZXJzYXRpb25JZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBwYXlsb2FkLnRleHQ/LnRyaW0oKSA/PyAnJztcbiAgICAgIGlmICghY29udGVudCAmJiAhcGF5bG9hZC5pbWFnZVVybCAmJiAhcGF5bG9hZC5maWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlc3BvbnNlOiBNZXNzYWdlO1xuICAgICAgICBpZiAocGF5bG9hZC5pbWFnZVVybCB8fCBwYXlsb2FkLmZpbGUpIHtcbiAgICAgICAgICBjb25zdCBkYXRhOiBDcmVhdGVNZXNzYWdlUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIHRleHQ6IHBheWxvYWQudGV4dCxcbiAgICAgICAgICAgIGltYWdlVXJsOiBwYXlsb2FkLmltYWdlVXJsLFxuICAgICAgICAgICAgZmlsZTogcGF5bG9hZC5maWxlLFxuICAgICAgICAgICAgdHlwZTogcGF5bG9hZC50eXBlID8/IChwYXlsb2FkLmltYWdlVXJsID8gJ2ltYWdlJyA6ICdmaWxlJyksXG4gICAgICAgICAgICByZXBseVRvOiBwYXlsb2FkLnJlcGx5VG8sXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZChjb252ZXJzYXRpb25JZCwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVNZXNzYWdlKGNvbnZlcnNhdGlvbklkLCBjb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBtZXNzYWdlIGlmIHNvY2tldCBoYW5kbGVyIGhhc24ndCBhZGRlZCBpdCB5ZXRcbiAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUoKG1zZykgPT4gbXNnLl9pZCA9PT0gcmVzcG9uc2UuX2lkKTtcbiAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgdG9DaGF0TWVzc2FnZShyZXNwb25zZSldKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzZW5kIG1lc3NhZ2U6JywgZXJyKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUVycm9yID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlJztcbiAgICAgICAgc2V0RXJyb3IobWVzc2FnZUVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjb252ZXJzYXRpb25JZF0sXG4gICk7XG5cbiAgY29uc3QgbG9hZE9sZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaGFzTW9yZSB8fCBsb2FkaW5nT2xkZXIgfHwgIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XG4gICAgYXdhaXQgbG9hZE1lc3NhZ2VzKGxvYWRlZFNraXApO1xuICB9LCBbaGFzTW9yZSwgbG9hZGluZ09sZGVyLCBjb252ZXJzYXRpb25JZCwgbG9hZGVkU2tpcCwgbG9hZE1lc3NhZ2VzXSk7XG5cbiAgY29uc3QgcmVhY3RUb01lc3NhZ2UgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcsIGVtb2ppOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGFsbE1lc3NhZ2VzLmZpbmQoKG1zZykgPT4gbXNnLl9pZCA9PT0gbWVzc2FnZUlkKTtcbiAgICAgIGNvbnN0IGFscmVhZHlSZWFjdGVkID0gdGFyZ2V0Py5yZWFjdGlvbnM/LnNvbWUoXG4gICAgICAgIChyZWFjdGlvbikgPT4gcmVhY3Rpb24uZW1vamkgPT09IGVtb2ppICYmIHJlYWN0aW9uLnVzZXJJZCA9PT0gY3VycmVudFVzZXJJZCxcbiAgICAgICk7XG5cbiAgICAgIGlmIChhbHJlYWR5UmVhY3RlZCkge1xuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoe1xuICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICByZWFjdGlvbnM6IChtc2cucmVhY3Rpb25zID8/IFtdKS5maWx0ZXIoXG4gICAgICAgICAgICAocmVhY3Rpb24pID0+ICEocmVhY3Rpb24uZW1vamkgPT09IGVtb2ppICYmIHJlYWN0aW9uLnVzZXJJZCA9PT0gY3VycmVudFVzZXJJZCksXG4gICAgICAgICAgKSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgcmVtb3ZlUmVhY3Rpb24obWVzc2FnZUlkLCBlbW9qaSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gcmVtb3ZlIHJlYWN0aW9uOicsIGVycik7XG4gICAgICAgICAgbG9hZE1lc3NhZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoe1xuICAgICAgICAuLi5tc2csXG4gICAgICAgIHJlYWN0aW9uczogW1xuICAgICAgICAgIC4uLihtc2cucmVhY3Rpb25zID8/IFtdKSxcbiAgICAgICAgICB7IGVtb2ppLCB1c2VySWQ6IGN1cnJlbnRVc2VySWQgPz8gJ21lJywgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWRkUmVhY3Rpb24obWVzc2FnZUlkLCBlbW9qaSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBhZGQgcmVhY3Rpb246JywgZXJyKTtcbiAgICAgICAgYXdhaXQgcmVtb3ZlUmVhY3Rpb24obWVzc2FnZUlkLCBlbW9qaSkuY2F0Y2goKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgICAgbG9hZE1lc3NhZ2VzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYWxsTWVzc2FnZXMsIGFwcGx5TWVzc2FnZVVwZGF0ZSwgY3VycmVudFVzZXJJZCwgbG9hZE1lc3NhZ2VzXSxcbiAgKTtcblxuICBjb25zdCB0b2dnbGVQaW5NZXNzYWdlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKG1lc3NhZ2VJZDogc3RyaW5nLCBzaG91bGRQaW46IGJvb2xlYW4pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OMIFRvZ2dsaW5nIHBpbiBmb3IgbWVzc2FnZSAke21lc3NhZ2VJZH0sIHNob3VsZFBpbjogJHtzaG91bGRQaW59YCk7XG4gICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoeyAuLi5tc2csIGlzUGlubmVkOiBzaG91bGRQaW4gfSkpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlc3BvbnNlOiBNZXNzYWdlO1xuICAgICAgICBpZiAoc2hvdWxkUGluKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk4wgUGlubmluZyBtZXNzYWdlICR7bWVzc2FnZUlkfS4uLmApO1xuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgcGluTWVzc2FnZShtZXNzYWdlSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OMIFVucGlubmluZyBtZXNzYWdlICR7bWVzc2FnZUlkfS4uLmApO1xuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdW5waW5NZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYOKchSBQaW4gdG9nZ2xlIHN1Y2Nlc3NmdWwsIHJlc3BvbnNlOmAsIHJlc3BvbnNlKTtcbiAgICAgICAgLy8gVXBkYXRlIG1lc3NhZ2UgZnJvbSByZXNwb25zZVxuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAoKSA9PiB0b0NoYXRNZXNzYWdlKHJlc3BvbnNlKSk7XG4gICAgICAgIC8vIEFsc28gcmVsb2FkIHRvIGVuc3VyZSBjb25zaXN0ZW5jeVxuICAgICAgICBhd2FpdCBsb2FkTWVzc2FnZXMoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHRvZ2dsZSBwaW46JywgZXJyKTtcbiAgICAgICAgLy8gUmV2ZXJ0IG9uIGVycm9yXG4gICAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShtZXNzYWdlSWQsIChtc2cpID0+ICh7IC4uLm1zZywgaXNQaW5uZWQ6ICFzaG91bGRQaW4gfSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FwcGx5TWVzc2FnZVVwZGF0ZSwgbG9hZE1lc3NhZ2VzXSxcbiAgKTtcblxuICBjb25zdCBlZGl0TWVzc2FnZUNvbnRlbnQgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4ge1xuICAgICAgYXBwbHlNZXNzYWdlVXBkYXRlKG1lc3NhZ2VJZCwgKG1zZykgPT4gKHsgLi4ubXNnLCB0ZXh0LCBpc0VkaXRlZDogdHJ1ZSB9KSk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBlZGl0TWVzc2FnZShtZXNzYWdlSWQsIHRleHQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZWRpdCBtZXNzYWdlOicsIGVycik7XG4gICAgICAgIGxvYWRNZXNzYWdlcygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FwcGx5TWVzc2FnZVVwZGF0ZSwgbG9hZE1lc3NhZ2VzXSxcbiAgKTtcblxuICBjb25zdCBkZWxldGVNZXNzYWdlQnlJZCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgcHJldmlvdXMgPSBhbGxNZXNzYWdlcztcbiAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShtZXNzYWdlSWQsICgpID0+IG51bGwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlTWVzc2FnZShtZXNzYWdlSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZGVsZXRlIG1lc3NhZ2U6JywgZXJyKTtcbiAgICAgICAgc2V0QWxsTWVzc2FnZXMocHJldmlvdXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FsbE1lc3NhZ2VzLCBhcHBseU1lc3NhZ2VVcGRhdGVdLFxuICApO1xuXG4gIGNvbnN0IHJldm9rZU1lc3NhZ2VCeUlkID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiB7XG4gICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoe1xuICAgICAgICAuLi5tc2csXG4gICAgICAgIGlzUmV2b2tlZDogdHJ1ZSxcbiAgICAgICAgcmV2b2tlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJldm9rZWRCeTogY3VycmVudFVzZXJJZCA/PyB1bmRlZmluZWQsXG4gICAgICAgIHRleHQ6IG51bGwgYXMgYW55LFxuICAgICAgICBpbWFnZVVybDogdW5kZWZpbmVkLFxuICAgICAgfSkpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXZva2VNZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShtZXNzYWdlSWQsICgpID0+IHRvQ2hhdE1lc3NhZ2UocmVzcG9uc2UpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHJldm9rZSBtZXNzYWdlOicsIGVycik7XG4gICAgICAgIGxvYWRNZXNzYWdlcygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FwcGx5TWVzc2FnZVVwZGF0ZSwgY3VycmVudFVzZXJJZCwgbG9hZE1lc3NhZ2VzXSxcbiAgKTtcblxuICBjb25zdCBzdGFyTWVzc2FnZUJ5SWQgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShtZXNzYWdlSWQsIChtc2cpID0+ICh7IC4uLm1zZywgaXNTdGFycmVkOiB0cnVlIH0pKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3Rhck1lc3NhZ2UobWVzc2FnZUlkKTtcbiAgICAgICAgYXBwbHlNZXNzYWdlVXBkYXRlKG1lc3NhZ2VJZCwgKCkgPT4gdG9DaGF0TWVzc2FnZShyZXNwb25zZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc3RhciBtZXNzYWdlOicsIGVycik7XG4gICAgICAgIGxvYWRNZXNzYWdlcygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FwcGx5TWVzc2FnZVVwZGF0ZSwgbG9hZE1lc3NhZ2VzXSxcbiAgKTtcblxuICBjb25zdCBzb3J0ZWRNZXNzYWdlcyA9IHNvcnRNZXNzYWdlcyhhbGxNZXNzYWdlcyk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIG1lc3NhZ2VzOiBzb3J0ZWRNZXNzYWdlcyxcbiAgICAgIGxvYWRpbmcsXG4gICAgICBlcnJvcixcbiAgICAgIGN1cnJlbnRVc2VySWQsXG4gICAgICBoYXNNb3JlLFxuICAgICAgc2VuZE1lc3NhZ2UsXG4gICAgICByZWxvYWQ6ICgpID0+IGxvYWRNZXNzYWdlcygwKSxcbiAgICAgIGxvYWRPbGRlcixcbiAgICAgIG1hcmtDb252ZXJzYXRpb25Bc1JlYWQsXG4gICAgICByZWFjdFRvTWVzc2FnZSxcbiAgICAgIHRvZ2dsZVBpbk1lc3NhZ2UsXG4gICAgICBlZGl0TWVzc2FnZUNvbnRlbnQsXG4gICAgICBkZWxldGVNZXNzYWdlQnlJZCxcbiAgICAgIHJldm9rZU1lc3NhZ2VCeUlkLFxuICAgICAgc3Rhck1lc3NhZ2VCeUlkLFxuICAgIH0pLFxuICAgIFtcbiAgICAgIHNvcnRlZE1lc3NhZ2VzLFxuICAgICAgbG9hZGluZyxcbiAgICAgIGVycm9yLFxuICAgICAgY3VycmVudFVzZXJJZCxcbiAgICAgIGhhc01vcmUsXG4gICAgICBzZW5kTWVzc2FnZSxcbiAgICAgIGxvYWRNZXNzYWdlcyxcbiAgICAgIGxvYWRPbGRlcixcbiAgICAgIG1hcmtDb252ZXJzYXRpb25Bc1JlYWQsXG4gICAgICByZWFjdFRvTWVzc2FnZSxcbiAgICAgIHRvZ2dsZVBpbk1lc3NhZ2UsXG4gICAgICBlZGl0TWVzc2FnZUNvbnRlbnQsXG4gICAgICBkZWxldGVNZXNzYWdlQnlJZCxcbiAgICAgIHJldm9rZU1lc3NhZ2VCeUlkLFxuICAgICAgc3Rhck1lc3NhZ2VCeUlkLFxuICAgIF0sXG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJnZXRNZXNzYWdlcyIsImNyZWF0ZU1lc3NhZ2UiLCJjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQiLCJtYXJrQXNSZWFkIiwiYWRkUmVhY3Rpb24iLCJyZW1vdmVSZWFjdGlvbiIsInBpbk1lc3NhZ2UiLCJ1bnBpbk1lc3NhZ2UiLCJlZGl0TWVzc2FnZSIsImRlbGV0ZU1lc3NhZ2UiLCJyZXZva2VNZXNzYWdlIiwic3Rhck1lc3NhZ2UiLCJnZXRTb2NrZXQiLCJyZWdpc3RlckNoYXRTb2NrZXQiLCJERUZBVUxUX1BBR0VfU0laRSIsInRvQ2hhdE1lc3NhZ2UiLCJtZXNzYWdlIiwiaW1hZ2VVcmwiLCJmaWxlIiwidXJsIiwic29ydE1lc3NhZ2VzIiwibXNncyIsInNvcnQiLCJhIiwiYiIsIkRhdGUiLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwidXNlQ2hhdE1lc3NhZ2VzIiwiY29udmVyc2F0aW9uSWQiLCJhbGxNZXNzYWdlcyIsInNldEFsbE1lc3NhZ2VzIiwiaGFzTW9yZSIsInNldEhhc01vcmUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImxvYWRpbmdPbGRlciIsInNldExvYWRpbmdPbGRlciIsImVycm9yIiwic2V0RXJyb3IiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImxvYWRlZFNraXAiLCJzZXRMb2FkZWRTa2lwIiwic3RvcmVkVXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxvYWRNZXNzYWdlcyIsInNraXAiLCJkYXRhIiwibGltaXQiLCJtZXNzYWdlcyIsImhhc01vcmVEYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwicGFnaW5hdGlvbiIsIm5ld01lc3NhZ2VzIiwibWFwIiwicHJldiIsImVyciIsImNvbnNvbGUiLCJFcnJvciIsImFwcGx5TWVzc2FnZVVwZGF0ZSIsIm1lc3NhZ2VJZCIsInVwZGF0ZXIiLCJuZXh0IiwibXNnIiwiX2lkIiwiZmlsdGVyIiwic29ja2V0Iiwid2FybiIsImpvaW5Sb29tIiwibG9nIiwiZW1pdCIsImNvbm5lY3RlZCIsIm9uQ29ubmVjdCIsIm9mZiIsIm9uIiwidW5zdWJzY3JpYmUiLCJvbk1lc3NhZ2VDcmVhdGVkIiwiZXhpc3RzIiwic29tZSIsIml0ZW0iLCJvbk1lc3NhZ2VVcGRhdGVkIiwib25NZXNzYWdlRGVsZXRlZCIsIm9uTWVzc2FnZVBpbm5lZCIsImFjdGlvbiIsIm9uTWVzc2FnZVJlYWN0aW9uIiwicmVhY3Rpb24iLCJjdXJyZW50IiwicmVhY3Rpb25zIiwiZXhpc3RpbmciLCJ1c2VySWQiLCJlbW9qaSIsInRvSVNPU3RyaW5nIiwib25NZXNzYWdlUmV2b2tlZCIsInBheWxvYWQiLCJpc1Jldm9rZWQiLCJyZXZva2VkQXQiLCJyZXZva2VkQnkiLCJ0ZXh0IiwidW5kZWZpbmVkIiwib25NZXNzYWdlUmVhZCIsImFscmVhZHlSZWFkIiwicmVhZEJ5IiwiZW50cnkiLCJuZXh0UmVhZCIsInJlYWRBdCIsIm1hcmtDb252ZXJzYXRpb25Bc1JlYWQiLCJzZW5kTWVzc2FnZSIsImNvbnRlbnQiLCJ0cmltIiwicmVzcG9uc2UiLCJ0eXBlIiwicmVwbHlUbyIsIm1lc3NhZ2VFcnJvciIsImxvYWRPbGRlciIsInJlYWN0VG9NZXNzYWdlIiwidGFyZ2V0IiwiZmluZCIsImFscmVhZHlSZWFjdGVkIiwiY2F0Y2giLCJ0b2dnbGVQaW5NZXNzYWdlIiwic2hvdWxkUGluIiwiaXNQaW5uZWQiLCJlZGl0TWVzc2FnZUNvbnRlbnQiLCJpc0VkaXRlZCIsImRlbGV0ZU1lc3NhZ2VCeUlkIiwicHJldmlvdXMiLCJyZXZva2VNZXNzYWdlQnlJZCIsInN0YXJNZXNzYWdlQnlJZCIsImlzU3RhcnJlZCIsInNvcnRlZE1lc3NhZ2VzIiwicmVsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useChatMessages.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useNotifications.ts":
/*!****************************************************!*\
  !*** ../../packages/app/hooks/useNotifications.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useNotifications: () => (/* binding */ useNotifications)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.ts\");\n/* harmony import */ var _services_notificationService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/notificationService */ \"(ssr)/../../packages/app/services/notificationService.ts\");\n\n\n\nfunction useNotifications(currentConversationId) {\n    const isWindowFocusedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    const permissionRequestedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Request permission on mount\n        if (!permissionRequestedRef.current) {\n            // Only request permission in browser\n            if (false) {}\n            permissionRequestedRef.current = true;\n        }\n        // Track window focus\n        const handleFocus = ()=>{\n            isWindowFocusedRef.current = true;\n        };\n        const handleBlur = ()=>{\n            isWindowFocusedRef.current = false;\n        };\n        if (false) {}\n        return ()=>{\n            if (false) {}\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        // Listen to all new messages (not just current conversation)\n        const handleNewMessage = (payload)=>{\n            const { conversationId, message } = payload;\n            // Don't notify if:\n            // 1. It's the current conversation and window is focused\n            // 2. Message is from current user\n            const isCurrentConversation = conversationId === currentConversationId;\n            let isOwnMessage = false;\n            if (false) {}\n            const shouldNotify = !isCurrentConversation || !isWindowFocusedRef.current;\n            if (!isOwnMessage && shouldNotify) {\n                // Get sender name if available\n                const senderName = message.sender?.name || \"Ai \\xf3\";\n                const messageText = message.text || (message.imageUrl ? \"\\uD83D\\uDCF7 H\\xecnh nh\" : \"Tin nhn\");\n                (0,_services_notificationService__WEBPACK_IMPORTED_MODULE_2__.showNotification)({\n                    title: senderName,\n                    body: messageText.length > 100 ? messageText.substring(0, 100) + \"...\" : messageText,\n                    conversationId\n                });\n            }\n        };\n        socket.on(\"message:new\", handleNewMessage);\n        socket.on(\"newMessage\", handleNewMessage);\n        socket.on(\"chatMessage\", handleNewMessage);\n        return ()=>{\n            socket.off(\"message:new\", handleNewMessage);\n            socket.off(\"newMessage\", handleNewMessage);\n            socket.off(\"chatMessage\", handleNewMessage);\n        };\n    }, [\n        currentConversationId\n    ]);\n    // Social notifications (likes, comments, friend requests)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        const handleSocialNotification = (notification)=>{\n            const actor = notification.actorName || \"Ngi d\\xf9ng\";\n            let body = \"\";\n            switch(notification.type){\n                case \"POST_LIKED\":\n                    body = `${actor}  thch bi vit ca bn`;\n                    break;\n                case \"POST_COMMENTED\":\n                    body = `${actor}  bnh lun bi vit ca bn`;\n                    break;\n                case \"FRIEND_REQUEST\":\n                    body = `${actor}  gi li mi kt bn`;\n                    break;\n                case \"FRIEND_ACCEPTED\":\n                    body = `${actor}  chp nhn li mi kt bn`;\n                    break;\n                default:\n                    body = \"Bn c\\xf3 th\\xf4ng b\\xe1o mi\";\n            }\n            (0,_services_notificationService__WEBPACK_IMPORTED_MODULE_2__.showNotification)({\n                title: \"Day2 Social\",\n                body\n            });\n        };\n        socket.on(\"social:notification\", handleSocialNotification);\n        return ()=>{\n            socket.off(\"social:notification\", handleSocialNotification);\n        };\n    }, []);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZU5vdGlmaWNhdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDSjtBQUM0RDtBQUczRixTQUFTSyxpQkFBaUJDLHFCQUE4QjtJQUM3RCxNQUFNQyxxQkFBcUJOLDZDQUFNQSxDQUFDO0lBQ2xDLE1BQU1PLHlCQUF5QlAsNkNBQU1BLENBQUM7SUFFdENELGdEQUFTQSxDQUFDO1FBQ1IsOEJBQThCO1FBQzlCLElBQUksQ0FBQ1EsdUJBQXVCQyxPQUFPLEVBQUU7WUFDbkMscUNBQXFDO1lBQ3JDLElBQUksS0FBa0IsRUFBYSxFQUVsQztZQUNERCx1QkFBdUJDLE9BQU8sR0FBRztRQUNuQztRQUVBLHFCQUFxQjtRQUNyQixNQUFNQyxjQUFjO1lBQ2xCSCxtQkFBbUJFLE9BQU8sR0FBRztRQUMvQjtRQUNBLE1BQU1FLGFBQWE7WUFDakJKLG1CQUFtQkUsT0FBTyxHQUFHO1FBQy9CO1FBRUEsSUFBSSxLQUFrQixFQUFhLEVBR2xDO1FBRUQsT0FBTztZQUNMLElBQUksS0FBa0IsRUFBYSxFQUdsQztRQUNIO0lBQ0YsR0FBRyxFQUFFO0lBRUxULGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWUsU0FBU2Isa0RBQVNBO1FBQ3hCLElBQUksQ0FBQ2EsUUFBUTtRQUViLDZEQUE2RDtRQUM3RCxNQUFNQyxtQkFBbUIsQ0FBQ0M7WUFDeEIsTUFBTSxFQUFFQyxjQUFjLEVBQUVDLE9BQU8sRUFBRSxHQUFHRjtZQUVwQyxtQkFBbUI7WUFDbkIseURBQXlEO1lBQ3pELGtDQUFrQztZQUNsQyxNQUFNRyx3QkFBd0JGLG1CQUFtQlo7WUFDakQsSUFBSWUsZUFBZTtZQUNuQixJQUFJLEtBQWtCLEVBQWEsRUFPbEM7WUFDRCxNQUFNSyxlQUFlLENBQUNOLHlCQUF5QixDQUFDYixtQkFBbUJFLE9BQU87WUFFMUUsSUFBSSxDQUFDWSxnQkFBZ0JLLGNBQWM7Z0JBQ2pDLCtCQUErQjtnQkFDL0IsTUFBTUMsYUFBYSxRQUFpQkMsTUFBTSxFQUFFQyxRQUFRO2dCQUNwRCxNQUFNQyxjQUFjWCxRQUFRWSxJQUFJLElBQUtaLENBQUFBLFFBQVFhLFFBQVEsR0FBRyw2QkFBZ0IsVUFBUztnQkFFakY3QiwrRUFBZ0JBLENBQUM7b0JBQ2Y4QixPQUFPTjtvQkFDUE8sTUFBTUosWUFBWUssTUFBTSxHQUFHLE1BQU1MLFlBQVlNLFNBQVMsQ0FBQyxHQUFHLE9BQU8sUUFBUU47b0JBQ3pFWjtnQkFDRjtZQUNGO1FBQ0Y7UUFFQUgsT0FBT3NCLEVBQUUsQ0FBQyxlQUFlckI7UUFDekJELE9BQU9zQixFQUFFLENBQUMsY0FBY3JCO1FBQ3hCRCxPQUFPc0IsRUFBRSxDQUFDLGVBQWVyQjtRQUV6QixPQUFPO1lBQ0xELE9BQU91QixHQUFHLENBQUMsZUFBZXRCO1lBQzFCRCxPQUFPdUIsR0FBRyxDQUFDLGNBQWN0QjtZQUN6QkQsT0FBT3VCLEdBQUcsQ0FBQyxlQUFldEI7UUFDNUI7SUFDRixHQUFHO1FBQUNWO0tBQXNCO0lBRTFCLDBEQUEwRDtJQUMxRE4sZ0RBQVNBLENBQUM7UUFDUixNQUFNZSxTQUFTYixrREFBU0E7UUFDeEIsSUFBSSxDQUFDYSxRQUFRO1FBRWIsTUFBTXdCLDJCQUEyQixDQUFDQztZQUNoQyxNQUFNQyxRQUFRLGFBQXNCQyxTQUFTLElBQUk7WUFDakQsSUFBSVIsT0FBTztZQUNYLE9BQVFNLGFBQWFHLElBQUk7Z0JBQ3ZCLEtBQUs7b0JBQ0hULE9BQU8sQ0FBQyxFQUFFTyxNQUFNLDBCQUEwQixDQUFDO29CQUMzQztnQkFDRixLQUFLO29CQUNIUCxPQUFPLENBQUMsRUFBRU8sTUFBTSw4QkFBOEIsQ0FBQztvQkFDL0M7Z0JBQ0YsS0FBSztvQkFDSFAsT0FBTyxDQUFDLEVBQUVPLE1BQU0sdUJBQXVCLENBQUM7b0JBQ3hDO2dCQUNGLEtBQUs7b0JBQ0hQLE9BQU8sQ0FBQyxFQUFFTyxNQUFNLDZCQUE2QixDQUFDO29CQUM5QztnQkFDRjtvQkFDRVAsT0FBTztZQUNYO1lBRUEvQiwrRUFBZ0JBLENBQUM7Z0JBQ2Y4QixPQUFPO2dCQUNQQztZQUNGO1FBQ0Y7UUFFQW5CLE9BQU9zQixFQUFFLENBQUMsdUJBQXVCRTtRQUNqQyxPQUFPO1lBQ0x4QixPQUFPdUIsR0FBRyxDQUFDLHVCQUF1QkM7UUFDcEM7SUFDRixHQUFHLEVBQUU7QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9ob29rcy91c2VOb3RpZmljYXRpb25zLnRzPzE4ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRTb2NrZXQgfSBmcm9tICcuLi9zb2NrZXQnO1xuaW1wb3J0IHsgc2hvd05vdGlmaWNhdGlvbiwgcmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24gfSBmcm9tICcuLi9zZXJ2aWNlcy9ub3RpZmljYXRpb25TZXJ2aWNlJztcbmltcG9ydCB7IE1lc3NhZ2UsIE5vdGlmaWNhdGlvbkl0ZW0gfSBmcm9tICcuLi9hcGknO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTm90aWZpY2F0aW9ucyhjdXJyZW50Q29udmVyc2F0aW9uSWQ/OiBzdHJpbmcpIHtcbiAgY29uc3QgaXNXaW5kb3dGb2N1c2VkUmVmID0gdXNlUmVmKHRydWUpO1xuICBjb25zdCBwZXJtaXNzaW9uUmVxdWVzdGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFJlcXVlc3QgcGVybWlzc2lvbiBvbiBtb3VudFxuICAgIGlmICghcGVybWlzc2lvblJlcXVlc3RlZFJlZi5jdXJyZW50KSB7XG4gICAgICAvLyBPbmx5IHJlcXVlc3QgcGVybWlzc2lvbiBpbiBicm93c2VyXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKTtcbiAgICAgIH1cbiAgICAgIHBlcm1pc3Npb25SZXF1ZXN0ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgd2luZG93IGZvY3VzXG4gICAgY29uc3QgaGFuZGxlRm9jdXMgPSAoKSA9PiB7XG4gICAgICBpc1dpbmRvd0ZvY3VzZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCbHVyID0gKCkgPT4ge1xuICAgICAgaXNXaW5kb3dGb2N1c2VkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZUJsdXIpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlRm9jdXMpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZUJsdXIpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xuICAgIGlmICghc29ja2V0KSByZXR1cm47XG5cbiAgICAvLyBMaXN0ZW4gdG8gYWxsIG5ldyBtZXNzYWdlcyAobm90IGp1c3QgY3VycmVudCBjb252ZXJzYXRpb24pXG4gICAgY29uc3QgaGFuZGxlTmV3TWVzc2FnZSA9IChwYXlsb2FkOiB7IGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7IG1lc3NhZ2U6IE1lc3NhZ2UgfSkgPT4ge1xuICAgICAgY29uc3QgeyBjb252ZXJzYXRpb25JZCwgbWVzc2FnZSB9ID0gcGF5bG9hZDtcblxuICAgICAgLy8gRG9uJ3Qgbm90aWZ5IGlmOlxuICAgICAgLy8gMS4gSXQncyB0aGUgY3VycmVudCBjb252ZXJzYXRpb24gYW5kIHdpbmRvdyBpcyBmb2N1c2VkXG4gICAgICAvLyAyLiBNZXNzYWdlIGlzIGZyb20gY3VycmVudCB1c2VyXG4gICAgICBjb25zdCBpc0N1cnJlbnRDb252ZXJzYXRpb24gPSBjb252ZXJzYXRpb25JZCA9PT0gY3VycmVudENvbnZlcnNhdGlvbklkO1xuICAgICAgbGV0IGlzT3duTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJyk7XG4gICAgICAgICAgaXNPd25NZXNzYWdlID0gISF1c2VySWQgJiYgbWVzc2FnZS5zZW5kZXJJZCA9PT0gdXNlcklkO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBpc093bk1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc2hvdWxkTm90aWZ5ID0gIWlzQ3VycmVudENvbnZlcnNhdGlvbiB8fCAhaXNXaW5kb3dGb2N1c2VkUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmICghaXNPd25NZXNzYWdlICYmIHNob3VsZE5vdGlmeSkge1xuICAgICAgICAvLyBHZXQgc2VuZGVyIG5hbWUgaWYgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IHNlbmRlck5hbWUgPSAobWVzc2FnZSBhcyBhbnkpLnNlbmRlcj8ubmFtZSB8fCAnQWkgxJHDsyc7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZXh0ID0gbWVzc2FnZS50ZXh0IHx8IChtZXNzYWdlLmltYWdlVXJsID8gJ/Cfk7cgSMOsbmgg4bqjbmgnIDogJ1RpbiBuaOG6r24nKTtcblxuICAgICAgICBzaG93Tm90aWZpY2F0aW9uKHtcbiAgICAgICAgICB0aXRsZTogc2VuZGVyTmFtZSxcbiAgICAgICAgICBib2R5OiBtZXNzYWdlVGV4dC5sZW5ndGggPiAxMDAgPyBtZXNzYWdlVGV4dC5zdWJzdHJpbmcoMCwgMTAwKSArICcuLi4nIDogbWVzc2FnZVRleHQsXG4gICAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzb2NrZXQub24oJ21lc3NhZ2U6bmV3JywgaGFuZGxlTmV3TWVzc2FnZSk7XG4gICAgc29ja2V0Lm9uKCduZXdNZXNzYWdlJywgaGFuZGxlTmV3TWVzc2FnZSk7XG4gICAgc29ja2V0Lm9uKCdjaGF0TWVzc2FnZScsIGhhbmRsZU5ld01lc3NhZ2UpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6bmV3JywgaGFuZGxlTmV3TWVzc2FnZSk7XG4gICAgICBzb2NrZXQub2ZmKCduZXdNZXNzYWdlJywgaGFuZGxlTmV3TWVzc2FnZSk7XG4gICAgICBzb2NrZXQub2ZmKCdjaGF0TWVzc2FnZScsIGhhbmRsZU5ld01lc3NhZ2UpO1xuICAgIH07XG4gIH0sIFtjdXJyZW50Q29udmVyc2F0aW9uSWRdKTtcblxuICAvLyBTb2NpYWwgbm90aWZpY2F0aW9ucyAobGlrZXMsIGNvbW1lbnRzLCBmcmllbmQgcmVxdWVzdHMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XG4gICAgaWYgKCFzb2NrZXQpIHJldHVybjtcblxuICAgIGNvbnN0IGhhbmRsZVNvY2lhbE5vdGlmaWNhdGlvbiA9IChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbkl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGFjdG9yID0gKG5vdGlmaWNhdGlvbiBhcyBhbnkpLmFjdG9yTmFtZSB8fCAnTmfGsOG7nWkgZMO5bmcnO1xuICAgICAgbGV0IGJvZHkgPSAnJztcbiAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnUE9TVF9MSUtFRCc6XG4gICAgICAgICAgYm9keSA9IGAke2FjdG9yfSDEkcOjIHRow61jaCBiw6BpIHZp4bq/dCBj4bunYSBi4bqhbmA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BPU1RfQ09NTUVOVEVEJzpcbiAgICAgICAgICBib2R5ID0gYCR7YWN0b3J9IMSRw6MgYsOsbmggbHXhuq1uIGLDoGkgdmnhur90IGPhu6dhIGLhuqFuYDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRlJJRU5EX1JFUVVFU1QnOlxuICAgICAgICAgIGJvZHkgPSBgJHthY3Rvcn0gxJHDoyBn4butaSBs4budaSBt4budaSBr4bq/dCBi4bqhbmA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0ZSSUVORF9BQ0NFUFRFRCc6XG4gICAgICAgICAgYm9keSA9IGAke2FjdG9yfSDEkcOjIGNo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWkga+G6v3QgYuG6oW5gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJvZHkgPSAnQuG6oW4gY8OzIHRow7RuZyBiw6FvIG3hu5tpJztcbiAgICAgIH1cblxuICAgICAgc2hvd05vdGlmaWNhdGlvbih7XG4gICAgICAgIHRpdGxlOiAnRGF5MiBTb2NpYWwnLFxuICAgICAgICBib2R5LFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNvY2tldC5vbignc29jaWFsOm5vdGlmaWNhdGlvbicsIGhhbmRsZVNvY2lhbE5vdGlmaWNhdGlvbik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNvY2tldC5vZmYoJ3NvY2lhbDpub3RpZmljYXRpb24nLCBoYW5kbGVTb2NpYWxOb3RpZmljYXRpb24pO1xuICAgIH07XG4gIH0sIFtdKTtcbn1cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsImdldFNvY2tldCIsInNob3dOb3RpZmljYXRpb24iLCJyZXF1ZXN0Tm90aWZpY2F0aW9uUGVybWlzc2lvbiIsInVzZU5vdGlmaWNhdGlvbnMiLCJjdXJyZW50Q29udmVyc2F0aW9uSWQiLCJpc1dpbmRvd0ZvY3VzZWRSZWYiLCJwZXJtaXNzaW9uUmVxdWVzdGVkUmVmIiwiY3VycmVudCIsImhhbmRsZUZvY3VzIiwiaGFuZGxlQmx1ciIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic29ja2V0IiwiaGFuZGxlTmV3TWVzc2FnZSIsInBheWxvYWQiLCJjb252ZXJzYXRpb25JZCIsIm1lc3NhZ2UiLCJpc0N1cnJlbnRDb252ZXJzYXRpb24iLCJpc093bk1lc3NhZ2UiLCJ1c2VySWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2VuZGVySWQiLCJzaG91bGROb3RpZnkiLCJzZW5kZXJOYW1lIiwic2VuZGVyIiwibmFtZSIsIm1lc3NhZ2VUZXh0IiwidGV4dCIsImltYWdlVXJsIiwidGl0bGUiLCJib2R5IiwibGVuZ3RoIiwic3Vic3RyaW5nIiwib24iLCJvZmYiLCJoYW5kbGVTb2NpYWxOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJhY3RvciIsImFjdG9yTmFtZSIsInR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useNotifications.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useOpponentInfo.ts":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useOpponentInfo.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useOpponentInfo: () => (/* binding */ useOpponentInfo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.ts\");\n\n\nfunction useOpponentInfo(conversationId) {\n    const [info, setInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const load = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!conversationId) {\n            setInfo(null);\n            return;\n        }\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getOpponentInfo)(conversationId);\n            setInfo({\n                conversationId,\n                userId: response.user?._id,\n                name: response.user?.name ?? \"Ngi d\\xf9ng\",\n                avatar: response.user?.avatar ?? undefined,\n                status: response.status?.isOnline ? \"online\" : \"offline\",\n                lastSeen: response.status?.lastActive\n            });\n        } catch (err) {\n            console.error(\" Failed to load opponent info:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to load opponent info\");\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        conversationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        load();\n    }, [\n        load\n    ]);\n    return {\n        info,\n        loading,\n        error,\n        reload: load\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZU9wcG9uZW50SW5mby50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ2hCO0FBVWxDLFNBQVNJLGdCQUFnQkMsY0FBdUI7SUFDckQsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdMLCtDQUFRQSxDQUFzQjtJQUN0RCxNQUFNLENBQUNNLFNBQVNDLFdBQVcsR0FBR1AsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDUSxPQUFPQyxTQUFTLEdBQUdULCtDQUFRQSxDQUFnQjtJQUVsRCxNQUFNVSxPQUFPWixrREFBV0EsQ0FBQztRQUN2QixJQUFJLENBQUNLLGdCQUFnQjtZQUNuQkUsUUFBUTtZQUNSO1FBQ0Y7UUFFQSxJQUFJO1lBQ0ZFLFdBQVc7WUFDWEUsU0FBUztZQUNULE1BQU1FLFdBQVcsTUFBTVYscURBQWVBLENBQUNFO1lBQ3ZDRSxRQUFRO2dCQUNORjtnQkFDQVMsUUFBUUQsU0FBU0UsSUFBSSxFQUFFQztnQkFDdkJDLE1BQU1KLFNBQVNFLElBQUksRUFBRUUsUUFBUTtnQkFDN0JDLFFBQVFMLFNBQVNFLElBQUksRUFBRUcsVUFBVUM7Z0JBQ2pDQyxRQUFRUCxTQUFTTyxNQUFNLEVBQUVDLFdBQVcsV0FBVztnQkFDL0NDLFVBQVVULFNBQVNPLE1BQU0sRUFBRUc7WUFDN0I7UUFDRixFQUFFLE9BQU9DLEtBQUs7WUFDWkMsUUFBUWYsS0FBSyxDQUFDLG1DQUFtQ2M7WUFDakRiLFNBQVNhLGVBQWVFLFFBQVFGLElBQUlHLE9BQU8sR0FBRztRQUNoRCxTQUFVO1lBQ1JsQixXQUFXO1FBQ2I7SUFDRixHQUFHO1FBQUNKO0tBQWU7SUFFbkJKLGdEQUFTQSxDQUFDO1FBQ1JXO0lBQ0YsR0FBRztRQUFDQTtLQUFLO0lBRVQsT0FBTztRQUFFTjtRQUFNRTtRQUFTRTtRQUFPa0IsUUFBUWhCO0lBQUs7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlT3Bwb25lbnRJbmZvLnRzP2Y4N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGdldE9wcG9uZW50SW5mbyB9IGZyb20gJy4uL2FwaSc7XHJcbmltcG9ydCB7IE9wcG9uZW50SW5mbyB9IGZyb20gJy4uL3R5cGVzL2NoYXQnO1xyXG5cclxuaW50ZXJmYWNlIFVzZU9wcG9uZW50SW5mb1Jlc3VsdCB7XHJcbiAgaW5mbzogT3Bwb25lbnRJbmZvIHwgbnVsbDtcclxuICBsb2FkaW5nOiBib29sZWFuO1xyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xyXG4gIHJlbG9hZDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZU9wcG9uZW50SW5mbyhjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IFVzZU9wcG9uZW50SW5mb1Jlc3VsdCB7XHJcbiAgY29uc3QgW2luZm8sIHNldEluZm9dID0gdXNlU3RhdGU8T3Bwb25lbnRJbmZvIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IGxvYWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSB7XHJcbiAgICAgIHNldEluZm8obnVsbCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRPcHBvbmVudEluZm8oY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICBzZXRJbmZvKHtcclxuICAgICAgICBjb252ZXJzYXRpb25JZCxcclxuICAgICAgICB1c2VySWQ6IHJlc3BvbnNlLnVzZXI/Ll9pZCxcclxuICAgICAgICBuYW1lOiByZXNwb25zZS51c2VyPy5uYW1lID8/ICdOZ8aw4budaSBkw7luZycsXHJcbiAgICAgICAgYXZhdGFyOiByZXNwb25zZS51c2VyPy5hdmF0YXIgPz8gdW5kZWZpbmVkLFxyXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzPy5pc09ubGluZSA/ICdvbmxpbmUnIDogJ29mZmxpbmUnLFxyXG4gICAgICAgIGxhc3RTZWVuOiByZXNwb25zZS5zdGF0dXM/Lmxhc3RBY3RpdmUsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbG9hZCBvcHBvbmVudCBpbmZvOicsIGVycik7XHJcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGxvYWQgb3Bwb25lbnQgaW5mbycpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsb2FkKCk7XHJcbiAgfSwgW2xvYWRdKTtcclxuXHJcbiAgcmV0dXJuIHsgaW5mbywgbG9hZGluZywgZXJyb3IsIHJlbG9hZDogbG9hZCB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZ2V0T3Bwb25lbnRJbmZvIiwidXNlT3Bwb25lbnRJbmZvIiwiY29udmVyc2F0aW9uSWQiLCJpbmZvIiwic2V0SW5mbyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImxvYWQiLCJyZXNwb25zZSIsInVzZXJJZCIsInVzZXIiLCJfaWQiLCJuYW1lIiwiYXZhdGFyIiwidW5kZWZpbmVkIiwic3RhdHVzIiwiaXNPbmxpbmUiLCJsYXN0U2VlbiIsImxhc3RBY3RpdmUiLCJlcnIiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwicmVsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useOpponentInfo.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useTypingStatus.ts":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useTypingStatus.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTypingStatus: () => (/* binding */ useTypingStatus)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.ts\");\n\n\nfunction useTypingStatus(conversationId, selfUserId) {\n    const [typingUsers, setTypingUsers] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const timeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        const handleTypingStart = (payload)=>{\n            if (payload.conversationId !== conversationId) return;\n            if (payload.userId === selfUserId) return;\n            setTypingUsers((prev)=>{\n                const exists = prev.some((item)=>item.userId === payload.userId);\n                if (exists) return prev;\n                return [\n                    ...prev,\n                    {\n                        userId: payload.userId,\n                        name: payload.userName\n                    }\n                ];\n            });\n        };\n        const handleTypingStop = (payload)=>{\n            if (payload.conversationId !== conversationId) return;\n            setTypingUsers((prev)=>prev.filter((item)=>item.userId !== payload.userId));\n        };\n        socket.on(\"typing:start\", handleTypingStart);\n        socket.on(\"typing:stop\", handleTypingStop);\n        return ()=>{\n            socket.off(\"typing:start\", handleTypingStart);\n            socket.off(\"typing:stop\", handleTypingStop);\n        };\n    }, [\n        conversationId,\n        selfUserId\n    ]);\n    const emitStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        socket.emit(\"typing:stop\", {\n            conversationId\n        });\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n        }\n    }, [\n        conversationId\n    ]);\n    const handleInputChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value)=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        if (value.trim().length > 0) {\n            socket.emit(\"typing:start\", {\n                conversationId\n            });\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(()=>{\n                emitStop();\n            }, 3000);\n        } else {\n            emitStop();\n        }\n    }, [\n        conversationId,\n        emitStop\n    ]);\n    const notifyMessageSent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        emitStop();\n    }, [\n        emitStop\n    ]);\n    return {\n        typingUsers,\n        handleInputChange,\n        notifyMessageSent\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZVR5cGluZ1N0YXR1cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlFO0FBQzNCO0FBUy9CLFNBQVNLLGdCQUNkQyxjQUF1QixFQUN2QkMsVUFBbUI7SUFFbkIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdOLCtDQUFRQSxDQUFlLEVBQUU7SUFDL0QsTUFBTU8sYUFBYVIsNkNBQU1BLENBQXdCO0lBRWpERCxnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ0ssZ0JBQWdCO1FBQ3JCLE1BQU1LLFNBQVNQLGtEQUFTQTtRQUN4QixJQUFJLENBQUNPLFFBQVE7UUFFYixNQUFNQyxvQkFBb0IsQ0FBQ0M7WUFDekIsSUFBSUEsUUFBUVAsY0FBYyxLQUFLQSxnQkFBZ0I7WUFDL0MsSUFBSU8sUUFBUUMsTUFBTSxLQUFLUCxZQUFZO1lBQ25DRSxlQUFlLENBQUNNO2dCQUNkLE1BQU1DLFNBQVNELEtBQUtFLElBQUksQ0FBQyxDQUFDQyxPQUFTQSxLQUFLSixNQUFNLEtBQUtELFFBQVFDLE1BQU07Z0JBQ2pFLElBQUlFLFFBQVEsT0FBT0Q7Z0JBQ25CLE9BQU87dUJBQUlBO29CQUFNO3dCQUFFRCxRQUFRRCxRQUFRQyxNQUFNO3dCQUFFSyxNQUFNTixRQUFRTyxRQUFRO29CQUFDO2lCQUFFO1lBQ3RFO1FBQ0Y7UUFFQSxNQUFNQyxtQkFBbUIsQ0FBQ1I7WUFDeEIsSUFBSUEsUUFBUVAsY0FBYyxLQUFLQSxnQkFBZ0I7WUFDL0NHLGVBQWUsQ0FBQ00sT0FBU0EsS0FBS08sTUFBTSxDQUFDLENBQUNKLE9BQVNBLEtBQUtKLE1BQU0sS0FBS0QsUUFBUUMsTUFBTTtRQUMvRTtRQUVBSCxPQUFPWSxFQUFFLENBQUMsZ0JBQWdCWDtRQUMxQkQsT0FBT1ksRUFBRSxDQUFDLGVBQWVGO1FBRXpCLE9BQU87WUFDTFYsT0FBT2EsR0FBRyxDQUFDLGdCQUFnQlo7WUFDM0JELE9BQU9hLEdBQUcsQ0FBQyxlQUFlSDtRQUM1QjtJQUNGLEdBQUc7UUFBQ2Y7UUFBZ0JDO0tBQVc7SUFFL0IsTUFBTWtCLFdBQVd6QixrREFBV0EsQ0FBQztRQUMzQixJQUFJLENBQUNNLGdCQUFnQjtRQUNyQixNQUFNSyxTQUFTUCxrREFBU0E7UUFDeEIsSUFBSSxDQUFDTyxRQUFRO1FBQ2JBLE9BQU9lLElBQUksQ0FBQyxlQUFlO1lBQUVwQjtRQUFlO1FBQzVDLElBQUlJLFdBQVdpQixPQUFPLEVBQUU7WUFDdEJDLGFBQWFsQixXQUFXaUIsT0FBTztZQUMvQmpCLFdBQVdpQixPQUFPLEdBQUc7UUFDdkI7SUFDRixHQUFHO1FBQUNyQjtLQUFlO0lBRW5CLE1BQU11QixvQkFBb0I3QixrREFBV0EsQ0FDbkMsQ0FBQzhCO1FBQ0MsSUFBSSxDQUFDeEIsZ0JBQWdCO1FBQ3JCLE1BQU1LLFNBQVNQLGtEQUFTQTtRQUN4QixJQUFJLENBQUNPLFFBQVE7UUFFYixJQUFJbUIsTUFBTUMsSUFBSSxHQUFHQyxNQUFNLEdBQUcsR0FBRztZQUMzQnJCLE9BQU9lLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUVwQjtZQUFlO1lBQzdDLElBQUlJLFdBQVdpQixPQUFPLEVBQUU7Z0JBQ3RCQyxhQUFhbEIsV0FBV2lCLE9BQU87WUFDakM7WUFDQWpCLFdBQVdpQixPQUFPLEdBQUdNLFdBQVc7Z0JBQzlCUjtZQUNGLEdBQUc7UUFDTCxPQUFPO1lBQ0xBO1FBQ0Y7SUFDRixHQUNBO1FBQUNuQjtRQUFnQm1CO0tBQVM7SUFHNUIsTUFBTVMsb0JBQW9CbEMsa0RBQVdBLENBQUM7UUFDcEN5QjtJQUNGLEdBQUc7UUFBQ0E7S0FBUztJQUViLE9BQU87UUFBRWpCO1FBQWFxQjtRQUFtQks7SUFBa0I7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlVHlwaW5nU3RhdHVzLnRzP2RlOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0U29ja2V0IH0gZnJvbSAnLi4vc29ja2V0JztcclxuaW1wb3J0IHsgVHlwaW5nVXNlciB9IGZyb20gJy4uL3R5cGVzL2NoYXQnO1xyXG5cclxuaW50ZXJmYWNlIFVzZVR5cGluZ1N0YXR1c1Jlc3VsdCB7XHJcbiAgdHlwaW5nVXNlcnM6IFR5cGluZ1VzZXJbXTtcclxuICBoYW5kbGVJbnB1dENoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgbm90aWZ5TWVzc2FnZVNlbnQ6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUeXBpbmdTdGF0dXMoXHJcbiAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsXHJcbiAgc2VsZlVzZXJJZD86IHN0cmluZyxcclxuKTogVXNlVHlwaW5nU3RhdHVzUmVzdWx0IHtcclxuICBjb25zdCBbdHlwaW5nVXNlcnMsIHNldFR5cGluZ1VzZXJzXSA9IHVzZVN0YXRlPFR5cGluZ1VzZXJbXT4oW10pO1xyXG4gIGNvbnN0IHRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xyXG4gICAgaWYgKCFzb2NrZXQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVUeXBpbmdTdGFydCA9IChwYXlsb2FkOiB7IGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7IHVzZXJJZDogc3RyaW5nOyB1c2VyTmFtZT86IHN0cmluZyB9KSA9PiB7XHJcbiAgICAgIGlmIChwYXlsb2FkLmNvbnZlcnNhdGlvbklkICE9PSBjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xyXG4gICAgICBpZiAocGF5bG9hZC51c2VySWQgPT09IHNlbGZVc2VySWQpIHJldHVybjtcclxuICAgICAgc2V0VHlwaW5nVXNlcnMoKHByZXYpID0+IHtcclxuICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUoKGl0ZW0pID0+IGl0ZW0udXNlcklkID09PSBwYXlsb2FkLnVzZXJJZCk7XHJcbiAgICAgICAgaWYgKGV4aXN0cykgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCB7IHVzZXJJZDogcGF5bG9hZC51c2VySWQsIG5hbWU6IHBheWxvYWQudXNlck5hbWUgfV07XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVUeXBpbmdTdG9wID0gKHBheWxvYWQ6IHsgY29udmVyc2F0aW9uSWQ6IHN0cmluZzsgdXNlcklkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICBpZiAocGF5bG9hZC5jb252ZXJzYXRpb25JZCAhPT0gY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuICAgICAgc2V0VHlwaW5nVXNlcnMoKHByZXYpID0+IHByZXYuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnVzZXJJZCAhPT0gcGF5bG9hZC51c2VySWQpKTtcclxuICAgIH07XHJcblxyXG4gICAgc29ja2V0Lm9uKCd0eXBpbmc6c3RhcnQnLCBoYW5kbGVUeXBpbmdTdGFydCk7XHJcbiAgICBzb2NrZXQub24oJ3R5cGluZzpzdG9wJywgaGFuZGxlVHlwaW5nU3RvcCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgc29ja2V0Lm9mZigndHlwaW5nOnN0YXJ0JywgaGFuZGxlVHlwaW5nU3RhcnQpO1xyXG4gICAgICBzb2NrZXQub2ZmKCd0eXBpbmc6c3RvcCcsIGhhbmRsZVR5cGluZ1N0b3ApO1xyXG4gICAgfTtcclxuICB9LCBbY29udmVyc2F0aW9uSWQsIHNlbGZVc2VySWRdKTtcclxuXHJcbiAgY29uc3QgZW1pdFN0b3AgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XHJcbiAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcclxuICAgIGlmICghc29ja2V0KSByZXR1cm47XHJcbiAgICBzb2NrZXQuZW1pdCgndHlwaW5nOnN0b3AnLCB7IGNvbnZlcnNhdGlvbklkIH0pO1xyXG4gICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcclxuICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9LCBbY29udmVyc2F0aW9uSWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSB1c2VDYWxsYmFjayhcclxuICAgICh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmICghY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuICAgICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XHJcbiAgICAgIGlmICghc29ja2V0KSByZXR1cm47XHJcblxyXG4gICAgICBpZiAodmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzb2NrZXQuZW1pdCgndHlwaW5nOnN0YXJ0JywgeyBjb252ZXJzYXRpb25JZCB9KTtcclxuICAgICAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBlbWl0U3RvcCgpO1xyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVtaXRTdG9wKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbY29udmVyc2F0aW9uSWQsIGVtaXRTdG9wXSxcclxuICApO1xyXG5cclxuICBjb25zdCBub3RpZnlNZXNzYWdlU2VudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGVtaXRTdG9wKCk7XHJcbiAgfSwgW2VtaXRTdG9wXSk7XHJcblxyXG4gIHJldHVybiB7IHR5cGluZ1VzZXJzLCBoYW5kbGVJbnB1dENoYW5nZSwgbm90aWZ5TWVzc2FnZVNlbnQgfTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImdldFNvY2tldCIsInVzZVR5cGluZ1N0YXR1cyIsImNvbnZlcnNhdGlvbklkIiwic2VsZlVzZXJJZCIsInR5cGluZ1VzZXJzIiwic2V0VHlwaW5nVXNlcnMiLCJ0aW1lb3V0UmVmIiwic29ja2V0IiwiaGFuZGxlVHlwaW5nU3RhcnQiLCJwYXlsb2FkIiwidXNlcklkIiwicHJldiIsImV4aXN0cyIsInNvbWUiLCJpdGVtIiwibmFtZSIsInVzZXJOYW1lIiwiaGFuZGxlVHlwaW5nU3RvcCIsImZpbHRlciIsIm9uIiwib2ZmIiwiZW1pdFN0b3AiLCJlbWl0IiwiY3VycmVudCIsImNsZWFyVGltZW91dCIsImhhbmRsZUlucHV0Q2hhbmdlIiwidmFsdWUiLCJ0cmltIiwibGVuZ3RoIiwic2V0VGltZW91dCIsIm5vdGlmeU1lc3NhZ2VTZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useTypingStatus.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/services/callPopup.ts":
/*!************************************************!*\
  !*** ../../packages/app/services/callPopup.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CallPopupManager: () => (/* binding */ CallPopupManager)\n/* harmony export */ });\nclass CallPopupManager {\n    constructor(){\n        this.callWindow = null;\n        this.callUrl =  false ? 0 : \"\";\n    }\n    openCallWindow(callId, conversationId, isIncoming = false, options) {\n        // Service ny ch dng cho web; nu khng c window th b qua\n        if (true) {\n            console.log(\"Call popup only works in browser environment\");\n            return null;\n        }\n        const callParams = new URLSearchParams({\n            callId,\n            conversationId,\n            isIncoming: isIncoming.toString()\n        });\n        if (options?.callType) {\n            callParams.set(\"callType\", options.callType);\n        }\n        if (options?.livekitRoomName) {\n            callParams.set(\"livekitRoomName\", options.livekitRoomName);\n        }\n        const fullUrl = `${this.callUrl}?${callParams}`;\n        console.log(\"\\uD83D\\uDCDE [CALLPOPUP] Navigating to call URL in same tab:\", fullUrl);\n        // n gin: m mn hnh call ngay trong tab hin ti  trnh popup b chn\n        window.location.href = fullUrl;\n        return window;\n    }\n    closeCallWindow() {\n        if (this.callWindow && !this.callWindow.closed) {\n            this.callWindow.close();\n        }\n        this.callWindow = null;\n    }\n    endCall() {\n        // Emit end call event to parent window\n        if (false) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL2NhbGxQb3B1cC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUE7SUFJWEMsYUFBYzthQUhOQyxhQUE0QjtRQUlsQyxJQUFJLENBQUNDLE9BQU8sR0FBRyxNQUFrQixHQUFjLENBQWdDLEdBQUc7SUFDcEY7SUFFQUksZUFDRUMsTUFBYyxFQUNkQyxjQUFzQixFQUN0QkMsYUFBc0IsS0FBSyxFQUMzQkMsT0FBZ0UsRUFDaEU7UUFDQSwrREFBK0Q7UUFDL0QsSUFBSSxJQUE2QixFQUFFO1lBQ2pDQyxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPO1FBQ1Q7UUFFQSxNQUFNQyxhQUFhLElBQUlDLGdCQUFnQjtZQUNyQ1A7WUFDQUM7WUFDQUMsWUFBWUEsV0FBV00sUUFBUTtRQUNqQztRQUNBLElBQUlMLFNBQVNNLFVBQVU7WUFDckJILFdBQVdJLEdBQUcsQ0FBQyxZQUFZUCxRQUFRTSxRQUFRO1FBQzdDO1FBQ0EsSUFBSU4sU0FBU1EsaUJBQWlCO1lBQzVCTCxXQUFXSSxHQUFHLENBQUMsbUJBQW1CUCxRQUFRUSxlQUFlO1FBQzNEO1FBRUEsTUFBTUMsVUFBVSxDQUFDLEVBQUUsSUFBSSxDQUFDakIsT0FBTyxDQUFDLENBQUMsRUFBRVcsV0FBVyxDQUFDO1FBQy9DRixRQUFRQyxHQUFHLENBQUMsZ0VBQXNETztRQUVsRSw0RUFBNEU7UUFDNUVoQixPQUFPQyxRQUFRLENBQUNnQixJQUFJLEdBQUdEO1FBRXZCLE9BQU9oQjtJQUNUO0lBRUFrQixrQkFBa0I7UUFDaEIsSUFBSSxJQUFJLENBQUNwQixVQUFVLElBQUksQ0FBQyxJQUFJLENBQUNBLFVBQVUsQ0FBQ3FCLE1BQU0sRUFBRTtZQUM5QyxJQUFJLENBQUNyQixVQUFVLENBQUNzQixLQUFLO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDdEIsVUFBVSxHQUFHO0lBQ3BCO0lBRVF1QixVQUFVO1FBQ2hCLHVDQUF1QztRQUN2QyxJQUFJLEtBQThDLEVBQUUsRUFFbkQ7SUFDSDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL2NhbGxQb3B1cC50cz9jMTRlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYWxsUG9wdXBNYW5hZ2VyIHtcclxuICBwcml2YXRlIGNhbGxXaW5kb3c6IFdpbmRvdyB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgY2FsbFVybDogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY2FsbFVybCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vY2FsbGAgOiAnJztcclxuICB9XHJcblxyXG4gIG9wZW5DYWxsV2luZG93KFxyXG4gICAgY2FsbElkOiBzdHJpbmcsXHJcbiAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxyXG4gICAgaXNJbmNvbWluZzogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgb3B0aW9ucz86IHsgY2FsbFR5cGU/OiAncDJwJyB8ICdzZnUnOyBsaXZla2l0Um9vbU5hbWU/OiBzdHJpbmcgfVxyXG4gICkge1xyXG4gICAgLy8gU2VydmljZSBuw6B5IGNo4buJIGTDuW5nIGNobyB3ZWI7IG7hur91IGtow7RuZyBjw7Mgd2luZG93IHRow6wgYuG7jyBxdWFcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYWxsIHBvcHVwIG9ubHkgd29ya3MgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYWxsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgIGNhbGxJZCxcclxuICAgICAgY29udmVyc2F0aW9uSWQsXHJcbiAgICAgIGlzSW5jb21pbmc6IGlzSW5jb21pbmcudG9TdHJpbmcoKVxyXG4gICAgfSk7XHJcbiAgICBpZiAob3B0aW9ucz8uY2FsbFR5cGUpIHtcclxuICAgICAgY2FsbFBhcmFtcy5zZXQoJ2NhbGxUeXBlJywgb3B0aW9ucy5jYWxsVHlwZSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucz8ubGl2ZWtpdFJvb21OYW1lKSB7XHJcbiAgICAgIGNhbGxQYXJhbXMuc2V0KCdsaXZla2l0Um9vbU5hbWUnLCBvcHRpb25zLmxpdmVraXRSb29tTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZnVsbFVybCA9IGAke3RoaXMuY2FsbFVybH0/JHtjYWxsUGFyYW1zfWA7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TniBbQ0FMTFBPUFVQXSBOYXZpZ2F0aW5nIHRvIGNhbGwgVVJMIGluIHNhbWUgdGFiOicsIGZ1bGxVcmwpO1xyXG5cclxuICAgIC8vIMSQxqFuIGdp4bqjbjogbeG7nyBtw6BuIGjDrG5oIGNhbGwgbmdheSB0cm9uZyB0YWIgaGnhu4duIHThuqFpIMSR4buDIHRyw6FuaCBwb3B1cCBi4buLIGNo4bq3blxyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBmdWxsVXJsO1xyXG5cclxuICAgIHJldHVybiB3aW5kb3c7XHJcbiAgfVxyXG5cclxuICBjbG9zZUNhbGxXaW5kb3coKSB7XHJcbiAgICBpZiAodGhpcy5jYWxsV2luZG93ICYmICF0aGlzLmNhbGxXaW5kb3cuY2xvc2VkKSB7XHJcbiAgICAgIHRoaXMuY2FsbFdpbmRvdy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jYWxsV2luZG93ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW5kQ2FsbCgpIHtcclxuICAgIC8vIEVtaXQgZW5kIGNhbGwgZXZlbnQgdG8gcGFyZW50IHdpbmRvd1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5vcGVuZXIpIHtcclxuICAgICAgd2luZG93Lm9wZW5lci5wb3N0TWVzc2FnZSh7IHR5cGU6ICdDQUxMX0VOREVEJyB9LCAnKicpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FsbFBvcHVwTWFuYWdlciIsImNvbnN0cnVjdG9yIiwiY2FsbFdpbmRvdyIsImNhbGxVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsIm9wZW5DYWxsV2luZG93IiwiY2FsbElkIiwiY29udmVyc2F0aW9uSWQiLCJpc0luY29taW5nIiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJjYWxsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJjYWxsVHlwZSIsInNldCIsImxpdmVraXRSb29tTmFtZSIsImZ1bGxVcmwiLCJocmVmIiwiY2xvc2VDYWxsV2luZG93IiwiY2xvc2VkIiwiY2xvc2UiLCJlbmRDYWxsIiwib3BlbmVyIiwicG9zdE1lc3NhZ2UiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/services/callPopup.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/services/chatSocket.ts":
/*!*************************************************!*\
  !*** ../../packages/app/services/chatSocket.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerChatSocket: () => (/* binding */ registerChatSocket)\n/* harmony export */ });\nfunction registerChatSocket(socket, conversationId, handlers) {\n    if (!socket) return ()=>undefined;\n    const messageCreated = (payload)=>{\n        // Handle both formats:\n        // 1. Direct message object (backend format)\n        // 2. Wrapped format { conversationId, message }\n        let message;\n        let payloadConversationId;\n        if (\"conversationId\" in payload && \"message\" in payload) {\n            // Wrapped format\n            message = payload.message;\n            payloadConversationId = payload.conversationId;\n        } else {\n            // Direct message object\n            message = payload;\n            payloadConversationId = String(message.conversationId);\n        }\n        if (payloadConversationId === conversationId) {\n            console.log(\"\\uD83D\\uDCE8 Socket received message for current conversation:\", message._id);\n            handlers.onMessageCreated?.(message);\n        } else {\n            console.log(\" Socket received message for different conversation:\", payloadConversationId, \"current:\", conversationId);\n        }\n    };\n    const messageUpdated = (payload)=>{\n        // Handle both formats\n        let message;\n        let payloadConversationId;\n        if (\"conversationId\" in payload && \"message\" in payload) {\n            message = payload.message;\n            payloadConversationId = payload.conversationId;\n        } else {\n            message = payload;\n            payloadConversationId = String(message.conversationId);\n        }\n        if (payloadConversationId === conversationId) {\n            handlers.onMessageUpdated?.(message);\n        }\n    };\n    const messageDeleted = (payload)=>{\n        // Handle both formats\n        const messageId = payload.messageId;\n        const payloadConversationId = payload.conversationId;\n        if (!payloadConversationId || payloadConversationId === conversationId) {\n            handlers.onMessageDeleted?.(messageId);\n        }\n    };\n    const typingStarted = (payload)=>{\n        if (payload.conversationId === conversationId) {\n            handlers.onTypingStarted?.(payload.userId);\n        }\n    };\n    const typingStopped = (payload)=>{\n        if (payload.conversationId === conversationId) {\n            handlers.onTypingStopped?.(payload.userId);\n        }\n    };\n    const messagePinned = (data)=>{\n        handlers.onMessagePinned?.(data);\n    };\n    const messageReaction = (data)=>{\n        if (!data?.messageId) return;\n        handlers.onMessageReaction?.(data);\n    };\n    const messageRevoked = (data)=>{\n        if (!data?.messageId) return;\n        if (data.conversationId && data.conversationId !== conversationId) {\n            return;\n        }\n        handlers.onMessageRevoked?.(data);\n    };\n    const messageRead = (data)=>{\n        if (!data?.messageId) return;\n        if (data.conversationId && data.conversationId !== conversationId) {\n            return;\n        }\n        handlers.onMessageRead?.(data);\n    };\n    socket.on(\"message:new\", messageCreated);\n    socket.on(\"newMessage\", messageCreated);\n    socket.on(\"chatMessage\", messageCreated);\n    socket.on(\"message:update\", messageUpdated);\n    socket.on(\"message:edited\", messageUpdated);\n    socket.on(\"message:delete\", messageDeleted);\n    socket.on(\"message:deleted\", messageDeleted);\n    socket.on(\"message:pinned\", messagePinned);\n    socket.on(\"message:reaction\", messageReaction);\n    socket.on(\"message:revoked\", messageRevoked);\n    socket.on(\"message:read\", messageRead);\n    socket.on(\"typing:start\", typingStarted);\n    socket.on(\"typing:stop\", typingStopped);\n    return ()=>{\n        socket.off(\"message:new\", messageCreated);\n        socket.off(\"newMessage\", messageCreated);\n        socket.off(\"chatMessage\", messageCreated);\n        socket.off(\"message:update\", messageUpdated);\n        socket.off(\"message:edited\", messageUpdated);\n        socket.off(\"message:delete\", messageDeleted);\n        socket.off(\"message:deleted\", messageDeleted);\n        socket.off(\"message:pinned\", messagePinned);\n        socket.off(\"message:reaction\", messageReaction);\n        socket.off(\"message:revoked\", messageRevoked);\n        socket.off(\"message:read\", messageRead);\n        socket.off(\"typing:start\", typingStarted);\n        socket.off(\"typing:stop\", typingStopped);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL2NoYXRTb2NrZXQudHMiLCJtYXBwaW5ncyI6Ijs7OztBQXdCTyxTQUFTQSxtQkFDZEMsTUFBcUIsRUFDckJDLGNBQXNCLEVBQ3RCQyxRQUE0QjtJQUU1QixJQUFJLENBQUNGLFFBQVEsT0FBTyxJQUFNRztJQUUxQixNQUFNQyxpQkFBaUIsQ0FBQ0M7UUFDdEIsdUJBQXVCO1FBQ3ZCLDRDQUE0QztRQUM1QyxnREFBZ0Q7UUFDaEQsSUFBSUM7UUFDSixJQUFJQztRQUVKLElBQUksb0JBQW9CRixXQUFXLGFBQWFBLFNBQVM7WUFDdkQsaUJBQWlCO1lBQ2pCQyxVQUFVRCxRQUFRQyxPQUFPO1lBQ3pCQyx3QkFBd0JGLFFBQVFKLGNBQWM7UUFDaEQsT0FBTztZQUNMLHdCQUF3QjtZQUN4QkssVUFBVUQ7WUFDVkUsd0JBQXdCQyxPQUFPRixRQUFRTCxjQUFjO1FBQ3ZEO1FBRUEsSUFBSU0sMEJBQTBCTixnQkFBZ0I7WUFDNUNRLFFBQVFDLEdBQUcsQ0FBQyxrRUFBd0RKLFFBQVFLLEdBQUc7WUFDL0VULFNBQVNVLGdCQUFnQixHQUFHTjtRQUM5QixPQUFPO1lBQ0xHLFFBQVFDLEdBQUcsQ0FBQywwREFBMERILHVCQUF1QixZQUFZTjtRQUMzRztJQUNGO0lBRUEsTUFBTVksaUJBQWlCLENBQUNSO1FBQ3RCLHNCQUFzQjtRQUN0QixJQUFJQztRQUNKLElBQUlDO1FBRUosSUFBSSxvQkFBb0JGLFdBQVcsYUFBYUEsU0FBUztZQUN2REMsVUFBVUQsUUFBUUMsT0FBTztZQUN6QkMsd0JBQXdCRixRQUFRSixjQUFjO1FBQ2hELE9BQU87WUFDTEssVUFBVUQ7WUFDVkUsd0JBQXdCQyxPQUFPRixRQUFRTCxjQUFjO1FBQ3ZEO1FBRUEsSUFBSU0sMEJBQTBCTixnQkFBZ0I7WUFDNUNDLFNBQVNZLGdCQUFnQixHQUFHUjtRQUM5QjtJQUNGO0lBRUEsTUFBTVMsaUJBQWlCLENBQUNWO1FBQ3RCLHNCQUFzQjtRQUN0QixNQUFNVyxZQUFZWCxRQUFRVyxTQUFTO1FBQ25DLE1BQU1ULHdCQUF3QkYsUUFBUUosY0FBYztRQUVwRCxJQUFJLENBQUNNLHlCQUF5QkEsMEJBQTBCTixnQkFBZ0I7WUFDdEVDLFNBQVNlLGdCQUFnQixHQUFHRDtRQUM5QjtJQUNGO0lBRUEsTUFBTUUsZ0JBQWdCLENBQUNiO1FBQ3JCLElBQUlBLFFBQVFKLGNBQWMsS0FBS0EsZ0JBQWdCO1lBQzdDQyxTQUFTaUIsZUFBZSxHQUFHZCxRQUFRZSxNQUFNO1FBQzNDO0lBQ0Y7SUFFQSxNQUFNQyxnQkFBZ0IsQ0FBQ2hCO1FBQ3JCLElBQUlBLFFBQVFKLGNBQWMsS0FBS0EsZ0JBQWdCO1lBQzdDQyxTQUFTb0IsZUFBZSxHQUFHakIsUUFBUWUsTUFBTTtRQUMzQztJQUNGO0lBRUEsTUFBTUcsZ0JBQWdCLENBQUNDO1FBQ3JCdEIsU0FBU3VCLGVBQWUsR0FBR0Q7SUFDN0I7SUFFQSxNQUFNRSxrQkFBa0IsQ0FBQ0Y7UUFLdkIsSUFBSSxDQUFDQSxNQUFNUixXQUFXO1FBQ3RCZCxTQUFTeUIsaUJBQWlCLEdBQUdIO0lBQy9CO0lBRUEsTUFBTUksaUJBQWlCLENBQUNKO1FBTXRCLElBQUksQ0FBQ0EsTUFBTVIsV0FBVztRQUN0QixJQUFJUSxLQUFLdkIsY0FBYyxJQUFJdUIsS0FBS3ZCLGNBQWMsS0FBS0EsZ0JBQWdCO1lBQ2pFO1FBQ0Y7UUFDQUMsU0FBUzJCLGdCQUFnQixHQUFHTDtJQUM5QjtJQUVBLE1BQU1NLGNBQWMsQ0FBQ047UUFDbkIsSUFBSSxDQUFDQSxNQUFNUixXQUFXO1FBQ3RCLElBQUlRLEtBQUt2QixjQUFjLElBQUl1QixLQUFLdkIsY0FBYyxLQUFLQSxnQkFBZ0I7WUFDakU7UUFDRjtRQUNBQyxTQUFTNkIsYUFBYSxHQUFHUDtJQUMzQjtJQUVBeEIsT0FBT2dDLEVBQUUsQ0FBQyxlQUFlNUI7SUFDekJKLE9BQU9nQyxFQUFFLENBQUMsY0FBYzVCO0lBQ3hCSixPQUFPZ0MsRUFBRSxDQUFDLGVBQWU1QjtJQUN6QkosT0FBT2dDLEVBQUUsQ0FBQyxrQkFBa0JuQjtJQUM1QmIsT0FBT2dDLEVBQUUsQ0FBQyxrQkFBa0JuQjtJQUM1QmIsT0FBT2dDLEVBQUUsQ0FBQyxrQkFBa0JqQjtJQUM1QmYsT0FBT2dDLEVBQUUsQ0FBQyxtQkFBbUJqQjtJQUM3QmYsT0FBT2dDLEVBQUUsQ0FBQyxrQkFBa0JUO0lBQzVCdkIsT0FBT2dDLEVBQUUsQ0FBQyxvQkFBb0JOO0lBQzlCMUIsT0FBT2dDLEVBQUUsQ0FBQyxtQkFBbUJKO0lBQzdCNUIsT0FBT2dDLEVBQUUsQ0FBQyxnQkFBZ0JGO0lBQzFCOUIsT0FBT2dDLEVBQUUsQ0FBQyxnQkFBZ0JkO0lBQzFCbEIsT0FBT2dDLEVBQUUsQ0FBQyxlQUFlWDtJQUV6QixPQUFPO1FBQ0xyQixPQUFPaUMsR0FBRyxDQUFDLGVBQWU3QjtRQUMxQkosT0FBT2lDLEdBQUcsQ0FBQyxjQUFjN0I7UUFDekJKLE9BQU9pQyxHQUFHLENBQUMsZUFBZTdCO1FBQzFCSixPQUFPaUMsR0FBRyxDQUFDLGtCQUFrQnBCO1FBQzdCYixPQUFPaUMsR0FBRyxDQUFDLGtCQUFrQnBCO1FBQzdCYixPQUFPaUMsR0FBRyxDQUFDLGtCQUFrQmxCO1FBQzdCZixPQUFPaUMsR0FBRyxDQUFDLG1CQUFtQmxCO1FBQzlCZixPQUFPaUMsR0FBRyxDQUFDLGtCQUFrQlY7UUFDN0J2QixPQUFPaUMsR0FBRyxDQUFDLG9CQUFvQlA7UUFDL0IxQixPQUFPaUMsR0FBRyxDQUFDLG1CQUFtQkw7UUFDOUI1QixPQUFPaUMsR0FBRyxDQUFDLGdCQUFnQkg7UUFDM0I5QixPQUFPaUMsR0FBRyxDQUFDLGdCQUFnQmY7UUFDM0JsQixPQUFPaUMsR0FBRyxDQUFDLGVBQWVaO0lBQzVCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvc2VydmljZXMvY2hhdFNvY2tldC50cz85YWQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XHJcbmltcG9ydCB0eXBlIHsgTWVzc2FnZSB9IGZyb20gJy4uL2FwaSc7XHJcblxyXG5pbnRlcmZhY2UgQ2hhdFNvY2tldEhhbmRsZXJzIHtcclxuICBvbk1lc3NhZ2VDcmVhdGVkPzogKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHZvaWQ7XHJcbiAgb25NZXNzYWdlVXBkYXRlZD86IChtZXNzYWdlOiBNZXNzYWdlKSA9PiB2b2lkO1xyXG4gIG9uTWVzc2FnZURlbGV0ZWQ/OiAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25NZXNzYWdlUGlubmVkPzogKGRhdGE6IHsgbWVzc2FnZUlkOiBzdHJpbmc7IGFjdGlvbjogJ3BpbicgfCAndW5waW4nIH0pID0+IHZvaWQ7XHJcbiAgb25NZXNzYWdlUmVhY3Rpb24/OiAoZGF0YToge1xyXG4gICAgbWVzc2FnZUlkOiBzdHJpbmc7XHJcbiAgICBhY3Rpb246ICdhZGQnIHwgJ3JlbW92ZSc7XHJcbiAgICByZWFjdGlvbj86IHsgZW1vamk6IHN0cmluZzsgdXNlcklkOiBzdHJpbmc7IGNyZWF0ZWRBdD86IHN0cmluZyB9O1xyXG4gIH0pID0+IHZvaWQ7XHJcbiAgb25NZXNzYWdlUmV2b2tlZD86IChkYXRhOiB7XHJcbiAgICBtZXNzYWdlSWQ6IHN0cmluZztcclxuICAgIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nO1xyXG4gICAgcmV2b2tlZEJ5Pzogc3RyaW5nO1xyXG4gICAgcmV2b2tlZEF0Pzogc3RyaW5nO1xyXG4gIH0pID0+IHZvaWQ7XHJcbiAgb25NZXNzYWdlUmVhZD86IChkYXRhOiB7IG1lc3NhZ2VJZDogc3RyaW5nOyBjb252ZXJzYXRpb25JZD86IHN0cmluZzsgdXNlcklkOiBzdHJpbmc7IHJlYWRBdD86IHN0cmluZyB9KSA9PiB2b2lkO1xyXG4gIG9uVHlwaW5nU3RhcnRlZD86ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBvblR5cGluZ1N0b3BwZWQ/OiAodXNlcklkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckNoYXRTb2NrZXQoXHJcbiAgc29ja2V0OiBTb2NrZXQgfCBudWxsLFxyXG4gIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXHJcbiAgaGFuZGxlcnM6IENoYXRTb2NrZXRIYW5kbGVycyxcclxuKTogKCkgPT4gdm9pZCB7XHJcbiAgaWYgKCFzb2NrZXQpIHJldHVybiAoKSA9PiB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VDcmVhdGVkID0gKHBheWxvYWQ6IE1lc3NhZ2UgfCB7IGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7IG1lc3NhZ2U6IE1lc3NhZ2UgfSkgPT4ge1xyXG4gICAgLy8gSGFuZGxlIGJvdGggZm9ybWF0czpcclxuICAgIC8vIDEuIERpcmVjdCBtZXNzYWdlIG9iamVjdCAoYmFja2VuZCBmb3JtYXQpXHJcbiAgICAvLyAyLiBXcmFwcGVkIGZvcm1hdCB7IGNvbnZlcnNhdGlvbklkLCBtZXNzYWdlIH1cclxuICAgIGxldCBtZXNzYWdlOiBNZXNzYWdlO1xyXG4gICAgbGV0IHBheWxvYWRDb252ZXJzYXRpb25JZDogc3RyaW5nO1xyXG4gICAgXHJcbiAgICBpZiAoJ2NvbnZlcnNhdGlvbklkJyBpbiBwYXlsb2FkICYmICdtZXNzYWdlJyBpbiBwYXlsb2FkKSB7XHJcbiAgICAgIC8vIFdyYXBwZWQgZm9ybWF0XHJcbiAgICAgIG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2U7XHJcbiAgICAgIHBheWxvYWRDb252ZXJzYXRpb25JZCA9IHBheWxvYWQuY29udmVyc2F0aW9uSWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBEaXJlY3QgbWVzc2FnZSBvYmplY3RcclxuICAgICAgbWVzc2FnZSA9IHBheWxvYWQgYXMgTWVzc2FnZTtcclxuICAgICAgcGF5bG9hZENvbnZlcnNhdGlvbklkID0gU3RyaW5nKG1lc3NhZ2UuY29udmVyc2F0aW9uSWQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocGF5bG9hZENvbnZlcnNhdGlvbklkID09PSBjb252ZXJzYXRpb25JZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TqCBTb2NrZXQgcmVjZWl2ZWQgbWVzc2FnZSBmb3IgY3VycmVudCBjb252ZXJzYXRpb246JywgbWVzc2FnZS5faWQpO1xyXG4gICAgICBoYW5kbGVycy5vbk1lc3NhZ2VDcmVhdGVkPy4obWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIFNvY2tldCByZWNlaXZlZCBtZXNzYWdlIGZvciBkaWZmZXJlbnQgY29udmVyc2F0aW9uOicsIHBheWxvYWRDb252ZXJzYXRpb25JZCwgJ2N1cnJlbnQ6JywgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VVcGRhdGVkID0gKHBheWxvYWQ6IE1lc3NhZ2UgfCB7IGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7IG1lc3NhZ2U6IE1lc3NhZ2UgfSkgPT4ge1xyXG4gICAgLy8gSGFuZGxlIGJvdGggZm9ybWF0c1xyXG4gICAgbGV0IG1lc3NhZ2U6IE1lc3NhZ2U7XHJcbiAgICBsZXQgcGF5bG9hZENvbnZlcnNhdGlvbklkOiBzdHJpbmc7XHJcbiAgICBcclxuICAgIGlmICgnY29udmVyc2F0aW9uSWQnIGluIHBheWxvYWQgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQpIHtcclxuICAgICAgbWVzc2FnZSA9IHBheWxvYWQubWVzc2FnZTtcclxuICAgICAgcGF5bG9hZENvbnZlcnNhdGlvbklkID0gcGF5bG9hZC5jb252ZXJzYXRpb25JZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1lc3NhZ2UgPSBwYXlsb2FkIGFzIE1lc3NhZ2U7XHJcbiAgICAgIHBheWxvYWRDb252ZXJzYXRpb25JZCA9IFN0cmluZyhtZXNzYWdlLmNvbnZlcnNhdGlvbklkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHBheWxvYWRDb252ZXJzYXRpb25JZCA9PT0gY29udmVyc2F0aW9uSWQpIHtcclxuICAgICAgaGFuZGxlcnMub25NZXNzYWdlVXBkYXRlZD8uKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VEZWxldGVkID0gKHBheWxvYWQ6IHsgY29udmVyc2F0aW9uSWQ6IHN0cmluZzsgbWVzc2FnZUlkOiBzdHJpbmcgfSB8IHsgbWVzc2FnZUlkOiBzdHJpbmc7IGNvbnZlcnNhdGlvbklkPzogc3RyaW5nIH0pID0+IHtcclxuICAgIC8vIEhhbmRsZSBib3RoIGZvcm1hdHNcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHBheWxvYWQubWVzc2FnZUlkO1xyXG4gICAgY29uc3QgcGF5bG9hZENvbnZlcnNhdGlvbklkID0gcGF5bG9hZC5jb252ZXJzYXRpb25JZDtcclxuICAgIFxyXG4gICAgaWYgKCFwYXlsb2FkQ29udmVyc2F0aW9uSWQgfHwgcGF5bG9hZENvbnZlcnNhdGlvbklkID09PSBjb252ZXJzYXRpb25JZCkge1xyXG4gICAgICBoYW5kbGVycy5vbk1lc3NhZ2VEZWxldGVkPy4obWVzc2FnZUlkKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCB0eXBpbmdTdGFydGVkID0gKHBheWxvYWQ6IHsgY29udmVyc2F0aW9uSWQ6IHN0cmluZzsgdXNlcklkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgaWYgKHBheWxvYWQuY29udmVyc2F0aW9uSWQgPT09IGNvbnZlcnNhdGlvbklkKSB7XHJcbiAgICAgIGhhbmRsZXJzLm9uVHlwaW5nU3RhcnRlZD8uKHBheWxvYWQudXNlcklkKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCB0eXBpbmdTdG9wcGVkID0gKHBheWxvYWQ6IHsgY29udmVyc2F0aW9uSWQ6IHN0cmluZzsgdXNlcklkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgaWYgKHBheWxvYWQuY29udmVyc2F0aW9uSWQgPT09IGNvbnZlcnNhdGlvbklkKSB7XHJcbiAgICAgIGhhbmRsZXJzLm9uVHlwaW5nU3RvcHBlZD8uKHBheWxvYWQudXNlcklkKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBtZXNzYWdlUGlubmVkID0gKGRhdGE6IHsgbWVzc2FnZUlkOiBzdHJpbmc7IGFjdGlvbjogJ3BpbicgfCAndW5waW4nIH0pID0+IHtcclxuICAgIGhhbmRsZXJzLm9uTWVzc2FnZVBpbm5lZD8uKGRhdGEpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VSZWFjdGlvbiA9IChkYXRhOiB7XHJcbiAgICBtZXNzYWdlSWQ6IHN0cmluZztcclxuICAgIHJlYWN0aW9uPzogeyBlbW9qaTogc3RyaW5nOyB1c2VySWQ6IHN0cmluZzsgY3JlYXRlZEF0Pzogc3RyaW5nIH07XHJcbiAgICBhY3Rpb246ICdhZGQnIHwgJ3JlbW92ZSc7XHJcbiAgfSkgPT4ge1xyXG4gICAgaWYgKCFkYXRhPy5tZXNzYWdlSWQpIHJldHVybjtcclxuICAgIGhhbmRsZXJzLm9uTWVzc2FnZVJlYWN0aW9uPy4oZGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWVzc2FnZVJldm9rZWQgPSAoZGF0YToge1xyXG4gICAgbWVzc2FnZUlkOiBzdHJpbmc7XHJcbiAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZztcclxuICAgIHJldm9rZWRCeT86IHN0cmluZztcclxuICAgIHJldm9rZWRBdD86IHN0cmluZztcclxuICB9KSA9PiB7XHJcbiAgICBpZiAoIWRhdGE/Lm1lc3NhZ2VJZCkgcmV0dXJuO1xyXG4gICAgaWYgKGRhdGEuY29udmVyc2F0aW9uSWQgJiYgZGF0YS5jb252ZXJzYXRpb25JZCAhPT0gY29udmVyc2F0aW9uSWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlcnMub25NZXNzYWdlUmV2b2tlZD8uKGRhdGEpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VSZWFkID0gKGRhdGE6IHsgbWVzc2FnZUlkOiBzdHJpbmc7IGNvbnZlcnNhdGlvbklkPzogc3RyaW5nOyB1c2VySWQ6IHN0cmluZzsgcmVhZEF0Pzogc3RyaW5nIH0pID0+IHtcclxuICAgIGlmICghZGF0YT8ubWVzc2FnZUlkKSByZXR1cm47XHJcbiAgICBpZiAoZGF0YS5jb252ZXJzYXRpb25JZCAmJiBkYXRhLmNvbnZlcnNhdGlvbklkICE9PSBjb252ZXJzYXRpb25JZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBoYW5kbGVycy5vbk1lc3NhZ2VSZWFkPy4oZGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgc29ja2V0Lm9uKCdtZXNzYWdlOm5ldycsIG1lc3NhZ2VDcmVhdGVkKTtcclxuICBzb2NrZXQub24oJ25ld01lc3NhZ2UnLCBtZXNzYWdlQ3JlYXRlZCk7XHJcbiAgc29ja2V0Lm9uKCdjaGF0TWVzc2FnZScsIG1lc3NhZ2VDcmVhdGVkKTtcclxuICBzb2NrZXQub24oJ21lc3NhZ2U6dXBkYXRlJywgbWVzc2FnZVVwZGF0ZWQpO1xyXG4gIHNvY2tldC5vbignbWVzc2FnZTplZGl0ZWQnLCBtZXNzYWdlVXBkYXRlZCk7XHJcbiAgc29ja2V0Lm9uKCdtZXNzYWdlOmRlbGV0ZScsIG1lc3NhZ2VEZWxldGVkKTtcclxuICBzb2NrZXQub24oJ21lc3NhZ2U6ZGVsZXRlZCcsIG1lc3NhZ2VEZWxldGVkKTtcclxuICBzb2NrZXQub24oJ21lc3NhZ2U6cGlubmVkJywgbWVzc2FnZVBpbm5lZCk7XHJcbiAgc29ja2V0Lm9uKCdtZXNzYWdlOnJlYWN0aW9uJywgbWVzc2FnZVJlYWN0aW9uKTtcclxuICBzb2NrZXQub24oJ21lc3NhZ2U6cmV2b2tlZCcsIG1lc3NhZ2VSZXZva2VkKTtcclxuICBzb2NrZXQub24oJ21lc3NhZ2U6cmVhZCcsIG1lc3NhZ2VSZWFkKTtcclxuICBzb2NrZXQub24oJ3R5cGluZzpzdGFydCcsIHR5cGluZ1N0YXJ0ZWQpO1xyXG4gIHNvY2tldC5vbigndHlwaW5nOnN0b3AnLCB0eXBpbmdTdG9wcGVkKTtcclxuXHJcbiAgcmV0dXJuICgpID0+IHtcclxuICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6bmV3JywgbWVzc2FnZUNyZWF0ZWQpO1xyXG4gICAgc29ja2V0Lm9mZignbmV3TWVzc2FnZScsIG1lc3NhZ2VDcmVhdGVkKTtcclxuICAgIHNvY2tldC5vZmYoJ2NoYXRNZXNzYWdlJywgbWVzc2FnZUNyZWF0ZWQpO1xyXG4gICAgc29ja2V0Lm9mZignbWVzc2FnZTp1cGRhdGUnLCBtZXNzYWdlVXBkYXRlZCk7XHJcbiAgICBzb2NrZXQub2ZmKCdtZXNzYWdlOmVkaXRlZCcsIG1lc3NhZ2VVcGRhdGVkKTtcclxuICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6ZGVsZXRlJywgbWVzc2FnZURlbGV0ZWQpO1xyXG4gICAgc29ja2V0Lm9mZignbWVzc2FnZTpkZWxldGVkJywgbWVzc2FnZURlbGV0ZWQpO1xyXG4gICAgc29ja2V0Lm9mZignbWVzc2FnZTpwaW5uZWQnLCBtZXNzYWdlUGlubmVkKTtcclxuICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6cmVhY3Rpb24nLCBtZXNzYWdlUmVhY3Rpb24pO1xyXG4gICAgc29ja2V0Lm9mZignbWVzc2FnZTpyZXZva2VkJywgbWVzc2FnZVJldm9rZWQpO1xyXG4gICAgc29ja2V0Lm9mZignbWVzc2FnZTpyZWFkJywgbWVzc2FnZVJlYWQpO1xyXG4gICAgc29ja2V0Lm9mZigndHlwaW5nOnN0YXJ0JywgdHlwaW5nU3RhcnRlZCk7XHJcbiAgICBzb2NrZXQub2ZmKCd0eXBpbmc6c3RvcCcsIHR5cGluZ1N0b3BwZWQpO1xyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInJlZ2lzdGVyQ2hhdFNvY2tldCIsInNvY2tldCIsImNvbnZlcnNhdGlvbklkIiwiaGFuZGxlcnMiLCJ1bmRlZmluZWQiLCJtZXNzYWdlQ3JlYXRlZCIsInBheWxvYWQiLCJtZXNzYWdlIiwicGF5bG9hZENvbnZlcnNhdGlvbklkIiwiU3RyaW5nIiwiY29uc29sZSIsImxvZyIsIl9pZCIsIm9uTWVzc2FnZUNyZWF0ZWQiLCJtZXNzYWdlVXBkYXRlZCIsIm9uTWVzc2FnZVVwZGF0ZWQiLCJtZXNzYWdlRGVsZXRlZCIsIm1lc3NhZ2VJZCIsIm9uTWVzc2FnZURlbGV0ZWQiLCJ0eXBpbmdTdGFydGVkIiwib25UeXBpbmdTdGFydGVkIiwidXNlcklkIiwidHlwaW5nU3RvcHBlZCIsIm9uVHlwaW5nU3RvcHBlZCIsIm1lc3NhZ2VQaW5uZWQiLCJkYXRhIiwib25NZXNzYWdlUGlubmVkIiwibWVzc2FnZVJlYWN0aW9uIiwib25NZXNzYWdlUmVhY3Rpb24iLCJtZXNzYWdlUmV2b2tlZCIsIm9uTWVzc2FnZVJldm9rZWQiLCJtZXNzYWdlUmVhZCIsIm9uTWVzc2FnZVJlYWQiLCJvbiIsIm9mZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/services/chatSocket.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/services/notificationService.ts":
/*!**********************************************************!*\
  !*** ../../packages/app/services/notificationService.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestNotificationPermission: () => (/* binding */ requestNotificationPermission),\n/* harmony export */   showNotification: () => (/* binding */ showNotification)\n/* harmony export */ });\n// Notification service for Electron\n// electronAPI types are defined in types/electron.d.ts\nfunction showNotification(options) {\n    if (false) {}\n    // Fallback to browser notifications if Electron API not available\n    if (\"Notification\" in window && Notification.permission === \"granted\") {\n        const notification = new Notification(options.title || \"Tin nhn mi\", {\n            body: options.body,\n            icon: options.icon\n        });\n        if (options.conversationId) {\n            notification.onclick = ()=>{\n                window.focus();\n                // Navigate to conversation if needed\n                const event = new CustomEvent(\"navigate-to-conversation\", {\n                    detail: {\n                        conversationId: options.conversationId\n                    }\n                });\n                window.dispatchEvent(event);\n            };\n        }\n        return Promise.resolve(true);\n    }\n    return Promise.resolve(false);\n}\nasync function requestNotificationPermission() {\n    if (true) return false;\n    if (window.electronAPI) {\n        // Electron handles permissions automatically\n        return true;\n    }\n    if (\"Notification\" in window) {\n        if (Notification.permission === \"granted\") {\n            return true;\n        }\n        if (Notification.permission === \"default\") {\n            const permission = await Notification.requestPermission();\n            return permission === \"granted\";\n        }\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL25vdGlmaWNhdGlvblNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxvQ0FBb0M7QUFDcEMsdURBQXVEO0FBRWhELFNBQVNBLGlCQUFpQkMsT0FLaEM7SUFDQyxJQUFJLEtBQXFFRCxFQUFFLEVBSzFFO0lBRUQsa0VBQWtFO0lBQ2xFLElBQUksa0JBQWtCRSxVQUFVSyxhQUFhQyxVQUFVLEtBQUssV0FBVztRQUNyRSxNQUFNQyxlQUFlLElBQUlGLGFBQWFOLFFBQVFTLEtBQUssSUFBSSxnQkFBZ0I7WUFDckVDLE1BQU1WLFFBQVFVLElBQUk7WUFDbEJDLE1BQU1YLFFBQVFXLElBQUk7UUFDcEI7UUFFQSxJQUFJWCxRQUFRSSxjQUFjLEVBQUU7WUFDMUJJLGFBQWFJLE9BQU8sR0FBRztnQkFDckJYLE9BQU9ZLEtBQUs7Z0JBQ1oscUNBQXFDO2dCQUNyQyxNQUFNQyxRQUFRLElBQUlDLFlBQVksNEJBQTRCO29CQUN4REMsUUFBUTt3QkFBRVosZ0JBQWdCSixRQUFRSSxjQUFjO29CQUFDO2dCQUNuRDtnQkFDQUgsT0FBT2dCLGFBQWEsQ0FBQ0g7WUFDdkI7UUFDRjtRQUVBLE9BQU9JLFFBQVFDLE9BQU8sQ0FBQztJQUN6QjtJQUVBLE9BQU9ELFFBQVFDLE9BQU8sQ0FBQztBQUN6QjtBQUVPLGVBQWVDO0lBQ3BCLElBQUksSUFBa0IsRUFBYSxPQUFPO0lBRTFDLElBQUluQixPQUFPQyxXQUFXLEVBQUU7UUFDdEIsNkNBQTZDO1FBQzdDLE9BQU87SUFDVDtJQUVBLElBQUksa0JBQWtCRCxRQUFRO1FBQzVCLElBQUlLLGFBQWFDLFVBQVUsS0FBSyxXQUFXO1lBQ3pDLE9BQU87UUFDVDtRQUVBLElBQUlELGFBQWFDLFVBQVUsS0FBSyxXQUFXO1lBQ3pDLE1BQU1BLGFBQWEsTUFBTUQsYUFBYWUsaUJBQWlCO1lBQ3ZELE9BQU9kLGVBQWU7UUFDeEI7SUFDRjtJQUVBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zZXJ2aWNlcy9ub3RpZmljYXRpb25TZXJ2aWNlLnRzPzY4MTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTm90aWZpY2F0aW9uIHNlcnZpY2UgZm9yIEVsZWN0cm9uXHJcbi8vIGVsZWN0cm9uQVBJIHR5cGVzIGFyZSBkZWZpbmVkIGluIHR5cGVzL2VsZWN0cm9uLmQudHNcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG9wdGlvbnM6IHtcclxuICB0aXRsZT86IHN0cmluZztcclxuICBib2R5Pzogc3RyaW5nO1xyXG4gIGljb24/OiBzdHJpbmc7XHJcbiAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmc7XHJcbn0pIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmVsZWN0cm9uQVBJPy5zaG93Tm90aWZpY2F0aW9uKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmVsZWN0cm9uQVBJLnNob3dOb3RpZmljYXRpb24oe1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBvbkNsaWNrOiBvcHRpb25zLmNvbnZlcnNhdGlvbklkID8geyBjb252ZXJzYXRpb25JZDogb3B0aW9ucy5jb252ZXJzYXRpb25JZCB9IDogdW5kZWZpbmVkLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZhbGxiYWNrIHRvIGJyb3dzZXIgbm90aWZpY2F0aW9ucyBpZiBFbGVjdHJvbiBBUEkgbm90IGF2YWlsYWJsZVxyXG4gIGlmICgnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xyXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbihvcHRpb25zLnRpdGxlIHx8ICdUaW4gbmjhuq9uIG3hu5tpJywge1xyXG4gICAgICBib2R5OiBvcHRpb25zLmJvZHksXHJcbiAgICAgIGljb246IG9wdGlvbnMuaWNvbixcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpZiAob3B0aW9ucy5jb252ZXJzYXRpb25JZCkge1xyXG4gICAgICBub3RpZmljYXRpb24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuZm9jdXMoKTtcclxuICAgICAgICAvLyBOYXZpZ2F0ZSB0byBjb252ZXJzYXRpb24gaWYgbmVlZGVkXHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ25hdmlnYXRlLXRvLWNvbnZlcnNhdGlvbicsIHtcclxuICAgICAgICAgIGRldGFpbDogeyBjb252ZXJzYXRpb25JZDogb3B0aW9ucy5jb252ZXJzYXRpb25JZCB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1ZXN0Tm90aWZpY2F0aW9uUGVybWlzc2lvbigpIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcclxuICBcclxuICBpZiAod2luZG93LmVsZWN0cm9uQVBJKSB7XHJcbiAgICAvLyBFbGVjdHJvbiBoYW5kbGVzIHBlcm1pc3Npb25zIGF1dG9tYXRpY2FsbHlcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBcclxuICBpZiAoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSB7XHJcbiAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgY29uc3QgcGVybWlzc2lvbiA9IGF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xyXG4gICAgICByZXR1cm4gcGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJzaG93Tm90aWZpY2F0aW9uIiwib3B0aW9ucyIsIndpbmRvdyIsImVsZWN0cm9uQVBJIiwib25DbGljayIsImNvbnZlcnNhdGlvbklkIiwidW5kZWZpbmVkIiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsIm5vdGlmaWNhdGlvbiIsInRpdGxlIiwiYm9keSIsImljb24iLCJvbmNsaWNrIiwiZm9jdXMiLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiZGlzcGF0Y2hFdmVudCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJyZXF1ZXN0UGVybWlzc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/services/notificationService.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/socket.ts":
/*!************************************!*\
  !*** ../../packages/app/socket.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectSocket: () => (/* binding */ connectSocket),\n/* harmony export */   disconnectSocket: () => (/* binding */ disconnectSocket),\n/* harmony export */   getSocket: () => (/* binding */ getSocket),\n/* harmony export */   reconnectSocket: () => (/* binding */ reconnectSocket)\n/* harmony export */ });\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/../../../node_modules/socket.io-client/build/esm-debug/index.js\");\n\n// Simplified socket configuration - always use VPS server\nconst isWeb = \"undefined\" !== \"undefined\";\n// Check if using ngrok tunnel\nconst isNgrok = isWeb && window?.location?.hostname && window.location.hostname.includes(\"ngrok\");\n// Use HTTP for now since backend doesn't support HTTPS/WSS\nconst SOCKET_BASE_URL = \"https://backend36.dev\";\nconsole.log(\"\\uD83D\\uDD0D Platform detection:\", {\n    isWeb\n});\nconsole.log(\"\\uD83D\\uDD0D Socket URL:\", SOCKET_BASE_URL);\nconsole.log(\"\\uD83D\\uDD0D App Version: 1.1.0\");\nconsole.log(\"\\uD83D\\uDD0D Build Number: 017\");\nconsole.log(\"\\uD83D\\uDD0D Cache busting timestamp:\", Date.now());\nconsole.log(\"\\uD83D\\uDD0D Force refresh required - clear browser cache!\");\nconsole.log(\"\\uD83D\\uDD0D Current URL:\",  false ? 0 : \"N/A\");\nlet socket = null;\nlet isConnecting = false;\nlet connectionPromise = null;\n// \n// WEBSOCKET CONNECTION - TCP-based, Full-Duplex\n// \nconst connectSocket = (token)=>{\n    if (socket?.connected) {\n        console.log(\"\\uD83D\\uDD0D Socket already connected, returning existing socket\");\n        console.log(\"\\uD83D\\uDD0D Current socket ID:\", socket.id);\n        return socket;\n    }\n    if (isConnecting && connectionPromise) {\n        console.log(\"\\uD83D\\uDD0D Socket connection already in progress, waiting...\");\n        return connectionPromise;\n    }\n    // Clear any existing socket before creating new one\n    if (socket) {\n        console.log(\"\\uD83D\\uDD27 Clearing existing socket before creating new one\");\n        socket.disconnect();\n        socket = null;\n    }\n    isConnecting = true;\n    // Create connection promise to avoid multiple simultaneous connections\n    connectionPromise = new Promise(async (resolve)=>{\n        console.log(\"\\uD83D\\uDD0D Creating new socket connection to:\", SOCKET_BASE_URL || \"same-origin\");\n        console.log(\"\\uD83D\\uDD0D Using token:\", token ? \"Present\" : \"Missing\");\n        console.log(\"\\uD83D\\uDD0D Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        // Clear any existing socket first (both web and mobile)\n        if (socket) {\n            console.log(\"\\uD83D\\uDD27 Clearing existing socket before creating new connection\");\n            socket.disconnect();\n            socket = null;\n        }\n        // Try to connect with retry logic\n        let connectionAttempts = 0;\n        const maxAttempts = 3;\n        const tryConnect = (url)=>{\n            connectionAttempts++;\n            console.log(` Connection attempt ${connectionAttempts}/${maxAttempts} to:`, url);\n            //  SOCKET TO  Y - Ln th connect\n            return new Promise((resolve, reject)=>{\n                const testSocket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(url, {\n                    transports: isWeb ? [\n                        \"polling\"\n                    ] : [\n                        \"websocket\",\n                        \"polling\"\n                    ],\n                    upgrade: isWeb ? false : true,\n                    timeout: 10000,\n                    auth: {\n                        token\n                    },\n                    path: \"/socket.io\",\n                    // Add debug options\n                    forceNew: true,\n                    rememberUpgrade: false,\n                    // Add connection debugging\n                    autoConnect: true,\n                    withCredentials: true\n                });\n                // Add debug listeners to test socket\n                testSocket.on(\"connect\", ()=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket connected to:\", url);\n                });\n                testSocket.on(\"disconnect\", (reason)=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket disconnected from:\", url, \"reason:\", reason);\n                });\n                testSocket.on(\"connect_error\", (error)=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket connect error:\", url, error.message);\n                });\n                // Handle connection success\n                testSocket.on(\"connect\", ()=>{\n                    console.log(\" Connection successful to:\", url);\n                    // Don't disconnect the test socket - use it as the main socket\n                    resolve(testSocket);\n                });\n                // Handle connection error\n                testSocket.on(\"connect_error\", (error)=>{\n                    console.log(\" Connection failed to:\", url, error.message);\n                    testSocket.disconnect();\n                    reject(error);\n                });\n                // Timeout after 10 seconds - only if not connected\n                setTimeout(()=>{\n                    if (!testSocket.connected) {\n                        console.log(\" Connection timeout to:\", url);\n                        testSocket.disconnect();\n                        reject(new Error(\"Connection timeout\"));\n                    }\n                }, 10000);\n            });\n        };\n        // Simple connection to VPS server\n        const connectToServer = async ()=>{\n            try {\n                console.log(` Connecting to: ${SOCKET_BASE_URL}`);\n                socket = await tryConnect(SOCKET_BASE_URL);\n                console.log(\" Successfully connected to:\", SOCKET_BASE_URL);\n            } catch (error) {\n                console.error(\" Failed to connect to server:\", error);\n                console.error(\" Backend server may be down or unreachable\");\n                console.error(\" Please check if backend server is running\");\n                //  SOCKET TO  Y - Fallback khi tryConnect() fail\n                // Create a fallback socket with Netlify-compatible settings\n                socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, {\n                    transports: isWeb ? [\n                        \"polling\"\n                    ] : [\n                        \"websocket\",\n                        \"polling\"\n                    ],\n                    upgrade: isWeb ? false : true,\n                    timeout: 10000,\n                    auth: {\n                        token\n                    },\n                    path: \"/socket.io\",\n                    // Netlify-specific options\n                    forceNew: true,\n                    rememberUpgrade: false,\n                    autoConnect: true,\n                    withCredentials: true\n                });\n            }\n        };\n        // Try multiple connection strategies\n        const connectionOptions = {\n            // Use polling first for Netlify to avoid Mixed Content Error\n            transports: isWeb ? [\n                \"polling\"\n            ] : [\n                \"websocket\",\n                \"polling\"\n            ],\n            upgrade: isWeb ? false : true,\n            reconnection: true,\n            reconnectionAttempts: 15,\n            reconnectionDelay: 1000,\n            reconnectionDelayMax: 15000,\n            timeout: 30000,\n            withCredentials: true,\n            auth: {\n                token\n            },\n            path: \"/socket.io\",\n            // Add extra options for better connection\n            forceNew: true,\n            rememberUpgrade: false,\n            // Add extra options for better reliability\n            autoConnect: true,\n            reconnectionDelayFactor: 1.5,\n            maxReconnectionAttempts: 15\n        };\n        // Connect to VPS server\n        //  SOCKET TO  Y - Fallback nu khng c socket\n        connectToServer().then(()=>{\n            if (!socket) {\n                console.log(\"\\uD83D\\uDD27 Creating fallback socket connection\");\n                socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, connectionOptions);\n                // Add immediate debug listeners\n                socket.on(\"connect\", ()=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connected\");\n                });\n                socket.on(\"disconnect\", (reason)=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket disconnected:\", reason);\n                });\n                socket.on(\"connect_error\", (error)=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connect error:\", error.message);\n                });\n                setupSocketListeners(token);\n            } else {\n                console.log(\"\\uD83D\\uDD27 Socket already connected, setting up listeners\");\n                setupSocketListeners(token);\n            }\n            // Wait for socket to be fully connected\n            const waitForConnection = ()=>{\n                if (socket && socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Socket fully connected, resolving...\");\n                    isConnecting = false;\n                    resolve(socket);\n                } else {\n                    console.log(\"\\uD83D\\uDD27 Waiting for socket to be fully connected...\");\n                    setTimeout(waitForConnection, 100);\n                }\n            };\n            waitForConnection();\n        }).catch((error)=>{\n            console.log(\"\\uD83D\\uDD27 Connection failed, creating fallback socket\");\n            console.log(\"\\uD83D\\uDD27 Connection error:\", error);\n            socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, connectionOptions);\n            // Add immediate debug listeners for fallback\n            socket.on(\"connect\", ()=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket connected\");\n            });\n            socket.on(\"disconnect\", (reason)=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket disconnected:\", reason);\n            });\n            socket.on(\"connect_error\", (error)=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket connect error:\", error.message);\n            });\n            setupSocketListeners(token);\n            // Wait for fallback socket to be connected\n            const waitForFallback = ()=>{\n                if (socket && socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connected, resolving...\");\n                    isConnecting = false;\n                    resolve(socket);\n                } else {\n                    console.log(\"\\uD83D\\uDD27 Waiting for fallback socket to be connected...\");\n                    setTimeout(waitForFallback, 100);\n                }\n            };\n            waitForFallback();\n        });\n    });\n    return connectionPromise;\n};\n// Setup socket listeners\nconst setupSocketListeners = (token)=>{\n    if (!socket) return;\n    // Add debug logs\n    socket.on(\"connect\", ()=>{\n        console.log(\" WebSocket connected successfully\");\n        console.log(\"\\uD83D\\uDD0D Socket ID:\", socket?.id);\n        console.log(\"\\uD83D\\uDD0D Socket URL:\", SOCKET_BASE_URL);\n        console.log(\"\\uD83D\\uDD0D Socket transport:\", socket?.io?.engine?.transport?.name);\n        console.log(\"\\uD83D\\uDD0D Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        console.log(\"\\uD83D\\uDD0D Token present:\", !!token);\n        console.log(\"\\uD83D\\uDD0D Socket connected state:\", socket?.connected);\n        console.log(\"\\uD83D\\uDD0D Socket io engine:\", socket?.io?.engine?.readyState);\n        // Check JWT token expiration\n        if (token) {\n            try {\n                const payload = JSON.parse(atob(token.split(\".\")[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const exp = payload.exp;\n                console.log(\"\\uD83D\\uDD0D JWT Token expires at:\", new Date(exp * 1000));\n                console.log(\"\\uD83D\\uDD0D Current time:\", new Date(now * 1000));\n                console.log(\"\\uD83D\\uDD0D Token valid for:\", Math.floor((exp - now) / 60), \"minutes\");\n                if (exp < now) {\n                    console.error(\" JWT Token expired!\");\n                    socket?.disconnect();\n                    return;\n                }\n            } catch (error) {\n                console.error(\" JWT Token invalid:\", error);\n            }\n        }\n        // Emit a test event to verify connection\n        socket?.emit(\"test-connection\", {\n            platform: isWeb ? \"web\" : \"mobile\",\n            timestamp: Date.now()\n        });\n    // Don't auto-join conversation - let Chat component handle this\n    });\n    socket.on(\"disconnect\", (reason)=>{\n        console.log(\" WebSocket disconnected, reason:\", reason);\n        console.log(\" Socket ID before disconnect:\", socket?.id);\n        console.log(\" Socket connected state before disconnect:\", socket?.connected);\n        console.log(\" Socket transport before disconnect:\", socket?.io?.engine?.transport?.name);\n        // Don't auto-reconnect for client disconnect to avoid loops\n        if (reason === \"io client disconnect\") {\n            console.log(\"\\uD83D\\uDD0D Client initiated disconnect - not auto-reconnecting to avoid loops\");\n            return;\n        }\n        // Auto-reconnect for server disconnect\n        console.log(\"\\uD83D\\uDD27 Auto-reconnecting for server disconnect...\");\n        setTimeout(()=>{\n            if (socket && !socket.connected) {\n                console.log(\"\\uD83D\\uDD27 Attempting reconnection...\");\n                socket.connect();\n            }\n        }, 2000);\n    });\n    socket.on(\"connect_error\", (error)=>{\n        console.log(\" WebSocket connection error:\", error);\n        console.log(\" Error details:\", error.message);\n        console.log(\" Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        console.log(\" Transport:\", socket?.io?.engine?.transport?.name);\n        // Mobile-specific error handling\n        if (!isWeb) {\n            console.log(\"\\uD83D\\uDD27 Mobile: Attempting alternative connection...\");\n            // Try to reconnect with different options\n            setTimeout(()=>{\n                if (socket && !socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Mobile: Force reconnection...\");\n                    socket.connect();\n                }\n            }, 2000);\n        }\n    });\n    // Add periodic connection check\n    setInterval(()=>{\n        console.log(\"\\uD83D\\uDD0D Socket status check:\", {\n            connected: socket?.connected,\n            id: socket?.id,\n            transport: socket?.io?.engine?.transport?.name,\n            platform: isWeb ? \"Web\" : \"Mobile\"\n        });\n        // Mobile-specific: Force reconnection if disconnected\n        if (!isWeb && socket && !socket.connected) {\n            console.log(\"\\uD83D\\uDD27 Mobile: Socket disconnected, attempting reconnection...\");\n            socket.connect();\n        }\n        // Check token expiration and refresh if needed\n        if (token) {\n            try {\n                const payload = JSON.parse(atob(token.split(\".\")[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const exp = payload.exp;\n                // If token expires in less than 5 minutes, warn user\n                if (exp - now < 300) {\n                    console.warn(\" JWT Token expires soon:\", Math.floor((exp - now) / 60), \"minutes\");\n                    console.warn(\" Consider refreshing token to maintain connection\");\n                    // If token expires in less than 2 minutes, warn but don't disconnect\n                    if (exp - now < 120) {\n                        console.warn(\" Token expires very soon, but keeping connection alive\");\n                        console.warn(\" Consider refreshing token in the background\");\n                    }\n                }\n            } catch (error) {\n                console.error(\" JWT Token invalid:\", error);\n            }\n        }\n    }, 10000); // Check every 10 seconds\n    // Add event listener debug\n    const originalEmit = socket.emit;\n    socket.emit = function(event, ...args) {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Emitting event:\", event, args);\n        return originalEmit.call(this, event, ...args);\n    };\n    // Track disconnect calls\n    const originalDisconnect = socket.disconnect;\n    socket.disconnect = function() {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Disconnect called\");\n        console.trace(\"\\uD83D\\uDD0D [SOCKET] Disconnect call stack:\");\n        return originalDisconnect.call(this);\n    };\n    const originalOn = socket.on;\n    socket.on = function(event, listener) {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Setting up listener for event:\", event);\n        return originalOn.call(this, event, listener);\n    };\n    // Listen for any events to debug\n    socket.onAny((event, ...args)=>{\n        console.log(\"\\uD83D\\uDD0D Socket received event:\", event, args);\n    });\n    // Add more debug listeners\n    socket.on(\"connect_error\", (error)=>{\n        console.log(\" Socket connect_error:\", error);\n    });\n    socket.on(\"error\", (error)=>{\n        console.log(\" Socket error:\", error);\n    });\n    socket.on(\"reconnect\", (attemptNumber)=>{\n        console.log(\" Socket reconnected after\", attemptNumber, \"attempts\");\n    });\n    socket.on(\"reconnect_attempt\", (attemptNumber)=>{\n        console.log(\"\\uD83D\\uDD27 Socket reconnection attempt:\", attemptNumber);\n    });\n    socket.on(\"reconnect_error\", (error)=>{\n        console.log(\" Socket reconnection error:\", error);\n    });\n    socket.on(\"reconnect_failed\", ()=>{\n        console.log(\" Socket reconnection failed\");\n    });\n};\n// Lazy getter for socket - for web we create the connection on first use\nconst getSocket = ()=>{\n    if (socket) return socket;\n    if (!isWeb || \"undefined\" === \"undefined\") {\n        console.warn(\" getSocket called in non-web environment without existing socket\");\n        return socket;\n    }\n    // Try to read token from localStorage (kept in sync with api.ts)\n    let token = \"\";\n    try {\n        token = window.localStorage.getItem(\"auth_token\") || \"\";\n    } catch (err) {\n        console.warn(\" Unable to read auth_token from localStorage for socket auth\", err);\n    }\n    console.log(\"\\uD83D\\uDD27 Creating socket from getSocket()\", {\n        hasToken: !!token,\n        url: SOCKET_BASE_URL\n    });\n    // Simple, synchronous socket creation for web\n    socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, {\n        transports: [\n            \"polling\"\n        ],\n        upgrade: false,\n        timeout: 10000,\n        withCredentials: true,\n        auth: {\n            token\n        },\n        path: \"/socket.io\",\n        forceNew: true,\n        rememberUpgrade: false,\n        autoConnect: true\n    });\n    setupSocketListeners(token);\n    return socket;\n};\nconst disconnectSocket = ()=>{\n    if (socket) {\n        socket.disconnect();\n        socket = null;\n    }\n    isConnecting = false;\n};\nconst reconnectSocket = (token)=>{\n    console.log(\"\\uD83D\\uDD27 Force reconnecting socket with new token...\");\n    disconnectSocket();\n    return connectSocket(token);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHlFQUF5RTtBQUNsRSxNQUFNNEUsWUFBWTtJQUN4QixJQUFJeEUsUUFBUSxPQUFPQTtJQUVuQixJQUFJLENBQUNaLFNBQVMsZ0JBQWtCLGFBQWE7UUFDNUNPLFFBQVFrRSxJQUFJLENBQUM7UUFDYixPQUFPN0Q7SUFDUjtJQUVBLGlFQUFpRTtJQUNqRSxJQUFJSSxRQUFRO0lBQ1osSUFBSTtRQUNIQSxRQUFRZCxPQUFPbUYsWUFBWSxDQUFDQyxPQUFPLENBQUMsaUJBQWlCO0lBQ3RELEVBQUUsT0FBT0MsS0FBSztRQUNiaEYsUUFBUWtFLElBQUksQ0FBQyxrRUFBa0VjO0lBQ2hGO0lBRUFoRixRQUFRQyxHQUFHLENBQUMsaURBQXVDO1FBQ2xEZ0YsVUFBVSxDQUFDLENBQUN4RTtRQUNaUyxLQUFLbkI7SUFDTjtJQUVBLDhDQUE4QztJQUM5Q00sU0FBU2Isb0RBQUVBLENBQUNPLGlCQUFpQjtRQUM1QnNCLFlBQVk7WUFBQztTQUFVO1FBQ3ZCQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVE0saUJBQWlCO1FBQ2pCTCxNQUFNO1lBQUVmO1FBQU07UUFDZGdCLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxpQkFBaUI7UUFDakJDLGFBQWE7SUFDZDtJQUVBaUIscUJBQXFCcEM7SUFDckIsT0FBT0o7QUFDUixFQUFFO0FBRUssTUFBTTZFLG1CQUFtQjtJQUMvQixJQUFJN0UsUUFBUTtRQUNYQSxPQUFPTyxVQUFVO1FBQ2pCUCxTQUFTO0lBQ1Y7SUFDQUMsZUFBZTtBQUNoQixFQUFFO0FBRUssTUFBTTZFLGtCQUFrQixDQUFDMUU7SUFDL0JULFFBQVFDLEdBQUcsQ0FBQztJQUNaaUY7SUFDQSxPQUFPMUUsY0FBY0M7QUFDdEIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zb2NrZXQudHM/ZTAyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5cbi8vIFNpbXBsaWZpZWQgc29ja2V0IGNvbmZpZ3VyYXRpb24gLSBhbHdheXMgdXNlIFZQUyBzZXJ2ZXJcbmNvbnN0IGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4vLyBDaGVjayBpZiB1c2luZyBuZ3JvayB0dW5uZWxcbmNvbnN0IGlzTmdyb2sgPSBpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ25ncm9rJyk7XG4vLyBVc2UgSFRUUCBmb3Igbm93IHNpbmNlIGJhY2tlbmQgZG9lc24ndCBzdXBwb3J0IEhUVFBTL1dTU1xuY29uc3QgU09DS0VUX0JBU0VfVVJMID0gJ2h0dHBzOi8vYmFja2VuZDM2LmRldic7XG5cbmNvbnNvbGUubG9nKCfwn5SNIFBsYXRmb3JtIGRldGVjdGlvbjonLCB7IGlzV2ViIH0pO1xuY29uc29sZS5sb2coJ/CflI0gU29ja2V0IFVSTDonLCBTT0NLRVRfQkFTRV9VUkwpO1xuY29uc29sZS5sb2coJ/CflI0gQXBwIFZlcnNpb246IDEuMS4wJyk7XG5jb25zb2xlLmxvZygn8J+UjSBCdWlsZCBOdW1iZXI6IDAxNycpO1xuY29uc29sZS5sb2coJ/CflI0gQ2FjaGUgYnVzdGluZyB0aW1lc3RhbXA6JywgRGF0ZS5ub3coKSk7XG5jb25zb2xlLmxvZygn8J+UjSBGb3JjZSByZWZyZXNoIHJlcXVpcmVkIC0gY2xlYXIgYnJvd3NlciBjYWNoZSEnKTtcbmNvbnNvbGUubG9nKCfwn5SNIEN1cnJlbnQgVVJMOicsIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdz8ubG9jYXRpb24gPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6ICdOL0EnKTtcblxubGV0IHNvY2tldDogU29ja2V0IHwgbnVsbCA9IG51bGw7XG5sZXQgaXNDb25uZWN0aW5nID0gZmFsc2U7XG5sZXQgY29ubmVjdGlvblByb21pc2U6IFByb21pc2U8U29ja2V0IHwgbnVsbD4gfCBudWxsID0gbnVsbDtcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuLy8gV0VCU09DS0VUIENPTk5FQ1RJT04gLSBUQ1AtYmFzZWQsIEZ1bGwtRHVwbGV4XG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbmV4cG9ydCBjb25zdCBjb25uZWN0U29ja2V0ID0gKHRva2VuOiBzdHJpbmcpID0+IHtcblx0aWYgKHNvY2tldD8uY29ubmVjdGVkKSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IGFscmVhZHkgY29ubmVjdGVkLCByZXR1cm5pbmcgZXhpc3Rpbmcgc29ja2V0Jyk7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gQ3VycmVudCBzb2NrZXQgSUQ6Jywgc29ja2V0LmlkKTtcblx0XHRyZXR1cm4gc29ja2V0O1xuXHR9XG5cdFxuXHRpZiAoaXNDb25uZWN0aW5nICYmIGNvbm5lY3Rpb25Qcm9taXNlKSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgd2FpdGluZy4uLicpO1xuXHRcdHJldHVybiBjb25uZWN0aW9uUHJvbWlzZTtcblx0fVxuXHRcblx0Ly8gQ2xlYXIgYW55IGV4aXN0aW5nIHNvY2tldCBiZWZvcmUgY3JlYXRpbmcgbmV3IG9uZVxuXHRpZiAoc29ja2V0KSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflKcgQ2xlYXJpbmcgZXhpc3Rpbmcgc29ja2V0IGJlZm9yZSBjcmVhdGluZyBuZXcgb25lJyk7XG5cdFx0c29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRzb2NrZXQgPSBudWxsO1xuXHR9XG5cdFxuXHRpc0Nvbm5lY3RpbmcgPSB0cnVlO1xuXHRcblx0Ly8gQ3JlYXRlIGNvbm5lY3Rpb24gcHJvbWlzZSB0byBhdm9pZCBtdWx0aXBsZSBzaW11bHRhbmVvdXMgY29ubmVjdGlvbnNcblx0Y29ubmVjdGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuXHRjb25zb2xlLmxvZygn8J+UjSBDcmVhdGluZyBuZXcgc29ja2V0IGNvbm5lY3Rpb24gdG86JywgU09DS0VUX0JBU0VfVVJMIHx8ICdzYW1lLW9yaWdpbicpO1xuXHRjb25zb2xlLmxvZygn8J+UjSBVc2luZyB0b2tlbjonLCB0b2tlbiA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyk7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gUGxhdGZvcm06JywgaXNXZWIgPyAnV2ViJyA6ICdNb2JpbGUnKTtcblx0XG5cdC8vIENsZWFyIGFueSBleGlzdGluZyBzb2NrZXQgZmlyc3QgKGJvdGggd2ViIGFuZCBtb2JpbGUpXG5cdGlmIChzb2NrZXQpIHtcblx0XHRjb25zb2xlLmxvZygn8J+UpyBDbGVhcmluZyBleGlzdGluZyBzb2NrZXQgYmVmb3JlIGNyZWF0aW5nIG5ldyBjb25uZWN0aW9uJyk7XG5cdFx0c29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRzb2NrZXQgPSBudWxsO1xuXHR9XG5cdFxuXHQvLyBUcnkgdG8gY29ubmVjdCB3aXRoIHJldHJ5IGxvZ2ljXG5cdGxldCBjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuXHRjb25zdCBtYXhBdHRlbXB0cyA9IDM7XG5cdFxuXHRjb25zdCB0cnlDb25uZWN0ID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdFx0Y29ubmVjdGlvbkF0dGVtcHRzKys7XG5cdFx0Y29uc29sZS5sb2coYPCflKcgQ29ubmVjdGlvbiBhdHRlbXB0ICR7Y29ubmVjdGlvbkF0dGVtcHRzfS8ke21heEF0dGVtcHRzfSB0bzpgLCB1cmwpO1xuXHRcdFx0XHQvLyDwn4+X77iPIFNPQ0tFVCBU4bqgTyDhu54gxJDDglkgLSBM4bqnbiB0aOG7rSBjb25uZWN0XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHRlc3RTb2NrZXQgPSBpbyh1cmwsIHtcblx0XHRcdHRyYW5zcG9ydHM6IGlzV2ViID8gWydwb2xsaW5nJ10gOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXG5cdFx0XHR1cGdyYWRlOiBpc1dlYiA/IGZhbHNlIDogdHJ1ZSxcblx0XHRcdHRpbWVvdXQ6IDEwMDAwLFxuXHRcdFx0YXV0aDogeyB0b2tlbiB9LFxuXHRcdFx0cGF0aDogJy9zb2NrZXQuaW8nLFxuXHRcdFx0Ly8gQWRkIGRlYnVnIG9wdGlvbnNcblx0XHRcdGZvcmNlTmV3OiB0cnVlLFxuXHRcdFx0cmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcblx0XHRcdC8vIEFkZCBjb25uZWN0aW9uIGRlYnVnZ2luZ1xuXHRcdFx0YXV0b0Nvbm5lY3Q6IHRydWUsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gQWRkIGRlYnVnIGxpc3RlbmVycyB0byB0ZXN0IHNvY2tldFxuXHRcdHRlc3RTb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UpyBUZXN0IHNvY2tldCBjb25uZWN0ZWQgdG86JywgdXJsKTtcblx0XHR9KTtcblx0XHRcblx0XHR0ZXN0U29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKHJlYXNvbikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgVGVzdCBzb2NrZXQgZGlzY29ubmVjdGVkIGZyb206JywgdXJsLCAncmVhc29uOicsIHJlYXNvbik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0dGVzdFNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgVGVzdCBzb2NrZXQgY29ubmVjdCBlcnJvcjonLCB1cmwsIGVycm9yLm1lc3NhZ2UpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIEhhbmRsZSBjb25uZWN0aW9uIHN1Y2Nlc3Ncblx0XHR0ZXN0U29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KchSBDb25uZWN0aW9uIHN1Y2Nlc3NmdWwgdG86JywgdXJsKTtcblx0XHRcdC8vIERvbid0IGRpc2Nvbm5lY3QgdGhlIHRlc3Qgc29ja2V0IC0gdXNlIGl0IGFzIHRoZSBtYWluIHNvY2tldFxuXHRcdFx0cmVzb2x2ZSh0ZXN0U29ja2V0IGFzIFNvY2tldCk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gSGFuZGxlIGNvbm5lY3Rpb24gZXJyb3Jcblx0XHR0ZXN0U29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygn4p2MIENvbm5lY3Rpb24gZmFpbGVkIHRvOicsIHVybCwgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHR0ZXN0U29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gVGltZW91dCBhZnRlciAxMCBzZWNvbmRzIC0gb25seSBpZiBub3QgY29ubmVjdGVkXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRpZiAoIXRlc3RTb2NrZXQuY29ubmVjdGVkKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfij7AgQ29ubmVjdGlvbiB0aW1lb3V0IHRvOicsIHVybCk7XG5cdFx0XHRcdHRlc3RTb2NrZXQuZGlzY29ubmVjdCgpO1xuXHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCdDb25uZWN0aW9uIHRpbWVvdXQnKSk7XG5cdFx0XHR9XG5cdFx0fSwgMTAwMDApO1xuXHRcdH0pO1xuXHR9O1xuXHRcblx0XHQvLyBTaW1wbGUgY29ubmVjdGlvbiB0byBWUFMgc2VydmVyXG5cdFx0Y29uc3QgY29ubmVjdFRvU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc29sZS5sb2coYPCflKcgQ29ubmVjdGluZyB0bzogJHtTT0NLRVRfQkFTRV9VUkx9YCk7XG5cdFx0XHRcdHNvY2tldCA9IGF3YWl0IHRyeUNvbm5lY3QoU09DS0VUX0JBU0VfVVJMKSBhcyBTb2NrZXQ7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfinIUgU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0bzonLCBTT0NLRVRfQkFTRV9VUkwpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjb25uZWN0IHRvIHNlcnZlcjonLCBlcnJvcik7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBCYWNrZW5kIHNlcnZlciBtYXkgYmUgZG93biBvciB1bnJlYWNoYWJsZScpO1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCfinYwgUGxlYXNlIGNoZWNrIGlmIGJhY2tlbmQgc2VydmVyIGlzIHJ1bm5pbmcnKTtcblx0XHRcdFx0XHRcdC8vIPCfj5fvuI8gU09DS0VUIFThuqBPIOG7niDEkMOCWSAtIEZhbGxiYWNrIGtoaSB0cnlDb25uZWN0KCkgZmFpbFxuXG5cdFx0XHRcdC8vIENyZWF0ZSBhIGZhbGxiYWNrIHNvY2tldCB3aXRoIE5ldGxpZnktY29tcGF0aWJsZSBzZXR0aW5nc1xuXHRcdFx0XHRzb2NrZXQgPSBpbyhTT0NLRVRfQkFTRV9VUkwsIHtcblx0XHRcdFx0XHR0cmFuc3BvcnRzOiBpc1dlYiA/IFsncG9sbGluZyddIDogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuXHRcdFx0XHRcdHVwZ3JhZGU6IGlzV2ViID8gZmFsc2UgOiB0cnVlLFxuXHRcdFx0XHRcdHRpbWVvdXQ6IDEwMDAwLFxuXHRcdFx0XHRcdGF1dGg6IHsgdG9rZW4gfSxcblx0XHRcdFx0XHRwYXRoOiAnL3NvY2tldC5pbycsXG5cdFx0XHRcdFx0Ly8gTmV0bGlmeS1zcGVjaWZpYyBvcHRpb25zXG5cdFx0XHRcdFx0Zm9yY2VOZXc6IHRydWUsXG5cdFx0XHRcdFx0cmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcblx0XHRcdFx0XHRhdXRvQ29ubmVjdDogdHJ1ZSxcblx0XHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdC8vIFRyeSBtdWx0aXBsZSBjb25uZWN0aW9uIHN0cmF0ZWdpZXNcblx0XHRjb25zdCBjb25uZWN0aW9uT3B0aW9ucyA9IHtcblx0XHRcdC8vIFVzZSBwb2xsaW5nIGZpcnN0IGZvciBOZXRsaWZ5IHRvIGF2b2lkIE1peGVkIENvbnRlbnQgRXJyb3Jcblx0XHRcdHRyYW5zcG9ydHM6IGlzV2ViID8gWydwb2xsaW5nJ10gOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXG5cdFx0XHR1cGdyYWRlOiBpc1dlYiA/IGZhbHNlIDogdHJ1ZSxcblx0XHRcdHJlY29ubmVjdGlvbjogdHJ1ZSxcblx0XHRcdHJlY29ubmVjdGlvbkF0dGVtcHRzOiAxNSxcblx0XHRcdHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuXHRcdFx0cmVjb25uZWN0aW9uRGVsYXlNYXg6IDE1MDAwLFxuXHRcdFx0dGltZW91dDogMzAwMDAsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG5cdFx0XHRhdXRoOiB7IHRva2VuIH0sXG5cdFx0XHRwYXRoOiAnL3NvY2tldC5pbycsXG5cdFx0XHQvLyBBZGQgZXh0cmEgb3B0aW9ucyBmb3IgYmV0dGVyIGNvbm5lY3Rpb25cblx0XHRcdGZvcmNlTmV3OiB0cnVlLFxuXHRcdFx0cmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcblx0XHRcdC8vIEFkZCBleHRyYSBvcHRpb25zIGZvciBiZXR0ZXIgcmVsaWFiaWxpdHlcblx0XHRcdGF1dG9Db25uZWN0OiB0cnVlLFxuXHRcdFx0cmVjb25uZWN0aW9uRGVsYXlGYWN0b3I6IDEuNSxcblx0XHRcdG1heFJlY29ubmVjdGlvbkF0dGVtcHRzOiAxNSxcblx0XHR9O1xuXHRcblx0XHQvLyBDb25uZWN0IHRvIFZQUyBzZXJ2ZXJcblx0XHRcdFx0Ly8g8J+Pl++4jyBTT0NLRVQgVOG6oE8g4bueIMSQw4JZIC0gRmFsbGJhY2sgbuG6v3Uga2jDtG5nIGPDsyBzb2NrZXRcblxuXHRcdGNvbm5lY3RUb1NlcnZlcigpLnRoZW4oKCkgPT4ge1xuXHRcdFx0aWYgKCFzb2NrZXQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ3JlYXRpbmcgZmFsbGJhY2sgc29ja2V0IGNvbm5lY3Rpb24nKTtcblx0XHRcdFx0c29ja2V0ID0gaW8oU09DS0VUX0JBU0VfVVJMLCBjb25uZWN0aW9uT3B0aW9ucyk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBBZGQgaW1tZWRpYXRlIGRlYnVnIGxpc3RlbmVyc1xuXHRcdFx0XHRzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgRmFsbGJhY2sgc29ja2V0IGNvbm5lY3RlZCcpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn8J+UpyBGYWxsYmFjayBzb2NrZXQgZGlzY29ubmVjdGVkOicsIHJlYXNvbik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0c29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgRmFsbGJhY2sgc29ja2V0IGNvbm5lY3QgZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0c2V0dXBTb2NrZXRMaXN0ZW5lcnModG9rZW4pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgU29ja2V0IGFscmVhZHkgY29ubmVjdGVkLCBzZXR0aW5nIHVwIGxpc3RlbmVycycpO1xuXHRcdFx0XHRzZXR1cFNvY2tldExpc3RlbmVycyh0b2tlbik7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFdhaXQgZm9yIHNvY2tldCB0byBiZSBmdWxseSBjb25uZWN0ZWRcblx0XHRcdGNvbnN0IHdhaXRGb3JDb25uZWN0aW9uID0gKCkgPT4ge1xuXHRcdFx0XHRpZiAoc29ja2V0ICYmIHNvY2tldC5jb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn8J+UpyBTb2NrZXQgZnVsbHkgY29ubmVjdGVkLCByZXNvbHZpbmcuLi4nKTtcblx0XHRcdFx0XHRpc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXNvbHZlKHNvY2tldCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgV2FpdGluZyBmb3Igc29ja2V0IHRvIGJlIGZ1bGx5IGNvbm5lY3RlZC4uLicpO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQod2FpdEZvckNvbm5lY3Rpb24sIDEwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR3YWl0Rm9yQ29ubmVjdGlvbigpO1xuXHRcdH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ29ubmVjdGlvbiBmYWlsZWQsIGNyZWF0aW5nIGZhbGxiYWNrIHNvY2tldCcpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG5cdFx0XHRzb2NrZXQgPSBpbyhTT0NLRVRfQkFTRV9VUkwsIGNvbm5lY3Rpb25PcHRpb25zKTtcblx0XHRcdFxuXHRcdFx0Ly8gQWRkIGltbWVkaWF0ZSBkZWJ1ZyBsaXN0ZW5lcnMgZm9yIGZhbGxiYWNrXG5cdFx0XHRzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIENhdGNoIGZhbGxiYWNrIHNvY2tldCBjb25uZWN0ZWQnKTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAocmVhc29uKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIENhdGNoIGZhbGxiYWNrIHNvY2tldCBkaXNjb25uZWN0ZWQ6JywgcmVhc29uKTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ2F0Y2ggZmFsbGJhY2sgc29ja2V0IGNvbm5lY3QgZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0c2V0dXBTb2NrZXRMaXN0ZW5lcnModG9rZW4pO1xuXHRcdFx0XG5cdFx0XHQvLyBXYWl0IGZvciBmYWxsYmFjayBzb2NrZXQgdG8gYmUgY29ubmVjdGVkXG5cdFx0XHRjb25zdCB3YWl0Rm9yRmFsbGJhY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGlmIChzb2NrZXQgJiYgc29ja2V0LmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIEZhbGxiYWNrIHNvY2tldCBjb25uZWN0ZWQsIHJlc29sdmluZy4uLicpO1xuXHRcdFx0XHRcdGlzQ29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdHJlc29sdmUoc29ja2V0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn8J+UpyBXYWl0aW5nIGZvciBmYWxsYmFjayBzb2NrZXQgdG8gYmUgY29ubmVjdGVkLi4uJyk7XG5cdFx0XHRcdFx0c2V0VGltZW91dCh3YWl0Rm9yRmFsbGJhY2ssIDEwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR3YWl0Rm9yRmFsbGJhY2soKTtcblx0XHR9KTtcblx0fSk7XG5cdFxuXHRyZXR1cm4gY29ubmVjdGlvblByb21pc2U7XG59O1xuXG4vLyBTZXR1cCBzb2NrZXQgbGlzdGVuZXJzXG5jb25zdCBzZXR1cFNvY2tldExpc3RlbmVycyA9ICh0b2tlbjogc3RyaW5nKSA9PiB7XG5cdFx0aWYgKCFzb2NrZXQpIHJldHVybjtcblx0XG5cdC8vIEFkZCBkZWJ1ZyBsb2dzXG5cdHNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygn4pyFIFdlYlNvY2tldCBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IElEOicsIHNvY2tldD8uaWQpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IFVSTDonLCBTT0NLRVRfQkFTRV9VUkwpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IHRyYW5zcG9ydDonLCBzb2NrZXQ/LmlvPy5lbmdpbmU/LnRyYW5zcG9ydD8ubmFtZSk7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UjSBQbGF0Zm9ybTonLCBpc1dlYiA/ICdXZWInIDogJ01vYmlsZScpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gVG9rZW4gcHJlc2VudDonLCAhIXRva2VuKTtcblx0XHRcdGNvbnNvbGUubG9nKCfwn5SNIFNvY2tldCBjb25uZWN0ZWQgc3RhdGU6Jywgc29ja2V0Py5jb25uZWN0ZWQpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IGlvIGVuZ2luZTonLCBzb2NrZXQ/LmlvPy5lbmdpbmU/LnJlYWR5U3RhdGUpO1xuXHRcdFx0XG5cdFx0XHQvLyBDaGVjayBKV1QgdG9rZW4gZXhwaXJhdGlvblxuXHRcdFx0aWYgKHRva2VuKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XG5cdFx0XHRcdFx0Y29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cdFx0XHRcdFx0Y29uc3QgZXhwID0gcGF5bG9hZC5leHA7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflI0gSldUIFRva2VuIGV4cGlyZXMgYXQ6JywgbmV3IERhdGUoZXhwICogMTAwMCkpO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SNIEN1cnJlbnQgdGltZTonLCBuZXcgRGF0ZShub3cgKiAxMDAwKSk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflI0gVG9rZW4gdmFsaWQgZm9yOicsIE1hdGguZmxvb3IoKGV4cCAtIG5vdykgLyA2MCksICdtaW51dGVzJyk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKGV4cCA8IG5vdykge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEpXVCBUb2tlbiBleHBpcmVkIScpO1xuXHRcdFx0XHRcdFx0c29ja2V0Py5kaXNjb25uZWN0KCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBKV1QgVG9rZW4gaW52YWxpZDonLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gRW1pdCBhIHRlc3QgZXZlbnQgdG8gdmVyaWZ5IGNvbm5lY3Rpb25cblx0XHRcdHNvY2tldD8uZW1pdCgndGVzdC1jb25uZWN0aW9uJywgeyBcblx0XHRcdFx0cGxhdGZvcm06IGlzV2ViID8gJ3dlYicgOiAnbW9iaWxlJyxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gRG9uJ3QgYXV0by1qb2luIGNvbnZlcnNhdGlvbiAtIGxldCBDaGF0IGNvbXBvbmVudCBoYW5kbGUgdGhpc1xuXHR9KTtcblx0XG5cdHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcblx0XHRjb25zb2xlLmxvZygn4p2MIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQsIHJlYXNvbjonLCByZWFzb24pO1xuXHRcdGNvbnNvbGUubG9nKCfinYwgU29ja2V0IElEIGJlZm9yZSBkaXNjb25uZWN0OicsIHNvY2tldD8uaWQpO1xuXHRcdGNvbnNvbGUubG9nKCfinYwgU29ja2V0IGNvbm5lY3RlZCBzdGF0ZSBiZWZvcmUgZGlzY29ubmVjdDonLCBzb2NrZXQ/LmNvbm5lY3RlZCk7XG5cdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgdHJhbnNwb3J0IGJlZm9yZSBkaXNjb25uZWN0OicsIHNvY2tldD8uaW8/LmVuZ2luZT8udHJhbnNwb3J0Py5uYW1lKTtcblx0XHRcblx0Ly8gRG9uJ3QgYXV0by1yZWNvbm5lY3QgZm9yIGNsaWVudCBkaXNjb25uZWN0IHRvIGF2b2lkIGxvb3BzXG5cdGlmIChyZWFzb24gPT09ICdpbyBjbGllbnQgZGlzY29ubmVjdCcpIHtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBDbGllbnQgaW5pdGlhdGVkIGRpc2Nvbm5lY3QgLSBub3QgYXV0by1yZWNvbm5lY3RpbmcgdG8gYXZvaWQgbG9vcHMnKTtcblx0XHRyZXR1cm47XG5cdH1cblx0XG5cdC8vIEF1dG8tcmVjb25uZWN0IGZvciBzZXJ2ZXIgZGlzY29ubmVjdFxuXHRjb25zb2xlLmxvZygn8J+UpyBBdXRvLXJlY29ubmVjdGluZyBmb3Igc2VydmVyIGRpc2Nvbm5lY3QuLi4nKTtcblx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0aWYgKHNvY2tldCAmJiAhc29ja2V0LmNvbm5lY3RlZCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uLi4nKTtcblx0XHRcdHNvY2tldC5jb25uZWN0KCk7XG5cdFx0fVxuXHR9LCAyMDAwKTtcblx0fSk7XG5cdFxuXHRzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRjb25zb2xlLmxvZygn4p2MIFdlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKTtcblx0XHRjb25zb2xlLmxvZygn4p2MIEVycm9yIGRldGFpbHM6JywgZXJyb3IubWVzc2FnZSk7XG5cdFx0Y29uc29sZS5sb2coJ+KdjCBQbGF0Zm9ybTonLCBpc1dlYiA/ICdXZWInIDogJ01vYmlsZScpO1xuXHRcdGNvbnNvbGUubG9nKCfinYwgVHJhbnNwb3J0OicsIHNvY2tldD8uaW8/LmVuZ2luZT8udHJhbnNwb3J0Py5uYW1lKTtcblx0XHRcblx0XHQvLyBNb2JpbGUtc3BlY2lmaWMgZXJyb3IgaGFuZGxpbmdcblx0XHRpZiAoIWlzV2ViKSB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UpyBNb2JpbGU6IEF0dGVtcHRpbmcgYWx0ZXJuYXRpdmUgY29ubmVjdGlvbi4uLicpO1xuXHRcdFx0Ly8gVHJ5IHRvIHJlY29ubmVjdCB3aXRoIGRpZmZlcmVudCBvcHRpb25zXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0aWYgKHNvY2tldCAmJiAhc29ja2V0LmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIE1vYmlsZTogRm9yY2UgcmVjb25uZWN0aW9uLi4uJyk7XG5cdFx0XHRcdFx0c29ja2V0LmNvbm5lY3QoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMjAwMCk7XG5cdFx0fVxuXHR9KTtcblx0XG5cdC8vIEFkZCBwZXJpb2RpYyBjb25uZWN0aW9uIGNoZWNrXG5cdHNldEludGVydmFsKCgpID0+IHtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBTb2NrZXQgc3RhdHVzIGNoZWNrOicsIHtcblx0XHRcdGNvbm5lY3RlZDogc29ja2V0Py5jb25uZWN0ZWQsXG5cdFx0XHRpZDogc29ja2V0Py5pZCxcblx0XHRcdHRyYW5zcG9ydDogc29ja2V0Py5pbz8uZW5naW5lPy50cmFuc3BvcnQ/Lm5hbWUsXG5cdFx0XHRwbGF0Zm9ybTogaXNXZWIgPyAnV2ViJyA6ICdNb2JpbGUnXG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gTW9iaWxlLXNwZWNpZmljOiBGb3JjZSByZWNvbm5lY3Rpb24gaWYgZGlzY29ubmVjdGVkXG5cdFx0aWYgKCFpc1dlYiAmJiBzb2NrZXQgJiYgIXNvY2tldC5jb25uZWN0ZWQpIHtcblx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIE1vYmlsZTogU29ja2V0IGRpc2Nvbm5lY3RlZCwgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uLi4nKTtcblx0XHRcdHNvY2tldC5jb25uZWN0KCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIENoZWNrIHRva2VuIGV4cGlyYXRpb24gYW5kIHJlZnJlc2ggaWYgbmVlZGVkXG5cdFx0aWYgKHRva2VuKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcblx0XHRcdFx0Y29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cdFx0XHRcdGNvbnN0IGV4cCA9IHBheWxvYWQuZXhwO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gSWYgdG9rZW4gZXhwaXJlcyBpbiBsZXNzIHRoYW4gNSBtaW51dGVzLCB3YXJuIHVzZXJcblx0XHRcdFx0aWYgKGV4cCAtIG5vdyA8IDMwMCkge1xuXHRcdFx0XHRcdGNvbnNvbGUud2Fybign4pqg77iPIEpXVCBUb2tlbiBleHBpcmVzIHNvb246JywgTWF0aC5mbG9vcigoZXhwIC0gbm93KSAvIDYwKSwgJ21pbnV0ZXMnKTtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ+KaoO+4jyBDb25zaWRlciByZWZyZXNoaW5nIHRva2VuIHRvIG1haW50YWluIGNvbm5lY3Rpb24nKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBJZiB0b2tlbiBleHBpcmVzIGluIGxlc3MgdGhhbiAyIG1pbnV0ZXMsIHdhcm4gYnV0IGRvbid0IGRpc2Nvbm5lY3Rcblx0XHRcdFx0XHRpZiAoZXhwIC0gbm93IDwgMTIwKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ+KaoO+4jyBUb2tlbiBleHBpcmVzIHZlcnkgc29vbiwgYnV0IGtlZXBpbmcgY29ubmVjdGlvbiBhbGl2ZScpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCfimqDvuI8gQ29uc2lkZXIgcmVmcmVzaGluZyB0b2tlbiBpbiB0aGUgYmFja2dyb3VuZCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEpXVCBUb2tlbiBpbnZhbGlkOicsIGVycm9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIDEwMDAwKTsgLy8gQ2hlY2sgZXZlcnkgMTAgc2Vjb25kc1xuXG5cdC8vIEFkZCBldmVudCBsaXN0ZW5lciBkZWJ1Z1xuXHRjb25zdCBvcmlnaW5hbEVtaXQgPSBzb2NrZXQuZW1pdDtcblx0c29ja2V0LmVtaXQgPSBmdW5jdGlvbihldmVudDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xuXHRcdGNvbnNvbGUubG9nKCfwn5SNIFtTT0NLRVRdIEVtaXR0aW5nIGV2ZW50OicsIGV2ZW50LCBhcmdzKTtcblx0XHRyZXR1cm4gb3JpZ2luYWxFbWl0LmNhbGwodGhpcywgZXZlbnQsIC4uLmFyZ3MpO1xuXHR9O1xuXHRcblx0Ly8gVHJhY2sgZGlzY29ubmVjdCBjYWxsc1xuXHRjb25zdCBvcmlnaW5hbERpc2Nvbm5lY3QgPSBzb2NrZXQuZGlzY29ubmVjdDtcblx0c29ja2V0LmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBbU09DS0VUXSBEaXNjb25uZWN0IGNhbGxlZCcpO1xuXHRcdGNvbnNvbGUudHJhY2UoJ/CflI0gW1NPQ0tFVF0gRGlzY29ubmVjdCBjYWxsIHN0YWNrOicpO1xuXHRcdHJldHVybiBvcmlnaW5hbERpc2Nvbm5lY3QuY2FsbCh0aGlzKTtcblx0fTtcblxuXHRjb25zdCBvcmlnaW5hbE9uID0gc29ja2V0Lm9uO1xuXHRzb2NrZXQub24gPSBmdW5jdGlvbihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogYW55KSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gW1NPQ0tFVF0gU2V0dGluZyB1cCBsaXN0ZW5lciBmb3IgZXZlbnQ6JywgZXZlbnQpO1xuXHRcdHJldHVybiBvcmlnaW5hbE9uLmNhbGwodGhpcywgZXZlbnQsIGxpc3RlbmVyKTtcblx0fTtcblx0XG5cdC8vIExpc3RlbiBmb3IgYW55IGV2ZW50cyB0byBkZWJ1Z1xuXHRzb2NrZXQub25BbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IHJlY2VpdmVkIGV2ZW50OicsIGV2ZW50LCBhcmdzKTtcblx0fSk7XG5cdFxuXHRcdC8vIEFkZCBtb3JlIGRlYnVnIGxpc3RlbmVyc1xuXHRcdHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgY29ubmVjdF9lcnJvcjonLCBlcnJvcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdHNvY2tldC5vbigncmVjb25uZWN0JywgKGF0dGVtcHROdW1iZXIpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCfinIUgU29ja2V0IHJlY29ubmVjdGVkIGFmdGVyJywgYXR0ZW1wdE51bWJlciwgJ2F0dGVtcHRzJyk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdyZWNvbm5lY3RfYXR0ZW1wdCcsIChhdHRlbXB0TnVtYmVyKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UpyBTb2NrZXQgcmVjb25uZWN0aW9uIGF0dGVtcHQ6JywgYXR0ZW1wdE51bWJlcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdyZWNvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCfinYwgU29ja2V0IHJlY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdyZWNvbm5lY3RfZmFpbGVkJywgKCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgcmVjb25uZWN0aW9uIGZhaWxlZCcpO1xuXHRcdH0pO1xufTtcblxuLy8gTGF6eSBnZXR0ZXIgZm9yIHNvY2tldCAtIGZvciB3ZWIgd2UgY3JlYXRlIHRoZSBjb25uZWN0aW9uIG9uIGZpcnN0IHVzZVxuZXhwb3J0IGNvbnN0IGdldFNvY2tldCA9ICgpID0+IHtcblx0aWYgKHNvY2tldCkgcmV0dXJuIHNvY2tldDtcblxuXHRpZiAoIWlzV2ViIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Y29uc29sZS53YXJuKCfimqDvuI8gZ2V0U29ja2V0IGNhbGxlZCBpbiBub24td2ViIGVudmlyb25tZW50IHdpdGhvdXQgZXhpc3Rpbmcgc29ja2V0Jyk7XG5cdFx0cmV0dXJuIHNvY2tldDtcblx0fVxuXG5cdC8vIFRyeSB0byByZWFkIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlIChrZXB0IGluIHN5bmMgd2l0aCBhcGkudHMpXG5cdGxldCB0b2tlbiA9ICcnO1xuXHR0cnkge1xuXHRcdHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJykgfHwgJyc7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUud2Fybign4pqg77iPIFVuYWJsZSB0byByZWFkIGF1dGhfdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2UgZm9yIHNvY2tldCBhdXRoJywgZXJyKTtcblx0fVxuXG5cdGNvbnNvbGUubG9nKCfwn5SnIENyZWF0aW5nIHNvY2tldCBmcm9tIGdldFNvY2tldCgpJywge1xuXHRcdGhhc1Rva2VuOiAhIXRva2VuLFxuXHRcdHVybDogU09DS0VUX0JBU0VfVVJMLFxuXHR9KTtcblxuXHQvLyBTaW1wbGUsIHN5bmNocm9ub3VzIHNvY2tldCBjcmVhdGlvbiBmb3Igd2ViXG5cdHNvY2tldCA9IGlvKFNPQ0tFVF9CQVNFX1VSTCwge1xuXHRcdHRyYW5zcG9ydHM6IFsncG9sbGluZyddLFxuXHRcdHVwZ3JhZGU6IGZhbHNlLFxuXHRcdHRpbWVvdXQ6IDEwMDAwLFxuXHRcdHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcblx0XHRhdXRoOiB7IHRva2VuIH0sXG5cdFx0cGF0aDogJy9zb2NrZXQuaW8nLFxuXHRcdGZvcmNlTmV3OiB0cnVlLFxuXHRcdHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG5cdFx0YXV0b0Nvbm5lY3Q6IHRydWUsXG5cdH0pO1xuXG5cdHNldHVwU29ja2V0TGlzdGVuZXJzKHRva2VuKTtcblx0cmV0dXJuIHNvY2tldDtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXNjb25uZWN0U29ja2V0ID0gKCkgPT4ge1xuXHRpZiAoc29ja2V0KSB7XG5cdFx0c29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRzb2NrZXQgPSBudWxsO1xuXHR9XG5cdGlzQ29ubmVjdGluZyA9IGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlY29ubmVjdFNvY2tldCA9ICh0b2tlbjogc3RyaW5nKSA9PiB7XG5cdGNvbnNvbGUubG9nKCfwn5SnIEZvcmNlIHJlY29ubmVjdGluZyBzb2NrZXQgd2l0aCBuZXcgdG9rZW4uLi4nKTtcblx0ZGlzY29ubmVjdFNvY2tldCgpO1xuXHRyZXR1cm4gY29ubmVjdFNvY2tldCh0b2tlbik7XG59O1xuXG5cbiJdLCJuYW1lcyI6WyJpbyIsImlzV2ViIiwiaXNOZ3JvayIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJpbmNsdWRlcyIsIlNPQ0tFVF9CQVNFX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJEYXRlIiwibm93IiwiaHJlZiIsInNvY2tldCIsImlzQ29ubmVjdGluZyIsImNvbm5lY3Rpb25Qcm9taXNlIiwiY29ubmVjdFNvY2tldCIsInRva2VuIiwiY29ubmVjdGVkIiwiaWQiLCJkaXNjb25uZWN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb25uZWN0aW9uQXR0ZW1wdHMiLCJtYXhBdHRlbXB0cyIsInRyeUNvbm5lY3QiLCJ1cmwiLCJyZWplY3QiLCJ0ZXN0U29ja2V0IiwidHJhbnNwb3J0cyIsInVwZ3JhZGUiLCJ0aW1lb3V0IiwiYXV0aCIsInBhdGgiLCJmb3JjZU5ldyIsInJlbWVtYmVyVXBncmFkZSIsImF1dG9Db25uZWN0Iiwid2l0aENyZWRlbnRpYWxzIiwib24iLCJyZWFzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJjb25uZWN0VG9TZXJ2ZXIiLCJjb25uZWN0aW9uT3B0aW9ucyIsInJlY29ubmVjdGlvbiIsInJlY29ubmVjdGlvbkF0dGVtcHRzIiwicmVjb25uZWN0aW9uRGVsYXkiLCJyZWNvbm5lY3Rpb25EZWxheU1heCIsInJlY29ubmVjdGlvbkRlbGF5RmFjdG9yIiwibWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJ0aGVuIiwic2V0dXBTb2NrZXRMaXN0ZW5lcnMiLCJ3YWl0Rm9yQ29ubmVjdGlvbiIsImNhdGNoIiwid2FpdEZvckZhbGxiYWNrIiwiZW5naW5lIiwidHJhbnNwb3J0IiwibmFtZSIsInJlYWR5U3RhdGUiLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNwbGl0IiwiTWF0aCIsImZsb29yIiwiZXhwIiwiZW1pdCIsInBsYXRmb3JtIiwidGltZXN0YW1wIiwiY29ubmVjdCIsInNldEludGVydmFsIiwid2FybiIsIm9yaWdpbmFsRW1pdCIsImV2ZW50IiwiYXJncyIsImNhbGwiLCJvcmlnaW5hbERpc2Nvbm5lY3QiLCJ0cmFjZSIsIm9yaWdpbmFsT24iLCJsaXN0ZW5lciIsIm9uQW55IiwiYXR0ZW1wdE51bWJlciIsImdldFNvY2tldCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlcnIiLCJoYXNUb2tlbiIsImRpc2Nvbm5lY3RTb2NrZXQiLCJyZWNvbm5lY3RTb2NrZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/socket.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"485ed1fd4808\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uL2FwcC9nbG9iYWxzLmNzcz85MzJiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNDg1ZWQxZmQ0ODA4XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/chat.css":
/*!******************************************!*\
  !*** ../../packages/app/styles/chat.css ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6f24aef3c48b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9jaGF0LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvY2hhdC5jc3M/YjlkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjZmMjRhZWYzYzQ4YlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/chat.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/conversations.css":
/*!***************************************************!*\
  !*** ../../packages/app/styles/conversations.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"05ffc8b869c8\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9jb252ZXJzYXRpb25zLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvY29udmVyc2F0aW9ucy5jc3M/ZjdlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjA1ZmZjOGI4NjljOFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/conversations.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/group-info-panel.css":
/*!******************************************************!*\
  !*** ../../packages/app/styles/group-info-panel.css ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"b938761cc081\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1pbmZvLXBhbmVsLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvZ3JvdXAtaW5mby1wYW5lbC5jc3M/NDI5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImI5Mzg3NjFjYzA4MVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/group-info-panel.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/group-modals.css":
/*!**************************************************!*\
  !*** ../../packages/app/styles/group-modals.css ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"23ef0f2d0e7b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1tb2RhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1tb2RhbHMuY3NzPzZiZTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIyM2VmMGYyZDBlN2JcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/group-modals.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/new-conversation-modal.css":
/*!************************************************************!*\
  !*** ../../packages/app/styles/new-conversation-modal.css ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"f847b564377f\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9uZXctY29udmVyc2F0aW9uLW1vZGFsLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvbmV3LWNvbnZlcnNhdGlvbi1tb2RhbC5jc3M/MWMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImY4NDdiNTY0Mzc3ZlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/new-conversation-modal.css\n");

/***/ }),

/***/ "(rsc)/./app/conversations/page.tsx":
/*!************************************!*\
  !*** ./app/conversations/page.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _zola_app_features_chat_Conversations_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zola/app/features/chat/Conversations.web */ \"(rsc)/../../packages/app/features/chat/Conversations.web.tsx\");\n\n\nfunction Page() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zola_app_features_chat_Conversations_web__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\conversations\\\\page.tsx\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvY29udmVyc2F0aW9ucy9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzRTtBQUV2RCxTQUFTQztJQUN0QixxQkFBTyw4REFBQ0QsaUZBQWFBOzs7OztBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4vYXBwL2NvbnZlcnNhdGlvbnMvcGFnZS50c3g/OGMxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29udmVyc2F0aW9ucyBmcm9tIFwiQHpvbGEvYXBwL2ZlYXR1cmVzL2NoYXQvQ29udmVyc2F0aW9ucy53ZWJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XHJcbiAgcmV0dXJuIDxDb252ZXJzYXRpb25zIC8+O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJDb252ZXJzYXRpb25zIiwiUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/conversations/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _zola_app_components_GlobalIncomingCall_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zola/app/components/GlobalIncomingCall.web */ \"(rsc)/../../packages/app/components/GlobalIncomingCall.web.tsx\");\n\n\n\nconst metadata = {\n    title: \"Zola Web\",\n    description: \"Next.js shell that consumes @zola/app\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zola_app_components_GlobalIncomingCall_web__WEBPACK_IMPORTED_MODULE_2__.GlobalIncomingCall, {}, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n                    lineNumber: 14,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n            lineNumber: 13,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3VCO0FBQzBEO0FBRTFFLE1BQU1DLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDOzs4QkFDQyw4REFBQ1IsMkZBQWtCQTs7Ozs7Z0JBQ2xCSzs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcclxuaW1wb3J0IHsgR2xvYmFsSW5jb21pbmdDYWxsIH0gZnJvbSBcIkB6b2xhL2FwcC9jb21wb25lbnRzL0dsb2JhbEluY29taW5nQ2FsbC53ZWJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcclxuICB0aXRsZTogXCJab2xhIFdlYlwiLFxyXG4gIGRlc2NyaXB0aW9uOiBcIk5leHQuanMgc2hlbGwgdGhhdCBjb25zdW1lcyBAem9sYS9hcHBcIlxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxyXG4gICAgICA8Ym9keT5cclxuICAgICAgICA8R2xvYmFsSW5jb21pbmdDYWxsIC8+XHJcbiAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICA8L2JvZHk+XHJcbiAgICA8L2h0bWw+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIkdsb2JhbEluY29taW5nQ2FsbCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/app/components/GlobalIncomingCall.web.tsx":
/*!****************************************************************!*\
  !*** ../../packages/app/components/GlobalIncomingCall.web.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalIncomingCall: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\components\GlobalIncomingCall.web.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\components\GlobalIncomingCall.web.tsx#GlobalIncomingCall`);


/***/ }),

/***/ "(rsc)/../../packages/app/features/chat/Conversations.web.tsx":
/*!**************************************************************!*\
  !*** ../../packages/app/features/chat/Conversations.web.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\features\chat\Conversations.web.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(ssr)/../../packages/app/package.json":
/*!***************************************!*\
  !*** ../../packages/app/package.json ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"@zola/app","version":"0.0.0","private":false,"main":"index.ts","types":"index.ts","scripts":{"typecheck":"tsc --noEmit"},"peerDependencies":{"react":"^18.2.0","react-native":">=0.73.0","react-native-web":"^0.19.11","solito":"^5.0.0"}}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/engine.io-client","vendor-chunks/form-data","vendor-chunks/axios","vendor-chunks/socket.io-client","vendor-chunks/socket.io-parser","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/get-intrinsic","vendor-chunks/engine.io-parser","vendor-chunks/asynckit","vendor-chunks/ms","vendor-chunks/combined-stream","vendor-chunks/proxy-from-env","vendor-chunks/@socket.io","vendor-chunks/supports-color","vendor-chunks/supports-color@7.2.0","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/@swc+helpers@0.5.2","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/has-flag@4.0.0","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();