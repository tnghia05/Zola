/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/conversations/page";
exports.ids = ["app/conversations/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?9990":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?425e":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?c7e6\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'conversations',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/conversations/page.tsx */ \"(rsc)/./app/conversations/page.tsx\")), \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\conversations\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\conversations\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/conversations/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/conversations/page\",\n        pathname: \"/conversations\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X0BiYWJlbCtjb3JlQDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZjb252ZXJzYXRpb25zJTJGcGFnZSZwYWdlPSUyRmNvbnZlcnNhdGlvbnMlMkZwYWdlJmFwcFBhdGhzPSUyRmNvbnZlcnNhdGlvbnMlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGY29udmVyc2F0aW9ucyUyRnBhZ2UudHN4JmFwcERpcj1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNhcHBzJTVDbmV4dCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q0NvZGUlNUNOb2RlanMlNUNab2xhJTVDYXBwcyU1Q25leHQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLG9LQUFxRztBQUM1SDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHlCQUF5Qiw0SUFBd0Y7QUFDakgsb0JBQW9CLDhTQUFnRjtBQUNwRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFDNkQ7QUFDcEYsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDdUQ7QUFDdkQ7QUFDTyx3QkFBd0IsOEdBQWtCO0FBQ2pEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLz85MzEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2NvbnZlcnNhdGlvbnMnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXGFwcHNcXFxcbmV4dFxcXFxhcHBcXFxcY29udmVyc2F0aW9uc1xcXFxwYWdlLnRzeFwiKSwgXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXGFwcHNcXFxcbmV4dFxcXFxhcHBcXFxcY29udmVyc2F0aW9uc1xcXFxwYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxhcHBzXFxcXG5leHRcXFxcYXBwXFxcXGxheW91dC50c3hcIiksIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxhcHBzXFxcXG5leHRcXFxcYXBwXFxcXGxheW91dC50c3hcIl0sXG4nbm90LWZvdW5kJzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiKSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcYXBwc1xcXFxuZXh0XFxcXGFwcFxcXFxjb252ZXJzYXRpb25zXFxcXHBhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvY29udmVyc2F0aW9ucy9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL2NvbnZlcnNhdGlvbnMvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvY29udmVyc2F0aW9uc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.js&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.js&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ../../packages/app/components/GlobalIncomingCall.web.js */ \"(ssr)/../../packages/app/components/GlobalIncomingCall.web.js\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X0BiYWJlbCtjb3JlQDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9RSUzQSU1Q0NvZGUlNUNOb2RlanMlNUNab2xhJTVDYXBwcyU1Q25leHQlNUNhcHAlNUNnbG9iYWxzLmNzcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q3BhY2thZ2VzJTVDYXBwJTVDY29tcG9uZW50cyU1Q0dsb2JhbEluY29taW5nQ2FsbC53ZWIuanMmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvP2E0MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXHBhY2thZ2VzXFxcXGFwcFxcXFxjb21wb25lbnRzXFxcXEdsb2JhbEluY29taW5nQ2FsbC53ZWIuanNcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.js&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/app-router.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X0BiYWJlbCtjb3JlQDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9RSUzQSU1Q0NvZGUlNUNOb2RlanMlNUNab2xhJTVDbm9kZV9tb2R1bGVzJTVDLnBucG0lNUNuZXh0JTQwMTQuMC40XyU0MGJhYmVsJTJCY29yZSU0MDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNiU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q2FwcC1yb3V0ZXIuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2JTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDZXJyb3ItYm91bmRhcnkuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2JTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjJfZTUxYzk0ZTM5N2JkMmUyMTllMTkxMmQ0NDZhMTdmZjYlNUNub2RlX21vZHVsZXMlNUNuZXh0JTVDZGlzdCU1Q2NsaWVudCU1Q2NvbXBvbmVudHMlNUNub3QtZm91bmQtYm91bmRhcnkuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfJTQwYmFiZWwlMkJjb3JlJTQwNy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2JTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF8lNDBiYWJlbCUyQmNvcmUlNDA3LjJfZTUxYzk0ZTM5N2JkMmUyMTllMTkxMmQ0NDZhMTdmZjYlNUNub2RlX21vZHVsZXMlNUNuZXh0JTVDZGlzdCU1Q2NsaWVudCU1Q2NvbXBvbmVudHMlNUNzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsMFlBQTJNO0FBQzNNLGtaQUErTTtBQUMvTSxnWkFBOE07QUFDOU0sMFpBQW1OO0FBQ25OLDhhQUE2TjtBQUM3TiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLz9lZGY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxub2RlX21vZHVsZXNcXFxcLnBucG1cXFxcbmV4dEAxNC4wLjRfQGJhYmVsK2NvcmVANy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcYXBwLXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxub2RlX21vZHVsZXNcXFxcLnBucG1cXFxcbmV4dEAxNC4wLjRfQGJhYmVsK2NvcmVANy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcbm9kZV9tb2R1bGVzXFxcXC5wbnBtXFxcXG5leHRAMTQuMC40X0BiYWJlbCtjb3JlQDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNlxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGxheW91dC1yb3V0ZXIuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcbm9kZV9tb2R1bGVzXFxcXC5wbnBtXFxcXG5leHRAMTQuMC40X0BiYWJlbCtjb3JlQDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNlxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXG5vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxub2RlX21vZHVsZXNcXFxcLnBucG1cXFxcbmV4dEAxNC4wLjRfQGJhYmVsK2NvcmVANy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxccmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxub2RlX21vZHVsZXNcXFxcLnBucG1cXFxcbmV4dEAxNC4wLjRfQGJhYmVsK2NvcmVANy4yX2U1MWM5NGUzOTdiZDJlMjE5ZTE5MTJkNDQ2YTE3ZmY2XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcc3RhdGljLWdlbmVyYXRpb24tc2VhcmNocGFyYW1zLWJhaWxvdXQtcHJvdmlkZXIuanNcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_%40babel%2Bcore%407.2_e51c94e397bd2e219e1912d446a17ff6%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Cchat%5CConversations.web.js&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Cchat%5CConversations.web.js&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ../../packages/app/features/chat/Conversations.web.js */ \"(ssr)/../../packages/app/features/chat/Conversations.web.js\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X0BiYWJlbCtjb3JlQDcuMl9lNTFjOTRlMzk3YmQyZTIxOWUxOTEyZDQ0NmExN2ZmNi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9RSUzQSU1Q0NvZGUlNUNOb2RlanMlNUNab2xhJTVDcGFja2FnZXMlNUNhcHAlNUNmZWF0dXJlcyU1Q2NoYXQlNUNDb252ZXJzYXRpb25zLndlYi5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/YzkzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxccGFja2FnZXNcXFxcYXBwXFxcXGZlYXR1cmVzXFxcXGNoYXRcXFxcQ29udmVyc2F0aW9ucy53ZWIuanNcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Cchat%5CConversations.web.js&server=true!\n");

/***/ }),

/***/ "(ssr)/../../packages/app/api.js":
/*!*********************************!*\
  !*** ../../packages/app/api.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_URL: () => (/* binding */ API_URL),\n/* harmony export */   acceptCall: () => (/* binding */ acceptCall),\n/* harmony export */   addGroupMembers: () => (/* binding */ addGroupMembers),\n/* harmony export */   addMembers: () => (/* binding */ addMembers),\n/* harmony export */   addReaction: () => (/* binding */ addReaction),\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   banUserApi: () => (/* binding */ banUserApi),\n/* harmony export */   blockUserApi: () => (/* binding */ blockUserApi),\n/* harmony export */   bulkHandleReportsApi: () => (/* binding */ bulkHandleReportsApi),\n/* harmony export */   bulkModeratePostsApi: () => (/* binding */ bulkModeratePostsApi),\n/* harmony export */   changePassword: () => (/* binding */ changePassword),\n/* harmony export */   checkPostLikedApi: () => (/* binding */ checkPostLikedApi),\n/* harmony export */   checkReelLikedApi: () => (/* binding */ checkReelLikedApi),\n/* harmony export */   createCommentApi: () => (/* binding */ createCommentApi),\n/* harmony export */   createConversation: () => (/* binding */ createConversation),\n/* harmony export */   createConversationWithUser: () => (/* binding */ createConversationWithUser),\n/* harmony export */   createGroupConversation: () => (/* binding */ createGroupConversation),\n/* harmony export */   createInviteLink: () => (/* binding */ createInviteLink),\n/* harmony export */   createMessage: () => (/* binding */ createMessage),\n/* harmony export */   createMessageWithPayload: () => (/* binding */ createMessageWithPayload),\n/* harmony export */   createMessageWithReply: () => (/* binding */ createMessageWithReply),\n/* harmony export */   createPostApi: () => (/* binding */ createPostApi),\n/* harmony export */   createReelApi: () => (/* binding */ createReelApi),\n/* harmony export */   createStoryApi: () => (/* binding */ createStoryApi),\n/* harmony export */   createStoryReplyApi: () => (/* binding */ createStoryReplyApi),\n/* harmony export */   deleteMessage: () => (/* binding */ deleteMessage),\n/* harmony export */   deletePostApi: () => (/* binding */ deletePostApi),\n/* harmony export */   deleteReelApi: () => (/* binding */ deleteReelApi),\n/* harmony export */   deleteStoryApi: () => (/* binding */ deleteStoryApi),\n/* harmony export */   editMessage: () => (/* binding */ editMessage),\n/* harmony export */   endCall: () => (/* binding */ endCall),\n/* harmony export */   getActiveCallForConversation: () => (/* binding */ getActiveCallForConversation),\n/* harmony export */   getAdminAnalyticsChartApi: () => (/* binding */ getAdminAnalyticsChartApi),\n/* harmony export */   getAdminDashboardStatsApi: () => (/* binding */ getAdminDashboardStatsApi),\n/* harmony export */   getAdminPostStatsApi: () => (/* binding */ getAdminPostStatsApi),\n/* harmony export */   getAdminPostsApi: () => (/* binding */ getAdminPostsApi),\n/* harmony export */   getAdminReportDetailsApi: () => (/* binding */ getAdminReportDetailsApi),\n/* harmony export */   getAdminReportsApi: () => (/* binding */ getAdminReportsApi),\n/* harmony export */   getAdminUserDetailsApi: () => (/* binding */ getAdminUserDetailsApi),\n/* harmony export */   getAdminUserStatsApi: () => (/* binding */ getAdminUserStatsApi),\n/* harmony export */   getAdminUsersApi: () => (/* binding */ getAdminUsersApi),\n/* harmony export */   getBlockStatusApi: () => (/* binding */ getBlockStatusApi),\n/* harmony export */   getBlockedUsersApi: () => (/* binding */ getBlockedUsersApi),\n/* harmony export */   getCall: () => (/* binding */ getCall),\n/* harmony export */   getContentStatsApi: () => (/* binding */ getContentStatsApi),\n/* harmony export */   getConversations: () => (/* binding */ getConversations),\n/* harmony export */   getCurrentUserId: () => (/* binding */ getCurrentUserId),\n/* harmony export */   getCurrentUserProfile: () => (/* binding */ getCurrentUserProfile),\n/* harmony export */   getFeed: () => (/* binding */ getFeed),\n/* harmony export */   getFriendSuggestionsApi: () => (/* binding */ getFriendSuggestionsApi),\n/* harmony export */   getFriends: () => (/* binding */ getFriends),\n/* harmony export */   getLiveKitToken: () => (/* binding */ getLiveKitToken),\n/* harmony export */   getMessages: () => (/* binding */ getMessages),\n/* harmony export */   getModerationQueueApi: () => (/* binding */ getModerationQueueApi),\n/* harmony export */   getNotificationsApi: () => (/* binding */ getNotificationsApi),\n/* harmony export */   getOnlineUsers: () => (/* binding */ getOnlineUsers),\n/* harmony export */   getOpponentInfo: () => (/* binding */ getOpponentInfo),\n/* harmony export */   getPendingFriendRequestsApi: () => (/* binding */ getPendingFriendRequestsApi),\n/* harmony export */   getPostByIdApi: () => (/* binding */ getPostByIdApi),\n/* harmony export */   getPostComments: () => (/* binding */ getPostComments),\n/* harmony export */   getPostsByHashtagApi: () => (/* binding */ getPostsByHashtagApi),\n/* harmony export */   getReelByIdApi: () => (/* binding */ getReelByIdApi),\n/* harmony export */   getReelsFeedApi: () => (/* binding */ getReelsFeedApi),\n/* harmony export */   getSavedPostsApi: () => (/* binding */ getSavedPostsApi),\n/* harmony export */   getStoriesApi: () => (/* binding */ getStoriesApi),\n/* harmony export */   getStoryRepliesApi: () => (/* binding */ getStoryRepliesApi),\n/* harmony export */   getSystemLogsApi: () => (/* binding */ getSystemLogsApi),\n/* harmony export */   getSystemSettingsApi: () => (/* binding */ getSystemSettingsApi),\n/* harmony export */   getUnreadCount: () => (/* binding */ getUnreadCount),\n/* harmony export */   getUserActivityStatsApi: () => (/* binding */ getUserActivityStatsApi),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserPhotosApi: () => (/* binding */ getUserPhotosApi),\n/* harmony export */   getUserPostsApi: () => (/* binding */ getUserPostsApi),\n/* harmony export */   getUserReelsApi: () => (/* binding */ getUserReelsApi),\n/* harmony export */   getUsersByIds: () => (/* binding */ getUsersByIds),\n/* harmony export */   handleReportApi: () => (/* binding */ handleReportApi),\n/* harmony export */   hidePostApi: () => (/* binding */ hidePostApi),\n/* harmony export */   initiateCall: () => (/* binding */ initiateCall),\n/* harmony export */   joinConversationByInvite: () => (/* binding */ joinConversationByInvite),\n/* harmony export */   leaveGroup: () => (/* binding */ leaveGroup),\n/* harmony export */   likeReelApi: () => (/* binding */ likeReelApi),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   makeAdmin: () => (/* binding */ makeAdmin),\n/* harmony export */   makeGroupAdmin: () => (/* binding */ makeGroupAdmin),\n/* harmony export */   markAsRead: () => (/* binding */ markAsRead),\n/* harmony export */   markNotificationsReadApi: () => (/* binding */ markNotificationsReadApi),\n/* harmony export */   markStoryViewedApi: () => (/* binding */ markStoryViewedApi),\n/* harmony export */   moderatePostApi: () => (/* binding */ moderatePostApi),\n/* harmony export */   pinMessage: () => (/* binding */ pinMessage),\n/* harmony export */   reactToPostApi: () => (/* binding */ reactToPostApi),\n/* harmony export */   reactToStoryApi: () => (/* binding */ reactToStoryApi),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   rejectCall: () => (/* binding */ rejectCall),\n/* harmony export */   removeAdmin: () => (/* binding */ removeAdmin),\n/* harmony export */   removeGroupAdmin: () => (/* binding */ removeGroupAdmin),\n/* harmony export */   removeGroupMember: () => (/* binding */ removeGroupMember),\n/* harmony export */   removeMember: () => (/* binding */ removeMember),\n/* harmony export */   removeReaction: () => (/* binding */ removeReaction),\n/* harmony export */   removeReactionApi: () => (/* binding */ removeReactionApi),\n/* harmony export */   removeStoryReactionApi: () => (/* binding */ removeStoryReactionApi),\n/* harmony export */   reportPostApi: () => (/* binding */ reportPostApi),\n/* harmony export */   resendOTP: () => (/* binding */ resendOTP),\n/* harmony export */   respondFriendRequestApi: () => (/* binding */ respondFriendRequestApi),\n/* harmony export */   restorePostApi: () => (/* binding */ restorePostApi),\n/* harmony export */   revokeMessage: () => (/* binding */ revokeMessage),\n/* harmony export */   savePostApi: () => (/* binding */ savePostApi),\n/* harmony export */   searchMessages: () => (/* binding */ searchMessages),\n/* harmony export */   searchMusicApi: () => (/* binding */ searchMusicApi),\n/* harmony export */   searchSocialApi: () => (/* binding */ searchSocialApi),\n/* harmony export */   searchUsers: () => (/* binding */ searchUsers),\n/* harmony export */   sendFriendRequestApi: () => (/* binding */ sendFriendRequestApi),\n/* harmony export */   sendOTP: () => (/* binding */ sendOTP),\n/* harmony export */   sendVerificationOTP: () => (/* binding */ sendVerificationOTP),\n/* harmony export */   setAuthToken: () => (/* binding */ setAuthToken),\n/* harmony export */   sharePostApi: () => (/* binding */ sharePostApi),\n/* harmony export */   starMessage: () => (/* binding */ starMessage),\n/* harmony export */   syncReelsFromPostsApi: () => (/* binding */ syncReelsFromPostsApi),\n/* harmony export */   trackEventApi: () => (/* binding */ trackEventApi),\n/* harmony export */   unbanUserApi: () => (/* binding */ unbanUserApi),\n/* harmony export */   unblockUserApi: () => (/* binding */ unblockUserApi),\n/* harmony export */   unfriendUserApi: () => (/* binding */ unfriendUserApi),\n/* harmony export */   unlikeReelApi: () => (/* binding */ unlikeReelApi),\n/* harmony export */   unpinMessage: () => (/* binding */ unpinMessage),\n/* harmony export */   unsavePostApi: () => (/* binding */ unsavePostApi),\n/* harmony export */   unverifyUserApi: () => (/* binding */ unverifyUserApi),\n/* harmony export */   updateCurrentUserProfile: () => (/* binding */ updateCurrentUserProfile),\n/* harmony export */   updateGroupInfo: () => (/* binding */ updateGroupInfo),\n/* harmony export */   updateOnlineStatus: () => (/* binding */ updateOnlineStatus),\n/* harmony export */   updateProfileApi: () => (/* binding */ updateProfileApi),\n/* harmony export */   updateSystemSettingsApi: () => (/* binding */ updateSystemSettingsApi),\n/* harmony export */   updateUserAvatar: () => (/* binding */ updateUserAvatar),\n/* harmony export */   updateUserAvatarWithId: () => (/* binding */ updateUserAvatarWithId),\n/* harmony export */   updateUserInfo: () => (/* binding */ updateUserInfo),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile),\n/* harmony export */   updateUserProfileWithId: () => (/* binding */ updateUserProfileWithId),\n/* harmony export */   updateUserRoleApi: () => (/* binding */ updateUserRoleApi),\n/* harmony export */   updateUsername: () => (/* binding */ updateUsername),\n/* harmony export */   uploadAvatarDirect: () => (/* binding */ uploadAvatarDirect),\n/* harmony export */   uploadChatFile: () => (/* binding */ uploadChatFile),\n/* harmony export */   uploadImageLocal: () => (/* binding */ uploadImageLocal),\n/* harmony export */   uploadImageLocalOld: () => (/* binding */ uploadImageLocalOld),\n/* harmony export */   uploadImageS3: () => (/* binding */ uploadImageS3),\n/* harmony export */   uploadMediaApi: () => (/* binding */ uploadMediaApi),\n/* harmony export */   verifyOTP: () => (/* binding */ verifyOTP),\n/* harmony export */   verifyUserApi: () => (/* binding */ verifyUserApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../../../../node_modules/axios/lib/axios.js\");\n\n// Use Vercel proxy for web to avoid CORS issues\n// Direct backend URL has CORS restrictions on Vercel domain\nconst DIRECT_BACKEND_URL = \"https://backend36.dev\";\nconst isWeb = \"undefined\" !== \"undefined\";\nconst isLocalhost = isWeb && window?.location?.hostname && /^(localhost|127\\.|192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))$/.test(window.location.hostname);\n// Force use proxy for LAN IPs to avoid CORS issues\nconst isLAN = isWeb && window?.location?.hostname && /^(192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))$/.test(window.location.hostname);\n// Check if using ngrok tunnel\nconst isNgrok = isWeb && window?.location?.hostname && window.location.hostname.includes(\"ngrok\");\n// Always use direct backend for development (proxy only works in production)\nconst isProduction = isWeb && window?.location?.hostname && !window.location.hostname.includes(\"localhost\") && !window.location.hostname.match(/^(192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))/) && !isNgrok && !window.location.hostname.includes(\"ngrok\");\nconst API_URL = isWeb ? isProduction ? \"/api\" : DIRECT_BACKEND_URL : DIRECT_BACKEND_URL;\n// Debug logging\nif (isWeb && window?.location?.hostname) {\n    console.log(\"\\uD83C\\uDF10 Web environment detected\");\n    console.log(\"\\uD83D\\uDD0D window.location.hostname:\", window.location.hostname);\n    console.log(\"\\uD83D\\uDD0D isLocalhost:\", isLocalhost);\n    console.log(\"\\uD83D\\uDD0D isLAN:\", isLAN);\n    console.log(\"\\uD83D\\uDD0D isNgrok:\", isNgrok);\n    console.log(\"\\uD83D\\uDD0D isProduction:\", isProduction);\n    console.log(\"\\uD83D\\uDD0D API_URL:\", API_URL);\n}\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_URL,\n    withCredentials: true\n});\n// Rehydrate auth header from localStorage on web reload\nif (false) {}\n// Add request interceptor for debugging\napi.interceptors.request.use((config)=>{\n    // Ensure token is set from localStorage on each request\n    if (false) {}\n    const authHeader = typeof config.headers.Authorization === \"string\" ? config.headers.Authorization.substring(0, 30) + \"...\" : config.headers.Authorization ? String(config.headers.Authorization) : \"none\";\n    console.log(\"\\uD83D\\uDD0D API Request:\", {\n        method: config.method?.toUpperCase(),\n        url: config.url,\n        baseURL: config.baseURL,\n        hasAuth: !!config.headers.Authorization,\n        authHeader\n    });\n    return config;\n}, (error)=>{\n    console.error(\" Request Error:\", error);\n    return Promise.reject(error);\n});\n// Add response interceptor for debugging\napi.interceptors.response.use((response)=>{\n    console.log(\" API Response:\", {\n        status: response.status,\n        statusText: response.statusText,\n        data: response.data\n    });\n    return response;\n}, (error)=>{\n    console.error(\" Response Error:\", {\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        config: {\n            method: error.config?.method?.toUpperCase(),\n            url: error.config?.url,\n            data: error.config?.data\n        }\n    });\n    return Promise.reject(error);\n});\nconst setAuthToken = (token)=>{\n    if (token) {\n        api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    } else {\n        delete api.defaults.headers.common[\"Authorization\"];\n    }\n};\nconst login = async (email, password)=>{\n    const res = await api.post(\"/auth/login\", {\n        email,\n        password\n    });\n    return res.data;\n};\nconst getConversations = async ()=>{\n    const res = await api.get(\"/conversations\");\n    return res.data;\n};\nconst getMessages = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/messages`);\n    return res.data;\n};\nconst createMessage = async (conversationId, text)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, {\n        text\n    });\n    return res.data;\n};\nconst createMessageWithPayload = async (conversationId, payload)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, payload);\n    return res.data;\n};\nconst createConversation = async (userId, title)=>{\n    const res = await api.post(\"/conversations\", {\n        members: [\n            userId\n        ],\n        title: title || `Chat with ${userId}`\n    });\n    return res.data;\n};\n// Create a group conversation with multiple member IDs\nconst createGroupConversation = async (memberIds, title)=>{\n    const unique = Array.from(new Set(memberIds.filter(Boolean)));\n    const res = await api.post(\"/conversations\", {\n        members: unique,\n        isGroup: true,\n        title: title || `Group (${unique.length})`\n    });\n    return res.data;\n};\nconst initiateCall = async (conversationId, type, targetUserId)=>{\n    const payload = {\n        conversationId,\n        type\n    };\n    if (targetUserId) {\n        payload.targetUserId = targetUserId;\n    }\n    const res = await api.post(\"/calls/initiate\", payload);\n    return res.data;\n};\nconst getCall = async (callId)=>{\n    const res = await api.get(`/calls/${callId}`);\n    return res.data;\n};\nconst getActiveCallForConversation = async (conversationId)=>{\n    const res = await api.get(`/calls/conversation/${conversationId}/active`);\n    return res.data;\n};\nconst getLiveKitToken = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/livekit-token`);\n    return res.data;\n};\nconst endCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/end`);\n    return res.data;\n};\nconst acceptCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/accept`);\n    return res.data;\n};\nconst rejectCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/reject`);\n    return res.data;\n};\n// \n// UPLOAD IMAGE LOCAL - CLIENT-SERVER (HTTP POST over TCP)\n// Multipart Form Data\n// \n// Upload image to local storage endpoint (updated to use correct endpoint)\nconst uploadImageLocalOld = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/files/image`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload to S3 if backend provides presigned handling (optional)\nconst uploadImageS3 = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/files/s3`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload to local storage\nconst uploadImageLocal = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/uploads/image`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload media cho mng x hi (nh/video) - dng chung vi desktop\nconst uploadMediaApi = async (file)=>{\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await api.post(\"/uploads/s3/public\", formData, {\n    });\n    return {\n        url: res.data.url,\n        type: res.data.mime.startsWith(\"image/\") ? \"image\" : \"video\"\n    };\n};\n// Web helper: upload File object directly (chat attachments)\nconst uploadChatFile = async (file)=>{\n    const form = new FormData();\n    form.append(\"file\", file);\n    const res = await api.post(`/uploads/s3/public`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\nconst logout = async (token)=>{\n    const res = await api.post(\"/auth/logout\", {\n        token\n    });\n    return res.data;\n};\nconst register = async (email, password, name)=>{\n    const res = await api.post(\"/auth/register\", {\n        email,\n        password,\n        name\n    });\n    return res.data;\n};\nconst sendOTP = async (email)=>{\n    const res = await api.post(\"/auth/send-otp\", {\n        email\n    });\n    return res.data;\n};\nconst verifyOTP = async (email, otp)=>{\n    const res = await api.post(\"/auth/verify-otp\", {\n        email,\n        otp\n    });\n    return res.data;\n};\nconst resendOTP = async (email)=>{\n    const res = await api.post(\"/auth/resend-otp\", {\n        email\n    });\n    return res.data;\n};\nconst sendVerificationOTP = async (email)=>{\n    const res = await api.post(\"/auth/send-verification-otp\", {\n        email\n    });\n    return res.data;\n};\nconst updateUsername = async (username)=>{\n    const res = await api.patch(\"/users/username\", {\n        username\n    });\n    return res.data;\n};\nconst updateUserAvatar = async (avatarUrl)=>{\n    const res = await api.patch(\"/users/avatar\", {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Alternative avatar update endpoints to try\nconst updateUserProfile = async (data)=>{\n    const res = await api.patch(\"/users/profile\", data);\n    return res.data;\n};\nconst updateUserInfo = async (avatarUrl)=>{\n    const res = await api.put(\"/users/info\", {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Get current user ID  web version dng localStorage\nconst getCurrentUserId = async ()=>{\n    try {\n        if (true) return null;\n        const userId = window.localStorage.getItem(\"user_id\");\n        return userId;\n    } catch (error) {\n        console.error(\"Error getting user ID from localStorage:\", error);\n        return null;\n    }\n};\n// Bn b cho trang c nhn / friends page\nconst getFriends = async ()=>{\n    const res = await api.get(\"/social/friends\");\n    return res.data;\n};\nconst blockUserApi = async (userId)=>{\n    const res = await api.post(`/users/${userId}/block`);\n    return res.data;\n};\nconst unblockUserApi = async (userId)=>{\n    const res = await api.delete(`/users/${userId}/block`);\n    return res.data;\n};\nconst getBlockedUsersApi = async ()=>{\n    const res = await api.get(\"/users/blocked\");\n    return res.data;\n};\nconst getBlockStatusApi = async (userId)=>{\n    const res = await api.get(`/users/${userId}/block-status`);\n    return res.data;\n};\nconst unfriendUserApi = async (userId)=>{\n    const res = await api.delete(`/social/friends/${userId}`);\n    return res.data;\n};\n// Photos from posts (author or tagged)\nconst getUserPhotosApi = async (userId, type = \"authored\")=>{\n    try {\n        const res = await api.get(`/social/users/${userId}/photos`, {\n            params: {\n                type\n            }\n        });\n        return res.data;\n    } catch (error) {\n        // Nu backend cha c route /photos (404), tr v rng  frontend fallback sang posts\n        if (error?.response?.status === 404) {\n            return {\n                items: []\n            };\n        }\n        throw error;\n    }\n};\nconst updateProfileApi = async (payload)=>{\n    const res = await api.patch(`/users/me/profile`, payload);\n    return res.data;\n};\n// Feed bi vit ca 1 user (trang profile)\nconst getUserPostsApi = async (userId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/users/${userId}/posts`, {\n        params\n    });\n    return res.data;\n};\nconst trackEventApi = async (eventType, metadata, sessionId)=>{\n    try {\n        await api.post(\"/analytics/track\", {\n            eventType,\n            metadata,\n            sessionId\n        });\n    } catch (error) {\n        console.error(\"[Analytics] Failed to track event:\", error);\n    }\n};\n// Update avatar with user ID\nconst updateUserAvatarWithId = async (userId, avatarUrl)=>{\n    const res = await api.patch(`/users/${userId}/avatar`, {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Update profile with user ID\nconst updateUserProfileWithId = async (userId, data)=>{\n    const res = await api.patch(`/users/${userId}/profile`, data);\n    return res.data;\n};\nconst changePassword = async (currentPassword, newPassword)=>{\n    const res = await api.post(\"/auth/change-password\", {\n        currentPassword,\n        newPassword\n    });\n    return res.data;\n};\n// Update current user profile (the correct way according to backend docs)\nconst updateCurrentUserProfile = async (data)=>{\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - request data:\", data);\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - method: PATCH\");\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.patch(\"/users/me\", data);\n    return res.data;\n};\n// Get current user profile\nconst getCurrentUserProfile = async ()=>{\n    const res = await api.get(\"/users/me\");\n    return res.data;\n};\n// Cch 1: Upload avatar trc tip (n gin nht)\nconst uploadAvatarDirect = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"avatar\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    console.log(\"\\uD83D\\uDD0D uploadAvatarDirect - sending file:\", file.name);\n    console.log(\"\\uD83D\\uDD0D uploadAvatarDirect - auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.post(\"/users/avatar\", form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\nconst getUsersByIds = async (userIds)=>{\n    const res = await api.post(`/users/by-ids`, {\n        userIds\n    });\n    return res.data;\n};\nconst searchUsers = async (query, page = 1, limit = 20)=>{\n    console.log(\"\\uD83D\\uDD0D searchUsers called with:\", {\n        query,\n        page,\n        limit\n    });\n    console.log(\"\\uD83D\\uDD0D API base URL:\", api.defaults.baseURL);\n    console.log(\"\\uD83D\\uDD0D Auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.get(\"/users/search\", {\n        params: {\n            q: query,\n            page,\n            limit\n        }\n    });\n    console.log(\"\\uD83D\\uDD0D searchUsers response:\", res.data);\n    return res.data;\n};\n// To conversation vi user\nconst createConversationWithUser = async (userId)=>{\n    const res = await api.post(\"/conversations\", {\n        members: [\n            userId\n        ]\n    });\n    return res.data;\n};\nconst getOpponentInfo = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/opponent`);\n    return res.data;\n};\n// Message Actions API\nconst editMessage = async (messageId, text)=>{\n    const res = await api.patch(`/conversations/messages/${messageId}`, {\n        text\n    });\n    return res.data;\n};\nconst deleteMessage = async (messageId)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}`);\n    return res.data;\n};\nconst addReaction = async (messageId, emoji)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/reactions`, {\n        emoji\n    });\n    return res.data;\n};\nconst removeReaction = async (messageId, emoji)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}/reactions/${encodeURIComponent(emoji)}`);\n    return res.data;\n};\nconst pinMessage = async (messageId)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/pin`);\n    return res.data;\n};\nconst unpinMessage = async (messageId)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}/pin`);\n    return res.data;\n};\nconst starMessage = async (messageId)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/star`);\n    return res.data;\n};\n// Revoke message for everyone\nconst revokeMessage = async (messageId)=>{\n    const res = await api.patch(`/conversations/messages/${messageId}/revoke`, {});\n    return res.data;\n};\nconst searchMessages = async (query, conversationId)=>{\n    const params = {\n        query\n    };\n    if (conversationId) {\n        params.conversationId = conversationId;\n    }\n    const res = await api.get(`/conversations/messages/search`, {\n        params\n    });\n    return res.data;\n};\nconst markAsRead = async (conversationId, messageId)=>{\n    const res = await api.post(`/conversations/${conversationId}/read`, {\n        messageId\n    });\n    return res.data;\n};\n// Group Management API\nconst addMembers = async (conversationId, userIds)=>{\n    const res = await api.post(`/conversations/${conversationId}/members`, {\n        userIds\n    });\n    return res.data;\n};\nconst removeMember = async (conversationId, userId)=>{\n    const res = await api.delete(`/conversations/${conversationId}/members/${userId}`);\n    return res.data;\n};\nconst updateGroupInfo = async (conversationId, data)=>{\n    const res = await api.patch(`/conversations/${conversationId}`, data);\n    return res.data;\n};\nconst createInviteLink = async (conversationId)=>{\n    const res = await api.post(`/conversations/${conversationId}/invite`);\n    return res.data;\n};\nconst joinConversationByInvite = async (inviteCode)=>{\n    const res = await api.post(`/conversations/join/invite`, {\n        inviteCode\n    });\n    return res.data;\n};\nconst makeAdmin = async (conversationId, userId)=>{\n    const res = await api.post(`/conversations/${conversationId}/admins/${userId}`);\n    return res.data;\n};\nconst removeAdmin = async (conversationId, userId)=>{\n    const res = await api.delete(`/conversations/${conversationId}/admins/${userId}`);\n    return res.data;\n};\n// Backwards-compatible aliases for desktop code\nconst addGroupMembers = addMembers;\nconst removeGroupMember = removeMember;\nconst makeGroupAdmin = makeAdmin;\nconst removeGroupAdmin = removeAdmin;\nconst leaveGroup = async (conversationId)=>{\n    const res = await api.post(`/conversations/${conversationId}/leave`);\n    return res.data;\n};\nconst getUnreadCount = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/unread`);\n    return res.data;\n};\n// Online Status API\nconst updateOnlineStatus = async (status)=>{\n    const res = await api.patch(`/users/me/status`, {\n        status\n    });\n    return res.data;\n};\nconst getOnlineUsers = async (userIds)=>{\n    const res = await api.post(`/users/online-status`, {\n        userIds\n    });\n    return res.data;\n};\n// Update createMessage to support replyTo\nconst createMessageWithReply = async (conversationId, text, replyTo)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, {\n        text,\n        replyTo\n    });\n    return res.data;\n};\nconst getFeed = async (cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/posts/feed\", {\n        params\n    });\n    return res.data;\n};\nconst createPostApi = async (payload)=>{\n    const res = await api.post(\"/social/posts\", payload);\n    return res.data;\n};\nconst createCommentApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/comments`, payload);\n    return res.data;\n};\nconst getPostComments = async (postId, cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/posts/${postId}/comments`, {\n        params\n    });\n    return res.data;\n};\nconst getPostsByHashtagApi = async (tag, cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/hashtags/${encodeURIComponent(tag)}/posts`, {\n        params\n    });\n    return res.data;\n};\n// Single post detail\nconst getPostByIdApi = async (postId)=>{\n    const res = await api.get(`/social/posts/${postId}`);\n    return res.data;\n};\nconst sharePostApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/share`, payload);\n    return res.data;\n};\nconst createStoryApi = async (payload)=>{\n    const res = await api.post(\"/social/stories\", payload);\n    return res.data;\n};\nconst getStoriesApi = async ()=>{\n    const res = await api.get(\"/social/stories\");\n    return res.data;\n};\nconst markStoryViewedApi = async (storyId)=>{\n    const res = await api.post(`/social/stories/${storyId}/view`, {});\n    return res.data;\n};\nconst deleteStoryApi = async (storyId)=>{\n    const res = await api.delete(`/social/stories/${storyId}`);\n    return res.data;\n};\nconst savePostApi = async (postId)=>{\n    const res = await api.post(`/social/posts/${postId}/save`, {});\n    return res.data;\n};\nconst unsavePostApi = async (postId)=>{\n    const res = await api.delete(`/social/posts/${postId}/save`);\n    return res.data;\n};\nconst getSavedPostsApi = async (cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/posts/saved\", {\n        params\n    });\n    return res.data;\n};\nconst reportPostApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/report`, payload);\n    return res.data;\n};\nconst getFriendSuggestionsApi = async (limit = 6)=>{\n    const res = await api.get(\"/social/friends/suggestions\", {\n        params: {\n            limit\n        }\n    });\n    return res.data;\n};\nconst sendFriendRequestApi = async (targetUserId)=>{\n    const res = await api.post(\"/social/friends/requests\", {\n        targetUserId\n    });\n    return res.data;\n};\nconst respondFriendRequestApi = async (friendshipId, action)=>{\n    const res = await api.post(`/social/friends/${friendshipId}/respond`, {\n        action\n    });\n    return res.data;\n};\nconst getPendingFriendRequestsApi = async ()=>{\n    const res = await api.get(\"/social/friends/requests/pending\");\n    return res.data;\n};\nconst getNotificationsApi = async (cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/notifications\", {\n        params\n    });\n    return res.data;\n};\nconst markNotificationsReadApi = async (ids)=>{\n    const res = await api.post(\"/social/notifications/read\", {\n        ids\n    });\n    return res.data;\n};\nconst getUserById = async (userId)=>{\n    const res = await api.get(`/users/${userId}`);\n    return res.data;\n};\nconst searchSocialApi = async (queryOrParams)=>{\n    const params = typeof queryOrParams === \"string\" ? {\n        q: queryOrParams\n    } : {\n        q: queryOrParams.q,\n        type: queryOrParams.type\n    };\n    const res = await api.get(\"/social/search\", {\n        params\n    });\n    return res.data;\n};\nconst checkPostLikedApi = async (postId)=>{\n    const res = await api.get(`/social/posts/${postId}/liked`);\n    return res.data;\n};\nconst reactToPostApi = async (postId, type)=>{\n    const res = await api.post(`/social/posts/${postId}/reactions`, {\n        type\n    });\n    return res.data;\n};\nconst removeReactionApi = async (postId)=>{\n    const res = await api.delete(`/social/posts/${postId}/reactions`);\n    return res.data;\n};\n// Story Reactions & Replies\nconst reactToStoryApi = async (storyId, type)=>{\n    const res = await api.post(`/social/stories/${storyId}/reactions`, {\n        type\n    });\n    return res.data;\n};\nconst removeStoryReactionApi = async (storyId)=>{\n    const res = await api.delete(`/social/stories/${storyId}/reactions`);\n    return res.data;\n};\nconst getStoryRepliesApi = async (storyId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/stories/${storyId}/replies`, {\n        params\n    });\n    return res.data;\n};\nconst createStoryReplyApi = async (storyId, content)=>{\n    const res = await api.post(`/social/stories/${storyId}/replies`, {\n        content\n    });\n    return res.data;\n};\n// Music Search\nconst searchMusicApi = async (query)=>{\n    try {\n        const response = await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(query)}&media=music&limit=20`);\n        const data = await response.json();\n        return data.results || [];\n    } catch (error) {\n        console.error(\"Failed to search music:\", error);\n        return [];\n    }\n};\n// Reel APIs\nconst createReelApi = async (payload)=>{\n    const res = await api.post(\"/reels\", payload);\n    return res.data;\n};\nconst getReelsFeedApi = async (cursor, limit = 10)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/reels\", {\n        params\n    });\n    return res.data;\n};\nconst getReelByIdApi = async (reelId)=>{\n    const res = await api.get(`/reels/${reelId}`);\n    return res.data;\n};\nconst getUserReelsApi = async (userId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/reels/users/${userId}`, {\n        params\n    });\n    return res.data;\n};\nconst likeReelApi = async (reelId, type = \"LIKE\")=>{\n    const res = await api.post(`/reels/${reelId}/like`, {\n        type\n    });\n    return res.data;\n};\nconst unlikeReelApi = async (reelId)=>{\n    const res = await api.delete(`/reels/${reelId}/like`);\n    return res.data;\n};\nconst checkReelLikedApi = async (reelId)=>{\n    const res = await api.get(`/reels/${reelId}/liked`);\n    return res.data;\n};\nconst deleteReelApi = async (reelId)=>{\n    const res = await api.delete(`/reels/${reelId}`);\n    return res.data;\n};\nconst syncReelsFromPostsApi = async ()=>{\n    const res = await api.post(\"/reels/sync\");\n    return res.data;\n};\n// ==========================================\n// ADMIN APIs\n// ==========================================\n// Users Management\nconst getAdminUsersApi = async (params)=>{\n    const res = await api.get(\"/admin/users\", {\n        params\n    });\n    return res.data;\n};\nconst getAdminUserStatsApi = async ()=>{\n    const res = await api.get(\"/admin/users/stats\");\n    return res.data;\n};\nconst getAdminUserDetailsApi = async (userId)=>{\n    const res = await api.get(`/admin/users/${userId}`);\n    return res.data;\n};\nconst banUserApi = async (userId, reason)=>{\n    const res = await api.patch(`/admin/users/${userId}/ban`, {\n        reason\n    });\n    return res.data;\n};\nconst unbanUserApi = async (userId)=>{\n    const res = await api.patch(`/admin/users/${userId}/unban`);\n    return res.data;\n};\nconst updateUserRoleApi = async (userId, role)=>{\n    const res = await api.patch(`/admin/users/${userId}/role`, {\n        role\n    });\n    return res.data;\n};\nconst verifyUserApi = async (userId)=>{\n    const res = await api.patch(`/admin/users/${userId}/verify`);\n    return res.data;\n};\nconst unverifyUserApi = async (userId)=>{\n    const res = await api.patch(`/admin/users/${userId}/unverify`);\n    return res.data;\n};\n// Posts Management\nconst getAdminPostsApi = async (params)=>{\n    const res = await api.get(\"/admin/posts\", {\n        params\n    });\n    return res.data;\n};\nconst getAdminPostStatsApi = async ()=>{\n    const res = await api.get(\"/admin/posts/stats\");\n    return res.data;\n};\nconst deletePostApi = async (postId)=>{\n    const res = await api.delete(`/admin/posts/${postId}`);\n    return res.data;\n};\nconst hidePostApi = async (postId)=>{\n    const res = await api.patch(`/admin/posts/${postId}/hide`);\n    return res.data;\n};\nconst restorePostApi = async (postId)=>{\n    const res = await api.patch(`/admin/posts/${postId}/restore`);\n    return res.data;\n};\nconst getAdminReportsApi = async (params)=>{\n    const res = await api.get(\"/admin/reports\", {\n        params\n    });\n    return res.data;\n};\nconst getAdminReportDetailsApi = async (reportId)=>{\n    const res = await api.get(`/admin/reports/${reportId}`);\n    return res.data;\n};\nconst handleReportApi = async (reportId, action, notes)=>{\n    const res = await api.patch(`/admin/reports/${reportId}/handle`, {\n        action,\n        notes\n    });\n    return res.data;\n};\nconst bulkHandleReportsApi = async (reportIds, action)=>{\n    const res = await api.post(\"/admin/reports/bulk-handle\", {\n        reportIds,\n        action\n    });\n    return res.data;\n};\n// Analytics\nconst getAdminDashboardStatsApi = async ()=>{\n    const res = await api.get(\"/admin/dashboard/stats\");\n    return res.data;\n};\nconst getAdminAnalyticsChartApi = async (timeRange, metric)=>{\n    const res = await api.get(\"/admin/analytics/chart\", {\n        params: {\n            timeRange,\n            metric\n        }\n    });\n    return res.data;\n};\nconst getUserActivityStatsApi = async (userId, timeRange)=>{\n    const res = await api.get(`/admin/analytics/users/${userId}`, {\n        params: {\n            timeRange\n        }\n    });\n    return res.data;\n};\nconst getContentStatsApi = async (timeRange)=>{\n    const res = await api.get(\"/admin/analytics/content\", {\n        params: {\n            timeRange\n        }\n    });\n    return res.data;\n};\n// Content Moderation\nconst moderatePostApi = async (postId, action)=>{\n    const res = await api.patch(`/admin/moderation/posts/${postId}`, {\n        action\n    });\n    return res.data;\n};\nconst bulkModeratePostsApi = async (postIds, action)=>{\n    const res = await api.post(\"/admin/moderation/posts/bulk\", {\n        postIds,\n        action\n    });\n    return res.data;\n};\nconst getModerationQueueApi = async ()=>{\n    const res = await api.get(\"/admin/moderation/queue\");\n    return res.data;\n};\nconst getSystemSettingsApi = async ()=>{\n    const res = await api.get(\"/admin/settings\");\n    return res.data;\n};\nconst updateSystemSettingsApi = async (settings)=>{\n    const res = await api.patch(\"/admin/settings\", settings);\n    return res.data;\n};\nconst getSystemLogsApi = async (params)=>{\n    const res = await api.get(\"/admin/logs\", {\n        params\n    });\n    return res.data;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2FwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDMUIsZ0RBQWdEO0FBQ2hELDREQUE0RDtBQUM1RCxNQUFNQyxxQkFBcUI7QUFDM0IsTUFBTUMsUUFBUSxnQkFBa0I7QUFDaEMsTUFBTUMsY0FBY0QsU0FBU0UsUUFBUUMsVUFBVUMsWUFBWSwrREFBK0RDLElBQUksQ0FBQ0gsT0FBT0MsUUFBUSxDQUFDQyxRQUFRO0FBQ3ZKLG1EQUFtRDtBQUNuRCxNQUFNRSxRQUFRTixTQUFTRSxRQUFRQyxVQUFVQyxZQUFZLCtDQUErQ0MsSUFBSSxDQUFDSCxPQUFPQyxRQUFRLENBQUNDLFFBQVE7QUFDakksOEJBQThCO0FBQzlCLE1BQU1HLFVBQVVQLFNBQVNFLFFBQVFDLFVBQVVDLFlBQVlGLE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDSSxRQUFRLENBQUM7QUFDekYsNkVBQTZFO0FBQzdFLE1BQU1DLGVBQWVULFNBQVNFLFFBQVFDLFVBQVVDLFlBQVksQ0FBQ0YsT0FBT0MsUUFBUSxDQUFDQyxRQUFRLENBQUNJLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQ04sT0FBT0MsUUFBUSxDQUFDQyxRQUFRLENBQUNNLEtBQUssQ0FBQyxrREFBa0QsQ0FBQ0gsV0FBVyxDQUFDTCxPQUFPQyxRQUFRLENBQUNDLFFBQVEsQ0FBQ0ksUUFBUSxDQUFDO0FBQ3pPLE1BQU1HLFVBQVVYLFFBQVNTLGVBQWUsU0FBU1YscUJBQXNCQSxtQkFBbUI7QUFDakcsZ0JBQWdCO0FBQ2hCLElBQUlDLFNBQVNFLFFBQVFDLFVBQVVDLFVBQVU7SUFDckNRLFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxR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QUFNZ08sdUJBQXVCO0lBQ2hDLE1BQU0zTixNQUFNLE1BQU1qQyxJQUFJb0MsR0FBRyxDQUFDO0lBQzFCLE9BQU9ILElBQUlMLElBQUk7QUFDbkIsRUFBRTtBQUNLLE1BQU1pTywwQkFBMEIsT0FBT0M7SUFDMUMsTUFBTTdOLE1BQU0sTUFBTWpDLElBQUlnRyxLQUFLLENBQUMsbUJBQW1COEo7SUFDL0MsT0FBTzdOLElBQUlMLElBQUk7QUFDbkIsRUFBRTtBQUNLLE1BQU1tTyxtQkFBbUIsT0FBTy9JO0lBQ25DLE1BQU0vRSxNQUFNLE1BQU1qQyxJQUFJb0MsR0FBRyxDQUFDLGVBQWU7UUFBRTRFO0lBQU87SUFDbEQsT0FBTy9FLElBQUlMLElBQUk7QUFDbkIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9hcGkuanM/YmI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuLy8gVXNlIFZlcmNlbCBwcm94eSBmb3Igd2ViIHRvIGF2b2lkIENPUlMgaXNzdWVzXG4vLyBEaXJlY3QgYmFja2VuZCBVUkwgaGFzIENPUlMgcmVzdHJpY3Rpb25zIG9uIFZlcmNlbCBkb21haW5cbmNvbnN0IERJUkVDVF9CQUNLRU5EX1VSTCA9ICdodHRwczovL2JhY2tlbmQzNi5kZXYnO1xuY29uc3QgaXNXZWIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmNvbnN0IGlzTG9jYWxob3N0ID0gaXNXZWIgJiYgd2luZG93Py5sb2NhdGlvbj8uaG9zdG5hbWUgJiYgL14obG9jYWxob3N0fDEyN1xcLnwxOTJcXC4xNjhcXC58MTBcXC58MTcyXFwuKDFbNi05XXwyXFxkfDNbMC0xXSkpJC8udGVzdCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuLy8gRm9yY2UgdXNlIHByb3h5IGZvciBMQU4gSVBzIHRvIGF2b2lkIENPUlMgaXNzdWVzXG5jb25zdCBpc0xBTiA9IGlzV2ViICYmIHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lICYmIC9eKDE5MlxcLjE2OFxcLnwxMFxcLnwxNzJcXC4oMVs2LTldfDJcXGR8M1swLTFdKSkkLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4vLyBDaGVjayBpZiB1c2luZyBuZ3JvayB0dW5uZWxcbmNvbnN0IGlzTmdyb2sgPSBpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ25ncm9rJyk7XG4vLyBBbHdheXMgdXNlIGRpcmVjdCBiYWNrZW5kIGZvciBkZXZlbG9wbWVudCAocHJveHkgb25seSB3b3JrcyBpbiBwcm9kdWN0aW9uKVxuY29uc3QgaXNQcm9kdWN0aW9uID0gaXNXZWIgJiYgd2luZG93Py5sb2NhdGlvbj8uaG9zdG5hbWUgJiYgIXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5pbmNsdWRlcygnbG9jYWxob3N0JykgJiYgIXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5tYXRjaCgvXigxOTJcXC4xNjhcXC58MTBcXC58MTcyXFwuKDFbNi05XXwyXFxkfDNbMC0xXSkpLykgJiYgIWlzTmdyb2sgJiYgIXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5pbmNsdWRlcygnbmdyb2snKTtcbmV4cG9ydCBjb25zdCBBUElfVVJMID0gaXNXZWIgPyAoaXNQcm9kdWN0aW9uID8gJy9hcGknIDogRElSRUNUX0JBQ0tFTkRfVVJMKSA6IERJUkVDVF9CQUNLRU5EX1VSTDtcbi8vIERlYnVnIGxvZ2dpbmdcbmlmIChpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSkge1xuICAgIGNvbnNvbGUubG9nKCfwn4yQIFdlYiBlbnZpcm9ubWVudCBkZXRlY3RlZCcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTonLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIGlzTG9jYWxob3N0OicsIGlzTG9jYWxob3N0KTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBpc0xBTjonLCBpc0xBTik7XG4gICAgY29uc29sZS5sb2coJ/CflI0gaXNOZ3JvazonLCBpc05ncm9rKTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBpc1Byb2R1Y3Rpb246JywgaXNQcm9kdWN0aW9uKTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBBUElfVVJMOicsIEFQSV9VUkwpO1xufVxuZXhwb3J0IGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogQVBJX1VSTCxcbiAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG59KTtcbi8vIFJlaHlkcmF0ZSBhdXRoIGhlYWRlciBmcm9tIGxvY2FsU3RvcmFnZSBvbiB3ZWIgcmVsb2FkXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF90b2tlblwiKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgYXBpLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgIH1cbn1cbi8vIEFkZCByZXF1ZXN0IGludGVyY2VwdG9yIGZvciBkZWJ1Z2dpbmdcbmFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoKGNvbmZpZykgPT4ge1xuICAgIC8vIEVuc3VyZSB0b2tlbiBpcyBzZXQgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gZWFjaCByZXF1ZXN0XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgICBpZiAodG9rZW4gJiYgIWNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24pIHtcbiAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhdXRoSGVhZGVyID0gdHlwZW9mIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uLnN1YnN0cmluZygwLCAzMCkgKyBcIi4uLlwiXG4gICAgICAgIDogY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvblxuICAgICAgICAgICAgPyBTdHJpbmcoY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbilcbiAgICAgICAgICAgIDogXCJub25lXCI7XG4gICAgY29uc29sZS5sb2coJ/CflI0gQVBJIFJlcXVlc3Q6Jywge1xuICAgICAgICBtZXRob2Q6IGNvbmZpZy5tZXRob2Q/LnRvVXBwZXJDYXNlKCksXG4gICAgICAgIHVybDogY29uZmlnLnVybCxcbiAgICAgICAgYmFzZVVSTDogY29uZmlnLmJhc2VVUkwsXG4gICAgICAgIGhhc0F1dGg6ICEhY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbixcbiAgICAgICAgYXV0aEhlYWRlcixcbiAgICB9KTtcbiAgICByZXR1cm4gY29uZmlnO1xufSwgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFJlcXVlc3QgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG59KTtcbi8vIEFkZCByZXNwb25zZSBpbnRlcmNlcHRvciBmb3IgZGVidWdnaW5nXG5hcGkuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgocmVzcG9uc2UpID0+IHtcbiAgICBjb25zb2xlLmxvZygn4pyFIEFQSSBSZXNwb25zZTonLCB7XG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhLFxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbn0sIChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBSZXNwb25zZSBFcnJvcjonLCB7XG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG4gICAgICAgIGRhdGE6IGVycm9yLnJlc3BvbnNlPy5kYXRhLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIG1ldGhvZDogZXJyb3IuY29uZmlnPy5tZXRob2Q/LnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICB1cmw6IGVycm9yLmNvbmZpZz8udXJsLFxuICAgICAgICAgICAgZGF0YTogZXJyb3IuY29uZmlnPy5kYXRhLFxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbn0pO1xuZXhwb3J0IGNvbnN0IHNldEF1dGhUb2tlbiA9ICh0b2tlbikgPT4ge1xuICAgIGlmICh0b2tlbikge1xuICAgICAgICBhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL2xvZ2luJywgeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRDb252ZXJzYXRpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoJy9jb252ZXJzYXRpb25zJyk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRNZXNzYWdlcyA9IGFzeW5jIChjb252ZXJzYXRpb25JZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkLCB0ZXh0KSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCwgeyB0ZXh0IH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkLCBwYXlsb2FkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCwgcGF5bG9hZCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDb252ZXJzYXRpb24gPSBhc3luYyAodXNlcklkLCB0aXRsZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KCcvY29udmVyc2F0aW9ucycsIHtcbiAgICAgICAgbWVtYmVyczogW3VzZXJJZF0sXG4gICAgICAgIHRpdGxlOiB0aXRsZSB8fCBgQ2hhdCB3aXRoICR7dXNlcklkfWBcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gQ3JlYXRlIGEgZ3JvdXAgY29udmVyc2F0aW9uIHdpdGggbXVsdGlwbGUgbWVtYmVyIElEc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uID0gYXN5bmMgKG1lbWJlcklkcywgdGl0bGUpID0+IHtcbiAgICBjb25zdCB1bmlxdWUgPSBBcnJheS5mcm9tKG5ldyBTZXQobWVtYmVySWRzLmZpbHRlcihCb29sZWFuKSkpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KCcvY29udmVyc2F0aW9ucycsIHtcbiAgICAgICAgbWVtYmVyczogdW5pcXVlLFxuICAgICAgICBpc0dyb3VwOiB0cnVlLFxuICAgICAgICB0aXRsZTogdGl0bGUgfHwgYEdyb3VwICgke3VuaXF1ZS5sZW5ndGh9KWBcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGluaXRpYXRlQ2FsbCA9IGFzeW5jIChjb252ZXJzYXRpb25JZCwgdHlwZSwgdGFyZ2V0VXNlcklkKSA9PiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHsgY29udmVyc2F0aW9uSWQsIHR5cGUgfTtcbiAgICBpZiAodGFyZ2V0VXNlcklkKSB7XG4gICAgICAgIHBheWxvYWQudGFyZ2V0VXNlcklkID0gdGFyZ2V0VXNlcklkO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdCgnL2NhbGxzL2luaXRpYXRlJywgcGF5bG9hZCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRDYWxsID0gYXN5bmMgKGNhbGxJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoYC9jYWxscy8ke2NhbGxJZH1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldEFjdGl2ZUNhbGxGb3JDb252ZXJzYXRpb24gPSBhc3luYyAoY29udmVyc2F0aW9uSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvY2FsbHMvY29udmVyc2F0aW9uLyR7Y29udmVyc2F0aW9uSWR9L2FjdGl2ZWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0TGl2ZUtpdFRva2VuID0gYXN5bmMgKGNhbGxJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY2FsbHMvJHtjYWxsSWR9L2xpdmVraXQtdG9rZW5gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGVuZENhbGwgPSBhc3luYyAoY2FsbElkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9jYWxscy8ke2NhbGxJZH0vZW5kYCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBhY2NlcHRDYWxsID0gYXN5bmMgKGNhbGxJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY2FsbHMvJHtjYWxsSWR9L2FjY2VwdGApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgcmVqZWN0Q2FsbCA9IGFzeW5jIChjYWxsSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL2NhbGxzLyR7Y2FsbElkfS9yZWplY3RgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4vLyBVUExPQUQgSU1BR0UgTE9DQUwgLSBDTElFTlQtU0VSVkVSIChIVFRQIFBPU1Qgb3ZlciBUQ1ApXG4vLyBNdWx0aXBhcnQgRm9ybSBEYXRhXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbi8vIFVwbG9hZCBpbWFnZSB0byBsb2NhbCBzdG9yYWdlIGVuZHBvaW50ICh1cGRhdGVkIHRvIHVzZSBjb3JyZWN0IGVuZHBvaW50KVxuZXhwb3J0IGNvbnN0IHVwbG9hZEltYWdlTG9jYWxPbGQgPSBhc3luYyAoZmlsZSkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgICAgIGNvbnN0IHdlYkZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgd2ViRmlsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBSZWFjdCBOYXRpdmVcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBSTiBGb3JtRGF0YSBmaWxlXG4gICAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgeyB1cmk6IGZpbGUudXJpLCBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9maWxlcy9pbWFnZWAsIGZvcm0sIHtcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbi8vIFVwbG9hZCB0byBTMyBpZiBiYWNrZW5kIHByb3ZpZGVzIHByZXNpZ25lZCBoYW5kbGluZyAob3B0aW9uYWwpXG5leHBvcnQgY29uc3QgdXBsb2FkSW1hZ2VTMyA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgZmV0Y2goZmlsZS51cmkpLnRoZW4oKHIpID0+IHIuYmxvYigpKTtcbiAgICAgICAgY29uc3Qgd2ViRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB3ZWJGaWxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZVxuICAgICAgICAvLyBAdHMtaWdub3JlIFJOIEZvcm1EYXRhIGZpbGVcbiAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB7IHVyaTogZmlsZS51cmksIG5hbWU6IGZpbGUubmFtZSwgdHlwZTogZmlsZS50eXBlIH0pO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL2ZpbGVzL3MzYCwgZm9ybSwge1xuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gVXBsb2FkIHRvIGxvY2FsIHN0b3JhZ2VcbmV4cG9ydCBjb25zdCB1cGxvYWRJbWFnZUxvY2FsID0gYXN5bmMgKGZpbGUpID0+IHtcbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBmZXRjaChmaWxlLnVyaSkudGhlbigocikgPT4gci5ibG9iKCkpO1xuICAgICAgICBjb25zdCB3ZWJGaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCBmaWxlLm5hbWUsIHsgdHlwZTogZmlsZS50eXBlIH0pO1xuICAgICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHdlYkZpbGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gUmVhY3QgTmF0aXZlXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgUk4gRm9ybURhdGEgZmlsZVxuICAgICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHsgdXJpOiBmaWxlLnVyaSwgbmFtZTogZmlsZS5uYW1lLCB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvdXBsb2Fkcy9pbWFnZWAsIGZvcm0sIHtcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbi8vIFVwbG9hZCBtZWRpYSBjaG8gbeG6oW5nIHjDoyBo4buZaSAo4bqjbmgvdmlkZW8pIC0gZMO5bmcgY2h1bmcgduG7m2kgZGVza3RvcFxuZXhwb3J0IGNvbnN0IHVwbG9hZE1lZGlhQXBpID0gYXN5bmMgKGZpbGUpID0+IHtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KCcvdXBsb2Fkcy9zMy9wdWJsaWMnLCBmb3JtRGF0YSwge1xuICAgIC8vIMSQ4buDIGJyb3dzZXIgdOG7sSBzZXQgQ29udGVudC1UeXBlICsgYm91bmRhcnlcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IHJlcy5kYXRhLnVybCxcbiAgICAgICAgdHlwZTogcmVzLmRhdGEubWltZS5zdGFydHNXaXRoKCdpbWFnZS8nKSA/ICdpbWFnZScgOiAndmlkZW8nLFxuICAgIH07XG59O1xuLy8gV2ViIGhlbHBlcjogdXBsb2FkIEZpbGUgb2JqZWN0IGRpcmVjdGx5IChjaGF0IGF0dGFjaG1lbnRzKVxuZXhwb3J0IGNvbnN0IHVwbG9hZENoYXRGaWxlID0gYXN5bmMgKGZpbGUpID0+IHtcbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL3VwbG9hZHMvczMvcHVibGljYCwgZm9ybSwge1xuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGxvZ291dCA9IGFzeW5jICh0b2tlbikgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KCcvYXV0aC9sb2dvdXQnLCB7IHRva2VuIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkLCBuYW1lKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL3JlZ2lzdGVyJywgeyBlbWFpbCwgcGFzc3dvcmQsIG5hbWUgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBzZW5kT1RQID0gYXN5bmMgKGVtYWlsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL3NlbmQtb3RwJywgeyBlbWFpbCB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHZlcmlmeU9UUCA9IGFzeW5jIChlbWFpbCwgb3RwKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL3ZlcmlmeS1vdHAnLCB7IGVtYWlsLCBvdHAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCByZXNlbmRPVFAgPSBhc3luYyAoZW1haWwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdCgnL2F1dGgvcmVzZW5kLW90cCcsIHsgZW1haWwgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBzZW5kVmVyaWZpY2F0aW9uT1RQID0gYXN5bmMgKGVtYWlsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL3NlbmQtdmVyaWZpY2F0aW9uLW90cCcsIHsgZW1haWwgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VybmFtZSA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaCgnL3VzZXJzL3VzZXJuYW1lJywgeyB1c2VybmFtZSB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJBdmF0YXIgPSBhc3luYyAoYXZhdGFyVXJsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKCcvdXNlcnMvYXZhdGFyJywgeyBhdmF0YXI6IGF2YXRhclVybCB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gQWx0ZXJuYXRpdmUgYXZhdGFyIHVwZGF0ZSBlbmRwb2ludHMgdG8gdHJ5XG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaCgnL3VzZXJzL3Byb2ZpbGUnLCBkYXRhKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJJbmZvID0gYXN5bmMgKGF2YXRhclVybCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wdXQoJy91c2Vycy9pbmZvJywgeyBhdmF0YXI6IGF2YXRhclVybCB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gR2V0IGN1cnJlbnQgdXNlciBJRCDigJMgd2ViIHZlcnNpb24gZMO5bmcgbG9jYWxTdG9yYWdlXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXJJZCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdXNlcklkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJyk7XG4gICAgICAgIHJldHVybiB1c2VySWQ7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgSUQgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuLy8gQuG6oW4gYsOoIGNobyB0cmFuZyBjw6EgbmjDom4gLyBmcmllbmRzIHBhZ2VcbmV4cG9ydCBjb25zdCBnZXRGcmllbmRzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvc29jaWFsL2ZyaWVuZHNcIik7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBibG9ja1VzZXJBcGkgPSBhc3luYyAodXNlcklkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC91c2Vycy8ke3VzZXJJZH0vYmxvY2tgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHVuYmxvY2tVc2VyQXBpID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC91c2Vycy8ke3VzZXJJZH0vYmxvY2tgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldEJsb2NrZWRVc2Vyc0FwaSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KFwiL3VzZXJzL2Jsb2NrZWRcIik7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRCbG9ja1N0YXR1c0FwaSA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvdXNlcnMvJHt1c2VySWR9L2Jsb2NrLXN0YXR1c2ApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdW5mcmllbmRVc2VyQXBpID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC9zb2NpYWwvZnJpZW5kcy8ke3VzZXJJZH1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gUGhvdG9zIGZyb20gcG9zdHMgKGF1dGhvciBvciB0YWdnZWQpXG5leHBvcnQgY29uc3QgZ2V0VXNlclBob3Rvc0FwaSA9IGFzeW5jICh1c2VySWQsIHR5cGUgPSBcImF1dGhvcmVkXCIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvc29jaWFsL3VzZXJzLyR7dXNlcklkfS9waG90b3NgLCB7IHBhcmFtczogeyB0eXBlIH0gfSk7XG4gICAgICAgIHJldHVybiByZXMuZGF0YTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIE7hur91IGJhY2tlbmQgY2jGsGEgY8OzIHJvdXRlIC9waG90b3MgKDQwNCksIHRy4bqjIHbhu4EgcuG7l25nIMSR4buDIGZyb250ZW5kIGZhbGxiYWNrIHNhbmcgcG9zdHNcbiAgICAgICAgaWYgKGVycm9yPy5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGl0ZW1zOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZmlsZUFwaSA9IGFzeW5jIChwYXlsb2FkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvdXNlcnMvbWUvcHJvZmlsZWAsIHBheWxvYWQpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBGZWVkIGLDoGkgdmnhur90IGPhu6dhIDEgdXNlciAodHJhbmcgcHJvZmlsZSlcbmV4cG9ydCBjb25zdCBnZXRVc2VyUG9zdHNBcGkgPSBhc3luYyAodXNlcklkLCBjdXJzb3IsIGxpbWl0ID0gMjApID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7IGxpbWl0IH07XG4gICAgaWYgKGN1cnNvcilcbiAgICAgICAgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvc29jaWFsL3VzZXJzLyR7dXNlcklkfS9wb3N0c2AsIHsgcGFyYW1zIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdHJhY2tFdmVudEFwaSA9IGFzeW5jIChldmVudFR5cGUsIG1ldGFkYXRhLCBzZXNzaW9uSWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBhcGkucG9zdChcIi9hbmFseXRpY3MvdHJhY2tcIiwgeyBldmVudFR5cGUsIG1ldGFkYXRhLCBzZXNzaW9uSWQgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0FuYWx5dGljc10gRmFpbGVkIHRvIHRyYWNrIGV2ZW50OlwiLCBlcnJvcik7XG4gICAgfVxufTtcbi8vIFVwZGF0ZSBhdmF0YXIgd2l0aCB1c2VyIElEXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckF2YXRhcldpdGhJZCA9IGFzeW5jICh1c2VySWQsIGF2YXRhclVybCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaChgL3VzZXJzLyR7dXNlcklkfS9hdmF0YXJgLCB7IGF2YXRhcjogYXZhdGFyVXJsIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBVcGRhdGUgcHJvZmlsZSB3aXRoIHVzZXIgSURcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyUHJvZmlsZVdpdGhJZCA9IGFzeW5jICh1c2VySWQsIGRhdGEpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goYC91c2Vycy8ke3VzZXJJZH0vcHJvZmlsZWAsIGRhdGEpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgY2hhbmdlUGFzc3dvcmQgPSBhc3luYyAoY3VycmVudFBhc3N3b3JkLCBuZXdQYXNzd29yZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KCcvYXV0aC9jaGFuZ2UtcGFzc3dvcmQnLCB7XG4gICAgICAgIGN1cnJlbnRQYXNzd29yZCxcbiAgICAgICAgbmV3UGFzc3dvcmQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbi8vIFVwZGF0ZSBjdXJyZW50IHVzZXIgcHJvZmlsZSAodGhlIGNvcnJlY3Qgd2F5IGFjY29yZGluZyB0byBiYWNrZW5kIGRvY3MpXG5leHBvcnQgY29uc3QgdXBkYXRlQ3VycmVudFVzZXJQcm9maWxlID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UjSB1cGRhdGVDdXJyZW50VXNlclByb2ZpbGUgLSByZXF1ZXN0IGRhdGE6JywgZGF0YSk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gdXBkYXRlQ3VycmVudFVzZXJQcm9maWxlIC0gbWV0aG9kOiBQQVRDSCcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIHVwZGF0ZUN1cnJlbnRVc2VyUHJvZmlsZSAtIGF1dGggaGVhZGVyOicsIGFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goJy91c2Vycy9tZScsIGRhdGEpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBHZXQgY3VycmVudCB1c2VyIHByb2ZpbGVcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlclByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldCgnL3VzZXJzL21lJyk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbi8vIEPDoWNoIDE6IFVwbG9hZCBhdmF0YXIgdHLhu7FjIHRp4bq/cCAoxJHGoW4gZ2nhuqNuIG5o4bqldClcbmV4cG9ydCBjb25zdCB1cGxvYWRBdmF0YXJEaXJlY3QgPSBhc3luYyAoZmlsZSkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgICAgIGNvbnN0IHdlYkZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgICAgIGZvcm0uYXBwZW5kKCdhdmF0YXInLCB3ZWJGaWxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZVxuICAgICAgICAvLyBAdHMtaWdub3JlIFJOIEZvcm1EYXRhIGZpbGVcbiAgICAgICAgZm9ybS5hcHBlbmQoJ2F2YXRhcicsIHsgdXJpOiBmaWxlLnVyaSwgbmFtZTogZmlsZS5uYW1lLCB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCfwn5SNIHVwbG9hZEF2YXRhckRpcmVjdCAtIHNlbmRpbmcgZmlsZTonLCBmaWxlLm5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIHVwbG9hZEF2YXRhckRpcmVjdCAtIGF1dGggaGVhZGVyOicsIGFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdCgnL3VzZXJzL2F2YXRhcicsIGZvcm0sIHtcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRVc2Vyc0J5SWRzID0gYXN5bmMgKHVzZXJJZHMpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL3VzZXJzL2J5LWlkc2AsIHsgdXNlcklkcyB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHNlYXJjaFVzZXJzID0gYXN5bmMgKHF1ZXJ5LCBwYWdlID0gMSwgbGltaXQgPSAyMCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIHNlYXJjaFVzZXJzIGNhbGxlZCB3aXRoOicsIHsgcXVlcnksIHBhZ2UsIGxpbWl0IH0pO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIEFQSSBiYXNlIFVSTDonLCBhcGkuZGVmYXVsdHMuYmFzZVVSTCk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gQXV0aCBoZWFkZXI6JywgYXBpLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10pO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoJy91c2Vycy9zZWFyY2gnLCB7XG4gICAgICAgIHBhcmFtczogeyBxOiBxdWVyeSwgcGFnZSwgbGltaXQgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIHNlYXJjaFVzZXJzIHJlc3BvbnNlOicsIHJlcy5kYXRhKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gVOG6oW8gY29udmVyc2F0aW9uIHbhu5tpIHVzZXJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb252ZXJzYXRpb25XaXRoVXNlciA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdCgnL2NvbnZlcnNhdGlvbnMnLCB7XG4gICAgICAgIG1lbWJlcnM6IFt1c2VySWRdXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRPcHBvbmVudEluZm8gPSBhc3luYyAoY29udmVyc2F0aW9uSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9vcHBvbmVudGApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBNZXNzYWdlIEFjdGlvbnMgQVBJXG5leHBvcnQgY29uc3QgZWRpdE1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkLCB0ZXh0KSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH1gLCB7IHRleHQgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2VJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgYWRkUmVhY3Rpb24gPSBhc3luYyAobWVzc2FnZUlkLCBlbW9qaSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcmVhY3Rpb25zYCwgeyBlbW9qaSB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHJlbW92ZVJlYWN0aW9uID0gYXN5bmMgKG1lc3NhZ2VJZCwgZW1vamkpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlKGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcmVhY3Rpb25zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtb2ppKX1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHBpbk1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9waW5gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHVucGluTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlKGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcGluYCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBzdGFyTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9L3N0YXJgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gUmV2b2tlIG1lc3NhZ2UgZm9yIGV2ZXJ5b25lXG5leHBvcnQgY29uc3QgcmV2b2tlTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9yZXZva2VgLCB7fSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBzZWFyY2hNZXNzYWdlcyA9IGFzeW5jIChxdWVyeSwgY29udmVyc2F0aW9uSWQpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7IHF1ZXJ5IH07XG4gICAgaWYgKGNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgIHBhcmFtcy5jb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy9zZWFyY2hgLCB7IHBhcmFtcyB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IG1hcmtBc1JlYWQgPSBhc3luYyAoY29udmVyc2F0aW9uSWQsIG1lc3NhZ2VJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9yZWFkYCwgeyBtZXNzYWdlSWQgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbi8vIEdyb3VwIE1hbmFnZW1lbnQgQVBJXG5leHBvcnQgY29uc3QgYWRkTWVtYmVycyA9IGFzeW5jIChjb252ZXJzYXRpb25JZCwgdXNlcklkcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9tZW1iZXJzYCwgeyB1c2VySWRzIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgcmVtb3ZlTWVtYmVyID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkLCB1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlKGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9tZW1iZXJzLyR7dXNlcklkfWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdXBkYXRlR3JvdXBJbmZvID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkLCBkYXRhKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfWAsIGRhdGEpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlSW52aXRlTGluayA9IGFzeW5jIChjb252ZXJzYXRpb25JZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9pbnZpdGVgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGpvaW5Db252ZXJzYXRpb25CeUludml0ZSA9IGFzeW5jIChpbnZpdGVDb2RlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9jb252ZXJzYXRpb25zL2pvaW4vaW52aXRlYCwgeyBpbnZpdGVDb2RlIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgbWFrZUFkbWluID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkLCB1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vYWRtaW5zLyR7dXNlcklkfWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgcmVtb3ZlQWRtaW4gPSBhc3luYyAoY29udmVyc2F0aW9uSWQsIHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L2FkbWlucy8ke3VzZXJJZH1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgYWxpYXNlcyBmb3IgZGVza3RvcCBjb2RlXG5leHBvcnQgY29uc3QgYWRkR3JvdXBNZW1iZXJzID0gYWRkTWVtYmVycztcbmV4cG9ydCBjb25zdCByZW1vdmVHcm91cE1lbWJlciA9IHJlbW92ZU1lbWJlcjtcbmV4cG9ydCBjb25zdCBtYWtlR3JvdXBBZG1pbiA9IG1ha2VBZG1pbjtcbmV4cG9ydCBjb25zdCByZW1vdmVHcm91cEFkbWluID0gcmVtb3ZlQWRtaW47XG5leHBvcnQgY29uc3QgbGVhdmVHcm91cCA9IGFzeW5jIChjb252ZXJzYXRpb25JZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9sZWF2ZWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0VW5yZWFkQ291bnQgPSBhc3luYyAoY29udmVyc2F0aW9uSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS91bnJlYWRgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gT25saW5lIFN0YXR1cyBBUElcbmV4cG9ydCBjb25zdCB1cGRhdGVPbmxpbmVTdGF0dXMgPSBhc3luYyAoc3RhdHVzKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvdXNlcnMvbWUvc3RhdHVzYCwgeyBzdGF0dXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRPbmxpbmVVc2VycyA9IGFzeW5jICh1c2VySWRzKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC91c2Vycy9vbmxpbmUtc3RhdHVzYCwgeyB1c2VySWRzIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBVcGRhdGUgY3JlYXRlTWVzc2FnZSB0byBzdXBwb3J0IHJlcGx5VG9cbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlV2l0aFJlcGx5ID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkLCB0ZXh0LCByZXBseVRvKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCwgeyB0ZXh0LCByZXBseVRvIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RmVlZCA9IGFzeW5jIChjdXJzb3IpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICBpZiAoY3Vyc29yKVxuICAgICAgICBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvc29jaWFsL3Bvc3RzL2ZlZWRcIiwgeyBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVQb3N0QXBpID0gYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChcIi9zb2NpYWwvcG9zdHNcIiwgcGF5bG9hZCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDb21tZW50QXBpID0gYXN5bmMgKHBvc3RJZCwgcGF5bG9hZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9jb21tZW50c2AsIHBheWxvYWQpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0UG9zdENvbW1lbnRzID0gYXN5bmMgKHBvc3RJZCwgY3Vyc29yKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge307XG4gICAgaWYgKGN1cnNvcilcbiAgICAgICAgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9jb21tZW50c2AsIHsgcGFyYW1zIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0UG9zdHNCeUhhc2h0YWdBcGkgPSBhc3luYyAodGFnLCBjdXJzb3IpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICBpZiAoY3Vyc29yKVxuICAgICAgICBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoYC9zb2NpYWwvaGFzaHRhZ3MvJHtlbmNvZGVVUklDb21wb25lbnQodGFnKX0vcG9zdHNgLCB7IHBhcmFtcyB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gU2luZ2xlIHBvc3QgZGV0YWlsXG5leHBvcnQgY29uc3QgZ2V0UG9zdEJ5SWRBcGkgPSBhc3luYyAocG9zdElkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHNoYXJlUG9zdEFwaSA9IGFzeW5jIChwb3N0SWQsIHBheWxvYWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vc2hhcmVgLCBwYXlsb2FkKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0b3J5QXBpID0gYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChcIi9zb2NpYWwvc3Rvcmllc1wiLCBwYXlsb2FkKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldFN0b3JpZXNBcGkgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChcIi9zb2NpYWwvc3Rvcmllc1wiKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IG1hcmtTdG9yeVZpZXdlZEFwaSA9IGFzeW5jIChzdG9yeUlkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3ZpZXdgLCB7fSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVTdG9yeUFwaSA9IGFzeW5jIChzdG9yeUlkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZShgL3NvY2lhbC9zdG9yaWVzLyR7c3RvcnlJZH1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHNhdmVQb3N0QXBpID0gYXN5bmMgKHBvc3RJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9zYXZlYCwge30pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdW5zYXZlUG9zdEFwaSA9IGFzeW5jIChwb3N0SWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlKGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9zYXZlYCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRTYXZlZFBvc3RzQXBpID0gYXN5bmMgKGN1cnNvcikgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgIGlmIChjdXJzb3IpXG4gICAgICAgIHBhcmFtcy5jdXJzb3IgPSBjdXJzb3I7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChcIi9zb2NpYWwvcG9zdHMvc2F2ZWRcIiwgeyBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCByZXBvcnRQb3N0QXBpID0gYXN5bmMgKHBvc3RJZCwgcGF5bG9hZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9yZXBvcnRgLCBwYXlsb2FkKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldEZyaWVuZFN1Z2dlc3Rpb25zQXBpID0gYXN5bmMgKGxpbWl0ID0gNikgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvc29jaWFsL2ZyaWVuZHMvc3VnZ2VzdGlvbnNcIiwge1xuICAgICAgICBwYXJhbXM6IHsgbGltaXQgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHNlbmRGcmllbmRSZXF1ZXN0QXBpID0gYXN5bmMgKHRhcmdldFVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KFwiL3NvY2lhbC9mcmllbmRzL3JlcXVlc3RzXCIsIHsgdGFyZ2V0VXNlcklkIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgcmVzcG9uZEZyaWVuZFJlcXVlc3RBcGkgPSBhc3luYyAoZnJpZW5kc2hpcElkLCBhY3Rpb24pID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL3NvY2lhbC9mcmllbmRzLyR7ZnJpZW5kc2hpcElkfS9yZXNwb25kYCwgeyBhY3Rpb24gfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRQZW5kaW5nRnJpZW5kUmVxdWVzdHNBcGkgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChcIi9zb2NpYWwvZnJpZW5kcy9yZXF1ZXN0cy9wZW5kaW5nXCIpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0Tm90aWZpY2F0aW9uc0FwaSA9IGFzeW5jIChjdXJzb3IsIGxpbWl0ID0gMjApID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7IGxpbWl0IH07XG4gICAgaWYgKGN1cnNvcilcbiAgICAgICAgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KFwiL3NvY2lhbC9ub3RpZmljYXRpb25zXCIsIHsgcGFyYW1zIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgbWFya05vdGlmaWNhdGlvbnNSZWFkQXBpID0gYXN5bmMgKGlkcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KFwiL3NvY2lhbC9ub3RpZmljYXRpb25zL3JlYWRcIiwgeyBpZHMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlJZCA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvdXNlcnMvJHt1c2VySWR9YCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBzZWFyY2hTb2NpYWxBcGkgPSBhc3luYyAocXVlcnlPclBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHR5cGVvZiBxdWVyeU9yUGFyYW1zID09PSBcInN0cmluZ1wiXG4gICAgICAgID8geyBxOiBxdWVyeU9yUGFyYW1zIH1cbiAgICAgICAgOiB7IHE6IHF1ZXJ5T3JQYXJhbXMucSwgdHlwZTogcXVlcnlPclBhcmFtcy50eXBlIH07XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChcIi9zb2NpYWwvc2VhcmNoXCIsIHsgcGFyYW1zIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgY2hlY2tQb3N0TGlrZWRBcGkgPSBhc3luYyAocG9zdElkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vbGlrZWRgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHJlYWN0VG9Qb3N0QXBpID0gYXN5bmMgKHBvc3RJZCwgdHlwZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9yZWFjdGlvbnNgLCB7IHR5cGUgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCByZW1vdmVSZWFjdGlvbkFwaSA9IGFzeW5jIChwb3N0SWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlKGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9yZWFjdGlvbnNgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gU3RvcnkgUmVhY3Rpb25zICYgUmVwbGllc1xuZXhwb3J0IGNvbnN0IHJlYWN0VG9TdG9yeUFwaSA9IGFzeW5jIChzdG9yeUlkLCB0eXBlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3JlYWN0aW9uc2AsIHsgdHlwZSB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHJlbW92ZVN0b3J5UmVhY3Rpb25BcGkgPSBhc3luYyAoc3RvcnlJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3JlYWN0aW9uc2ApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0U3RvcnlSZXBsaWVzQXBpID0gYXN5bmMgKHN0b3J5SWQsIGN1cnNvciwgbGltaXQgPSAyMCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHsgbGltaXQgfTtcbiAgICBpZiAoY3Vyc29yKVxuICAgICAgICBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9L3JlcGxpZXNgLCB7XG4gICAgICAgIHBhcmFtcyxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0b3J5UmVwbHlBcGkgPSBhc3luYyAoc3RvcnlJZCwgY29udGVudCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvc29jaWFsL3N0b3JpZXMvJHtzdG9yeUlkfS9yZXBsaWVzYCwgeyBjb250ZW50IH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBNdXNpYyBTZWFyY2hcbmV4cG9ydCBjb25zdCBzZWFyY2hNdXNpY0FwaSA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS9zZWFyY2g/dGVybT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9Jm1lZGlhPW11c2ljJmxpbWl0PTIwYCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBkYXRhLnJlc3VsdHMgfHwgW107XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlYXJjaCBtdXNpYzpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbi8vIFJlZWwgQVBJc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlZWxBcGkgPSBhc3luYyAocGF5bG9hZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KFwiL3JlZWxzXCIsIHBheWxvYWQpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0UmVlbHNGZWVkQXBpID0gYXN5bmMgKGN1cnNvciwgbGltaXQgPSAxMCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHsgbGltaXQgfTtcbiAgICBpZiAoY3Vyc29yKVxuICAgICAgICBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvcmVlbHNcIiwgeyBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRSZWVsQnlJZEFwaSA9IGFzeW5jIChyZWVsSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvcmVlbHMvJHtyZWVsSWR9YCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyUmVlbHNBcGkgPSBhc3luYyAodXNlcklkLCBjdXJzb3IsIGxpbWl0ID0gMjApID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7IGxpbWl0IH07XG4gICAgaWYgKGN1cnNvcilcbiAgICAgICAgcGFyYW1zLmN1cnNvciA9IGN1cnNvcjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvcmVlbHMvdXNlcnMvJHt1c2VySWR9YCwgeyBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBsaWtlUmVlbEFwaSA9IGFzeW5jIChyZWVsSWQsIHR5cGUgPSBcIkxJS0VcIikgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KGAvcmVlbHMvJHtyZWVsSWR9L2xpa2VgLCB7IHR5cGUgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCB1bmxpa2VSZWVsQXBpID0gYXN5bmMgKHJlZWxJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC9yZWVscy8ke3JlZWxJZH0vbGlrZWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgY2hlY2tSZWVsTGlrZWRBcGkgPSBhc3luYyAocmVlbElkKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChgL3JlZWxzLyR7cmVlbElkfS9saWtlZGApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZGVsZXRlUmVlbEFwaSA9IGFzeW5jIChyZWVsSWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlKGAvcmVlbHMvJHtyZWVsSWR9YCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBzeW5jUmVlbHNGcm9tUG9zdHNBcGkgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoXCIvcmVlbHMvc3luY1wiKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBRE1JTiBBUElzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFVzZXJzIE1hbmFnZW1lbnRcbmV4cG9ydCBjb25zdCBnZXRBZG1pblVzZXJzQXBpID0gYXN5bmMgKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvYWRtaW4vdXNlcnNcIiwgeyBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRBZG1pblVzZXJTdGF0c0FwaSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KFwiL2FkbWluL3VzZXJzL3N0YXRzXCIpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0QWRtaW5Vc2VyRGV0YWlsc0FwaSA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KGAvYWRtaW4vdXNlcnMvJHt1c2VySWR9YCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBiYW5Vc2VyQXBpID0gYXN5bmMgKHVzZXJJZCwgcmVhc29uKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvYWRtaW4vdXNlcnMvJHt1c2VySWR9L2JhbmAsIHsgcmVhc29uIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdW5iYW5Vc2VyQXBpID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaChgL2FkbWluL3VzZXJzLyR7dXNlcklkfS91bmJhbmApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclJvbGVBcGkgPSBhc3luYyAodXNlcklkLCByb2xlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvYWRtaW4vdXNlcnMvJHt1c2VySWR9L3JvbGVgLCB7IHJvbGUgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCB2ZXJpZnlVc2VyQXBpID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaChgL2FkbWluL3VzZXJzLyR7dXNlcklkfS92ZXJpZnlgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IHVudmVyaWZ5VXNlckFwaSA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goYC9hZG1pbi91c2Vycy8ke3VzZXJJZH0vdW52ZXJpZnlgKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gUG9zdHMgTWFuYWdlbWVudFxuZXhwb3J0IGNvbnN0IGdldEFkbWluUG9zdHNBcGkgPSBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChcIi9hZG1pbi9wb3N0c1wiLCB7IHBhcmFtcyB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldEFkbWluUG9zdFN0YXRzQXBpID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvYWRtaW4vcG9zdHMvc3RhdHNcIik7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVQb3N0QXBpID0gYXN5bmMgKHBvc3RJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGUoYC9hZG1pbi9wb3N0cy8ke3Bvc3RJZH1gKTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGhpZGVQb3N0QXBpID0gYXN5bmMgKHBvc3RJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaChgL2FkbWluL3Bvc3RzLyR7cG9zdElkfS9oaWRlYCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCByZXN0b3JlUG9zdEFwaSA9IGFzeW5jIChwb3N0SWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goYC9hZG1pbi9wb3N0cy8ke3Bvc3RJZH0vcmVzdG9yZWApO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0QWRtaW5SZXBvcnRzQXBpID0gYXN5bmMgKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvYWRtaW4vcmVwb3J0c1wiLCB7IHBhcmFtcyB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldEFkbWluUmVwb3J0RGV0YWlsc0FwaSA9IGFzeW5jIChyZXBvcnRJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoYC9hZG1pbi9yZXBvcnRzLyR7cmVwb3J0SWR9YCk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBoYW5kbGVSZXBvcnRBcGkgPSBhc3luYyAocmVwb3J0SWQsIGFjdGlvbiwgbm90ZXMpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goYC9hZG1pbi9yZXBvcnRzLyR7cmVwb3J0SWR9L2hhbmRsZWAsIHsgYWN0aW9uLCBub3RlcyB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGJ1bGtIYW5kbGVSZXBvcnRzQXBpID0gYXN5bmMgKHJlcG9ydElkcywgYWN0aW9uKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoXCIvYWRtaW4vcmVwb3J0cy9idWxrLWhhbmRsZVwiLCB7XG4gICAgICAgIHJlcG9ydElkcyxcbiAgICAgICAgYWN0aW9uLFxuICAgIH0pO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyBBbmFseXRpY3NcbmV4cG9ydCBjb25zdCBnZXRBZG1pbkRhc2hib2FyZFN0YXRzQXBpID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvYWRtaW4vZGFzaGJvYXJkL3N0YXRzXCIpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0QWRtaW5BbmFseXRpY3NDaGFydEFwaSA9IGFzeW5jICh0aW1lUmFuZ2UsIG1ldHJpYykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoXCIvYWRtaW4vYW5hbHl0aWNzL2NoYXJ0XCIsIHtcbiAgICAgICAgcGFyYW1zOiB7IHRpbWVSYW5nZSwgbWV0cmljIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyQWN0aXZpdHlTdGF0c0FwaSA9IGFzeW5jICh1c2VySWQsIHRpbWVSYW5nZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQoYC9hZG1pbi9hbmFseXRpY3MvdXNlcnMvJHt1c2VySWR9YCwgeyBwYXJhbXM6IHsgdGltZVJhbmdlIH0gfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRDb250ZW50U3RhdHNBcGkgPSBhc3luYyAodGltZVJhbmdlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldChcIi9hZG1pbi9hbmFseXRpY3MvY29udGVudFwiLCB7XG4gICAgICAgIHBhcmFtczogeyB0aW1lUmFuZ2UgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gQ29udGVudCBNb2RlcmF0aW9uXG5leHBvcnQgY29uc3QgbW9kZXJhdGVQb3N0QXBpID0gYXN5bmMgKHBvc3RJZCwgYWN0aW9uKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoKGAvYWRtaW4vbW9kZXJhdGlvbi9wb3N0cy8ke3Bvc3RJZH1gLCB7IGFjdGlvbiB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGJ1bGtNb2RlcmF0ZVBvc3RzQXBpID0gYXN5bmMgKHBvc3RJZHMsIGFjdGlvbikgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KFwiL2FkbWluL21vZGVyYXRpb24vcG9zdHMvYnVsa1wiLCB7IHBvc3RJZHMsIGFjdGlvbiB9KTtcbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuZXhwb3J0IGNvbnN0IGdldE1vZGVyYXRpb25RdWV1ZUFwaSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KFwiL2FkbWluL21vZGVyYXRpb24vcXVldWVcIik7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbmV4cG9ydCBjb25zdCBnZXRTeXN0ZW1TZXR0aW5nc0FwaSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KFwiL2FkbWluL3NldHRpbmdzXCIpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgdXBkYXRlU3lzdGVtU2V0dGluZ3NBcGkgPSBhc3luYyAoc2V0dGluZ3MpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2goXCIvYWRtaW4vc2V0dGluZ3NcIiwgc2V0dGluZ3MpO1xuICAgIHJldHVybiByZXMuZGF0YTtcbn07XG5leHBvcnQgY29uc3QgZ2V0U3lzdGVtTG9nc0FwaSA9IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0KFwiL2FkbWluL2xvZ3NcIiwgeyBwYXJhbXMgfSk7XG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbiJdLCJuYW1lcyI6WyJheGlvcyIsIkRJUkVDVF9CQUNLRU5EX1VSTCIsImlzV2ViIiwiaXNMb2NhbGhvc3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwidGVzdCIsImlzTEFOIiwiaXNOZ3JvayIsImluY2x1ZGVzIiwiaXNQcm9kdWN0aW9uIiwibWF0Y2giLCJBUElfVVJMIiwiY29uc29sZSIsImxvZyIsImFwaSIsImNyZWF0ZSIsImJhc2VVUkwiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwiQXV0aG9yaXphdGlvbiIsImF1dGhIZWFkZXIiLCJzdWJzdHJpbmciLCJTdHJpbmciLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsInVybCIsImhhc0F1dGgiLCJlcnJvciIsIlByb21pc2UiLCJyZWplY3QiLCJyZXNwb25zZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJkYXRhIiwic2V0QXV0aFRva2VuIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwicmVzIiwicG9zdCIsImdldENvbnZlcnNhdGlvbnMiLCJnZXQiLCJnZXRNZXNzYWdlcyIsImNvbnZlcnNhdGlvbklkIiwiY3JlYXRlTWVzc2FnZSIsInRleHQiLCJjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQiLCJwYXlsb2FkIiwiY3JlYXRlQ29udmVyc2F0aW9uIiwidXNlcklkIiwidGl0bGUiLCJtZW1iZXJzIiwiY3JlYXRlR3JvdXBDb252ZXJzYXRpb24iLCJtZW1iZXJJZHMiLCJ1bmlxdWUiLCJBcnJheSIsImZyb20iLCJTZXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaXNHcm91cCIsImxlbmd0aCIsImluaXRpYXRlQ2FsbCIsInR5cGUiLCJ0YXJnZXRVc2VySWQiLCJnZXRDYWxsIiwiY2FsbElkIiwiZ2V0QWN0aXZlQ2FsbEZvckNvbnZlcnNhdGlvbiIsImdldExpdmVLaXRUb2tlbiIsImVuZENhbGwiLCJhY2NlcHRDYWxsIiwicmVqZWN0Q2FsbCIsInVwbG9hZEltYWdlTG9jYWxPbGQiLCJmaWxlIiwiZm9ybSIsIkZvcm1EYXRhIiwiYmxvYiIsImZldGNoIiwidXJpIiwidGhlbiIsInIiLCJ3ZWJGaWxlIiwiRmlsZSIsIm5hbWUiLCJhcHBlbmQiLCJ1cGxvYWRJbWFnZVMzIiwidXBsb2FkSW1hZ2VMb2NhbCIsInVwbG9hZE1lZGlhQXBpIiwiZm9ybURhdGEiLCJtaW1lIiwic3RhcnRzV2l0aCIsInVwbG9hZENoYXRGaWxlIiwibG9nb3V0IiwicmVnaXN0ZXIiLCJzZW5kT1RQIiwidmVyaWZ5T1RQIiwib3RwIiwicmVzZW5kT1RQIiwic2VuZFZlcmlmaWNhdGlvbk9UUCIsInVwZGF0ZVVzZXJuYW1lIiwidXNlcm5hbWUiLCJwYXRjaCIsInVwZGF0ZVVzZXJBdmF0YXIiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsInVwZGF0ZVVzZXJJbmZvIiwicHV0IiwiZ2V0Q3VycmVudFVzZXJJZCIsImdldEZyaWVuZHMiLCJibG9ja1VzZXJBcGkiLCJ1bmJsb2NrVXNlckFwaSIsImRlbGV0ZSIsImdldEJsb2NrZWRVc2Vyc0FwaSIsImdldEJsb2NrU3RhdHVzQXBpIiwidW5mcmllbmRVc2VyQXBpIiwiZ2V0VXNlclBob3Rvc0FwaSIsInBhcmFtcyIsIml0ZW1zIiwidXBkYXRlUHJvZmlsZUFwaSIsImdldFVzZXJQb3N0c0FwaSIsImN1cnNvciIsImxpbWl0IiwidHJhY2tFdmVudEFwaSIsImV2ZW50VHlwZSIsIm1ldGFkYXRhIiwic2Vzc2lvbklkIiwidXBkYXRlVXNlckF2YXRhcldpdGhJZCIsInVwZGF0ZVVzZXJQcm9maWxlV2l0aElkIiwiY2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInVwZGF0ZUN1cnJlbnRVc2VyUHJvZmlsZSIsImdldEN1cnJlbnRVc2VyUHJvZmlsZSIsInVwbG9hZEF2YXRhckRpcmVjdCIsImdldFVzZXJzQnlJZHMiLCJ1c2VySWRzIiwic2VhcmNoVXNlcnMiLCJxdWVyeSIsInBhZ2UiLCJxIiwiY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIiLCJnZXRPcHBvbmVudEluZm8iLCJlZGl0TWVzc2FnZSIsIm1lc3NhZ2VJZCIsImRlbGV0ZU1lc3NhZ2UiLCJhZGRSZWFjdGlvbiIsImVtb2ppIiwicmVtb3ZlUmVhY3Rpb24iLCJlbmNvZGVVUklDb21wb25lbnQiLCJwaW5NZXNzYWdlIiwidW5waW5NZXNzYWdlIiwic3Rhck1lc3NhZ2UiLCJyZXZva2VNZXNzYWdlIiwic2VhcmNoTWVzc2FnZXMiLCJtYXJrQXNSZWFkIiwiYWRkTWVtYmVycyIsInJlbW92ZU1lbWJlciIsInVwZGF0ZUdyb3VwSW5mbyIsImNyZWF0ZUludml0ZUxpbmsiLCJqb2luQ29udmVyc2F0aW9uQnlJbnZpdGUiLCJpbnZpdGVDb2RlIiwibWFrZUFkbWluIiwicmVtb3ZlQWRtaW4iLCJhZGRHcm91cE1lbWJlcnMiLCJyZW1vdmVHcm91cE1lbWJlciIsIm1ha2VHcm91cEFkbWluIiwicmVtb3ZlR3JvdXBBZG1pbiIsImxlYXZlR3JvdXAiLCJnZXRVbnJlYWRDb3VudCIsInVwZGF0ZU9ubGluZVN0YXR1cyIsImdldE9ubGluZVVzZXJzIiwiY3JlYXRlTWVzc2FnZVdpdGhSZXBseSIsInJlcGx5VG8iLCJnZXRGZWVkIiwiY3JlYXRlUG9zdEFwaSIsImNyZWF0ZUNvbW1lbnRBcGkiLCJwb3N0SWQiLCJnZXRQb3N0Q29tbWVudHMiLCJnZXRQb3N0c0J5SGFzaHRhZ0FwaSIsInRhZyIsImdldFBvc3RCeUlkQXBpIiwic2hhcmVQb3N0QXBpIiwiY3JlYXRlU3RvcnlBcGkiLCJnZXRTdG9yaWVzQXBpIiwibWFya1N0b3J5Vmlld2VkQXBpIiwic3RvcnlJZCIsImRlbGV0ZVN0b3J5QXBpIiwic2F2ZVBvc3RBcGkiLCJ1bnNhdmVQb3N0QXBpIiwiZ2V0U2F2ZWRQb3N0c0FwaSIsInJlcG9ydFBvc3RBcGkiLCJnZXRGcmllbmRTdWdnZXN0aW9uc0FwaSIsInNlbmRGcmllbmRSZXF1ZXN0QXBpIiwicmVzcG9uZEZyaWVuZFJlcXVlc3RBcGkiLCJmcmllbmRzaGlwSWQiLCJhY3Rpb24iLCJnZXRQZW5kaW5nRnJpZW5kUmVxdWVzdHNBcGkiLCJnZXROb3RpZmljYXRpb25zQXBpIiwibWFya05vdGlmaWNhdGlvbnNSZWFkQXBpIiwiaWRzIiwiZ2V0VXNlckJ5SWQiLCJzZWFyY2hTb2NpYWxBcGkiLCJxdWVyeU9yUGFyYW1zIiwiY2hlY2tQb3N0TGlrZWRBcGkiLCJyZWFjdFRvUG9zdEFwaSIsInJlbW92ZVJlYWN0aW9uQXBpIiwicmVhY3RUb1N0b3J5QXBpIiwicmVtb3ZlU3RvcnlSZWFjdGlvbkFwaSIsImdldFN0b3J5UmVwbGllc0FwaSIsImNyZWF0ZVN0b3J5UmVwbHlBcGkiLCJjb250ZW50Iiwic2VhcmNoTXVzaWNBcGkiLCJqc29uIiwicmVzdWx0cyIsImNyZWF0ZVJlZWxBcGkiLCJnZXRSZWVsc0ZlZWRBcGkiLCJnZXRSZWVsQnlJZEFwaSIsInJlZWxJZCIsImdldFVzZXJSZWVsc0FwaSIsImxpa2VSZWVsQXBpIiwidW5saWtlUmVlbEFwaSIsImNoZWNrUmVlbExpa2VkQXBpIiwiZGVsZXRlUmVlbEFwaSIsInN5bmNSZWVsc0Zyb21Qb3N0c0FwaSIsImdldEFkbWluVXNlcnNBcGkiLCJnZXRBZG1pblVzZXJTdGF0c0FwaSIsImdldEFkbWluVXNlckRldGFpbHNBcGkiLCJiYW5Vc2VyQXBpIiwicmVhc29uIiwidW5iYW5Vc2VyQXBpIiwidXBkYXRlVXNlclJvbGVBcGkiLCJyb2xlIiwidmVyaWZ5VXNlckFwaSIsInVudmVyaWZ5VXNlckFwaSIsImdldEFkbWluUG9zdHNBcGkiLCJnZXRBZG1pblBvc3RTdGF0c0FwaSIsImRlbGV0ZVBvc3RBcGkiLCJoaWRlUG9zdEFwaSIsInJlc3RvcmVQb3N0QXBpIiwiZ2V0QWRtaW5SZXBvcnRzQXBpIiwiZ2V0QWRtaW5SZXBvcnREZXRhaWxzQXBpIiwicmVwb3J0SWQiLCJoYW5kbGVSZXBvcnRBcGkiLCJub3RlcyIsImJ1bGtIYW5kbGVSZXBvcnRzQXBpIiwicmVwb3J0SWRzIiwiZ2V0QWRtaW5EYXNoYm9hcmRTdGF0c0FwaSIsImdldEFkbWluQW5hbHl0aWNzQ2hhcnRBcGkiLCJ0aW1lUmFuZ2UiLCJtZXRyaWMiLCJnZXRVc2VyQWN0aXZpdHlTdGF0c0FwaSIsImdldENvbnRlbnRTdGF0c0FwaSIsIm1vZGVyYXRlUG9zdEFwaSIsImJ1bGtNb2RlcmF0ZVBvc3RzQXBpIiwicG9zdElkcyIsImdldE1vZGVyYXRpb25RdWV1ZUFwaSIsImdldFN5c3RlbVNldHRpbmdzQXBpIiwidXBkYXRlU3lzdGVtU2V0dGluZ3NBcGkiLCJzZXR0aW5ncyIsImdldFN5c3RlbUxvZ3NBcGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/api.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/GlobalIncomingCall.web.js":
/*!***************************************************************!*\
  !*** ../../packages/app/components/GlobalIncomingCall.web.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalIncomingCall: () => (/* binding */ GlobalIncomingCall)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _styles_floating_chat_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/floating-chat.css */ \"(ssr)/../../packages/app/styles/floating-chat.css\");\n/* __next_internal_client_entry_do_not_use__ GlobalIncomingCall auto */ \n\n\n\n\nfunction GlobalIncomingCall() {\n    const [incomingCall, setIncomingCall] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callerName, setCallerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Ai \\xf3\");\n    const [callerAvatar, setCallerAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isGroupCall, setIsGroupCall] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [groupName, setGroupName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Listen for socket events globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_2__.getSocket)();\n        if (!socket) {\n            console.warn(\"[GlobalIncomingCall] Socket not available\");\n            return;\n        }\n        const handleIncomingCall = (data)=>{\n            console.log(\"[GlobalIncomingCall] Received call:incoming\", data);\n            const currentUserId =  false ? 0 : null;\n            // B qua cuc gi do chnh mnh to\n            if (currentUserId && data.initiatorId === currentUserId) {\n                console.log(\"[GlobalIncomingCall] Skip own outgoing call\");\n                return;\n            }\n            // Nu ang x l cuc gi khc th b qua\n            if (incomingCall || isProcessing) {\n                console.log(\"[GlobalIncomingCall] Already handling a call, ignoring new one\");\n                return;\n            }\n            setIncomingCall(data);\n        };\n        console.log(\"[GlobalIncomingCall] Subscribing to call:incoming\");\n        socket.on(\"call:incoming\", handleIncomingCall);\n        return ()=>{\n            console.log(\"[GlobalIncomingCall] Cleanup call:incoming listener\");\n            socket.off(\"call:incoming\", handleIncomingCall);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        incomingCall,\n        isProcessing\n    ]);\n    // Load caller/group info and call details\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!incomingCall) return;\n        let cancelled = false;\n        const loadInfo = async ()=>{\n            try {\n                // Fetch call info to get callType and livekitRoomName if not provided\n                if (!incomingCall.callType || !incomingCall.livekitRoomName) {\n                    try {\n                        const callInfo = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getCall)(incomingCall.callId);\n                        if (!cancelled && callInfo) {\n                            // Update incomingCall with call info\n                            setIncomingCall((prev)=>prev ? {\n                                    ...prev,\n                                    callType: callInfo.callType || prev.callType,\n                                    livekitRoomName: callInfo.metadata?.livekitRoomName || prev.livekitRoomName\n                                } : prev);\n                            console.log(\"[GlobalIncomingCall] Call info loaded:\", {\n                                callType: callInfo.callType,\n                                livekitRoomName: callInfo.metadata?.livekitRoomName\n                            });\n                        }\n                    } catch (err) {\n                        console.warn(\"[GlobalIncomingCall] Could not fetch call info:\", err);\n                    }\n                }\n                // Check if this is a group call by getting conversation info\n                const conversations = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getConversations)();\n                const conversation = conversations.find((c)=>c._id === incomingCall.conversationId);\n                if (cancelled) return;\n                if (conversation?.isGroup) {\n                    // Group call\n                    setIsGroupCall(true);\n                    setGroupName(conversation.title || `Nhm (${conversation.members?.length || 0} thnh vin)`);\n                    setCallerAvatar(conversation.avatar || null);\n                    // Also try to get the initiator's name\n                    try {\n                        const info = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(incomingCall.conversationId);\n                        if (!cancelled && info?.user?.name) {\n                            setCallerName(info.user.name);\n                        }\n                    } catch  {\n                    // Ignore error, use group name\n                    }\n                } else {\n                    // 1-1 call\n                    setIsGroupCall(false);\n                    setGroupName(null);\n                    const info = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(incomingCall.conversationId);\n                    if (cancelled) return;\n                    setCallerName(info?.user?.name || info?.user?.email || \"Ai \\xf3\");\n                    setCallerAvatar(info?.user?.avatar || null);\n                }\n            } catch (err) {\n                console.error(\"[GlobalIncomingCall] Failed to load caller info\", err);\n                if (!cancelled) {\n                    setCallerName(\"Ai \\xf3\");\n                    setCallerAvatar(null);\n                    setIsGroupCall(false);\n                }\n            }\n        };\n        loadInfo();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        incomingCall?.callId,\n        incomingCall?.conversationId\n    ]);\n    const clearState = ()=>{\n        setIncomingCall(null);\n        setIsProcessing(false);\n        setIsGroupCall(false);\n        setGroupName(null);\n        setCallerName(\"Ai \\xf3\");\n        setCallerAvatar(null);\n    };\n    const handleAccept = async ()=>{\n        if (!incomingCall || isProcessing) return;\n        setIsProcessing(true);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.acceptCall)(incomingCall.callId);\n        } catch (err) {\n            console.error(\"[GlobalIncomingCall] Error accepting call (will still navigate)\", err);\n        }\n        // iu hng sang mn hnh call\n        if (false) {}\n        clearState();\n    };\n    const handleReject = async ()=>{\n        if (!incomingCall || isProcessing) return;\n        setIsProcessing(true);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.rejectCall)(incomingCall.callId);\n        } catch (err) {\n            console.error(\"[GlobalIncomingCall] Error rejecting call\", err);\n        }\n        clearState();\n    };\n    // Auto dismiss after 30s\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!incomingCall) return;\n        const timer = setTimeout(()=>{\n            console.log(\"[GlobalIncomingCall] Auto dismiss incoming call toast\");\n            clearState();\n        }, 30000);\n        return ()=>clearTimeout(timer);\n    }, [\n        incomingCall\n    ]);\n    if (!incomingCall) return null;\n    const displayName = isGroupCall ? groupName || \"Nh\\xf3m\" : callerName;\n    const displaySubtitle = isGroupCall ? `${callerName} ang gi ${incomingCall.type === \"video\" ? \"video\" : \"thoi\"} nhm` : incomingCall.type === \"video\" ? \"Gi video\" : \"Gi thoi\";\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"global-incoming-call-overlay\",\n        onClick: (e)=>{\n            // chn click xuyn qua\n            e.stopPropagation();\n        },\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: `global-incoming-call-card ${isGroupCall ? \"global-incoming-call-card--group\" : \"\"}`,\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"global-incoming-call-header\",\n                    children: isGroupCall ? \"Cuc gi nh\\xf3m\" : \"Cuc gi n\"\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"global-incoming-call-body\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: `global-incoming-call-avatar ${isGroupCall ? \"global-incoming-call-avatar--group\" : \"\"}`,\n                            children: callerAvatar ? // eslint-disable-next-line @next/next/no-img-element\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                src: callerAvatar,\n                                alt: displayName\n                            }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"global-incoming-call-avatar-fallback\",\n                                children: isGroupCall ? \"\\uD83D\\uDC65\" : displayName.charAt(0).toUpperCase()\n                            })\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"global-incoming-call-info\",\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"global-incoming-call-name\",\n                                    children: displayName\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"global-incoming-call-type\",\n                                    children: displaySubtitle\n                                })\n                            ]\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"global-incoming-call-actions\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"global-incoming-call-btn global-incoming-call-btn--reject\",\n                            onClick: handleReject,\n                            disabled: isProcessing,\n                            children: \"T chi\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"global-incoming-call-btn global-incoming-call-btn--accept\",\n                            onClick: handleAccept,\n                            disabled: isProcessing,\n                            children: \"Tham gia\"\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvR2xvYmFsSW5jb21pbmdDYWxsLndlYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozt3RUFDK0Q7QUFDbkI7QUFDTjtBQUNzRDtBQUN2RDtBQUM5QixTQUFTWTtJQUNaLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdULCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ1UsWUFBWUMsY0FBYyxHQUFHWCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNZLGNBQWNDLGdCQUFnQixHQUFHYiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNjLGNBQWNDLGdCQUFnQixHQUFHZiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNnQixhQUFhQyxlQUFlLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQixXQUFXQyxhQUFhLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUMzQyxvQ0FBb0M7SUFDcENELGdEQUFTQSxDQUFDO1FBQ04sTUFBTXFCLFNBQVNuQixrREFBU0E7UUFDeEIsSUFBSSxDQUFDbUIsUUFBUTtZQUNUQyxRQUFRQyxJQUFJLENBQUM7WUFDYjtRQUNKO1FBQ0EsTUFBTUMscUJBQXFCLENBQUNDO1lBQ3hCSCxRQUFRSSxHQUFHLENBQUMsK0NBQStDRDtZQUMzRCxNQUFNRSxnQkFBZ0IsTUFBNkIsR0FBR0MsQ0FBc0MsR0FBRztZQUMvRixvQ0FBb0M7WUFDcEMsSUFBSUQsaUJBQWlCRixLQUFLTSxXQUFXLEtBQUtKLGVBQWU7Z0JBQ3JETCxRQUFRSSxHQUFHLENBQUM7Z0JBQ1o7WUFDSjtZQUNBLDBDQUEwQztZQUMxQyxJQUFJakIsZ0JBQWdCTSxjQUFjO2dCQUM5Qk8sUUFBUUksR0FBRyxDQUFDO2dCQUNaO1lBQ0o7WUFDQWhCLGdCQUFnQmU7UUFDcEI7UUFDQUgsUUFBUUksR0FBRyxDQUFDO1FBQ1pMLE9BQU9XLEVBQUUsQ0FBQyxpQkFBaUJSO1FBQzNCLE9BQU87WUFDSEYsUUFB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L2NvbXBvbmVudHMvR2xvYmFsSW5jb21pbmdDYWxsLndlYi5qcz8xMTI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gXCIuLi9zb2NrZXRcIjtcbmltcG9ydCB7IGFjY2VwdENhbGwsIHJlamVjdENhbGwsIGdldE9wcG9uZW50SW5mbywgZ2V0Q29udmVyc2F0aW9ucywgZ2V0Q2FsbCB9IGZyb20gXCIuLi9hcGlcIjtcbmltcG9ydCBcIi4uL3N0eWxlcy9mbG9hdGluZy1jaGF0LmNzc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIEdsb2JhbEluY29taW5nQ2FsbCgpIHtcbiAgICBjb25zdCBbaW5jb21pbmdDYWxsLCBzZXRJbmNvbWluZ0NhbGxdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NhbGxlck5hbWUsIHNldENhbGxlck5hbWVdID0gdXNlU3RhdGUoXCJBaSDEkcOzXCIpO1xuICAgIGNvbnN0IFtjYWxsZXJBdmF0YXIsIHNldENhbGxlckF2YXRhcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0dyb3VwQ2FsbCwgc2V0SXNHcm91cENhbGxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtncm91cE5hbWUsIHNldEdyb3VwTmFtZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBMaXN0ZW4gZm9yIHNvY2tldCBldmVudHMgZ2xvYmFsbHlcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcbiAgICAgICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltHbG9iYWxJbmNvbWluZ0NhbGxdIFNvY2tldCBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZUluY29taW5nQ2FsbCA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltHbG9iYWxJbmNvbWluZ0NhbGxdIFJlY2VpdmVkIGNhbGw6aW5jb21pbmdcIiwgZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJfaWRcIikgOiBudWxsO1xuICAgICAgICAgICAgLy8gQuG7jyBxdWEgY3Xhu5ljIGfhu41pIGRvIGNow61uaCBtw6xuaCB04bqhb1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VySWQgJiYgZGF0YS5pbml0aWF0b3JJZCA9PT0gY3VycmVudFVzZXJJZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gU2tpcCBvd24gb3V0Z29pbmcgY2FsbFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBO4bq/dSDEkWFuZyB44butIGzDvSBjdeG7mWMgZ+G7jWkga2jDoWMgdGjDrCBi4buPIHF1YVxuICAgICAgICAgICAgaWYgKGluY29taW5nQ2FsbCB8fCBpc1Byb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltHbG9iYWxJbmNvbWluZ0NhbGxdIEFscmVhZHkgaGFuZGxpbmcgYSBjYWxsLCBpZ25vcmluZyBuZXcgb25lXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEluY29taW5nQ2FsbChkYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBTdWJzY3JpYmluZyB0byBjYWxsOmluY29taW5nXCIpO1xuICAgICAgICBzb2NrZXQub24oXCJjYWxsOmluY29taW5nXCIsIGhhbmRsZUluY29taW5nQ2FsbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltHbG9iYWxJbmNvbWluZ0NhbGxdIENsZWFudXAgY2FsbDppbmNvbWluZyBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgIHNvY2tldC5vZmYoXCJjYWxsOmluY29taW5nXCIsIGhhbmRsZUluY29taW5nQ2FsbCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbaW5jb21pbmdDYWxsLCBpc1Byb2Nlc3NpbmddKTtcbiAgICAvLyBMb2FkIGNhbGxlci9ncm91cCBpbmZvIGFuZCBjYWxsIGRldGFpbHNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWluY29taW5nQ2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBsb2FkSW5mbyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gRmV0Y2ggY2FsbCBpbmZvIHRvIGdldCBjYWxsVHlwZSBhbmQgbGl2ZWtpdFJvb21OYW1lIGlmIG5vdCBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmICghaW5jb21pbmdDYWxsLmNhbGxUeXBlIHx8ICFpbmNvbWluZ0NhbGwubGl2ZWtpdFJvb21OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsSW5mbyA9IGF3YWl0IGdldENhbGwoaW5jb21pbmdDYWxsLmNhbGxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbmNlbGxlZCAmJiBjYWxsSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBpbmNvbWluZ0NhbGwgd2l0aCBjYWxsIGluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbmNvbWluZ0NhbGwocHJldiA9PiBwcmV2ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsVHlwZTogY2FsbEluZm8uY2FsbFR5cGUgfHwgcHJldi5jYWxsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl2ZWtpdFJvb21OYW1lOiBjYWxsSW5mby5tZXRhZGF0YT8ubGl2ZWtpdFJvb21OYW1lIHx8IHByZXYubGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBwcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltHbG9iYWxJbmNvbWluZ0NhbGxdIENhbGwgaW5mbyBsb2FkZWQ6XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFR5cGU6IGNhbGxJbmZvLmNhbGxUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXZla2l0Um9vbU5hbWU6IGNhbGxJbmZvLm1ldGFkYXRhPy5saXZla2l0Um9vbU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBDb3VsZCBub3QgZmV0Y2ggY2FsbCBpbmZvOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBncm91cCBjYWxsIGJ5IGdldHRpbmcgY29udmVyc2F0aW9uIGluZm9cbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IGNvbnZlcnNhdGlvbnMuZmluZCgoYykgPT4gYy5faWQgPT09IGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChjb252ZXJzYXRpb24/LmlzR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JvdXAgY2FsbFxuICAgICAgICAgICAgICAgICAgICBzZXRJc0dyb3VwQ2FsbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0R3JvdXBOYW1lKGNvbnZlcnNhdGlvbi50aXRsZSB8fCBgTmjDs20gKCR7Y29udmVyc2F0aW9uLm1lbWJlcnM/Lmxlbmd0aCB8fCAwfSB0aMOgbmggdmnDqm4pYCk7XG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxlckF2YXRhcihjb252ZXJzYXRpb24uYXZhdGFyIHx8IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIHRyeSB0byBnZXQgdGhlIGluaXRpYXRvcidzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCBnZXRPcHBvbmVudEluZm8oaW5jb21pbmdDYWxsLmNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FuY2VsbGVkICYmIGluZm8/LnVzZXI/Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDYWxsZXJOYW1lKGluZm8udXNlci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IsIHVzZSBncm91cCBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDEtMSBjYWxsXG4gICAgICAgICAgICAgICAgICAgIHNldElzR3JvdXBDYWxsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0R3JvdXBOYW1lKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgZ2V0T3Bwb25lbnRJbmZvKGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxlck5hbWUoaW5mbz8udXNlcj8ubmFtZSB8fCBpbmZvPy51c2VyPy5lbWFpbCB8fCBcIkFpIMSRw7NcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxlckF2YXRhcihpbmZvPy51c2VyPy5hdmF0YXIgfHwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBGYWlsZWQgdG8gbG9hZCBjYWxsZXIgaW5mb1wiLCBlcnIpO1xuICAgICAgICAgICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxlck5hbWUoXCJBaSDEkcOzXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDYWxsZXJBdmF0YXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzR3JvdXBDYWxsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRJbmZvKCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgIH0sIFtpbmNvbWluZ0NhbGw/LmNhbGxJZCwgaW5jb21pbmdDYWxsPy5jb252ZXJzYXRpb25JZF0pO1xuICAgIGNvbnN0IGNsZWFyU3RhdGUgPSAoKSA9PiB7XG4gICAgICAgIHNldEluY29taW5nQ2FsbChudWxsKTtcbiAgICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0SXNHcm91cENhbGwoZmFsc2UpO1xuICAgICAgICBzZXRHcm91cE5hbWUobnVsbCk7XG4gICAgICAgIHNldENhbGxlck5hbWUoXCJBaSDEkcOzXCIpO1xuICAgICAgICBzZXRDYWxsZXJBdmF0YXIobnVsbCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVBY2NlcHQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghaW5jb21pbmdDYWxsIHx8IGlzUHJvY2Vzc2luZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgYWNjZXB0Q2FsbChpbmNvbWluZ0NhbGwuY2FsbElkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gRXJyb3IgYWNjZXB0aW5nIGNhbGwgKHdpbGwgc3RpbGwgbmF2aWdhdGUpXCIsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gxJBp4buBdSBoxrDhu5tuZyBzYW5nIG3DoG4gaMOsbmggY2FsbFxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgLy8gRGV0ZWN0IEVsZWN0cm9uOiBjaGVjayBlbGVjdHJvbkFQSSBob+G6t2MgaGFzaCB0cm9uZyBVUkwgaG/hurdjIHVzZXJBZ2VudFxuICAgICAgICAgICAgY29uc3QgaXNFbGVjdHJvbiA9ICEhKHdpbmRvdy5lbGVjdHJvbkFQSSB8fFxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoLmluY2x1ZGVzKFwiIy9cIikgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi8jL1wiKSB8fFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVsZWN0cm9uXCIpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gaXNFbGVjdHJvbjpcIiwgaXNFbGVjdHJvbiwgXCJoYXNoOlwiLCB3aW5kb3cubG9jYXRpb24uaGFzaCk7XG4gICAgICAgICAgICBpZiAoaXNFbGVjdHJvbikge1xuICAgICAgICAgICAgICAgIC8vIEVsZWN0cm9uIGTDuW5nIEhhc2hSb3V0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBgIy9jYWxsLyR7aW5jb21pbmdDYWxsLmNhbGxJZH1gO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gTmF2aWdhdGluZyB2aWEgaGFzaCB0byBjYWxsIHNjcmVlbjpcIiwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlYiBkw7luZyBCcm93c2VyUm91dGVyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxJZDogaW5jb21pbmdDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRGcm9tTW9kYWw6ICd0cnVlJyxcbiAgICAgICAgICAgICAgICAgICAgaXNJbmNvbWluZzogJ3RydWUnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBjYWxsIHR5cGUgcGFyYW1zIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIGlmIChpbmNvbWluZ0NhbGwuY2FsbFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnNldCgnY2FsbFR5cGUnLCBpbmNvbWluZ0NhbGwuY2FsbFR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0dyb3VwQ2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHcm91cCBjYWxscyB1c2UgU0ZVXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5zZXQoJ2NhbGxUeXBlJywgJ3NmdScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jb21pbmdDYWxsLmxpdmVraXRSb29tTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuc2V0KCdsaXZla2l0Um9vbU5hbWUnLCBpbmNvbWluZ0NhbGwubGl2ZWtpdFJvb21OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBOYXZpZ2F0aW5nIHRvIGNhbGwgc2NyZWVuIHdpdGggcGFyYW1zOlwiLCBPYmplY3QuZnJvbUVudHJpZXMocGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2NhbGw/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVJlamVjdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFpbmNvbWluZ0NhbGwgfHwgaXNQcm9jZXNzaW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCByZWplY3RDYWxsKGluY29taW5nQ2FsbC5jYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBFcnJvciByZWplY3RpbmcgY2FsbFwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyU3RhdGUoKTtcbiAgICB9O1xuICAgIC8vIEF1dG8gZGlzbWlzcyBhZnRlciAzMHNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWluY29taW5nQ2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gQXV0byBkaXNtaXNzIGluY29taW5nIGNhbGwgdG9hc3RcIik7XG4gICAgICAgICAgICBjbGVhclN0YXRlKCk7XG4gICAgICAgIH0sIDMwMDAwKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfSwgW2luY29taW5nQ2FsbF0pO1xuICAgIGlmICghaW5jb21pbmdDYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGlzR3JvdXBDYWxsID8gKGdyb3VwTmFtZSB8fCBcIk5ow7NtXCIpIDogY2FsbGVyTmFtZTtcbiAgICBjb25zdCBkaXNwbGF5U3VidGl0bGUgPSBpc0dyb3VwQ2FsbFxuICAgICAgICA/IGAke2NhbGxlck5hbWV9IMSRYW5nIGfhu41pICR7aW5jb21pbmdDYWxsLnR5cGUgPT09IFwidmlkZW9cIiA/IFwidmlkZW9cIiA6IFwidGhv4bqhaVwifSBuaMOzbWBcbiAgICAgICAgOiAoaW5jb21pbmdDYWxsLnR5cGUgPT09IFwidmlkZW9cIiA/IFwiR+G7jWkgdmlkZW9cIiA6IFwiR+G7jWkgdGhv4bqhaVwiKTtcbiAgICByZXR1cm4gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ2xvYmFsLWluY29taW5nLWNhbGwtb3ZlcmxheVwiLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgLy8gY2jhurduIGNsaWNrIHh1ecOqbiBxdWFcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0sIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogYGdsb2JhbC1pbmNvbWluZy1jYWxsLWNhcmQgJHtpc0dyb3VwQ2FsbCA/IFwiZ2xvYmFsLWluY29taW5nLWNhbGwtY2FyZC0tZ3JvdXBcIiA6IFwiXCJ9YCwgb25DbGljazogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnbG9iYWwtaW5jb21pbmctY2FsbC1oZWFkZXJcIiwgY2hpbGRyZW46IGlzR3JvdXBDYWxsID8gXCJDdeG7mWMgZ+G7jWkgbmjDs21cIiA6IFwiQ3Xhu5ljIGfhu41pIMSR4bq/blwiIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnbG9iYWwtaW5jb21pbmctY2FsbC1ib2R5XCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogYGdsb2JhbC1pbmNvbWluZy1jYWxsLWF2YXRhciAke2lzR3JvdXBDYWxsID8gXCJnbG9iYWwtaW5jb21pbmctY2FsbC1hdmF0YXItLWdyb3VwXCIgOiBcIlwifWAsIGNoaWxkcmVuOiBjYWxsZXJBdmF0YXIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanN4KFwiaW1nXCIsIHsgc3JjOiBjYWxsZXJBdmF0YXIsIGFsdDogZGlzcGxheU5hbWUgfSkpIDogKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ2xvYmFsLWluY29taW5nLWNhbGwtYXZhdGFyLWZhbGxiYWNrXCIsIGNoaWxkcmVuOiBpc0dyb3VwQ2FsbCA/IFwi8J+RpVwiIDogZGlzcGxheU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfSkpIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnbG9iYWwtaW5jb21pbmctY2FsbC1pbmZvXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnbG9iYWwtaW5jb21pbmctY2FsbC1uYW1lXCIsIGNoaWxkcmVuOiBkaXNwbGF5TmFtZSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnbG9iYWwtaW5jb21pbmctY2FsbC10eXBlXCIsIGNoaWxkcmVuOiBkaXNwbGF5U3VidGl0bGUgfSldIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ2xvYmFsLWluY29taW5nLWNhbGwtYWN0aW9uc1wiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiZ2xvYmFsLWluY29taW5nLWNhbGwtYnRuIGdsb2JhbC1pbmNvbWluZy1jYWxsLWJ0bi0tcmVqZWN0XCIsIG9uQ2xpY2s6IGhhbmRsZVJlamVjdCwgZGlzYWJsZWQ6IGlzUHJvY2Vzc2luZywgY2hpbGRyZW46IFwiVFxcdTFFRUIgY2hcXHUxRUQxaVwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImdsb2JhbC1pbmNvbWluZy1jYWxsLWJ0biBnbG9iYWwtaW5jb21pbmctY2FsbC1idG4tLWFjY2VwdFwiLCBvbkNsaWNrOiBoYW5kbGVBY2NlcHQsIGRpc2FibGVkOiBpc1Byb2Nlc3NpbmcsIGNoaWxkcmVuOiBcIlRoYW0gZ2lhXCIgfSldIH0pXSB9KSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZ2V0U29ja2V0IiwiYWNjZXB0Q2FsbCIsInJlamVjdENhbGwiLCJnZXRPcHBvbmVudEluZm8iLCJnZXRDb252ZXJzYXRpb25zIiwiZ2V0Q2FsbCIsIkdsb2JhbEluY29taW5nQ2FsbCIsImluY29taW5nQ2FsbCIsInNldEluY29taW5nQ2FsbCIsImNhbGxlck5hbWUiLCJzZXRDYWxsZXJOYW1lIiwiY2FsbGVyQXZhdGFyIiwic2V0Q2FsbGVyQXZhdGFyIiwiaXNQcm9jZXNzaW5nIiwic2V0SXNQcm9jZXNzaW5nIiwiaXNHcm91cENhbGwiLCJzZXRJc0dyb3VwQ2FsbCIsImdyb3VwTmFtZSIsInNldEdyb3VwTmFtZSIsInNvY2tldCIsImNvbnNvbGUiLCJ3YXJuIiwiaGFuZGxlSW5jb21pbmdDYWxsIiwiZGF0YSIsImxvZyIsImN1cnJlbnRVc2VySWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaW5pdGlhdG9ySWQiLCJvbiIsIm9mZiIsImNhbmNlbGxlZCIsImxvYWRJbmZvIiwiY2FsbFR5cGUiLCJsaXZla2l0Um9vbU5hbWUiLCJjYWxsSW5mbyIsImNhbGxJZCIsInByZXYiLCJtZXRhZGF0YSIsImVyciIsImNvbnZlcnNhdGlvbnMiLCJjb252ZXJzYXRpb24iLCJmaW5kIiwiYyIsIl9pZCIsImNvbnZlcnNhdGlvbklkIiwiaXNHcm91cCIsInRpdGxlIiwibWVtYmVycyIsImxlbmd0aCIsImF2YXRhciIsImluZm8iLCJ1c2VyIiwibmFtZSIsImVtYWlsIiwiZXJyb3IiLCJjbGVhclN0YXRlIiwiaGFuZGxlQWNjZXB0IiwiaXNFbGVjdHJvbiIsImVsZWN0cm9uQVBJIiwibG9jYXRpb24iLCJoYXNoIiwiaW5jbHVkZXMiLCJocmVmIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJ0YXJnZXQiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJhY2NlcHRlZEZyb21Nb2RhbCIsImlzSW5jb21pbmciLCJzZXQiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsInRvU3RyaW5nIiwiaGFuZGxlUmVqZWN0IiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiZGlzcGxheU5hbWUiLCJkaXNwbGF5U3VidGl0bGUiLCJ0eXBlIiwiY2xhc3NOYW1lIiwib25DbGljayIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjaGlsZHJlbiIsInNyYyIsImFsdCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/GlobalIncomingCall.web.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/Icons.js":
/*!**********************************************!*\
  !*** ../../packages/app/components/Icons.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BellIcon: () => (/* binding */ BellIcon),\n/* harmony export */   BookmarkIcon: () => (/* binding */ BookmarkIcon),\n/* harmony export */   CameraIcon: () => (/* binding */ CameraIcon),\n/* harmony export */   CommentIcon: () => (/* binding */ CommentIcon),\n/* harmony export */   EditTextIcon: () => (/* binding */ EditTextIcon),\n/* harmony export */   FileIcon: () => (/* binding */ FileIcon),\n/* harmony export */   FolderIcon: () => (/* binding */ FolderIcon),\n/* harmony export */   FriendsIcon: () => (/* binding */ FriendsIcon),\n/* harmony export */   GlobeIcon: () => (/* binding */ GlobeIcon),\n/* harmony export */   GroupsIcon: () => (/* binding */ GroupsIcon),\n/* harmony export */   HomeIcon: () => (/* binding */ HomeIcon),\n/* harmony export */   LockIcon: () => (/* binding */ LockIcon),\n/* harmony export */   MarketplaceIcon: () => (/* binding */ MarketplaceIcon),\n/* harmony export */   MediaIcon: () => (/* binding */ MediaIcon),\n/* harmony export */   MediaPhotoIcon: () => (/* binding */ MediaPhotoIcon),\n/* harmony export */   MessengerIcon: () => (/* binding */ MessengerIcon),\n/* harmony export */   MicIcon: () => (/* binding */ MicIcon),\n/* harmony export */   NotificationsIcon: () => (/* binding */ NotificationsIcon),\n/* harmony export */   PaletteIcon: () => (/* binding */ PaletteIcon),\n/* harmony export */   PlayButtonIcon: () => (/* binding */ PlayButtonIcon),\n/* harmony export */   ProfileIcon: () => (/* binding */ ProfileIcon),\n/* harmony export */   ReelIcon: () => (/* binding */ ReelIcon),\n/* harmony export */   SavedIcon: () => (/* binding */ SavedIcon),\n/* harmony export */   SearchIcon: () => (/* binding */ SearchIcon),\n/* harmony export */   SettingsIcon: () => (/* binding */ SettingsIcon),\n/* harmony export */   ThumbsUpIcon: () => (/* binding */ ThumbsUpIcon),\n/* harmony export */   VideoIcon: () => (/* binding */ VideoIcon)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\n// ========================================\n// NAVIGATION ICONS\n// ========================================\nconst HomeIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M51.634 25.7258C50.3759 24.7581 48.6241 24.7581 47.366 25.7258L27.366 41.1104C26.5047 41.773 26 42.798 26 43.8846V71.9302C26 73.8632 27.567 75.4302 29.5 75.4302H69.5C71.433 75.4302 73 73.8632 73 71.9302V43.8846C73 42.798 72.4953 41.773 71.634 41.1104L51.634 25.7258ZM44.3175 21.7627C47.3728 19.4124 51.6272 19.4124 54.6825 21.7627L74.6825 37.1473C76.7743 38.7563 78 41.2456 78 43.8846V71.9302C78 76.6246 74.1944 80.4302 69.5 80.4302H29.5C24.8056 80.4302 21 76.6246 21 71.9302V43.8846C21 41.2456 22.2257 38.7563 24.3175 37.1473L44.3175 21.7627Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M38 57.9302C38 54.3403 40.9101 51.4302 44.5 51.4302H53.5C57.0899 51.4302 60 54.3403 60 57.9302V77.9302H55V57.9302C55 57.1017 54.3284 56.4302 53.5 56.4302H44.5C43.6716 56.4302 43 57.1017 43 57.9302V77.9302H38V57.9302Z\",\n                fill: color\n            })\n        ]\n    });\nconst FriendsIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M19.5 66.6667C19.5 59.3949 25.3949 53.5 32.6667 53.5H45.3333C52.6051 53.5 58.5 59.3949 58.5 66.6667C58.5 70.9929 54.9929 74.5 50.6667 74.5H27.3333C23.0071 74.5 19.5 70.9929 19.5 66.6667ZM32.6667 58.5C28.1563 58.5 24.5 62.1563 24.5 66.6667C24.5 68.2315 25.7685 69.5 27.3333 69.5H50.6667C52.2315 69.5 53.5 68.2315 53.5 66.6667C53.5 62.1563 49.8437 58.5 45.3333 58.5H32.6667Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M62.5 60C62.5 58.6193 63.6193 57.5 65 57.5H70C75.799 57.5 80.5 62.201 80.5 68C80.5 71.5899 77.5899 74.5 74 74.5H65C63.6193 74.5 62.5 73.3807 62.5 72C62.5 70.6193 63.6193 69.5 65 69.5H74C74.8284 69.5 75.5 68.8284 75.5 68C75.5 64.9624 73.0376 62.5 70 62.5H65C63.6193 62.5 62.5 61.3807 62.5 60Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M39 29.5C34.8579 29.5 31.5 32.8579 31.5 37C31.5 41.1421 34.8579 44.5 39 44.5C43.1421 44.5 46.5 41.1421 46.5 37C46.5 32.8579 43.1421 29.5 39 29.5ZM26.5 37C26.5 30.0964 32.0964 24.5 39 24.5C45.9036 24.5 51.5 30.0964 51.5 37C51.5 43.9036 45.9036 49.5 39 49.5C32.0964 49.5 26.5 43.9036 26.5 37Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M64 40.5C62.067 40.5 60.5 42.067 60.5 44C60.5 45.933 62.067 47.5 64 47.5C65.933 47.5 67.5 45.933 67.5 44C67.5 42.067 65.933 40.5 64 40.5ZM55.5 44C55.5 39.3056 59.3056 35.5 64 35.5C68.6944 35.5 72.5 39.3056 72.5 44C72.5 48.6944 68.6944 52.5 64 52.5C59.3056 52.5 55.5 48.6944 55.5 44Z\",\n                fill: color\n            })\n        ]\n    });\nconst MessengerIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M20.3415 49.5C20.3415 32.9315 33.7729 19.5 50.3415 19.5C66.91 19.5 80.3415 32.9315 80.3415 49.5C80.3415 66.0685 66.91 79.5 50.3415 79.5C44.4165 79.5 38.8868 77.7799 34.2321 74.812L24.6634 78.161C21.874 79.1373 19.2049 76.4305 20.2203 73.655L23.8812 63.6484C21.6221 59.4314 20.3415 54.612 20.3415 49.5ZM50.3415 24.5C36.5344 24.5 25.3415 35.6929 25.3415 49.5C25.3415 54.1245 26.5948 58.4486 28.7787 62.1596C29.1579 62.804 29.2288 63.5843 28.9719 64.2865L26.0058 72.3938L33.7576 69.6807C34.5173 69.4148 35.3585 69.5309 36.0177 69.9926C40.0736 72.8334 45.0092 74.5 50.3415 74.5C64.1486 74.5 75.3415 63.3071 75.3415 49.5C75.3415 35.6929 64.1486 24.5 50.3415 24.5Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M43.632 42.6762C44.5013 41.8611 45.8252 41.773 46.7949 42.4657L55.5716 48.7347L61.574 42.7323C62.5503 41.7559 64.1333 41.7559 65.1096 42.7323C66.0859 43.7086 66.0859 45.2915 65.1096 46.2678L57.6096 53.7678C56.7454 54.6319 55.3832 54.7447 54.3887 54.0344L45.5565 47.7256L39.0517 53.8239C38.0444 54.7682 36.4623 54.7172 35.518 53.7099C34.5736 52.7026 34.6247 51.1205 35.632 50.1762L43.632 42.6762Z\",\n                fill: color\n            })\n        ]\n    });\nconst NotificationsIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M12 2C10.9 2 10 2.9 10 4C10 4.1 10 4.19 10.02 4.28C7.2 5.17 5.25 7.83 5.25 11V16L3 18V19H21V18L18.75 16V11C18.75 7.83 16.8 5.17 13.98 4.28C14 4.19 14 4.1 14 4C14 2.9 13.1 2 12 2ZM12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22Z\",\n            fill: color\n        })\n    });\nconst SavedIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M25 27.1963C25 22.5019 28.8056 18.6963 33.5 18.6963H66.5C71.1944 18.6963 75 22.5019 75 27.1963V67.1963C75 68.577 73.8807 69.6963 72.5 69.6963C71.1193 69.6963 70 68.577 70 67.1963V27.1963C70 25.2633 68.433 23.6963 66.5 23.6963H33.5C31.567 23.6963 30 25.2633 30 27.1963V73.1963C30 74.577 28.8807 75.6963 27.5 75.6963C26.1193 75.6963 25 74.577 25 73.1963V27.1963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M33 80.6963C28.5817 80.6963 25 77.1146 25 72.6963C25 68.278 28.5817 64.6963 33 64.6963H72.5C73.8807 64.6963 75 65.8156 75 67.1963C75 68.577 73.8807 69.6963 72.5 69.6963H33C31.3431 69.6963 30 71.0394 30 72.6963C30 74.3531 31.3431 75.6963 33 75.6963H72.5C73.8807 75.6963 75 76.8156 75 78.1963C75 79.577 73.8807 80.6963 72.5 80.6963H33Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M68.5 65.6963C69.8807 65.6963 71 66.8156 71 68.1963V77.1963C71 78.577 69.8807 79.6963 68.5 79.6963C67.1193 79.6963 66 78.577 66 77.1963V68.1963C66 66.8156 67.1193 65.6963 68.5 65.6963Z\",\n                fill: color\n            })\n        ]\n    });\nconst VideoIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M20.5 35C20.5 26.9919 26.9919 20.5 35 20.5H65C73.0081 20.5 79.5 26.9919 79.5 35V65C79.5 73.0081 73.0081 79.5 65 79.5H35C26.9919 79.5 20.5 73.0081 20.5 65V35ZM35 25.5C29.7533 25.5 25.5 29.7533 25.5 35V65C25.5 70.2467 29.7533 74.5 35 74.5H65C70.2467 74.5 74.5 70.2467 74.5 65V35C74.5 29.7533 70.2467 25.5 65 25.5H35Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M21.5 39C21.5 37.6193 22.6193 36.5 24 36.5H75C76.3807 36.5 77.5 37.6193 77.5 39C77.5 40.3807 76.3807 41.5 75 41.5H24C22.6193 41.5 21.5 40.3807 21.5 39Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M36.0066 21.206C37.2735 20.657 38.7455 21.239 39.2945 22.5059L45.7945 37.5059C46.3435 38.7728 45.7615 40.2448 44.4947 40.7938C43.2278 41.3428 41.7557 40.7608 41.2067 39.4939L34.7067 24.4939C34.1578 23.227 34.7397 21.755 36.0066 21.206ZM54.0066 21.206C55.2735 20.657 56.7455 21.239 57.2945 22.5059L63.7945 37.5059C64.3435 38.7728 63.7615 40.2448 62.4947 40.7938C61.2278 41.3428 59.7557 40.7608 59.2067 39.4939L52.7067 24.4939C52.1578 23.227 52.7397 21.755 54.0066 21.206Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M43 50.4969C43 48.9501 44.6808 47.9888 46.014 48.7731L57.0694 55.2762C58.384 56.0495 58.384 57.9507 57.0694 58.724L46.014 65.2271C44.6808 66.0114 43 65.0501 43 63.5033V50.4969Z\",\n                fill: color\n            })\n        ]\n    });\nconst SettingsIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M58.0458 23.7169C57.8008 21.4303 55.8711 19.6963 53.5714 19.6963H45.878C43.6575 19.6963 41.8574 21.4964 41.8574 23.7169C41.8574 28.6963 35.9149 31.9665 31.1914 29.8749C29.0886 28.9438 26.6221 29.7479 25.4722 31.7395L21.7694 38.153C20.6195 40.1447 21.1564 42.6828 23.0141 44.0383C27.1872 47.0831 27.1872 53.3095 23.014 56.3543C21.1563 57.7098 20.6194 60.2479 21.7693 62.2395L25.4721 68.653C26.622 70.6446 29.0885 71.4488 31.1913 70.5177C35.9148 68.426 41.3071 71.5392 41.8574 76.6757C42.1024 78.9623 44.0321 80.6963 46.3318 80.6963L53.5714 80.6963C55.8711 80.6963 57.8008 78.9623 58.0458 76.6757C58.5961 71.5392 63.9884 68.426 68.712 70.5177C70.8147 71.4488 73.2812 70.6447 74.4311 68.653L78.1339 62.2395C79.2838 60.2479 78.747 57.7098 76.8892 56.3543C72.716 53.3095 72.716 47.0831 76.8891 44.0383C78.7469 42.6828 79.2837 40.1447 78.1338 38.1531L74.431 31.7395C73.2811 29.7479 70.8146 28.9438 68.7119 29.8749C63.9884 31.9665 58.5961 28.8534 58.0458 23.7169ZM29.416 34.6219C36.9967 37.6717 45.4583 32.7862 46.6075 24.6963H53.1301C54.2793 32.7864 62.741 37.6717 70.3218 34.6219L73.5832 40.2707C67.1515 45.3109 67.1517 55.0817 73.5833 60.1219L70.322 65.7707C62.7412 62.7209 54.2793 67.6062 53.1301 75.6963H46.6075C45.4583 67.6063 36.9966 62.7209 29.4159 65.7707L26.1545 60.1219C32.5861 55.0817 32.5863 45.3109 26.1547 40.2707L29.416 34.6219Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M49.5 41.6963C44.8056 41.6963 41 45.5019 41 50.1963C41 54.8907 44.8056 58.6963 49.5 58.6963C54.1944 58.6963 58 54.8907 58 50.1963C58 45.5019 54.1944 41.6963 49.5 41.6963ZM36 50.1963C36 42.7404 42.0442 36.6963 49.5 36.6963C56.9558 36.6963 63 42.7404 63 50.1963C63 57.6521 56.9558 63.6963 49.5 63.6963C42.0442 63.6963 36 57.6521 36 50.1963Z\",\n                fill: color\n            })\n        ]\n    });\nconst GroupsIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M20 49.6963C20 33.1277 33.4315 19.6963 50 19.6963C66.5685 19.6963 80 33.1277 80 49.6963C80 66.2648 66.5685 79.6963 50 79.6963C33.4315 79.6963 20 66.2648 20 49.6963ZM50 24.6963C36.1929 24.6963 25 35.8892 25 49.6963C25 63.5034 36.1929 74.6963 50 74.6963C63.8071 74.6963 75 63.5034 75 49.6963C75 35.8892 63.8071 24.6963 50 24.6963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M20 50.6963C20 34.1277 33.4315 20.6963 50 20.6963C66.5685 20.6963 80 34.1277 80 50.6963C80 67.2648 66.5685 80.6963 50 80.6963C33.4315 80.6963 20 67.2648 20 50.6963ZM50 25.6963C36.1929 25.6963 25 36.8892 25 50.6963C25 64.5034 36.1929 75.6963 50 75.6963C63.8071 75.6963 75 64.5034 75 50.6963C75 36.8892 63.8071 25.6963 50 25.6963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M31.2715 71.1911C32.5075 65.2008 37.8081 60.6963 44.1664 60.6963H56.833C63.1914 60.6963 68.492 65.2008 69.7279 71.1911L64.8311 72.2015C64.0648 68.4875 60.772 65.6963 56.833 65.6963H44.1664C40.2274 65.6963 36.9346 68.4875 36.1683 72.2015L31.2715 71.1911Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M50.5 38.6963C46.9101 38.6963 44 41.6064 44 45.1963C44 48.7861 46.9101 51.6963 50.5 51.6963C54.0899 51.6963 57 48.7861 57 45.1963C57 41.6064 54.0899 38.6963 50.5 38.6963ZM39 45.1963C39 38.845 44.1487 33.6963 50.5 33.6963C56.8513 33.6963 62 38.845 62 45.1963C62 51.5476 56.8513 56.6963 50.5 56.6963C44.1487 56.6963 39 51.5476 39 45.1963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M32 52.1963C32 48.6064 29.0899 45.6963 25.5 45.6963V40.6963C31.8513 40.6963 37 45.845 37 52.1963C37 58.5476 31.8513 63.6963 25.5 63.6963V58.6963C29.0899 58.6963 32 55.7861 32 52.1963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M75.5 45.6963C71.9101 45.6963 69 48.6064 69 52.1963C69 55.7861 71.9101 58.6963 75.5 58.6963V63.6963C69.1487 63.6963 64 58.5476 64 52.1963C64 45.845 69.1487 40.6963 75.5 40.6963V45.6963Z\",\n                fill: color\n            })\n        ]\n    });\nconst MarketplaceIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M27 45.5V65.5C27 70.7467 31.2533 75 36.5 75H64.5C69.7467 75 74 70.7467 74 65.5V45.5H79V65.5C79 73.5081 72.5081 80 64.5 80H36.5C28.4919 80 22 73.5081 22 65.5V45.5H27Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M39 63.5C39 59.9101 41.9101 57 45.5 57H54.5C58.0899 57 61 59.9101 61 63.5V77.5H56V63.5C56 62.6716 55.3284 62 54.5 62H45.5C44.6716 62 44 62.6716 44 63.5V77.5H39V63.5Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M25.001 26.7448L23.4132 38.6537C23.4093 38.6826 23.405 38.7114 23.4001 38.7402C23.0128 41.0306 23.8202 42.7129 25.2628 43.9278C26.798 45.2206 29.112 46 31.4997 46C34.0322 46 36.2723 44.7471 37.6343 42.8162C38.071 42.197 38.7649 41.8093 39.5212 41.762C40.2774 41.7147 41.0142 42.0129 41.5247 42.5728C43.9595 45.2436 47.0241 47 49.9997 47C52.9752 47 56.0398 45.2436 58.4746 42.5728C58.9851 42.0129 59.722 41.7147 60.4782 41.762C61.2344 41.8093 61.9284 42.197 62.3651 42.8162C63.727 44.7471 65.9671 46 68.4997 46C70.8966 46 73.1577 45.1917 74.6206 43.8846C75.9897 42.6613 76.7512 40.9466 76.2738 38.5977C76.2695 38.5767 76.2656 38.5557 76.2618 38.5347L74.1568 26.6194C73.7568 25.0796 72.3658 24 70.7694 24H28.4186C26.7737 24 25.3543 25.1447 25.001 26.7448ZM20.0837 25.833C20.8783 21.8599 24.3668 19 28.4186 19H70.7694C74.6997 19 78.1175 21.6946 79.0347 25.5163C79.0465 25.5655 79.0568 25.615 79.0656 25.6648L81.1803 37.6349C82.0159 41.8018 80.5686 45.2751 77.952 47.6131C75.4223 49.8734 71.9078 51 68.4997 51C65.3145 51 62.408 49.8073 60.2025 47.849C57.4268 50.2217 53.9002 52 49.9997 52C46.0992 52 42.5726 50.2217 39.7969 47.849C37.5914 49.8073 34.6849 51 31.4997 51C28.1427 51 24.6269 49.929 22.0422 47.7524C19.3746 45.506 17.7739 42.1165 18.4625 37.952L20.057 25.9929C20.0642 25.9393 20.0731 25.886 20.0837 25.833Z\",\n                fill: color\n            })\n        ]\n    });\n// ========================================\n// ACTION ICONS\n// ========================================\nconst SearchIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z\",\n            fill: color\n        })\n    });\nconst MediaPhotoIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z\",\n            fill: color\n        })\n    });\nconst CommentIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M21.99 4C21.99 2.9 21.1 2 20 2H4C2.9 2 2 2.9 2 4V16C2 17.1 2.9 18 4 18H18L22 22L21.99 4ZM18 14H6V12H18V14ZM18 11H6V9H18V11ZM18 8H6V6H18V8Z\",\n            fill: color\n        })\n    });\nconst PlayButtonIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M8 5V19L19 12L8 5Z\",\n            fill: color\n        })\n    });\n// Simple bell notification icon  \nconst BellIcon = ({ size = 24, className, color = \"currentColor\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22ZM18 16V11C18 7.93 16.37 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.64 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16ZM16 17H8V11C8 8.52 9.51 6.5 12 6.5C14.49 6.5 16 8.52 16 11V17Z\",\n            fill: color\n        })\n    });\n// Bookmark icon for saved\nconst BookmarkIcon = ({ size = 24, className, color = \"currentColor\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M17 3H7C5.9 3 5.01 3.9 5.01 5L5 21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z\",\n            fill: color\n        })\n    });\n// Camera icon for media upload\nconst CameraIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", {\n                cx: \"12\",\n                cy: \"12\",\n                r: \"3.2\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M9 2L7.17 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4H16.83L15 2H9ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17Z\",\n                fill: color\n            })\n        ]\n    });\n// Film/reel icon\nconst ReelIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M18 4L20 8H17L15 4H13L15 8H12L10 4H8L10 8H7L5 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V4H18ZM11.5 18C9.29 18 7.5 16.21 7.5 14C7.5 11.79 9.29 10 11.5 10C13.71 10 15.5 11.79 15.5 14C15.5 16.21 13.71 18 11.5 18ZM13 14L10.5 15.75V12.25L13 14Z\",\n            fill: color\n        })\n    });\n// Globe icon for public visibility\nconst GlobeIcon = ({ size = 24, className, color = \"currentColor\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM11 19.93C7.05 19.44 4 16.08 4 12C4 11.38 4.08 10.79 4.21 10.21L9 15V16C9 17.1 9.9 18 11 18V19.93ZM17.9 17.39C17.64 16.58 16.9 16 16 16H15V13C15 12.45 14.55 12 14 12H8V10H10C10.55 10 11 9.55 11 9V7H13C14.1 7 15 6.1 15 5V4.59C17.93 5.78 20 8.65 20 12C20 14.08 19.2 15.97 17.9 17.39Z\",\n            fill: color\n        })\n    });\n// Lock icon for private visibility\nconst LockIcon = ({ size = 24, className, color = \"currentColor\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z\",\n            fill: color\n        })\n    });\n// ========================================\n// CHAT/CONVERSATION ICONS\n// ========================================\n// Profile/Account icon\nconst ProfileIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M20 49.6963C20 33.1277 33.4315 19.6963 50 19.6963C66.5685 19.6963 80 33.1277 80 49.6963C80 66.2648 66.5685 79.6963 50 79.6963C33.4315 79.6963 20 66.2648 20 49.6963ZM50 24.6963C36.1929 24.6963 25 35.8892 25 49.6963C25 63.5034 36.1929 74.6963 50 74.6963C63.8071 74.6963 75 63.5034 75 49.6963C75 35.8892 63.8071 24.6963 50 24.6963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M31 71.863C31 64.5912 36.8949 58.6963 44.1667 58.6963H56.8333C64.1051 58.6963 70 64.5912 70 71.863H65C65 67.3526 61.3437 63.6963 56.8333 63.6963H44.1667C39.6563 63.6963 36 67.3526 36 71.863H31Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M50.5 34.6963C46.3579 34.6963 43 38.0542 43 42.1963C43 46.3384 46.3579 49.6963 50.5 49.6963C54.6421 49.6963 58 46.3384 58 42.1963C58 38.0542 54.6421 34.6963 50.5 34.6963ZM38 42.1963C38 35.2927 43.5964 29.6963 50.5 29.6963C57.4036 29.6963 63 35.2927 63 42.1963C63 49.0998 57.4036 54.6963 50.5 54.6963C43.5964 54.6963 38 49.0998 38 42.1963Z\",\n                fill: color\n            })\n        ]\n    });\n// Media/Photo icon\nconst MediaIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M20 35.1963C20 27.1882 26.4919 20.6963 34.5 20.6963H64.5C72.5081 20.6963 79 27.1882 79 35.1963V65.1963C79 73.2044 72.5081 79.6963 64.5 79.6963H34.5C26.4919 79.6963 20 73.2044 20 65.1963V35.1963ZM34.5 25.6963C29.2533 25.6963 25 29.9496 25 35.1963V65.1963C25 70.443 29.2533 74.6963 34.5 74.6963H64.5C69.7467 74.6963 74 70.443 74 65.1963V35.1963C74 29.9496 69.7467 25.6963 64.5 25.6963H34.5Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M62.9952 47.4514C62.7951 47.2763 62.4929 47.2884 62.3075 47.479L47.739 62.4522C45.9605 64.2801 43.0197 64.2661 41.2587 62.4212L34.3617 55.1958C34.1647 54.9894 33.8353 54.9894 33.6383 55.1958L25.3084 63.9224C24.355 64.9211 22.7726 64.9579 21.7738 64.0046C20.7751 63.0512 20.7383 61.4688 21.6916 60.47L30.0215 51.7434C32.1882 49.4736 35.8118 49.4736 37.9785 51.7434L44.5172 58.5935L58.7239 43.9922C60.7634 41.8961 64.0867 41.7626 66.2877 43.6885L76.1463 52.3148C77.1854 53.224 77.2906 54.8034 76.3814 55.8425C75.4722 56.8815 73.8928 56.9868 72.8537 56.0776L62.9952 47.4514Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M40.5 37.6963C40.5 40.1816 38.4853 42.1963 36 42.1963C33.5147 42.1963 31.5 40.1816 31.5 37.6963C31.5 35.211 33.5147 33.1963 36 33.1963C38.4853 33.1963 40.5 35.211 40.5 37.6963Z\",\n                fill: color\n            })\n        ]\n    });\n// Microphone icon\nconst MicIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M36 33.1963C36 25.7404 42.0442 19.6963 49.5 19.6963C56.9558 19.6963 63 25.7404 63 33.1963V47.1963C63 54.6521 56.9558 60.6963 49.5 60.6963C42.0442 60.6963 36 54.6521 36 47.1963V33.1963ZM49.5 24.6963C44.8056 24.6963 41 28.5019 41 33.1963V47.1963C41 51.8907 44.8056 55.6963 49.5 55.6963C54.1944 55.6963 58 51.8907 58 47.1963V33.1963C58 28.5019 54.1944 24.6963 49.5 24.6963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M27.5 43.6963C28.8807 43.6963 30 44.8156 30 46.1963C30 56.9658 38.7304 65.6963 49.5 65.6963C60.2696 65.6963 69 56.9658 69 46.1963C69 44.8156 70.1193 43.6963 71.5 43.6963C72.8807 43.6963 74 44.8156 74 46.1963C74 59.7273 63.031 70.6963 49.5 70.6963C35.969 70.6963 25 59.7273 25 46.1963C25 44.8156 26.1193 43.6963 27.5 43.6963Z\",\n                fill: color\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                fillRule: \"evenodd\",\n                clipRule: \"evenodd\",\n                d: \"M49.5 65.6963C50.8807 65.6963 52 66.8156 52 68.1963V77.6963C52 79.077 50.8807 80.1963 49.5 80.1963C48.1193 80.1963 47 79.077 47 77.6963V68.1963C47 66.8156 48.1193 65.6963 49.5 65.6963Z\",\n                fill: color\n            })\n        ]\n    });\n// Folder icon\nconst FolderIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M10 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4Z\",\n            fill: color\n        })\n    });\n// File/Document icon\nconst FileIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM16 18H8V16H16V18ZM16 14H8V12H16V14ZM13 9V3.5L18.5 9H13Z\",\n            fill: color\n        })\n    });\n// Palette/Theme icon\nconst PaletteIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C12.83 22 13.5 21.33 13.5 20.5C13.5 20.13 13.36 19.81 13.14 19.56C12.92 19.31 12.81 18.99 12.81 18.63C12.81 17.8 13.48 17.13 14.31 17.13H16C18.76 17.13 21 14.89 21 12.13C21 6.55 17.03 2 12 2ZM6.5 12C5.67 12 5 11.33 5 10.5C5 9.67 5.67 9 6.5 9C7.33 9 8 9.67 8 10.5C8 11.33 7.33 12 6.5 12ZM9.5 8C8.67 8 8 7.33 8 6.5C8 5.67 8.67 5 9.5 5C10.33 5 11 5.67 11 6.5C11 7.33 10.33 8 9.5 8ZM14.5 8C13.67 8 13 7.33 13 6.5C13 5.67 13.67 5 14.5 5C15.33 5 16 5.67 16 6.5C16 7.33 15.33 8 14.5 8ZM17.5 12C16.67 12 16 11.33 16 10.5C16 9.67 16.67 9 17.5 9C18.33 9 19 9.67 19 10.5C19 11.33 18.33 12 17.5 12Z\",\n            fill: color\n        })\n    });\n// Thumbs up / Like icon (for chat)\nconst ThumbsUpIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M1 21H5V9H1V21ZM23 10C23 8.9 22.1 8 21 8H14.69L15.64 3.43L15.67 3.11C15.67 2.7 15.5 2.32 15.23 2.05L14.17 1L7.59 7.59C7.22 7.95 7 8.45 7 9V19C7 20.1 7.9 21 9 21H18C18.83 21 19.54 20.5 19.84 19.78L22.86 12.73C22.95 12.5 23 12.26 23 12V10Z\",\n            fill: color\n        })\n    });\n// Edit/Text icon \nconst EditTextIcon = ({ size = 24, className, color = \"#0966FF\" })=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: className,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n            d: \"M5 17V19H19V17H5ZM9.5 12.8L11 14.3L17.8 7.5L16.3 6L9.5 12.8ZM3 21H21V15H3V21ZM5 4V8H19V4H5Z\",\n            fill: color\n        })\n    });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvSWNvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Q7QUFDL0QsMkNBQTJDO0FBQzNDLG1CQUFtQjtBQUNuQiwyQ0FBMkM7QUFDcEMsTUFBTUksV0FBVyxDQUFDLEVBQUVDLE9BQU8sRUFBRSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsU0FBUyxFQUFFLEdBQU1KLHVEQUFLQSxDQUFDLE9BQU87UUFBRUssT0FBT0g7UUFBTUksUUFBUUo7UUFBTUssU0FBUztRQUFlQyxNQUFNO1FBQVFDLE9BQU87UUFBOEJOLFdBQVdBO1FBQVdPLFVBQVU7WUFBQ1osc0RBQUlBLENBQUMsUUFBUTtnQkFBRWEsVUFBVTtnQkFBV0MsVUFBVTtnQkFBV0MsR0FBRztnQkFBbWlCTCxNQUFNSjtZQUFNO1lBQUlOLHNEQUFJQSxDQUFDLFFBQVE7Z0JBQUVhLFVBQVU7Z0JBQVdDLFVBQVU7Z0JBQVdDLEdBQUc7Z0JBQTROTCxNQUFNSjtZQUFNO1NBQUc7SUFBQyxHQUFJO0FBQ3BuQyxNQUFNVSxjQUFjLENBQUMsRUFBRVosT0FBTyxFQUFFLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxTQUFTLEVBQUUsR0FBTUosdURBQUtBLENBQUMsT0FBTztRQUFFSyxPQUFPSDtRQUFNSSxRQUFRSjtRQUFNSyxTQUFTO1FBQWVDLE1BQU07UUFBUUMsT0FBTztRQUE4Qk4sV0FBV0E7UUFBV08sVUFBVTtZQUFDWixzREFBSUEsQ0FBQyxRQUFRO2dCQUFFYSxVQUFVO2dCQUFXQyxVQUFVO2dCQUFXQyxHQUFHO2dCQUF3WEwsTUFBTUo7WUFBTTtZQUFJTixzREFBSUEsQ0FBQyxRQUFRO2dCQUFFYSxVQUFVO2dCQUFXQyxVQUFVO2dCQUFXQyxHQUFHO2dCQUF1U0wsTUFBTUo7WUFBTTtZQUFJTixzREFBSUEsQ0FBQyxRQUFRO2dCQUFFYSxVQUFVO2dCQUFXQyxVQUFVO2dCQUFXQyxHQUFHO2dCQUFzU0ws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WUFBK0ZMLE1BQU1KO1FBQU07SUFBRyxHQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvSWNvbnMuanM/NjlmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTkFWSUdBVElPTiBJQ09OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IEhvbWVJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDEwMCAxMDBcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTUxLjYzNCAyNS43MjU4QzUwLjM3NTkgMjQuNzU4MSA0OC42MjQxIDI0Ljc1ODEgNDcuMzY2IDI1LjcyNThMMjcuMzY2IDQxLjExMDRDMjYuNTA0NyA0MS43NzMgMjYgNDIuNzk4IDI2IDQzLjg4NDZWNzEuOTMwMkMyNiA3My44NjMyIDI3LjU2NyA3NS40MzAyIDI5LjUgNzUuNDMwMkg2OS41QzcxLjQzMyA3NS40MzAyIDczIDczLjg2MzIgNzMgNzEuOTMwMlY0My44ODQ2QzczIDQyLjc5OCA3Mi40OTUzIDQxLjc3MyA3MS42MzQgNDEuMTEwNEw1MS42MzQgMjUuNzI1OFpNNDQuMzE3NSAyMS43NjI3QzQ3LjM3MjggMTkuNDEyNCA1MS42MjcyIDE5LjQxMjQgNTQuNjgyNSAyMS43NjI3TDc0LjY4MjUgMzcuMTQ3M0M3Ni43NzQzIDM4Ljc1NjMgNzggNDEuMjQ1NiA3OCA0My44ODQ2VjcxLjkzMDJDNzggNzYuNjI0NiA3NC4xOTQ0IDgwLjQzMDIgNjkuNSA4MC40MzAySDI5LjVDMjQuODA1NiA4MC40MzAyIDIxIDc2LjYyNDYgMjEgNzEuOTMwMlY0My44ODQ2QzIxIDQxLjI0NTYgMjIuMjI1NyAzOC43NTYzIDI0LjMxNzUgMzcuMTQ3M0w0NC4zMTc1IDIxLjc2MjdaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0zOCA1Ny45MzAyQzM4IDU0LjM0MDMgNDAuOTEwMSA1MS40MzAyIDQ0LjUgNTEuNDMwMkg1My41QzU3LjA4OTkgNTEuNDMwMiA2MCA1NC4zNDAzIDYwIDU3LjkzMDJWNzcuOTMwMkg1NVY1Ny45MzAyQzU1IDU3LjEwMTcgNTQuMzI4NCA1Ni40MzAyIDUzLjUgNTYuNDMwMkg0NC41QzQzLjY3MTYgNTYuNDMwMiA0MyA1Ny4xMDE3IDQzIDU3LjkzMDJWNzcuOTMwMkgzOFY1Ny45MzAyWlwiLCBmaWxsOiBjb2xvciB9KV0gfSkpO1xuZXhwb3J0IGNvbnN0IEZyaWVuZHNJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDEwMCAxMDBcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTE5LjUgNjYuNjY2N0MxOS41IDU5LjM5NDkgMjUuMzk0OSA1My41IDMyLjY2NjcgNTMuNUg0NS4zMzMzQzUyLjYwNTEgNTMuNSA1OC41IDU5LjM5NDkgNTguNSA2Ni42NjY3QzU4LjUgNzAuOTkyOSA1NC45OTI5IDc0LjUgNTAuNjY2NyA3NC41SDI3LjMzMzNDMjMuMDA3MSA3NC41IDE5LjUgNzAuOTkyOSAxOS41IDY2LjY2NjdaTTMyLjY2NjcgNTguNUMyOC4xNTYzIDU4LjUgMjQuNSA2Mi4xNTYzIDI0LjUgNjYuNjY2N0MyNC41IDY4LjIzMTUgMjUuNzY4NSA2OS41IDI3LjMzMzMgNjkuNUg1MC42NjY3QzUyLjIzMTUgNjkuNSA1My41IDY4LjIzMTUgNTMuNSA2Ni42NjY3QzUzLjUgNjIuMTU2MyA0OS44NDM3IDU4LjUgNDUuMzMzMyA1OC41SDMyLjY2NjdaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk02Mi41IDYwQzYyLjUgNTguNjE5MyA2My42MTkzIDU3LjUgNjUgNTcuNUg3MEM3NS43OTkgNTcuNSA4MC41IDYyLjIwMSA4MC41IDY4QzgwLjUgNzEuNTg5OSA3Ny41ODk5IDc0LjUgNzQgNzQuNUg2NUM2My42MTkzIDc0LjUgNjIuNSA3My4zODA3IDYyLjUgNzJDNjIuNSA3MC42MTkzIDYzLjYxOTMgNjkuNSA2NSA2OS41SDc0Qzc0LjgyODQgNjkuNSA3NS41IDY4LjgyODQgNzUuNSA2OEM3NS41IDY0Ljk2MjQgNzMuMDM3NiA2Mi41IDcwIDYyLjVINjVDNjMuNjE5MyA2Mi41IDYyLjUgNjEuMzgwNyA2Mi41IDYwWlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMzkgMjkuNUMzNC44NTc5IDI5LjUgMzEuNSAzMi44NTc5IDMxLjUgMzdDMzEuNSA0MS4xNDIxIDM0Ljg1NzkgNDQuNSAzOSA0NC41QzQzLjE0MjEgNDQuNSA0Ni41IDQxLjE0MjEgNDYuNSAzN0M0Ni41IDMyLjg1NzkgNDMuMTQyMSAyOS41IDM5IDI5LjVaTTI2LjUgMzdDMjYuNSAzMC4wOTY0IDMyLjA5NjQgMjQuNSAzOSAyNC41QzQ1LjkwMzYgMjQuNSA1MS41IDMwLjA5NjQgNTEuNSAzN0M1MS41IDQzLjkwMzYgNDUuOTAzNiA0OS41IDM5IDQ5LjVDMzIuMDk2NCA0OS41IDI2LjUgNDMuOTAzNiAyNi41IDM3WlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNNjQgNDAuNUM2Mi4wNjcgNDAuNSA2MC41IDQyLjA2NyA2MC41IDQ0QzYwLjUgNDUuOTMzIDYyLjA2NyA0Ny41IDY0IDQ3LjVDNjUuOTMzIDQ3LjUgNjcuNSA0NS45MzMgNjcuNSA0NEM2Ny41IDQyLjA2NyA2NS45MzMgNDAuNSA2NCA0MC41Wk01NS41IDQ0QzU1LjUgMzkuMzA1NiA1OS4zMDU2IDM1LjUgNjQgMzUuNUM2OC42OTQ0IDM1LjUgNzIuNSAzOS4zMDU2IDcyLjUgNDRDNzIuNSA0OC42OTQ0IDY4LjY5NDQgNTIuNSA2NCA1Mi41QzU5LjMwNTYgNTIuNSA1NS41IDQ4LjY5NDQgNTUuNSA0NFpcIiwgZmlsbDogY29sb3IgfSldIH0pKTtcbmV4cG9ydCBjb25zdCBNZXNzZW5nZXJJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDEwMCAxMDBcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTIwLjM0MTUgNDkuNUMyMC4zNDE1IDMyLjkzMTUgMzMuNzcyOSAxOS41IDUwLjM0MTUgMTkuNUM2Ni45MSAxOS41IDgwLjM0MTUgMzIuOTMxNSA4MC4zNDE1IDQ5LjVDODAuMzQxNSA2Ni4wNjg1IDY2LjkxIDc5LjUgNTAuMzQxNSA3OS41QzQ0LjQxNjUgNzkuNSAzOC44ODY4IDc3Ljc3OTkgMzQuMjMyMSA3NC44MTJMMjQuNjYzNCA3OC4xNjFDMjEuODc0IDc5LjEzNzMgMTkuMjA0OSA3Ni40MzA1IDIwLjIyMDMgNzMuNjU1TDIzLjg4MTIgNjMuNjQ4NEMyMS42MjIxIDU5LjQzMTQgMjAuMzQxNSA1NC42MTIgMjAuMzQxNSA0OS41Wk01MC4zNDE1IDI0LjVDMzYuNTM0NCAyNC41IDI1LjM0MTUgMzUuNjkyOSAyNS4zNDE1IDQ5LjVDMjUuMzQxNSA1NC4xMjQ1IDI2LjU5NDggNTguNDQ4NiAyOC43Nzg3IDYyLjE1OTZDMjkuMTU3OSA2Mi44MDQgMjkuMjI4OCA2My41ODQzIDI4Ljk3MTkgNjQuMjg2NUwyNi4wMDU4IDcyLjM5MzhMMzMuNzU3NiA2OS42ODA3QzM0LjUxNzMgNjkuNDE0OCAzNS4zNTg1IDY5LjUzMDkgMzYuMDE3NyA2OS45OTI2QzQwLjA3MzYgNzIuODMzNCA0NS4wMDkyIDc0LjUgNTAuMzQxNSA3NC41QzY0LjE0ODYgNzQuNSA3NS4zNDE1IDYzLjMwNzEgNzUuMzQxNSA0OS41Qzc1LjM0MTUgMzUuNjkyOSA2NC4xNDg2IDI0LjUgNTAuMzQxNSAyNC41WlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNNDMuNjMyIDQyLjY3NjJDNDQuNTAxMyA0MS44NjExIDQ1LjgyNTIgNDEuNzczIDQ2Ljc5NDkgNDIuNDY1N0w1NS41NzE2IDQ4LjczNDdMNjEuNTc0IDQyLjczMjNDNjIuNTUwMyA0MS43NTU5IDY0LjEzMzMgNDEuNzU1OSA2NS4xMDk2IDQyLjczMjNDNjYuMDg1OSA0My43MDg2IDY2LjA4NTkgNDUuMjkxNSA2NS4xMDk2IDQ2LjI2NzhMNTcuNjA5NiA1My43Njc4QzU2Ljc0NTQgNTQuNjMxOSA1NS4zODMyIDU0Ljc0NDcgNTQuMzg4NyA1NC4wMzQ0TDQ1LjU1NjUgNDcuNzI1NkwzOS4wNTE3IDUzLjgyMzlDMzguMDQ0NCA1NC43NjgyIDM2LjQ2MjMgNTQuNzE3MiAzNS41MTggNTMuNzA5OUMzNC41NzM2IDUyLjcwMjYgMzQuNjI0NyA1MS4xMjA1IDM1LjYzMiA1MC4xNzYyTDQzLjYzMiA0Mi42NzYyWlwiLCBmaWxsOiBjb2xvciB9KV0gfSkpO1xuZXhwb3J0IGNvbnN0IE5vdGlmaWNhdGlvbnNJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4KFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xMiAyQzEwLjkgMiAxMCAyLjkgMTAgNEMxMCA0LjEgMTAgNC4xOSAxMC4wMiA0LjI4QzcuMiA1LjE3IDUuMjUgNy44MyA1LjI1IDExVjE2TDMgMThWMTlIMjFWMThMMTguNzUgMTZWMTFDMTguNzUgNy44MyAxNi44IDUuMTcgMTMuOTggNC4yOEMxNCA0LjE5IDE0IDQuMSAxNCA0QzE0IDIuOSAxMy4xIDIgMTIgMlpNMTIgMjJDMTMuMSAyMiAxNCAyMS4xIDE0IDIwSDEwQzEwIDIxLjEgMTAuOSAyMiAxMiAyMlpcIiwgZmlsbDogY29sb3IgfSkgfSkpO1xuZXhwb3J0IGNvbnN0IFNhdmVkSWNvbiA9ICh7IHNpemUgPSAyNCwgY2xhc3NOYW1lLCBjb2xvciA9ICcjMDk2NkZGJyB9KSA9PiAoX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAxMDAgMTAwXCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0yNSAyNy4xOTYzQzI1IDIyLjUwMTkgMjguODA1NiAxOC42OTYzIDMzLjUgMTguNjk2M0g2Ni41QzcxLjE5NDQgMTguNjk2MyA3NSAyMi41MDE5IDc1IDI3LjE5NjNWNjcuMTk2M0M3NSA2OC41NzcgNzMuODgwNyA2OS42OTYzIDcyLjUgNjkuNjk2M0M3MS4xMTkzIDY5LjY5NjMgNzAgNjguNTc3IDcwIDY3LjE5NjNWMjcuMTk2M0M3MCAyNS4yNjMzIDY4LjQzMyAyMy42OTYzIDY2LjUgMjMuNjk2M0gzMy41QzMxLjU2NyAyMy42OTYzIDMwIDI1LjI2MzMgMzAgMjcuMTk2M1Y3My4xOTYzQzMwIDc0LjU3NyAyOC44ODA3IDc1LjY5NjMgMjcuNSA3NS42OTYzQzI2LjExOTMgNzUuNjk2MyAyNSA3NC41NzcgMjUgNzMuMTk2M1YyNy4xOTYzWlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMzMgODAuNjk2M0MyOC41ODE3IDgwLjY5NjMgMjUgNzcuMTE0NiAyNSA3Mi42OTYzQzI1IDY4LjI3OCAyOC41ODE3IDY0LjY5NjMgMzMgNjQuNjk2M0g3Mi41QzczLjg4MDcgNjQuNjk2MyA3NSA2NS44MTU2IDc1IDY3LjE5NjNDNzUgNjguNTc3IDczLjg4MDcgNjkuNjk2MyA3Mi41IDY5LjY5NjNIMzNDMzEuMzQzMSA2OS42OTYzIDMwIDcxLjAzOTQgMzAgNzIuNjk2M0MzMCA3NC4zNTMxIDMxLjM0MzEgNzUuNjk2MyAzMyA3NS42OTYzSDcyLjVDNzMuODgwNyA3NS42OTYzIDc1IDc2LjgxNTYgNzUgNzguMTk2M0M3NSA3OS41NzcgNzMuODgwNyA4MC42OTYzIDcyLjUgODAuNjk2M0gzM1pcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTY4LjUgNjUuNjk2M0M2OS44ODA3IDY1LjY5NjMgNzEgNjYuODE1NiA3MSA2OC4xOTYzVjc3LjE5NjNDNzEgNzguNTc3IDY5Ljg4MDcgNzkuNjk2MyA2OC41IDc5LjY5NjNDNjcuMTE5MyA3OS42OTYzIDY2IDc4LjU3NyA2NiA3Ny4xOTYzVjY4LjE5NjNDNjYgNjYuODE1NiA2Ny4xMTkzIDY1LjY5NjMgNjguNSA2NS42OTYzWlwiLCBmaWxsOiBjb2xvciB9KV0gfSkpO1xuZXhwb3J0IGNvbnN0IFZpZGVvSWNvbiA9ICh7IHNpemUgPSAyNCwgY2xhc3NOYW1lLCBjb2xvciA9ICcjMDk2NkZGJyB9KSA9PiAoX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAxMDAgMTAwXCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0yMC41IDM1QzIwLjUgMjYuOTkxOSAyNi45OTE5IDIwLjUgMzUgMjAuNUg2NUM3My4wMDgxIDIwLjUgNzkuNSAyNi45OTE5IDc5LjUgMzVWNjVDNzkuNSA3My4wMDgxIDczLjAwODEgNzkuNSA2NSA3OS41SDM1QzI2Ljk5MTkgNzkuNSAyMC41IDczLjAwODEgMjAuNSA2NVYzNVpNMzUgMjUuNUMyOS43NTMzIDI1LjUgMjUuNSAyOS43NTMzIDI1LjUgMzVWNjVDMjUuNSA3MC4yNDY3IDI5Ljc1MzMgNzQuNSAzNSA3NC41SDY1QzcwLjI0NjcgNzQuNSA3NC41IDcwLjI0NjcgNzQuNSA2NVYzNUM3NC41IDI5Ljc1MzMgNzAuMjQ2NyAyNS41IDY1IDI1LjVIMzVaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0yMS41IDM5QzIxLjUgMzcuNjE5MyAyMi42MTkzIDM2LjUgMjQgMzYuNUg3NUM3Ni4zODA3IDM2LjUgNzcuNSAzNy42MTkzIDc3LjUgMzlDNzcuNSA0MC4zODA3IDc2LjM4MDcgNDEuNSA3NSA0MS41SDI0QzIyLjYxOTMgNDEuNSAyMS41IDQwLjM4MDcgMjEuNSAzOVpcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTM2LjAwNjYgMjEuMjA2QzM3LjI3MzUgMjAuNjU3IDM4Ljc0NTUgMjEuMjM5IDM5LjI5NDUgMjIuNTA1OUw0NS43OTQ1IDM3LjUwNTlDNDYuMzQzNSAzOC43NzI4IDQ1Ljc2MTUgNDAuMjQ0OCA0NC40OTQ3IDQwLjc5MzhDNDMuMjI3OCA0MS4zNDI4IDQxLjc1NTcgNDAuNzYwOCA0MS4yMDY3IDM5LjQ5MzlMMzQuNzA2NyAyNC40OTM5QzM0LjE1NzggMjMuMjI3IDM0LjczOTcgMjEuNzU1IDM2LjAwNjYgMjEuMjA2Wk01NC4wMDY2IDIxLjIwNkM1NS4yNzM1IDIwLjY1NyA1Ni43NDU1IDIxLjIzOSA1Ny4yOTQ1IDIyLjUwNTlMNjMuNzk0NSAzNy41MDU5QzY0LjM0MzUgMzguNzcyOCA2My43NjE1IDQwLjI0NDggNjIuNDk0NyA0MC43OTM4QzYxLjIyNzggNDEuMzQyOCA1OS43NTU3IDQwLjc2MDggNTkuMjA2NyAzOS40OTM5TDUyLjcwNjcgMjQuNDkzOUM1Mi4xNTc4IDIzLjIyNyA1Mi43Mzk3IDIxLjc1NSA1NC4wMDY2IDIxLjIwNlpcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNNDMgNTAuNDk2OUM0MyA0OC45NTAxIDQ0LjY4MDggNDcuOTg4OCA0Ni4wMTQgNDguNzczMUw1Ny4wNjk0IDU1LjI3NjJDNTguMzg0IDU2LjA0OTUgNTguMzg0IDU3Ljk1MDcgNTcuMDY5NCA1OC43MjRMNDYuMDE0IDY1LjIyNzFDNDQuNjgwOCA2Ni4wMTE0IDQzIDY1LjA1MDEgNDMgNjMuNTAzM1Y1MC40OTY5WlwiLCBmaWxsOiBjb2xvciB9KV0gfSkpO1xuZXhwb3J0IGNvbnN0IFNldHRpbmdzSWNvbiA9ICh7IHNpemUgPSAyNCwgY2xhc3NOYW1lLCBjb2xvciA9ICcjMDk2NkZGJyB9KSA9PiAoX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAxMDAgMTAwXCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk01OC4wNDU4IDIzLjcxNjlDNTcuODAwOCAyMS40MzAzIDU1Ljg3MTEgMTkuNjk2MyA1My41NzE0IDE5LjY5NjNINDUuODc4QzQzLjY1NzUgMTkuNjk2MyA0MS44NTc0IDIxLjQ5NjQgNDEuODU3NCAyMy43MTY5QzQxLjg1NzQgMjguNjk2MyAzNS45MTQ5IDMxLjk2NjUgMzEuMTkxNCAyOS44NzQ5QzI5LjA4ODYgMjguOTQzOCAyNi42MjIxIDI5Ljc0NzkgMjUuNDcyMiAzMS43Mzk1TDIxLjc2OTQgMzguMTUzQzIwLjYxOTUgNDAuMTQ0NyAyMS4xNTY0IDQyLjY4MjggMjMuMDE0MSA0NC4wMzgzQzI3LjE4NzIgNDcuMDgzMSAyNy4xODcyIDUzLjMwOTUgMjMuMDE0IDU2LjM1NDNDMjEuMTU2MyA1Ny43MDk4IDIwLjYxOTQgNjAuMjQ3OSAyMS43NjkzIDYyLjIzOTVMMjUuNDcyMSA2OC42NTNDMjYuNjIyIDcwLjY0NDYgMjkuMDg4NSA3MS40NDg4IDMxLjE5MTMgNzAuNTE3N0MzNS45MTQ4IDY4LjQyNiA0MS4zMDcxIDcxLjUzOTIgNDEuODU3NCA3Ni42NzU3QzQyLjEwMjQgNzguOTYyMyA0NC4wMzIxIDgwLjY5NjMgNDYuMzMxOCA4MC42OTYzTDUzLjU3MTQgODAuNjk2M0M1NS44NzExIDgwLjY5NjMgNTcuODAwOCA3OC45NjIzIDU4LjA0NTggNzYuNjc1N0M1OC41OTYxIDcxLjUzOTIgNjMuOTg4NCA2OC40MjYgNjguNzEyIDcwLjUxNzdDNzAuODE0NyA3MS40NDg4IDczLjI4MTIgNzAuNjQ0NyA3NC40MzExIDY4LjY1M0w3OC4xMzM5IDYyLjIzOTVDNzkuMjgzOCA2MC4yNDc5IDc4Ljc0NyA1Ny43MDk4IDc2Ljg4OTIgNTYuMzU0M0M3Mi43MTYgNTMuMzA5NSA3Mi43MTYgNDcuMDgzMSA3Ni44ODkxIDQ0LjAzODNDNzguNzQ2OSA0Mi42ODI4IDc5LjI4MzcgNDAuMTQ0NyA3OC4xMzM4IDM4LjE1MzFMNzQuNDMxIDMxLjczOTVDNzMuMjgxMSAyOS43NDc5IDcwLjgxNDYgMjguOTQzOCA2OC43MTE5IDI5Ljg3NDlDNjMuOTg4NCAzMS45NjY1IDU4LjU5NjEgMjguODUzNCA1OC4wNDU4IDIzLjcxNjlaTTI5LjQxNiAzNC42MjE5QzM2Ljk5NjcgMzcuNjcxNyA0NS40NTgzIDMyLjc4NjIgNDYuNjA3NSAyNC42OTYzSDUzLjEzMDFDNTQuMjc5MyAzMi43ODY0IDYyLjc0MSAzNy42NzE3IDcwLjMyMTggMzQuNjIxOUw3My41ODMyIDQwLjI3MDdDNjcuMTUxNSA0NS4zMTA5IDY3LjE1MTcgNTUuMDgxNyA3My41ODMzIDYwLjEyMTlMNzAuMzIyIDY1Ljc3MDdDNjIuNzQxMiA2Mi43MjA5IDU0LjI3OTMgNjcuNjA2MiA1My4xMzAxIDc1LjY5NjNINDYuNjA3NUM0NS40NTgzIDY3LjYwNjMgMzYuOTk2NiA2Mi43MjA5IDI5LjQxNTkgNjUuNzcwN0wyNi4xNTQ1IDYwLjEyMTlDMzIuNTg2MSA1NS4wODE3IDMyLjU4NjMgNDUuMzEwOSAyNi4xNTQ3IDQwLjI3MDdMMjkuNDE2IDM0LjYyMTlaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk00OS41IDQxLjY5NjNDNDQuODA1NiA0MS42OTYzIDQxIDQ1LjUwMTkgNDEgNTAuMTk2M0M0MSA1NC44OTA3IDQ0LjgwNTYgNTguNjk2MyA0OS41IDU4LjY5NjNDNTQuMTk0NCA1OC42OTYzIDU4IDU0Ljg5MDcgNTggNTAuMTk2M0M1OCA0NS41MDE5IDU0LjE5NDQgNDEuNjk2MyA0OS41IDQxLjY5NjNaTTM2IDUwLjE5NjNDMzYgNDIuNzQwNCA0Mi4wNDQyIDM2LjY5NjMgNDkuNSAzNi42OTYzQzU2Ljk1NTggMzYuNjk2MyA2MyA0Mi43NDA0IDYzIDUwLjE5NjNDNjMgNTcuNjUyMSA1Ni45NTU4IDYzLjY5NjMgNDkuNSA2My42OTYzQzQyLjA0NDIgNjMuNjk2MyAzNiA1Ny42NTIxIDM2IDUwLjE5NjNaXCIsIGZpbGw6IGNvbG9yIH0pXSB9KSk7XG5leHBvcnQgY29uc3QgR3JvdXBzSWNvbiA9ICh7IHNpemUgPSAyNCwgY2xhc3NOYW1lLCBjb2xvciA9ICcjMDk2NkZGJyB9KSA9PiAoX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAxMDAgMTAwXCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0yMCA0OS42OTYzQzIwIDMzLjEyNzcgMzMuNDMxNSAxOS42OTYzIDUwIDE5LjY5NjNDNjYuNTY4NSAxOS42OTYzIDgwIDMzLjEyNzcgODAgNDkuNjk2M0M4MCA2Ni4yNjQ4IDY2LjU2ODUgNzkuNjk2MyA1MCA3OS42OTYzQzMzLjQzMTUgNzkuNjk2MyAyMCA2Ni4yNjQ4IDIwIDQ5LjY5NjNaTTUwIDI0LjY5NjNDMzYuMTkyOSAyNC42OTYzIDI1IDM1Ljg4OTIgMjUgNDkuNjk2M0MyNSA2My41MDM0IDM2LjE5MjkgNzQuNjk2MyA1MCA3NC42OTYzQzYzLjgwNzEgNzQuNjk2MyA3NSA2My41MDM0IDc1IDQ5LjY5NjNDNzUgMzUuODg5MiA2My44MDcxIDI0LjY5NjMgNTAgMjQuNjk2M1pcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTIwIDUwLjY5NjNDMjAgMzQuMTI3NyAzMy40MzE1IDIwLjY5NjMgNTAgMjAuNjk2M0M2Ni41Njg1IDIwLjY5NjMgODAgMzQuMTI3NyA4MCA1MC42OTYzQzgwIDY3LjI2NDggNjYuNTY4NSA4MC42OTYzIDUwIDgwLjY5NjNDMzMuNDMxNSA4MC42OTYzIDIwIDY3LjI2NDggMjAgNTAuNjk2M1pNNTAgMjUuNjk2M0MzNi4xOTI5IDI1LjY5NjMgMjUgMzYuODg5MiAyNSA1MC42OTYzQzI1IDY0LjUwMzQgMzYuMTkyOSA3NS42OTYzIDUwIDc1LjY5NjNDNjMuODA3MSA3NS42OTYzIDc1IDY0LjUwMzQgNzUgNTAuNjk2M0M3NSAzNi44ODkyIDYzLjgwNzEgMjUuNjk2MyA1MCAyNS42OTYzWlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMzEuMjcxNSA3MS4xOTExQzMyLjUwNzUgNjUuMjAwOCAzNy44MDgxIDYwLjY5NjMgNDQuMTY2NCA2MC42OTYzSDU2LjgzM0M2My4xOTE0IDYwLjY5NjMgNjguNDkyIDY1LjIwMDggNjkuNzI3OSA3MS4xOTExTDY0LjgzMTEgNzIuMjAxNUM2NC4wNjQ4IDY4LjQ4NzUgNjAuNzcyIDY1LjY5NjMgNTYuODMzIDY1LjY5NjNINDQuMTY2NEM0MC4yMjc0IDY1LjY5NjMgMzYuOTM0NiA2OC40ODc1IDM2LjE2ODMgNzIuMjAxNUwzMS4yNzE1IDcxLjE5MTFaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk01MC41IDM4LjY5NjNDNDYuOTEwMSAzOC42OTYzIDQ0IDQxLjYwNjQgNDQgNDUuMTk2M0M0NCA0OC43ODYxIDQ2LjkxMDEgNTEuNjk2MyA1MC41IDUxLjY5NjNDNTQuMDg5OSA1MS42OTYzIDU3IDQ4Ljc4NjEgNTcgNDUuMTk2M0M1NyA0MS42MDY0IDU0LjA4OTkgMzguNjk2MyA1MC41IDM4LjY5NjNaTTM5IDQ1LjE5NjNDMzkgMzguODQ1IDQ0LjE0ODcgMzMuNjk2MyA1MC41IDMzLjY5NjNDNTYuODUxMyAzMy42OTYzIDYyIDM4Ljg0NSA2MiA0NS4xOTYzQzYyIDUxLjU0NzYgNTYuODUxMyA1Ni42OTYzIDUwLjUgNTYuNjk2M0M0NC4xNDg3IDU2LjY5NjMgMzkgNTEuNTQ3NiAzOSA0NS4xOTYzWlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMzIgNTIuMTk2M0MzMiA0OC42MDY0IDI5LjA4OTkgNDUuNjk2MyAyNS41IDQ1LjY5NjNWNDAuNjk2M0MzMS44NTEzIDQwLjY5NjMgMzcgNDUuODQ1IDM3IDUyLjE5NjNDMzcgNTguNTQ3NiAzMS44NTEzIDYzLjY5NjMgMjUuNSA2My42OTYzVjU4LjY5NjNDMjkuMDg5OSA1OC42OTYzIDMyIDU1Ljc4NjEgMzIgNTIuMTk2M1pcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTc1LjUgNDUuNjk2M0M3MS45MTAxIDQ1LjY5NjMgNjkgNDguNjA2NCA2OSA1Mi4xOTYzQzY5IDU1Ljc4NjEgNzEuOTEwMSA1OC42OTYzIDc1LjUgNTguNjk2M1Y2My42OTYzQzY5LjE0ODcgNjMuNjk2MyA2NCA1OC41NDc2IDY0IDUyLjE5NjNDNjQgNDUuODQ1IDY5LjE0ODcgNDAuNjk2MyA3NS41IDQwLjY5NjNWNDUuNjk2M1pcIiwgZmlsbDogY29sb3IgfSldIH0pKTtcbmV4cG9ydCBjb25zdCBNYXJrZXRwbGFjZUljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnIzA5NjZGRicgfSkgPT4gKF9qc3hzKFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMTAwIDEwMFwiLCBmaWxsOiBcIm5vbmVcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBbX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMjcgNDUuNVY2NS41QzI3IDcwLjc0NjcgMzEuMjUzMyA3NSAzNi41IDc1SDY0LjVDNjkuNzQ2NyA3NSA3NCA3MC43NDY3IDc0IDY1LjVWNDUuNUg3OVY2NS41Qzc5IDczLjUwODEgNzIuNTA4MSA4MCA2NC41IDgwSDM2LjVDMjguNDkxOSA4MCAyMiA3My41MDgxIDIyIDY1LjVWNDUuNUgyN1pcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTM5IDYzLjVDMzkgNTkuOTEwMSA0MS45MTAxIDU3IDQ1LjUgNTdINTQuNUM1OC4wODk5IDU3IDYxIDU5LjkxMDEgNjEgNjMuNVY3Ny41SDU2VjYzLjVDNTYgNjIuNjcxNiA1NS4zMjg0IDYyIDU0LjUgNjJINDUuNUM0NC42NzE2IDYyIDQ0IDYyLjY3MTYgNDQgNjMuNVY3Ny41SDM5VjYzLjVaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0yNS4wMDEgMjYuNzQ0OEwyMy40MTMyIDM4LjY1MzdDMjMuNDA5MyAzOC42ODI2IDIzLjQwNSAzOC43MTE0IDIzLjQwMDEgMzguNzQwMkMyMy4wMTI4IDQxLjAzMDYgMjMuODIwMiA0Mi43MTI5IDI1LjI2MjggNDMuOTI3OEMyNi43OTggNDUuMjIwNiAyOS4xMTIgNDYgMzEuNDk5NyA0NkMzNC4wMzIyIDQ2IDM2LjI3MjMgNDQuNzQ3MSAzNy42MzQzIDQyLjgxNjJDMzguMDcxIDQyLjE5NyAzOC43NjQ5IDQxLjgwOTMgMzkuNTIxMiA0MS43NjJDNDAuMjc3NCA0MS43MTQ3IDQxLjAxNDIgNDIuMDEyOSA0MS41MjQ3IDQyLjU3MjhDNDMuOTU5NSA0NS4yNDM2IDQ3LjAyNDEgNDcgNDkuOTk5NyA0N0M1Mi45NzUyIDQ3IDU2LjAzOTggNDUuMjQzNiA1OC40NzQ2IDQyLjU3MjhDNTguOTg1MSA0Mi4wMTI5IDU5LjcyMiA0MS43MTQ3IDYwLjQ3ODIgNDEuNzYyQzYxLjIzNDQgNDEuODA5MyA2MS45Mjg0IDQyLjE5NyA2Mi4zNjUxIDQyLjgxNjJDNjMuNzI3IDQ0Ljc0NzEgNjUuOTY3MSA0NiA2OC40OTk3IDQ2QzcwLjg5NjYgNDYgNzMuMTU3NyA0NS4xOTE3IDc0LjYyMDYgNDMuODg0NkM3NS45ODk3IDQyLjY2MTMgNzYuNzUxMiA0MC45NDY2IDc2LjI3MzggMzguNTk3N0M3Ni4yNjk1IDM4LjU3NjcgNzYuMjY1NiAzOC41NTU3IDc2LjI2MTggMzguNTM0N0w3NC4xNTY4IDI2LjYxOTRDNzMuNzU2OCAyNS4wNzk2IDcyLjM2NTggMjQgNzAuNzY5NCAyNEgyOC40MTg2QzI2Ljc3MzcgMjQgMjUuMzU0MyAyNS4xNDQ3IDI1LjAwMSAyNi43NDQ4Wk0yMC4wODM3IDI1LjgzM0MyMC44NzgzIDIxLjg1OTkgMjQuMzY2OCAxOSAyOC40MTg2IDE5SDcwLjc2OTRDNzQuNjk5NyAxOSA3OC4xMTc1IDIxLjY5NDYgNzkuMDM0NyAyNS41MTYzQzc5LjA0NjUgMjUuNTY1NSA3OS4wNTY4IDI1LjYxNSA3OS4wNjU2IDI1LjY2NDhMODEuMTgwMyAzNy42MzQ5QzgyLjAxNTkgNDEuODAxOCA4MC41Njg2IDQ1LjI3NTEgNzcuOTUyIDQ3LjYxMzFDNzUuNDIyMyA0OS44NzM0IDcxLjkwNzggNTEgNjguNDk5NyA1MUM2NS4zMTQ1IDUxIDYyLjQwOCA0OS44MDczIDYwLjIwMjUgNDcuODQ5QzU3LjQyNjggNTAuMjIxNyA1My45MDAyIDUyIDQ5Ljk5OTcgNTJDNDYuMDk5MiA1MiA0Mi41NzI2IDUwLjIyMTcgMzkuNzk2OSA0Ny44NDlDMzcuNTkxNCA0OS44MDczIDM0LjY4NDkgNTEgMzEuNDk5NyA1MUMyOC4xNDI3IDUxIDI0LjYyNjkgNDkuOTI5IDIyLjA0MjIgNDcuNzUyNEMxOS4zNzQ2IDQ1LjUwNiAxNy43NzM5IDQyLjExNjUgMTguNDYyNSAzNy45NTJMMjAuMDU3IDI1Ljk5MjlDMjAuMDY0MiAyNS45MzkzIDIwLjA3MzEgMjUuODg2IDIwLjA4MzcgMjUuODMzWlwiLCBmaWxsOiBjb2xvciB9KV0gfSkpO1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQUNUSU9OIElDT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3QgU2VhcmNoSWNvbiA9ICh7IHNpemUgPSAyNCwgY2xhc3NOYW1lLCBjb2xvciA9ICcjMDk2NkZGJyB9KSA9PiAoX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMTUuNSAxNEgxNC43MUwxNC40MyAxMy43M0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjVDMTYgNS45MSAxMy4wOSAzIDkuNSAzQzUuOTEgMyAzIDUuOTEgMyA5LjVDMyAxMy4wOSA1LjkxIDE2IDkuNSAxNkMxMS4xMSAxNiAxMi41OSAxNS40MSAxMy43MyAxNC40M0wxNCAxNC43MVYxNS41TDE5IDIwLjQ5TDIwLjQ5IDE5TDE1LjUgMTRaTTkuNSAxNEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVDNSA3LjAxIDcuMDEgNSA5LjUgNUMxMS45OSA1IDE0IDcuMDEgMTQgOS41QzE0IDExLjk5IDExLjk5IDE0IDkuNSAxNFpcIiwgZmlsbDogY29sb3IgfSkgfSkpO1xuZXhwb3J0IGNvbnN0IE1lZGlhUGhvdG9JY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4KFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0yMSAxOVY1QzIxIDMuOSAyMC4xIDMgMTkgM0g1QzMuOSAzIDMgMy45IDMgNVYxOUMzIDIwLjEgMy45IDIxIDUgMjFIMTlDMjAuMSAyMSAyMSAyMC4xIDIxIDE5Wk04LjUgMTMuNUwxMSAxNi41MUwxNC41IDEyTDE5IDE4SDVMOC41IDEzLjVaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbmV4cG9ydCBjb25zdCBDb21tZW50SWNvbiA9ICh7IHNpemUgPSAyNCwgY2xhc3NOYW1lLCBjb2xvciA9ICcjMDk2NkZGJyB9KSA9PiAoX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMjEuOTkgNEMyMS45OSAyLjkgMjEuMSAyIDIwIDJINEMyLjkgMiAyIDIuOSAyIDRWMTZDMiAxNy4xIDIuOSAxOCA0IDE4SDE4TDIyIDIyTDIxLjk5IDRaTTE4IDE0SDZWMTJIMThWMTRaTTE4IDExSDZWOUgxOFYxMVpNMTggOEg2VjZIMThWOFpcIiwgZmlsbDogY29sb3IgfSkgfSkpO1xuZXhwb3J0IGNvbnN0IFBsYXlCdXR0b25JY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4KFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk04IDVWMTlMMTkgMTJMOCA1WlwiLCBmaWxsOiBjb2xvciB9KSB9KSk7XG4vLyBTaW1wbGUgYmVsbCBub3RpZmljYXRpb24gaWNvbiAgXG5leHBvcnQgY29uc3QgQmVsbEljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnY3VycmVudENvbG9yJyB9KSA9PiAoX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMTIgMjJDMTMuMSAyMiAxNCAyMS4xIDE0IDIwSDEwQzEwIDIxLjEgMTAuOSAyMiAxMiAyMlpNMTggMTZWMTFDMTggNy45MyAxNi4zNyA1LjM2IDEzLjUgNC42OFY0QzEzLjUgMy4xNyAxMi44MyAyLjUgMTIgMi41QzExLjE3IDIuNSAxMC41IDMuMTcgMTAuNSA0VjQuNjhDNy42NCA1LjM2IDYgNy45MiA2IDExVjE2TDQgMThWMTlIMjBWMThMMTggMTZaTTE2IDE3SDhWMTFDOCA4LjUyIDkuNTEgNi41IDEyIDYuNUMxNC40OSA2LjUgMTYgOC41MiAxNiAxMVYxN1pcIiwgZmlsbDogY29sb3IgfSkgfSkpO1xuLy8gQm9va21hcmsgaWNvbiBmb3Igc2F2ZWRcbmV4cG9ydCBjb25zdCBCb29rbWFya0ljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnY3VycmVudENvbG9yJyB9KSA9PiAoX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMTcgM0g3QzUuOSAzIDUuMDEgMy45IDUuMDEgNUw1IDIxTDEyIDE4TDE5IDIxVjVDMTkgMy45IDE4LjEgMyAxNyAzWk0xNyAxOEwxMiAxNS44Mkw3IDE4VjVIMTdWMThaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbi8vIENhbWVyYSBpY29uIGZvciBtZWRpYSB1cGxvYWRcbmV4cG9ydCBjb25zdCBDYW1lcmFJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IFtfanN4KFwiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiMTJcIiwgcjogXCIzLjJcIiwgZmlsbDogY29sb3IgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNOSAyTDcuMTcgNEg0QzIuOSA0IDIgNC45IDIgNlYxOEMyIDE5LjEgMi45IDIwIDQgMjBIMjBDMjEuMSAyMCAyMiAxOS4xIDIyIDE4VjZDMjIgNC45IDIxLjEgNCAyMCA0SDE2LjgzTDE1IDJIOVpNMTIgMTdDOS4yNCAxNyA3IDE0Ljc2IDcgMTJDNyA5LjI0IDkuMjQgNyAxMiA3QzE0Ljc2IDcgMTcgOS4yNCAxNyAxMkMxNyAxNC43NiAxNC43NiAxNyAxMiAxN1pcIiwgZmlsbDogY29sb3IgfSldIH0pKTtcbi8vIEZpbG0vcmVlbCBpY29uXG5leHBvcnQgY29uc3QgUmVlbEljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnIzA5NjZGRicgfSkgPT4gKF9qc3goXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTE4IDRMMjAgOEgxN0wxNSA0SDEzTDE1IDhIMTJMMTAgNEg4TDEwIDhIN0w1IDRINEMyLjkgNCAyLjAxIDQuOSAyLjAxIDZMMiAxOEMyIDE5LjEgMi45IDIwIDQgMjBIMjBDMjEuMSAyMCAyMiAxOS4xIDIyIDE4VjRIMThaTTExLjUgMThDOS4yOSAxOCA3LjUgMTYuMjEgNy41IDE0QzcuNSAxMS43OSA5LjI5IDEwIDExLjUgMTBDMTMuNzEgMTAgMTUuNSAxMS43OSAxNS41IDE0QzE1LjUgMTYuMjEgMTMuNzEgMTggMTEuNSAxOFpNMTMgMTRMMTAuNSAxNS43NVYxMi4yNUwxMyAxNFpcIiwgZmlsbDogY29sb3IgfSkgfSkpO1xuLy8gR2xvYmUgaWNvbiBmb3IgcHVibGljIHZpc2liaWxpdHlcbmV4cG9ydCBjb25zdCBHbG9iZUljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnY3VycmVudENvbG9yJyB9KSA9PiAoX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJDMiAxNy41MiA2LjQ4IDIyIDEyIDIyQzE3LjUyIDIyIDIyIDE3LjUyIDIyIDEyQzIyIDYuNDggMTcuNTIgMiAxMiAyWk0xMSAxOS45M0M3LjA1IDE5LjQ0IDQgMTYuMDggNCAxMkM0IDExLjM4IDQuMDggMTAuNzkgNC4yMSAxMC4yMUw5IDE1VjE2QzkgMTcuMSA5LjkgMTggMTEgMThWMTkuOTNaTTE3LjkgMTcuMzlDMTcuNjQgMTYuNTggMTYuOSAxNiAxNiAxNkgxNVYxM0MxNSAxMi40NSAxNC41NSAxMiAxNCAxMkg4VjEwSDEwQzEwLjU1IDEwIDExIDkuNTUgMTEgOVY3SDEzQzE0LjEgNyAxNSA2LjEgMTUgNVY0LjU5QzE3LjkzIDUuNzggMjAgOC42NSAyMCAxMkMyMCAxNC4wOCAxOS4yIDE1Ljk3IDE3LjkgMTcuMzlaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbi8vIExvY2sgaWNvbiBmb3IgcHJpdmF0ZSB2aXNpYmlsaXR5XG5leHBvcnQgY29uc3QgTG9ja0ljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnY3VycmVudENvbG9yJyB9KSA9PiAoX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMTggOEgxN1Y2QzE3IDMuMjQgMTQuNzYgMSAxMiAxQzkuMjQgMSA3IDMuMjQgNyA2VjhINkM0LjkgOCA0IDguOSA0IDEwVjIwQzQgMjEuMSA0LjkgMjIgNiAyMkgxOEMxOS4xIDIyIDIwIDIxLjEgMjAgMjBWMTBDMjAgOC45IDE5LjEgOCAxOCA4Wk0xMiAxN0MxMC45IDE3IDEwIDE2LjEgMTAgMTVDMTAgMTMuOSAxMC45IDEzIDEyIDEzQzEzLjEgMTMgMTQgMTMuOSAxNCAxNUMxNCAxNi4xIDEzLjEgMTcgMTIgMTdaTTE1LjEgOEg4LjlWNkM4LjkgNC4yOSAxMC4yOSAyLjkgMTIgMi45QzEzLjcxIDIuOSAxNS4xIDQuMjkgMTUuMSA2VjhaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENIQVQvQ09OVkVSU0FUSU9OIElDT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQcm9maWxlL0FjY291bnQgaWNvblxuZXhwb3J0IGNvbnN0IFByb2ZpbGVJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDEwMCAxMDBcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTIwIDQ5LjY5NjNDMjAgMzMuMTI3NyAzMy40MzE1IDE5LjY5NjMgNTAgMTkuNjk2M0M2Ni41Njg1IDE5LjY5NjMgODAgMzMuMTI3NyA4MCA0OS42OTYzQzgwIDY2LjI2NDggNjYuNTY4NSA3OS42OTYzIDUwIDc5LjY5NjNDMzMuNDMxNSA3OS42OTYzIDIwIDY2LjI2NDggMjAgNDkuNjk2M1pNNTAgMjQuNjk2M0MzNi4xOTI5IDI0LjY5NjMgMjUgMzUuODg5MiAyNSA0OS42OTYzQzI1IDYzLjUwMzQgMzYuMTkyOSA3NC42OTYzIDUwIDc0LjY5NjNDNjMuODA3MSA3NC42OTYzIDc1IDYzLjUwMzQgNzUgNDkuNjk2M0M3NSAzNS44ODkyIDYzLjgwNzEgMjQuNjk2MyA1MCAyNC42OTYzWlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMzEgNzEuODYzQzMxIDY0LjU5MTIgMzYuODk0OSA1OC42OTYzIDQ0LjE2NjcgNTguNjk2M0g1Ni44MzMzQzY0LjEwNTEgNTguNjk2MyA3MCA2NC41OTEyIDcwIDcxLjg2M0g2NUM2NSA2Ny4zNTI2IDYxLjM0MzcgNjMuNjk2MyA1Ni44MzMzIDYzLjY5NjNINDQuMTY2N0MzOS42NTYzIDYzLjY5NjMgMzYgNjcuMzUyNiAzNiA3MS44NjNIMzFaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk01MC41IDM0LjY5NjNDNDYuMzU3OSAzNC42OTYzIDQzIDM4LjA1NDIgNDMgNDIuMTk2M0M0MyA0Ni4zMzg0IDQ2LjM1NzkgNDkuNjk2MyA1MC41IDQ5LjY5NjNDNTQuNjQyMSA0OS42OTYzIDU4IDQ2LjMzODQgNTggNDIuMTk2M0M1OCAzOC4wNTQyIDU0LjY0MjEgMzQuNjk2MyA1MC41IDM0LjY5NjNaTTM4IDQyLjE5NjNDMzggMzUuMjkyNyA0My41OTY0IDI5LjY5NjMgNTAuNSAyOS42OTYzQzU3LjQwMzYgMjkuNjk2MyA2MyAzNS4yOTI3IDYzIDQyLjE5NjNDNjMgNDkuMDk5OCA1Ny40MDM2IDU0LjY5NjMgNTAuNSA1NC42OTYzQzQzLjU5NjQgNTQuNjk2MyAzOCA0OS4wOTk4IDM4IDQyLjE5NjNaXCIsIGZpbGw6IGNvbG9yIH0pXSB9KSk7XG4vLyBNZWRpYS9QaG90byBpY29uXG5leHBvcnQgY29uc3QgTWVkaWFJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBzaXplLCBoZWlnaHQ6IHNpemUsIHZpZXdCb3g6IFwiMCAwIDEwMCAxMDBcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTIwIDM1LjE5NjNDMjAgMjcuMTg4MiAyNi40OTE5IDIwLjY5NjMgMzQuNSAyMC42OTYzSDY0LjVDNzIuNTA4MSAyMC42OTYzIDc5IDI3LjE4ODIgNzkgMzUuMTk2M1Y2NS4xOTYzQzc5IDczLjIwNDQgNzIuNTA4MSA3OS42OTYzIDY0LjUgNzkuNjk2M0gzNC41QzI2LjQ5MTkgNzkuNjk2MyAyMCA3My4yMDQ0IDIwIDY1LjE5NjNWMzUuMTk2M1pNMzQuNSAyNS42OTYzQzI5LjI1MzMgMjUuNjk2MyAyNSAyOS45NDk2IDI1IDM1LjE5NjNWNjUuMTk2M0MyNSA3MC40NDMgMjkuMjUzMyA3NC42OTYzIDM0LjUgNzQuNjk2M0g2NC41QzY5Ljc0NjcgNzQuNjk2MyA3NCA3MC40NDMgNzQgNjUuMTk2M1YzNS4xOTYzQzc0IDI5Ljk0OTYgNjkuNzQ2NyAyNS42OTYzIDY0LjUgMjUuNjk2M0gzNC41WlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNNjIuOTk1MiA0Ny40NTE0QzYyLjc5NTEgNDcuMjc2MyA2Mi40OTI5IDQ3LjI4ODQgNjIuMzA3NSA0Ny40NzlMNDcuNzM5IDYyLjQ1MjJDNDUuOTYwNSA2NC4yODAxIDQzLjAxOTcgNjQuMjY2MSA0MS4yNTg3IDYyLjQyMTJMMzQuMzYxNyA1NS4xOTU4QzM0LjE2NDcgNTQuOTg5NCAzMy44MzUzIDU0Ljk4OTQgMzMuNjM4MyA1NS4xOTU4TDI1LjMwODQgNjMuOTIyNEMyNC4zNTUgNjQuOTIxMSAyMi43NzI2IDY0Ljk1NzkgMjEuNzczOCA2NC4wMDQ2QzIwLjc3NTEgNjMuMDUxMiAyMC43MzgzIDYxLjQ2ODggMjEuNjkxNiA2MC40N0wzMC4wMjE1IDUxLjc0MzRDMzIuMTg4MiA0OS40NzM2IDM1LjgxMTggNDkuNDczNiAzNy45Nzg1IDUxLjc0MzRMNDQuNTE3MiA1OC41OTM1TDU4LjcyMzkgNDMuOTkyMkM2MC43NjM0IDQxLjg5NjEgNjQuMDg2NyA0MS43NjI2IDY2LjI4NzcgNDMuNjg4NUw3Ni4xNDYzIDUyLjMxNDhDNzcuMTg1NCA1My4yMjQgNzcuMjkwNiA1NC44MDM0IDc2LjM4MTQgNTUuODQyNUM3NS40NzIyIDU2Ljg4MTUgNzMuODkyOCA1Ni45ODY4IDcyLjg1MzcgNTYuMDc3Nkw2Mi45OTUyIDQ3LjQ1MTRaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTQwLjUgMzcuNjk2M0M0MC41IDQwLjE4MTYgMzguNDg1MyA0Mi4xOTYzIDM2IDQyLjE5NjNDMzMuNTE0NyA0Mi4xOTYzIDMxLjUgNDAuMTgxNiAzMS41IDM3LjY5NjNDMzEuNSAzNS4yMTEgMzMuNTE0NyAzMy4xOTYzIDM2IDMzLjE5NjNDMzguNDg1MyAzMy4xOTYzIDQwLjUgMzUuMjExIDQwLjUgMzcuNjk2M1pcIiwgZmlsbDogY29sb3IgfSldIH0pKTtcbi8vIE1pY3JvcGhvbmUgaWNvblxuZXhwb3J0IGNvbnN0IE1pY0ljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnIzA5NjZGRicgfSkgPT4gKF9qc3hzKFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMTAwIDEwMFwiLCBmaWxsOiBcIm5vbmVcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBbX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMzYgMzMuMTk2M0MzNiAyNS43NDA0IDQyLjA0NDIgMTkuNjk2MyA0OS41IDE5LjY5NjNDNTYuOTU1OCAxOS42OTYzIDYzIDI1Ljc0MDQgNjMgMzMuMTk2M1Y0Ny4xOTYzQzYzIDU0LjY1MjEgNTYuOTU1OCA2MC42OTYzIDQ5LjUgNjAuNjk2M0M0Mi4wNDQyIDYwLjY5NjMgMzYgNTQuNjUyMSAzNiA0Ny4xOTYzVjMzLjE5NjNaTTQ5LjUgMjQuNjk2M0M0NC44MDU2IDI0LjY5NjMgNDEgMjguNTAxOSA0MSAzMy4xOTYzVjQ3LjE5NjNDNDEgNTEuODkwNyA0NC44MDU2IDU1LjY5NjMgNDkuNSA1NS42OTYzQzU0LjE5NDQgNTUuNjk2MyA1OCA1MS44OTA3IDU4IDQ3LjE5NjNWMzMuMTk2M0M1OCAyOC41MDE5IDU0LjE5NDQgMjQuNjk2MyA0OS41IDI0LjY5NjNaXCIsIGZpbGw6IGNvbG9yIH0pLCBfanN4KFwicGF0aFwiLCB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk0yNy41IDQzLjY5NjNDMjguODgwNyA0My42OTYzIDMwIDQ0LjgxNTYgMzAgNDYuMTk2M0MzMCA1Ni45NjU4IDM4LjczMDQgNjUuNjk2MyA0OS41IDY1LjY5NjNDNjAuMjY5NiA2NS42OTYzIDY5IDU2Ljk2NTggNjkgNDYuMTk2M0M2OSA0NC44MTU2IDcwLjExOTMgNDMuNjk2MyA3MS41IDQzLjY5NjNDNzIuODgwNyA0My42OTYzIDc0IDQ0LjgxNTYgNzQgNDYuMTk2M0M3NCA1OS43MjczIDYzLjAzMSA3MC42OTYzIDQ5LjUgNzAuNjk2M0MzNS45NjkgNzAuNjk2MyAyNSA1OS43MjczIDI1IDQ2LjE5NjNDMjUgNDQuODE1NiAyNi4xMTkzIDQzLjY5NjMgMjcuNSA0My42OTYzWlwiLCBmaWxsOiBjb2xvciB9KSwgX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNNDkuNSA2NS42OTYzQzUwLjg4MDcgNjUuNjk2MyA1MiA2Ni44MTU2IDUyIDY4LjE5NjNWNzcuNjk2M0M1MiA3OS4wNzcgNTAuODgwNyA4MC4xOTYzIDQ5LjUgODAuMTk2M0M0OC4xMTkzIDgwLjE5NjMgNDcgNzkuMDc3IDQ3IDc3LjY5NjNWNjguMTk2M0M0NyA2Ni44MTU2IDQ4LjExOTMgNjUuNjk2MyA0OS41IDY1LjY5NjNaXCIsIGZpbGw6IGNvbG9yIH0pXSB9KSk7XG4vLyBGb2xkZXIgaWNvblxuZXhwb3J0IGNvbnN0IEZvbGRlckljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnIzA5NjZGRicgfSkgPT4gKF9qc3goXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTEwIDRINEMyLjkgNCAyLjAxIDQuOSAyLjAxIDZMMiAxOEMyIDE5LjEgMi45IDIwIDQgMjBIMjBDMjEuMSAyMCAyMiAxOS4xIDIyIDE4VjhDMjIgNi45IDIxLjEgNiAyMCA2SDEyTDEwIDRaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbi8vIEZpbGUvRG9jdW1lbnQgaWNvblxuZXhwb3J0IGNvbnN0IEZpbGVJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4KFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xNCAySDZDNC45IDIgNC4wMSAyLjkgNC4wMSA0TDQgMjBDNCAyMS4xIDQuODkgMjIgNS45OSAyMkgxOEMxOS4xIDIyIDIwIDIxLjEgMjAgMjBWOEwxNCAyWk0xNiAxOEg4VjE2SDE2VjE4Wk0xNiAxNEg4VjEySDE2VjE0Wk0xMyA5VjMuNUwxOC41IDlIMTNaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbi8vIFBhbGV0dGUvVGhlbWUgaWNvblxuZXhwb3J0IGNvbnN0IFBhbGV0dGVJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4KFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xMiAyQzYuNDkgMiAyIDYuNDkgMiAxMkMyIDE3LjUxIDYuNDkgMjIgMTIgMjJDMTIuODMgMjIgMTMuNSAyMS4zMyAxMy41IDIwLjVDMTMuNSAyMC4xMyAxMy4zNiAxOS44MSAxMy4xNCAxOS41NkMxMi45MiAxOS4zMSAxMi44MSAxOC45OSAxMi44MSAxOC42M0MxMi44MSAxNy44IDEzLjQ4IDE3LjEzIDE0LjMxIDE3LjEzSDE2QzE4Ljc2IDE3LjEzIDIxIDE0Ljg5IDIxIDEyLjEzQzIxIDYuNTUgMTcuMDMgMiAxMiAyWk02LjUgMTJDNS42NyAxMiA1IDExLjMzIDUgMTAuNUM1IDkuNjcgNS42NyA5IDYuNSA5QzcuMzMgOSA4IDkuNjcgOCAxMC41QzggMTEuMzMgNy4zMyAxMiA2LjUgMTJaTTkuNSA4QzguNjcgOCA4IDcuMzMgOCA2LjVDOCA1LjY3IDguNjcgNSA5LjUgNUMxMC4zMyA1IDExIDUuNjcgMTEgNi41QzExIDcuMzMgMTAuMzMgOCA5LjUgOFpNMTQuNSA4QzEzLjY3IDggMTMgNy4zMyAxMyA2LjVDMTMgNS42NyAxMy42NyA1IDE0LjUgNUMxNS4zMyA1IDE2IDUuNjcgMTYgNi41QzE2IDcuMzMgMTUuMzMgOCAxNC41IDhaTTE3LjUgMTJDMTYuNjcgMTIgMTYgMTEuMzMgMTYgMTAuNUMxNiA5LjY3IDE2LjY3IDkgMTcuNSA5QzE4LjMzIDkgMTkgOS42NyAxOSAxMC41QzE5IDExLjMzIDE4LjMzIDEyIDE3LjUgMTJaXCIsIGZpbGw6IGNvbG9yIH0pIH0pKTtcbi8vIFRodW1icyB1cCAvIExpa2UgaWNvbiAoZm9yIGNoYXQpXG5leHBvcnQgY29uc3QgVGh1bWJzVXBJY29uID0gKHsgc2l6ZSA9IDI0LCBjbGFzc05hbWUsIGNvbG9yID0gJyMwOTY2RkYnIH0pID0+IChfanN4KFwic3ZnXCIsIHsgd2lkdGg6IHNpemUsIGhlaWdodDogc2l6ZSwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xIDIxSDVWOUgxVjIxWk0yMyAxMEMyMyA4LjkgMjIuMSA4IDIxIDhIMTQuNjlMMTUuNjQgMy40M0wxNS42NyAzLjExQzE1LjY3IDIuNyAxNS41IDIuMzIgMTUuMjMgMi4wNUwxNC4xNyAxTDcuNTkgNy41OUM3LjIyIDcuOTUgNyA4LjQ1IDcgOVYxOUM3IDIwLjEgNy45IDIxIDkgMjFIMThDMTguODMgMjEgMTkuNTQgMjAuNSAxOS44NCAxOS43OEwyMi44NiAxMi43M0MyMi45NSAxMi41IDIzIDEyLjI2IDIzIDEyVjEwWlwiLCBmaWxsOiBjb2xvciB9KSB9KSk7XG4vLyBFZGl0L1RleHQgaWNvbiBcbmV4cG9ydCBjb25zdCBFZGl0VGV4dEljb24gPSAoeyBzaXplID0gMjQsIGNsYXNzTmFtZSwgY29sb3IgPSAnIzA5NjZGRicgfSkgPT4gKF9qc3goXCJzdmdcIiwgeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGNoaWxkcmVuOiBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTUgMTdWMTlIMTlWMTdINVpNOS41IDEyLjhMMTEgMTQuM0wxNy44IDcuNUwxNi4zIDZMOS41IDEyLjhaTTMgMjFIMjFWMTVIM1YyMVpNNSA0VjhIMTlWNEg1WlwiLCBmaWxsOiBjb2xvciB9KSB9KSk7XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIkhvbWVJY29uIiwic2l6ZSIsImNsYXNzTmFtZSIsImNvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsInhtbG5zIiwiY2hpbGRyZW4iLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwiZCIsIkZyaWVuZHNJY29uIiwiTWVzc2VuZ2VySWNvbiIsIk5vdGlmaWNhdGlvbnNJY29uIiwiU2F2ZWRJY29uIiwiVmlkZW9JY29uIiwiU2V0dGluZ3NJY29uIiwiR3JvdXBzSWNvbiIsIk1hcmtldHBsYWNlSWNvbiIsIlNlYXJjaEljb24iLCJNZWRpYVBob3RvSWNvbiIsIkNvbW1lbnRJY29uIiwiUGxheUJ1dHRvbkljb24iLCJCZWxsSWNvbiIsIkJvb2ttYXJrSWNvbiIsIkNhbWVyYUljb24iLCJjeCIsImN5IiwiciIsIlJlZWxJY29uIiwiR2xvYmVJY29uIiwiTG9ja0ljb24iLCJQcm9maWxlSWNvbiIsIk1lZGlhSWNvbiIsIk1pY0ljb24iLCJGb2xkZXJJY29uIiwiRmlsZUljb24iLCJQYWxldHRlSWNvbiIsIlRodW1ic1VwSWNvbiIsIkVkaXRUZXh0SWNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/Icons.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/ChatHeader.js":
/*!********************************************************!*\
  !*** ../../packages/app/components/chat/ChatHeader.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatHeader: () => (/* binding */ ChatHeader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ChatHeader({ title, subtitle, avatar, statusDotColor, actions, onVideoCall, onAudioCall, onToggleInfo, isInfoVisible, activeCall, onJoinCall }) {\n    const handleJoinCall = ()=>{\n        if (activeCall && onJoinCall) {\n            onJoinCall(activeCall.id, activeCall.callType, activeCall.livekitRoomName);\n        }\n    };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"chat-header-content\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-header-left\",\n                children: [\n                    avatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: avatar,\n                        alt: title,\n                        className: \"chat-header-avatar\"\n                    }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-header-avatar chat-header-avatar--fallback\",\n                        children: title.slice(0, 1).toUpperCase()\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"chat-header-text\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"chat-header-title\",\n                                children: title\n                            }),\n                            subtitle ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                className: \"chat-header-subtitle\",\n                                children: [\n                                    statusDotColor ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"chat-header-status-dot\",\n                                        style: {\n                                            backgroundColor: statusDotColor\n                                        }\n                                    }) : null,\n                                    subtitle\n                                ]\n                            }) : null\n                        ]\n                    })\n                ]\n            }),\n            activeCall && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-header-active-call\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"chat-header-active-call-indicator\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-header-active-call-pulse\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                                className: \"chat-header-active-call-text\",\n                                children: [\n                                    activeCall.type === \"video\" ? \"\\uD83D\\uDCF9\" : \"\\uD83D\\uDCDE\",\n                                    \" Cuc gi ang din ra\"\n                                ]\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"chat-header-join-call-btn\",\n                        onClick: handleJoinCall,\n                        type: \"button\",\n                        children: \"Tham gia\"\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-header-actions\",\n                children: [\n                    !activeCall && onVideoCall && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"chat-header-action-button\",\n                        onClick: onVideoCall,\n                        title: \"Gi video\",\n                        type: \"button\",\n                        children: \"\\uD83D\\uDCF9\"\n                    }),\n                    !activeCall && onAudioCall && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"chat-header-action-button\",\n                        onClick: onAudioCall,\n                        title: \"Gi thoi\",\n                        type: \"button\",\n                        children: \"\\uD83D\\uDCDE\"\n                    }),\n                    onToggleInfo && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"chat-header-action-button\",\n                        onClick: onToggleInfo,\n                        title: isInfoVisible ? \"n th\\xf4ng tin on chat\" : \"Hin th\\xf4ng tin on chat\",\n                        type: \"button\",\n                        children: \"\"\n                    }),\n                    actions\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0SGVhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRDtBQUN4RCxTQUFTSSxXQUFXLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLGNBQWMsRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFQyxhQUFhLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUFHO0lBQzNKLE1BQU1DLGlCQUFpQjtRQUNuQixJQUFJRixjQUFjQyxZQUFZO1lBQzFCQSxXQUFXRCxXQUFXRyxFQUFFLEVBQUVILFdBQVdJLFFBQVEsRUFBRUosV0FBV0ssZUFBZTtRQUM3RTtJQUNKO0lBQ0EsT0FBUWhCLHVEQUFLQSxDQUFDLE9BQU87UUFBRWlCLFdBQVc7UUFBdUJDLFVBQVU7WUFBQ2xCLHVEQUFLQSxDQUFDLE9BQU87Z0JBQUVpQixXQUFXO2dCQUFvQkMsVUFBVTtvQkFBQ2QsU0FBVU4sc0RBQUlBLENBQUMsT0FBTzt3QkFBRXFCLEtBQUtmO3dCQUFRZ0IsS0FBS2xCO3dCQUFPZSxXQUFXO29CQUFxQixLQUFPbkIsc0RBQUlBLENBQUMsT0FBTzt3QkFBRW1CLFdBQVc7d0JBQW1EQyxVQUFVaEIsTUFBTW1CLEtBQUssQ0FBQyxHQUFHLEdBQUdDLFdBQVc7b0JBQUc7b0JBQUt0Qix1REFBS0EsQ0FBQyxPQUFPO3dCQUFFaUIsV0FBVzt3QkFBb0JDLFVBQVU7NEJBQUNwQixzREFBSUEsQ0FBQyxPQUFPO2dDQUFFbUIsV0FBVztnQ0FBcUJDLFVBQVVoQjs0QkFBTTs0QkFBSUMsV0FBWUgsdURBQUtBLENBQUMsT0FBTztnQ0FBRWlCLFdBQVc7Z0NBQXdCQyxVQUFVO29DQUFDYixpQkFBa0JQLHNEQUFJQSxDQUFDLFFBQVE7d0NBQUVtQixXQUFXO3dDQUEwQk0sT0FBTzs0Q0FBRUMsaUJBQWlCbkI7d0NBQWU7b0NBQUUsS0FBTTtvQ0FBTUY7aUNBQVM7NEJBQUMsS0FBTTt5QkFBSztvQkFBQztpQkFBRztZQUFDO1lBQUlRLGNBQWVYLHVEQUFLQSxDQUFDLE9BQU87Z0JBQUVpQixXQUFXO2dCQUEyQkMsVUFBVTtvQkFBQ2xCLHVEQUFLQSxDQUFDLE9BQU87d0JBQUVpQixXQUFXO3dCQUFxQ0MsVUFBVTs0QkFBQ3BCLHNEQUFJQSxDQUFDLFFBQVE7Z0NBQUVtQixXQUFXOzRCQUFnQzs0QkFBSWpCLHVEQUFLQSxDQUFDLFFBQVE7Z0NBQUVpQixXQUFXO2dDQUFnQ0MsVUFBVTtvQ0FBQ1AsV0FBV2MsSUFBSSxLQUFLLFVBQVUsaUJBQU87b0NBQU07aUNBQTZDOzRCQUFDO3lCQUFHO29CQUFDO29CQUFJM0Isc0RBQUlBLENBQUMsVUFBVTt3QkFBRW1CLFdBQVc7d0JBQTZCUyxTQUFTYjt3QkFBZ0JZLE1BQU07d0JBQVVQLFVBQVU7b0JBQVc7aUJBQUc7WUFBQztZQUFLbEIsdURBQUtBLENBQUMsT0FBTztnQkFBRWlCLFdBQVc7Z0JBQXVCQyxVQUFVO29CQUFDLENBQUNQLGNBQWNKLGVBQWdCVCxzREFBSUEsQ0FBQyxVQUFVO3dCQUFFbUIsV0FBVzt3QkFBNkJTLFNBQVNuQjt3QkFBYUwsT0FBTzt3QkFBa0J1QixNQUFNO3dCQUFVUCxVQUFVO29CQUFlO29CQUFLLENBQUNQLGNBQWNILGVBQWdCVixzREFBSUEsQ0FBQyxVQUFVO3dCQUFFbUIsV0FBVzt3QkFBNkJTLFNBQVNsQjt3QkFBYU4sT0FBTzt3QkFBdUJ1QixNQUFNO3dCQUFVUCxVQUFVO29CQUFlO29CQUFLVCxnQkFBaUJYLHNEQUFJQSxDQUFDLFVBQVU7d0JBQUVtQixXQUFXO3dCQUE2QlMsU0FBU2pCO3dCQUFjUCxPQUFPUSxnQkFBZ0IsOEJBQTJCO3dCQUE0QmUsTUFBTTt3QkFBVVAsVUFBVTtvQkFBZTtvQkFBS1o7aUJBQVE7WUFBQztTQUFHO0lBQUM7QUFDdDBEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0SGVhZGVyLmpzP2Y2ZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBDaGF0SGVhZGVyKHsgdGl0bGUsIHN1YnRpdGxlLCBhdmF0YXIsIHN0YXR1c0RvdENvbG9yLCBhY3Rpb25zLCBvblZpZGVvQ2FsbCwgb25BdWRpb0NhbGwsIG9uVG9nZ2xlSW5mbywgaXNJbmZvVmlzaWJsZSwgYWN0aXZlQ2FsbCwgb25Kb2luQ2FsbCwgfSkge1xuICAgIGNvbnN0IGhhbmRsZUpvaW5DYWxsID0gKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlQ2FsbCAmJiBvbkpvaW5DYWxsKSB7XG4gICAgICAgICAgICBvbkpvaW5DYWxsKGFjdGl2ZUNhbGwuaWQsIGFjdGl2ZUNhbGwuY2FsbFR5cGUsIGFjdGl2ZUNhbGwubGl2ZWtpdFJvb21OYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWhlYWRlci1jb250ZW50XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1oZWFkZXItbGVmdFwiLCBjaGlsZHJlbjogW2F2YXRhciA/IChfanN4KFwiaW1nXCIsIHsgc3JjOiBhdmF0YXIsIGFsdDogdGl0bGUsIGNsYXNzTmFtZTogXCJjaGF0LWhlYWRlci1hdmF0YXJcIiB9KSkgOiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWhlYWRlci1hdmF0YXIgY2hhdC1oZWFkZXItYXZhdGFyLS1mYWxsYmFja1wiLCBjaGlsZHJlbjogdGl0bGUuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyLXRleHRcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyLXRpdGxlXCIsIGNoaWxkcmVuOiB0aXRsZSB9KSwgc3VidGl0bGUgPyAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1oZWFkZXItc3VidGl0bGVcIiwgY2hpbGRyZW46IFtzdGF0dXNEb3RDb2xvciA/IChfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWhlYWRlci1zdGF0dXMtZG90XCIsIHN0eWxlOiB7IGJhY2tncm91bmRDb2xvcjogc3RhdHVzRG90Q29sb3IgfSB9KSkgOiBudWxsLCBzdWJ0aXRsZV0gfSkpIDogbnVsbF0gfSldIH0pLCBhY3RpdmVDYWxsICYmIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWhlYWRlci1hY3RpdmUtY2FsbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyLWFjdGl2ZS1jYWxsLWluZGljYXRvclwiLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyLWFjdGl2ZS1jYWxsLXB1bHNlXCIgfSksIF9qc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWhlYWRlci1hY3RpdmUtY2FsbC10ZXh0XCIsIGNoaWxkcmVuOiBbYWN0aXZlQ2FsbC50eXBlID09PSAndmlkZW8nID8gJ/Cfk7knIDogJ/Cfk54nLCBcIiBDdVxcdTFFRDljIGdcXHUxRUNEaSBcXHUwMTExYW5nIGRpXFx1MUVDNW4gcmFcIl0gfSldIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyLWpvaW4tY2FsbC1idG5cIiwgb25DbGljazogaGFuZGxlSm9pbkNhbGwsIHR5cGU6IFwiYnV0dG9uXCIsIGNoaWxkcmVuOiBcIlRoYW0gZ2lhXCIgfSldIH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1oZWFkZXItYWN0aW9uc1wiLCBjaGlsZHJlbjogWyFhY3RpdmVDYWxsICYmIG9uVmlkZW9DYWxsICYmIChfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyLWFjdGlvbi1idXR0b25cIiwgb25DbGljazogb25WaWRlb0NhbGwsIHRpdGxlOiBcIkdcXHUxRUNEaSB2aWRlb1wiLCB0eXBlOiBcImJ1dHRvblwiLCBjaGlsZHJlbjogXCJcXHVEODNEXFx1RENGOVwiIH0pKSwgIWFjdGl2ZUNhbGwgJiYgb25BdWRpb0NhbGwgJiYgKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1oZWFkZXItYWN0aW9uLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkF1ZGlvQ2FsbCwgdGl0bGU6IFwiR1xcdTFFQ0RpIHRob1xcdTFFQTFpXCIsIHR5cGU6IFwiYnV0dG9uXCIsIGNoaWxkcmVuOiBcIlxcdUQ4M0RcXHVEQ0RFXCIgfSkpLCBvblRvZ2dsZUluZm8gJiYgKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1oZWFkZXItYWN0aW9uLWJ1dHRvblwiLCBvbkNsaWNrOiBvblRvZ2dsZUluZm8sIHRpdGxlOiBpc0luZm9WaXNpYmxlID8gJ+G6qG4gdGjDtG5nIHRpbiDEkW/huqFuIGNoYXQnIDogJ0hp4buHbiB0aMO0bmcgdGluIMSRb+G6oW4gY2hhdCcsIHR5cGU6IFwiYnV0dG9uXCIsIGNoaWxkcmVuOiBcIlxcdTIxMzlcXHVGRTBGXCIgfSkpLCBhY3Rpb25zXSB9KV0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJDaGF0SGVhZGVyIiwidGl0bGUiLCJzdWJ0aXRsZSIsImF2YXRhciIsInN0YXR1c0RvdENvbG9yIiwiYWN0aW9ucyIsIm9uVmlkZW9DYWxsIiwib25BdWRpb0NhbGwiLCJvblRvZ2dsZUluZm8iLCJpc0luZm9WaXNpYmxlIiwiYWN0aXZlQ2FsbCIsIm9uSm9pbkNhbGwiLCJoYW5kbGVKb2luQ2FsbCIsImlkIiwiY2FsbFR5cGUiLCJsaXZla2l0Um9vbU5hbWUiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInNyYyIsImFsdCIsInNsaWNlIiwidG9VcHBlckNhc2UiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInR5cGUiLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/ChatHeader.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/ChatLayout.js":
/*!********************************************************!*\
  !*** ../../packages/app/components/chat/ChatLayout.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatLayout: () => (/* binding */ ChatLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_chat_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/chat.css */ \"(ssr)/../../packages/app/styles/chat.css\");\n\n\nfunction ChatLayout({ header, messageArea, composer, rightPanel }) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"chat-container\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-main\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-header\",\n                        children: header\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-content\",\n                        children: messageArea\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-composer\",\n                        children: composer\n                    })\n                ]\n            }),\n            rightPanel ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"aside\", {\n                className: \"chat-side-panel\",\n                children: rightPanel\n            }) : null\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0TGF5b3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0Q7QUFDaEM7QUFDeEIsU0FBU0ksV0FBVyxFQUFFQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQUU7SUFDcEUsT0FBUUwsdURBQUtBLENBQUMsT0FBTztRQUFFTSxXQUFXO1FBQWtCQyxVQUFVO1lBQUNQLHVEQUFLQSxDQUFDLE9BQU87Z0JBQUVNLFdBQVc7Z0JBQWFDLFVBQVU7b0JBQUNULHNEQUFJQSxDQUFDLE9BQU87d0JBQUVRLFdBQVc7d0JBQWVDLFVBQVVMO29CQUFPO29CQUFJSixzREFBSUEsQ0FBQyxPQUFPO3dCQUFFUSxXQUFXO3dCQUFnQkMsVUFBVUo7b0JBQVk7b0JBQUlMLHNEQUFJQSxDQUFDLE9BQU87d0JBQUVRLFdBQVc7d0JBQWlCQyxVQUFVSDtvQkFBUztpQkFBRztZQUFDO1lBQUlDLGFBQWFQLHNEQUFJQSxDQUFDLFNBQVM7Z0JBQUVRLFdBQVc7Z0JBQW1CQyxVQUFVRjtZQUFXLEtBQUs7U0FBSztJQUFDO0FBQ3JaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9DaGF0TGF5b3V0LmpzPzVkMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2NoYXQuY3NzJztcbmV4cG9ydCBmdW5jdGlvbiBDaGF0TGF5b3V0KHsgaGVhZGVyLCBtZXNzYWdlQXJlYSwgY29tcG9zZXIsIHJpZ2h0UGFuZWwgfSkge1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250YWluZXJcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LW1haW5cIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaGVhZGVyXCIsIGNoaWxkcmVuOiBoZWFkZXIgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250ZW50XCIsIGNoaWxkcmVuOiBtZXNzYWdlQXJlYSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWNvbXBvc2VyXCIsIGNoaWxkcmVuOiBjb21wb3NlciB9KV0gfSksIHJpZ2h0UGFuZWwgPyBfanN4KFwiYXNpZGVcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1zaWRlLXBhbmVsXCIsIGNoaWxkcmVuOiByaWdodFBhbmVsIH0pIDogbnVsbF0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJDaGF0TGF5b3V0IiwiaGVhZGVyIiwibWVzc2FnZUFyZWEiLCJjb21wb3NlciIsInJpZ2h0UGFuZWwiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/ChatLayout.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/DesktopChat.js":
/*!*********************************************************!*\
  !*** ../../packages/app/components/chat/DesktopChat.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DesktopChat: () => (/* binding */ DesktopChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ChatLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChatLayout */ \"(ssr)/../../packages/app/components/chat/ChatLayout.js\");\n/* harmony import */ var _ChatHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChatHeader */ \"(ssr)/../../packages/app/components/chat/ChatHeader.js\");\n/* harmony import */ var _MessageList_MessageList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MessageList/MessageList */ \"(ssr)/../../packages/app/components/chat/MessageList/MessageList.js\");\n/* harmony import */ var _MessageComposer_MessageComposer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MessageComposer/MessageComposer */ \"(ssr)/../../packages/app/components/chat/MessageComposer/MessageComposer.js\");\n/* harmony import */ var _TypingIndicator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TypingIndicator */ \"(ssr)/../../packages/app/components/chat/TypingIndicator.js\");\n/* harmony import */ var _ForwardMessageDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ForwardMessageDialog */ \"(ssr)/../../packages/app/components/chat/ForwardMessageDialog.js\");\n/* harmony import */ var _hooks_useChatMessages__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useChatMessages */ \"(ssr)/../../packages/app/hooks/useChatMessages.js\");\n/* harmony import */ var _hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useOpponentInfo */ \"(ssr)/../../packages/app/hooks/useOpponentInfo.js\");\n/* harmony import */ var _hooks_useTypingStatus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useTypingStatus */ \"(ssr)/../../packages/app/hooks/useTypingStatus.js\");\n/* harmony import */ var _hooks_useNotifications__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useNotifications */ \"(ssr)/../../packages/app/hooks/useNotifications.js\");\n/* harmony import */ var _hooks_useActiveCall__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useActiveCall */ \"(ssr)/../../packages/app/hooks/useActiveCall.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _services_callPopup__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../services/callPopup */ \"(ssr)/../../packages/app/services/callPopup.js\");\n/* harmony import */ var _DirectChatInfoPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DirectChatInfoPanel */ \"(ssr)/../../packages/app/components/chat/DirectChatInfoPanel.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction DesktopChat({ conversationId, conversationName, isGroup, groupAvatar, groupMemberCount, memberIds, onTypingStart, onTypingStop, onToggleInfo, isInfoVisible }) {\n    // NOTE: navigate logic t react-router-dom  b, Next s iu hng  cp trang.\n    const { messages, loading, error, currentUserId, hasMore, sendMessage, markConversationAsRead, loadOlder, reactToMessage, togglePinMessage, editMessageContent, deleteMessageById, revokeMessageById, starMessageById } = (0,_hooks_useChatMessages__WEBPACK_IMPORTED_MODULE_8__.useChatMessages)(conversationId);\n    const shouldLoadOpponent = !isGroup;\n    const { info: opponentInfo } = (0,_hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_9__.useOpponentInfo)(shouldLoadOpponent ? conversationId : undefined);\n    const typing = (0,_hooks_useTypingStatus__WEBPACK_IMPORTED_MODULE_10__.useTypingStatus)(conversationId, currentUserId ?? undefined);\n    (0,_hooks_useNotifications__WEBPACK_IMPORTED_MODULE_11__.useNotifications)(conversationId); // Enable notifications\n    const { activeCall } = (0,_hooks_useActiveCall__WEBPACK_IMPORTED_MODULE_12__.useActiveCall)(isGroup ? conversationId : undefined); // Only track active calls for groups\n    const [replyTarget, setReplyTarget] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pendingScrollId, setPendingScrollId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [composerText, setComposerText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editingMessage, setEditingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwardingMessage, setForwardingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        markConversationAsRead();\n    }, [\n        markConversationAsRead\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (error) {\n            console.error(\"Chat error:\", error);\n        }\n    }, [\n        error\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setReplyTarget(null);\n        setEditingMessage(null);\n        setComposerText(\"\");\n    }, [\n        conversationId\n    ]);\n    const headerTitle = isGroup ? conversationName ?? \"Nh\\xf3m\" : opponentInfo?.name ?? conversationName ?? \"ang ti...\";\n    const headerSubtitle = isGroup ? `${groupMemberCount ?? 0} thnh vin` : opponentInfo ? opponentInfo.status === \"online\" ? \"ang hot ng\" : opponentInfo.lastSeen ? `Hot ng: ${new Date(opponentInfo.lastSeen).toLocaleString(\"vi-VN\")}` : \"Kh\\xf4ng hot ng\" : \"ang ti...\";\n    const handleSend = async (payload)=>{\n        if (editingMessage) {\n            if (payload.text && payload.text.trim()) {\n                await editMessageContent(editingMessage._id, payload.text.trim());\n            }\n            setEditingMessage(null);\n            setComposerText(\"\");\n            return;\n        }\n        await sendMessage({\n            ...payload,\n            replyTo: replyTarget?._id\n        });\n        setReplyTarget(null);\n        setComposerText(\"\");\n        typing.notifyMessageSent();\n        onTypingStop?.();\n    };\n    const resolveTargetUserId = ()=>{\n        if (isGroup) return undefined;\n        if (!currentUserId) return undefined;\n        if (opponentInfo?.userId && opponentInfo.userId !== currentUserId) {\n            return opponentInfo.userId;\n        }\n        const listCandidate = memberIds?.find((id)=>id && id !== currentUserId);\n        if (listCandidate) {\n            return listCandidate;\n        }\n        const otherSender = messages.find((msg)=>msg.senderId && msg.senderId !== currentUserId);\n        if (otherSender?.senderId) {\n            return otherSender.senderId;\n        }\n        return undefined;\n    };\n    const handleVideoCall = async ()=>{\n        if (!currentUserId) return;\n        const targetUserId = resolveTargetUserId();\n        if (!isGroup && !targetUserId) {\n            console.warn(\"[DesktopChat] Cannot determine target user for video call\");\n            return;\n        }\n        try {\n            console.log(\"[DesktopChat] Initiating video call...\", {\n                isGroup,\n                targetUserId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_13__.initiateCall)(conversationId, \"video\", targetUserId);\n            console.log(\"[DesktopChat] Call initiated:\", result);\n            if (!result.call?.id) {\n                console.error(\"[DesktopChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            console.log(\"[DesktopChat] Opening call screen for initiator...\", {\n                callId: result.call.id,\n                conversationId,\n                callType,\n                livekitRoomName\n            });\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_14__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[DesktopChat] Error initiating video call:\", error);\n        }\n    };\n    const handleAudioCall = async ()=>{\n        if (!currentUserId) return;\n        const targetUserId = resolveTargetUserId();\n        if (!isGroup && !targetUserId) {\n            console.warn(\"[DesktopChat] Cannot determine target user for audio call\");\n            return;\n        }\n        try {\n            console.log(\"[DesktopChat] Initiating audio call...\", {\n                isGroup,\n                targetUserId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_13__.initiateCall)(conversationId, \"audio\", targetUserId);\n            console.log(\"[DesktopChat] Call initiated:\", result);\n            if (!result.call?.id) {\n                console.error(\"[DesktopChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            console.log(\"[DesktopChat] Opening call screen for initiator (audio)...\", {\n                callId: result.call.id,\n                conversationId,\n                callType,\n                livekitRoomName\n            });\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_14__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[DesktopChat] Error initiating audio call:\", error);\n        }\n    };\n    const handleJoinCall = (callId, callType, livekitRoomName)=>{\n        console.log(\"[DesktopChat] Joining existing call...\", {\n            callId,\n            conversationId,\n            callType,\n            livekitRoomName\n        });\n        const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_14__.CallPopupManager();\n        popup.openCallWindow(callId, conversationId, true, {\n            callType: callType,\n            livekitRoomName\n        });\n    };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ChatLayout__WEBPACK_IMPORTED_MODULE_2__.ChatLayout, {\n                header: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ChatHeader__WEBPACK_IMPORTED_MODULE_3__.ChatHeader, {\n                    title: headerTitle,\n                    subtitle: headerSubtitle,\n                    avatar: isGroup ? groupAvatar : opponentInfo?.avatar,\n                    statusDotColor: !isGroup && opponentInfo?.status === \"online\" ? \"#10B981\" : undefined,\n                    onVideoCall: handleVideoCall,\n                    onAudioCall: handleAudioCall,\n                    onToggleInfo: onToggleInfo,\n                    isInfoVisible: isInfoVisible,\n                    activeCall: activeCall ? {\n                        id: activeCall.id,\n                        type: activeCall.type,\n                        callType: activeCall.callType,\n                        livekitRoomName: activeCall.livekitRoomName\n                    } : null,\n                    onJoinCall: handleJoinCall\n                }),\n                messageArea: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MessageList_MessageList__WEBPACK_IMPORTED_MODULE_4__.MessageList, {\n                            messages: messages,\n                            currentUserId: currentUserId,\n                            loading: loading,\n                            hasMore: hasMore,\n                            opponentName: opponentInfo?.name,\n                            opponentAvatar: opponentInfo?.avatar,\n                            onLoadMore: loadOlder,\n                            onReply: (message)=>{\n                                setEditingMessage(null);\n                                setReplyTarget(message);\n                                setComposerText(\"\");\n                            },\n                            onReact: (messageId, emoji)=>reactToMessage(messageId, emoji),\n                            onTogglePin: (messageId, shouldPin)=>togglePinMessage(messageId, shouldPin),\n                            onEdit: (message)=>{\n                                setReplyTarget(null);\n                                setEditingMessage(message);\n                                setComposerText(message.text ?? \"\");\n                            },\n                            onDelete: (message)=>{\n                                deleteMessageById(message._id);\n                            },\n                            onForward: (message)=>{\n                                setForwardingMessage(message);\n                            },\n                            onStar: (message)=>{\n                                if (message.isStarred) return;\n                                starMessageById(message._id);\n                            },\n                            onRevoke: (message)=>{\n                                revokeMessageById(message._id);\n                            },\n                            onScrollToMessage: (messageId)=>{\n                                setPendingScrollId(messageId);\n                                loadOlder();\n                            },\n                            focusMessageId: pendingScrollId,\n                            onFocusHandled: ()=>setPendingScrollId(null)\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TypingIndicator__WEBPACK_IMPORTED_MODULE_6__.TypingIndicator, {\n                            users: typing.typingUsers\n                        })\n                    ]\n                }),\n                composer: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MessageComposer_MessageComposer__WEBPACK_IMPORTED_MODULE_5__.MessageComposer, {\n                    disabled: loading,\n                    replyPreview: replyTarget?.text,\n                    editingLabel: editingMessage ? \"Chnh sa tin nhn\" : undefined,\n                    value: composerText,\n                    onValueChange: (value)=>{\n                        setComposerText(value);\n                        typing.handleInputChange(value);\n                        if (value.trim()) {\n                            onTypingStart?.();\n                        } else {\n                            onTypingStop?.();\n                        }\n                    },\n                    onCancelReply: ()=>setReplyTarget(null),\n                    onCancelEdit: ()=>{\n                        setEditingMessage(null);\n                        setComposerText(\"\");\n                    },\n                    onSend: handleSend\n                }),\n                rightPanel: !isGroup && isInfoVisible ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DirectChatInfoPanel__WEBPACK_IMPORTED_MODULE_15__.DirectChatInfoPanel, {\n                    conversation: {\n                        _id: conversationId,\n                        isGroup: false,\n                        title: headerTitle\n                    },\n                    opponentName: opponentInfo?.name,\n                    opponentAvatar: opponentInfo?.avatar,\n                    messages: messages\n                }) : null\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ForwardMessageDialog__WEBPACK_IMPORTED_MODULE_7__.ForwardMessageDialog, {\n                message: forwardingMessage,\n                onClose: ()=>setForwardingMessage(null),\n                onForwarded: ()=>{\n                    setForwardingMessage(null);\n                }\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9EZXNrdG9wQ2hhdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNGO0FBQzFDO0FBQ0Y7QUFDQTtBQUNjO0FBQ1k7QUFDaEI7QUFDVTtBQUNBO0FBQ0E7QUFDQTtBQUNFO0FBQ047QUFDakI7QUFDbUI7QUFDQTtBQUNyRCxTQUFTc0IsWUFBWSxFQUFFQyxjQUFjLEVBQUVDLGdCQUFnQixFQUFFQyxPQUFPLEVBQUVDLFdBQVcsRUFBRUMsZ0JBQWdCLEVBQUVDLFNBQVMsRUFBRUMsYUFBYSxFQUFFQyxZQUFZLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxFQUFHO0lBQzFLLGtGQUFrRjtJQUNsRixNQUFNLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLGFBQWEsRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLHNCQUFzQixFQUFFQyxTQUFTLEVBQUVDLGNBQWMsRUFBRUMsZ0JBQWdCLEVBQUVDLGtCQUFrQixFQUFFQyxpQkFBaUIsRUFBRUMsaUJBQWlCLEVBQUVDLGVBQWUsRUFBRyxHQUFHaEMsdUVBQWVBLENBQUNTO0lBQzNPLE1BQU13QixxQkFBcUIsQ0FBQ3RCO0lBQzVCLE1BQU0sRUFBRXVCLE1BQU1DLFlBQVksRUFBRSxHQUFHbEMsdUVBQWVBLENBQUNnQyxxQkFBcUJ4QixpQkFBaUIyQjtJQUNyRixNQUFNQyxTQUFTbkMsd0VBQWVBLENBQUNPLGdCQUFnQmEsaUJBQWlCYztJQUNoRWpDLDBFQUFnQkEsQ0FBQ00saUJBQWlCLHVCQUF1QjtJQUN6RCxNQUFNLEVBQUU2QixVQUFVLEVBQUUsR0FBR2xDLG9FQUFhQSxDQUFDTyxVQUFVRixpQkFBaUIyQixZQUFZLHFDQUFxQztJQUNqSCxNQUFNLENBQUNHLGFBQWFDLGVBQWUsR0FBRy9DLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2dELGlCQUFpQkMsbUJBQW1CLEdBQUdqRCwrQ0FBUUEs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QUFjK0UsZUFBZSxDQUFDRDt3QkFDalY3RSxnQkFBZ0I2RTt3QkFDaEJwRixPQUFPc0YsaUJBQWlCLENBQUNGO3dCQUN6QixJQUFJQSxNQUFNN0QsSUFBSSxJQUFJOzRCQUNkN0M7d0JBQ0osT0FDSzs0QkFDREM7d0JBQ0o7b0JBQ0o7b0JBQUc0RyxlQUFlLElBQU1wRixlQUFlO29CQUFPcUYsY0FBYzt3QkFDeEQvRSxrQkFBa0I7d0JBQ2xCRixnQkFBZ0I7b0JBQ3BCO29CQUFHa0YsUUFBUXJFO2dCQUFXO2dCQUFJc0UsWUFBWSxDQUFDcEgsV0FBV08sZ0JBQy9DL0Isc0RBQUlBLENBQUNvQixzRUFBbUJBLEVBQUU7b0JBQUV5SCxjQUFjO3dCQUNyQ25FLEtBQUtwRDt3QkFDTEUsU0FBUzt3QkFDVDRFLE9BQU9yQztvQkFDWDtvQkFBRzhDLGNBQWM3RCxjQUFjZ0I7b0JBQU04QyxnQkFBZ0I5RCxjQUFjc0Q7b0JBQVF0RSxVQUFVQTtnQkFBUyxLQUNoRztZQUFLO1lBQUloQyxzREFBSUEsQ0FBQ1ksdUVBQW9CQSxFQUFFO2dCQUFFcUcsU0FBU3JEO2dCQUFtQmtGLFNBQVMsSUFBTWpGLHFCQUFxQjtnQkFBT2tGLGFBQWE7b0JBQzVIbEYscUJBQXFCO2dCQUN6QjtZQUFFO1NBQUc7SUFBQztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvRGVza3RvcENoYXQuanM/NmIxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2hhdExheW91dCB9IGZyb20gJy4vQ2hhdExheW91dCc7XG5pbXBvcnQgeyBDaGF0SGVhZGVyIH0gZnJvbSAnLi9DaGF0SGVhZGVyJztcbmltcG9ydCB7IE1lc3NhZ2VMaXN0IH0gZnJvbSAnLi9NZXNzYWdlTGlzdC9NZXNzYWdlTGlzdCc7XG5pbXBvcnQgeyBNZXNzYWdlQ29tcG9zZXIgfSBmcm9tICcuL01lc3NhZ2VDb21wb3Nlci9NZXNzYWdlQ29tcG9zZXInO1xuaW1wb3J0IHsgVHlwaW5nSW5kaWNhdG9yIH0gZnJvbSAnLi9UeXBpbmdJbmRpY2F0b3InO1xuaW1wb3J0IHsgRm9yd2FyZE1lc3NhZ2VEaWFsb2cgfSBmcm9tICcuL0ZvcndhcmRNZXNzYWdlRGlhbG9nJztcbmltcG9ydCB7IHVzZUNoYXRNZXNzYWdlcyB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZUNoYXRNZXNzYWdlcyc7XG5pbXBvcnQgeyB1c2VPcHBvbmVudEluZm8gfSBmcm9tICcuLi8uLi9ob29rcy91c2VPcHBvbmVudEluZm8nO1xuaW1wb3J0IHsgdXNlVHlwaW5nU3RhdHVzIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlVHlwaW5nU3RhdHVzJztcbmltcG9ydCB7IHVzZU5vdGlmaWNhdGlvbnMgfSBmcm9tICcuLi8uLi9ob29rcy91c2VOb3RpZmljYXRpb25zJztcbmltcG9ydCB7IHVzZUFjdGl2ZUNhbGwgfSBmcm9tICcuLi8uLi9ob29rcy91c2VBY3RpdmVDYWxsJztcbmltcG9ydCB7IGluaXRpYXRlQ2FsbCB9IGZyb20gJy4uLy4uL2FwaSc7XG5pbXBvcnQgeyBDYWxsUG9wdXBNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FsbFBvcHVwJztcbmltcG9ydCB7IERpcmVjdENoYXRJbmZvUGFuZWwgfSBmcm9tICcuL0RpcmVjdENoYXRJbmZvUGFuZWwnO1xuZXhwb3J0IGZ1bmN0aW9uIERlc2t0b3BDaGF0KHsgY29udmVyc2F0aW9uSWQsIGNvbnZlcnNhdGlvbk5hbWUsIGlzR3JvdXAsIGdyb3VwQXZhdGFyLCBncm91cE1lbWJlckNvdW50LCBtZW1iZXJJZHMsIG9uVHlwaW5nU3RhcnQsIG9uVHlwaW5nU3RvcCwgb25Ub2dnbGVJbmZvLCBpc0luZm9WaXNpYmxlLCB9KSB7XG4gICAgLy8gTk9URTogbmF2aWdhdGUgbG9naWMgdOG7qyByZWFjdC1yb3V0ZXItZG9tIMSRw6MgYuG7jywgTmV4dCBz4bq9IMSRaeG7gXUgaMaw4bubbmcg4bufIGPhuqVwIHRyYW5nLlxuICAgIGNvbnN0IHsgbWVzc2FnZXMsIGxvYWRpbmcsIGVycm9yLCBjdXJyZW50VXNlcklkLCBoYXNNb3JlLCBzZW5kTWVzc2FnZSwgbWFya0NvbnZlcnNhdGlvbkFzUmVhZCwgbG9hZE9sZGVyLCByZWFjdFRvTWVzc2FnZSwgdG9nZ2xlUGluTWVzc2FnZSwgZWRpdE1lc3NhZ2VDb250ZW50LCBkZWxldGVNZXNzYWdlQnlJZCwgcmV2b2tlTWVzc2FnZUJ5SWQsIHN0YXJNZXNzYWdlQnlJZCwgfSA9IHVzZUNoYXRNZXNzYWdlcyhjb252ZXJzYXRpb25JZCk7XG4gICAgY29uc3Qgc2hvdWxkTG9hZE9wcG9uZW50ID0gIWlzR3JvdXA7XG4gICAgY29uc3QgeyBpbmZvOiBvcHBvbmVudEluZm8gfSA9IHVzZU9wcG9uZW50SW5mbyhzaG91bGRMb2FkT3Bwb25lbnQgPyBjb252ZXJzYXRpb25JZCA6IHVuZGVmaW5lZCk7XG4gICAgY29uc3QgdHlwaW5nID0gdXNlVHlwaW5nU3RhdHVzKGNvbnZlcnNhdGlvbklkLCBjdXJyZW50VXNlcklkID8/IHVuZGVmaW5lZCk7XG4gICAgdXNlTm90aWZpY2F0aW9ucyhjb252ZXJzYXRpb25JZCk7IC8vIEVuYWJsZSBub3RpZmljYXRpb25zXG4gICAgY29uc3QgeyBhY3RpdmVDYWxsIH0gPSB1c2VBY3RpdmVDYWxsKGlzR3JvdXAgPyBjb252ZXJzYXRpb25JZCA6IHVuZGVmaW5lZCk7IC8vIE9ubHkgdHJhY2sgYWN0aXZlIGNhbGxzIGZvciBncm91cHNcbiAgICBjb25zdCBbcmVwbHlUYXJnZXQsIHNldFJlcGx5VGFyZ2V0XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtwZW5kaW5nU2Nyb2xsSWQsIHNldFBlbmRpbmdTY3JvbGxJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29tcG9zZXJUZXh0LCBzZXRDb21wb3NlclRleHRdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtlZGl0aW5nTWVzc2FnZSwgc2V0RWRpdGluZ01lc3NhZ2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2ZvcndhcmRpbmdNZXNzYWdlLCBzZXRGb3J3YXJkaW5nTWVzc2FnZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBtYXJrQ29udmVyc2F0aW9uQXNSZWFkKCk7XG4gICAgfSwgW21hcmtDb252ZXJzYXRpb25Bc1JlYWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NoYXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSwgW2Vycm9yXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0UmVwbHlUYXJnZXQobnVsbCk7XG4gICAgICAgIHNldEVkaXRpbmdNZXNzYWdlKG51bGwpO1xuICAgICAgICBzZXRDb21wb3NlclRleHQoJycpO1xuICAgIH0sIFtjb252ZXJzYXRpb25JZF0pO1xuICAgIGNvbnN0IGhlYWRlclRpdGxlID0gaXNHcm91cFxuICAgICAgICA/IGNvbnZlcnNhdGlvbk5hbWUgPz8gJ05ow7NtJ1xuICAgICAgICA6IG9wcG9uZW50SW5mbz8ubmFtZSA/PyBjb252ZXJzYXRpb25OYW1lID8/ICfEkGFuZyB04bqjaS4uLic7XG4gICAgY29uc3QgaGVhZGVyU3VidGl0bGUgPSBpc0dyb3VwXG4gICAgICAgID8gYCR7Z3JvdXBNZW1iZXJDb3VudCA/PyAwfSB0aMOgbmggdmnDqm5gXG4gICAgICAgIDogb3Bwb25lbnRJbmZvXG4gICAgICAgICAgICA/IG9wcG9uZW50SW5mby5zdGF0dXMgPT09ICdvbmxpbmUnXG4gICAgICAgICAgICAgICAgPyAnxJBhbmcgaG/huqF0IMSR4buZbmcnXG4gICAgICAgICAgICAgICAgOiBvcHBvbmVudEluZm8ubGFzdFNlZW5cbiAgICAgICAgICAgICAgICAgICAgPyBgSG/huqF0IMSR4buZbmc6ICR7bmV3IERhdGUob3Bwb25lbnRJbmZvLmxhc3RTZWVuKS50b0xvY2FsZVN0cmluZygndmktVk4nKX1gXG4gICAgICAgICAgICAgICAgICAgIDogJ0tow7RuZyBob+G6oXQgxJHhu5luZydcbiAgICAgICAgICAgIDogJ8SQYW5nIHThuqNpLi4uJztcbiAgICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGVkaXRpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC50ZXh0ICYmIHBheWxvYWQudGV4dC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBlZGl0TWVzc2FnZUNvbnRlbnQoZWRpdGluZ01lc3NhZ2UuX2lkLCBwYXlsb2FkLnRleHQudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEVkaXRpbmdNZXNzYWdlKG51bGwpO1xuICAgICAgICAgICAgc2V0Q29tcG9zZXJUZXh0KCcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZSh7IC4uLnBheWxvYWQsIHJlcGx5VG86IHJlcGx5VGFyZ2V0Py5faWQgfSk7XG4gICAgICAgIHNldFJlcGx5VGFyZ2V0KG51bGwpO1xuICAgICAgICBzZXRDb21wb3NlclRleHQoJycpO1xuICAgICAgICB0eXBpbmcubm90aWZ5TWVzc2FnZVNlbnQoKTtcbiAgICAgICAgb25UeXBpbmdTdG9wPy4oKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc29sdmVUYXJnZXRVc2VySWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc0dyb3VwKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFjdXJyZW50VXNlcklkKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9wcG9uZW50SW5mbz8udXNlcklkICYmIG9wcG9uZW50SW5mby51c2VySWQgIT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHBvbmVudEluZm8udXNlcklkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3RDYW5kaWRhdGUgPSBtZW1iZXJJZHM/LmZpbmQoKGlkKSA9PiBpZCAmJiBpZCAhPT0gY3VycmVudFVzZXJJZCk7XG4gICAgICAgIGlmIChsaXN0Q2FuZGlkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdENhbmRpZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdGhlclNlbmRlciA9IG1lc3NhZ2VzLmZpbmQoKG1zZykgPT4gbXNnLnNlbmRlcklkICYmIG1zZy5zZW5kZXJJZCAhPT0gY3VycmVudFVzZXJJZCk7XG4gICAgICAgIGlmIChvdGhlclNlbmRlcj8uc2VuZGVySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlclNlbmRlci5zZW5kZXJJZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlVmlkZW9DYWxsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRVc2VySWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRhcmdldFVzZXJJZCA9IHJlc29sdmVUYXJnZXRVc2VySWQoKTtcbiAgICAgICAgaWYgKCFpc0dyb3VwICYmICF0YXJnZXRVc2VySWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0Rlc2t0b3BDaGF0XSBDYW5ub3QgZGV0ZXJtaW5lIHRhcmdldCB1c2VyIGZvciB2aWRlbyBjYWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbRGVza3RvcENoYXRdIEluaXRpYXRpbmcgdmlkZW8gY2FsbC4uLicsIHsgaXNHcm91cCwgdGFyZ2V0VXNlcklkIH0pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW5pdGlhdGVDYWxsKGNvbnZlcnNhdGlvbklkLCAndmlkZW8nLCB0YXJnZXRVc2VySWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tEZXNrdG9wQ2hhdF0gQ2FsbCBpbml0aWF0ZWQ6JywgcmVzdWx0KTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0LmNhbGw/LmlkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0Rlc2t0b3BDaGF0XSBObyBjYWxsIElEIGluIHJlc3BvbnNlOicsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FsbFR5cGUgPSByZXN1bHQuY2FsbC5jYWxsVHlwZSA9PT0gJ3NmdScgPyAnc2Z1JyA6ICdwMnAnO1xuICAgICAgICAgICAgY29uc3QgbGl2ZWtpdFJvb21OYW1lID0gcmVzdWx0LmNhbGwubGl2ZWtpdFJvb21OYW1lO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tEZXNrdG9wQ2hhdF0gT3BlbmluZyBjYWxsIHNjcmVlbiBmb3IgaW5pdGlhdG9yLi4uJywge1xuICAgICAgICAgICAgICAgIGNhbGxJZDogcmVzdWx0LmNhbGwuaWQsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBwb3B1cCA9IG5ldyBDYWxsUG9wdXBNYW5hZ2VyKCk7XG4gICAgICAgICAgICBwb3B1cC5vcGVuQ2FsbFdpbmRvdyhyZXN1bHQuY2FsbC5pZCwgY29udmVyc2F0aW9uSWQsIGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVza3RvcENoYXRdIEVycm9yIGluaXRpYXRpbmcgdmlkZW8gY2FsbDonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUF1ZGlvQ2FsbCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFjdXJyZW50VXNlcklkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0YXJnZXRVc2VySWQgPSByZXNvbHZlVGFyZ2V0VXNlcklkKCk7XG4gICAgICAgIGlmICghaXNHcm91cCAmJiAhdGFyZ2V0VXNlcklkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tEZXNrdG9wQ2hhdF0gQ2Fubm90IGRldGVybWluZSB0YXJnZXQgdXNlciBmb3IgYXVkaW8gY2FsbCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0Rlc2t0b3BDaGF0XSBJbml0aWF0aW5nIGF1ZGlvIGNhbGwuLi4nLCB7IGlzR3JvdXAsIHRhcmdldFVzZXJJZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbChjb252ZXJzYXRpb25JZCwgJ2F1ZGlvJywgdGFyZ2V0VXNlcklkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbRGVza3RvcENoYXRdIENhbGwgaW5pdGlhdGVkOicsIHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5jYWxsPy5pZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEZXNrdG9wQ2hhdF0gTm8gY2FsbCBJRCBpbiByZXNwb25zZTonLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbGxUeXBlID0gcmVzdWx0LmNhbGwuY2FsbFR5cGUgPT09ICdzZnUnID8gJ3NmdScgOiAncDJwJztcbiAgICAgICAgICAgIGNvbnN0IGxpdmVraXRSb29tTmFtZSA9IHJlc3VsdC5jYWxsLmxpdmVraXRSb29tTmFtZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbRGVza3RvcENoYXRdIE9wZW5pbmcgY2FsbCBzY3JlZW4gZm9yIGluaXRpYXRvciAoYXVkaW8pLi4uJywge1xuICAgICAgICAgICAgICAgIGNhbGxJZDogcmVzdWx0LmNhbGwuaWQsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBwb3B1cCA9IG5ldyBDYWxsUG9wdXBNYW5hZ2VyKCk7XG4gICAgICAgICAgICBwb3B1cC5vcGVuQ2FsbFdpbmRvdyhyZXN1bHQuY2FsbC5pZCwgY29udmVyc2F0aW9uSWQsIGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVza3RvcENoYXRdIEVycm9yIGluaXRpYXRpbmcgYXVkaW8gY2FsbDonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUpvaW5DYWxsID0gKGNhbGxJZCwgY2FsbFR5cGUsIGxpdmVraXRSb29tTmFtZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0Rlc2t0b3BDaGF0XSBKb2luaW5nIGV4aXN0aW5nIGNhbGwuLi4nLCB7IGNhbGxJZCwgY29udmVyc2F0aW9uSWQsIGNhbGxUeXBlLCBsaXZla2l0Um9vbU5hbWUgfSk7XG4gICAgICAgIGNvbnN0IHBvcHVwID0gbmV3IENhbGxQb3B1cE1hbmFnZXIoKTtcbiAgICAgICAgcG9wdXAub3BlbkNhbGxXaW5kb3coY2FsbElkLCBjb252ZXJzYXRpb25JZCwgdHJ1ZSwge1xuICAgICAgICAgICAgY2FsbFR5cGU6IGNhbGxUeXBlLFxuICAgICAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChDaGF0TGF5b3V0LCB7IGhlYWRlcjogX2pzeChDaGF0SGVhZGVyLCB7IHRpdGxlOiBoZWFkZXJUaXRsZSwgc3VidGl0bGU6IGhlYWRlclN1YnRpdGxlLCBhdmF0YXI6IGlzR3JvdXAgPyBncm91cEF2YXRhciA6IG9wcG9uZW50SW5mbz8uYXZhdGFyLCBzdGF0dXNEb3RDb2xvcjogIWlzR3JvdXAgJiYgb3Bwb25lbnRJbmZvPy5zdGF0dXMgPT09ICdvbmxpbmUnID8gJyMxMEI5ODEnIDogdW5kZWZpbmVkLCBvblZpZGVvQ2FsbDogaGFuZGxlVmlkZW9DYWxsLCBvbkF1ZGlvQ2FsbDogaGFuZGxlQXVkaW9DYWxsLCBvblRvZ2dsZUluZm86IG9uVG9nZ2xlSW5mbywgaXNJbmZvVmlzaWJsZTogaXNJbmZvVmlzaWJsZSwgYWN0aXZlQ2FsbDogYWN0aXZlQ2FsbCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhY3RpdmVDYWxsLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYWN0aXZlQ2FsbC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFR5cGU6IGFjdGl2ZUNhbGwuY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXZla2l0Um9vbU5hbWU6IGFjdGl2ZUNhbGwubGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgICAgICAgICB9IDogbnVsbCwgb25Kb2luQ2FsbDogaGFuZGxlSm9pbkNhbGwgfSksIG1lc3NhZ2VBcmVhOiBfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4KE1lc3NhZ2VMaXN0LCB7IG1lc3NhZ2VzOiBtZXNzYWdlcywgY3VycmVudFVzZXJJZDogY3VycmVudFVzZXJJZCwgbG9hZGluZzogbG9hZGluZywgaGFzTW9yZTogaGFzTW9yZSwgb3Bwb25lbnROYW1lOiBvcHBvbmVudEluZm8/Lm5hbWUsIG9wcG9uZW50QXZhdGFyOiBvcHBvbmVudEluZm8/LmF2YXRhciwgb25Mb2FkTW9yZTogbG9hZE9sZGVyLCBvblJlcGx5OiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nTWVzc2FnZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVwbHlUYXJnZXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbXBvc2VyVGV4dCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25SZWFjdDogKG1lc3NhZ2VJZCwgZW1vamkpID0+IHJlYWN0VG9NZXNzYWdlKG1lc3NhZ2VJZCwgZW1vamkpLCBvblRvZ2dsZVBpbjogKG1lc3NhZ2VJZCwgc2hvdWxkUGluKSA9PiB0b2dnbGVQaW5NZXNzYWdlKG1lc3NhZ2VJZCwgc2hvdWxkUGluKSwgb25FZGl0OiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXBseVRhcmdldChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ01lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbXBvc2VyVGV4dChtZXNzYWdlLnRleHQgPz8gJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uRGVsZXRlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVNZXNzYWdlQnlJZChtZXNzYWdlLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25Gb3J3YXJkOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGb3J3YXJkaW5nTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvblN0YXI6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmlzU3RhcnJlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhck1lc3NhZ2VCeUlkKG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvblJldm9rZTogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2b2tlTWVzc2FnZUJ5SWQobWVzc2FnZS5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uU2Nyb2xsVG9NZXNzYWdlOiAobWVzc2FnZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBlbmRpbmdTY3JvbGxJZChtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkT2xkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmb2N1c01lc3NhZ2VJZDogcGVuZGluZ1Njcm9sbElkLCBvbkZvY3VzSGFuZGxlZDogKCkgPT4gc2V0UGVuZGluZ1Njcm9sbElkKG51bGwpIH0pLCBfanN4KFR5cGluZ0luZGljYXRvciwgeyB1c2VyczogdHlwaW5nLnR5cGluZ1VzZXJzIH0pXSB9KSwgY29tcG9zZXI6IF9qc3goTWVzc2FnZUNvbXBvc2VyLCB7IGRpc2FibGVkOiBsb2FkaW5nLCByZXBseVByZXZpZXc6IHJlcGx5VGFyZ2V0Py50ZXh0LCBlZGl0aW5nTGFiZWw6IGVkaXRpbmdNZXNzYWdlID8gJ0No4buJbmggc+G7rWEgdGluIG5o4bqvbicgOiB1bmRlZmluZWQsIHZhbHVlOiBjb21wb3NlclRleHQsIG9uVmFsdWVDaGFuZ2U6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tcG9zZXJUZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGluZy5oYW5kbGVJbnB1dENoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25UeXBpbmdTdGFydD8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblR5cGluZ1N0b3A/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBvbkNhbmNlbFJlcGx5OiAoKSA9PiBzZXRSZXBseVRhcmdldChudWxsKSwgb25DYW5jZWxFZGl0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nTWVzc2FnZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbXBvc2VyVGV4dCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9uU2VuZDogaGFuZGxlU2VuZCB9KSwgcmlnaHRQYW5lbDogIWlzR3JvdXAgJiYgaXNJbmZvVmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICA/IChfanN4KERpcmVjdENoYXRJbmZvUGFuZWwsIHsgY29udmVyc2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0dyb3VwOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaGVhZGVyVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBvcHBvbmVudE5hbWU6IG9wcG9uZW50SW5mbz8ubmFtZSwgb3Bwb25lbnRBdmF0YXI6IG9wcG9uZW50SW5mbz8uYXZhdGFyLCBtZXNzYWdlczogbWVzc2FnZXMgfSkpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCB9KSwgX2pzeChGb3J3YXJkTWVzc2FnZURpYWxvZywgeyBtZXNzYWdlOiBmb3J3YXJkaW5nTWVzc2FnZSwgb25DbG9zZTogKCkgPT4gc2V0Rm9yd2FyZGluZ01lc3NhZ2UobnVsbCksIG9uRm9yd2FyZGVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEZvcndhcmRpbmdNZXNzYWdlKG51bGwpO1xuICAgICAgICAgICAgICAgIH0gfSldIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJqc3hzIiwiX2pzeHMiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkNoYXRMYXlvdXQiLCJDaGF0SGVhZGVyIiwiTWVzc2FnZUxpc3QiLCJNZXNzYWdlQ29tcG9zZXIiLCJUeXBpbmdJbmRpY2F0b3IiLCJGb3J3YXJkTWVzc2FnZURpYWxvZyIsInVzZUNoYXRNZXNzYWdlcyIsInVzZU9wcG9uZW50SW5mbyIsInVzZVR5cGluZ1N0YXR1cyIsInVzZU5vdGlmaWNhdGlvbnMiLCJ1c2VBY3RpdmVDYWxsIiwiaW5pdGlhdGVDYWxsIiwiQ2FsbFBvcHVwTWFuYWdlciIsIkRpcmVjdENoYXRJbmZvUGFuZWwiLCJEZXNrdG9wQ2hhdCIsImNvbnZlcnNhdGlvbklkIiwiY29udmVyc2F0aW9uTmFtZSIsImlzR3JvdXAiLCJncm91cEF2YXRhciIsImdyb3VwTWVtYmVyQ291bnQiLCJtZW1iZXJJZHMiLCJvblR5cGluZ1N0YXJ0Iiwib25UeXBpbmdTdG9wIiwib25Ub2dnbGVJbmZvIiwiaXNJbmZvVmlzaWJsZSIsIm1lc3NhZ2VzIiwibG9hZGluZyIsImVycm9yIiwiY3VycmVudFVzZXJJZCIsImhhc01vcmUiLCJzZW5kTWVzc2FnZSIsIm1hcmtDb252ZXJzYXRpb25Bc1JlYWQiLCJsb2FkT2xkZXIiLCJyZWFjdFRvTWVzc2FnZSIsInRvZ2dsZVBpbk1lc3NhZ2UiLCJlZGl0TWVzc2FnZUNvbnRlbnQiLCJkZWxldGVNZXNzYWdlQnlJZCIsInJldm9rZU1lc3NhZ2VCeUlkIiwic3Rhck1lc3NhZ2VCeUlkIiwic2hvdWxkTG9hZE9wcG9uZW50IiwiaW5mbyIsIm9wcG9uZW50SW5mbyIsInVuZGVmaW5lZCIsInR5cGluZyIsImFjdGl2ZUNhbGwiLCJyZXBseVRhcmdldCIsInNldFJlcGx5VGFyZ2V0IiwicGVuZGluZ1Njcm9sbElkIiwic2V0UGVuZGluZ1Njcm9sbElkIiwiY29tcG9zZXJUZXh0Iiwic2V0Q29tcG9zZXJUZXh0IiwiZWRpdGluZ01lc3NhZ2UiLCJzZXRFZGl0aW5nTWVzc2FnZSIsImZvcndhcmRpbmdNZXNzYWdlIiwic2V0Rm9yd2FyZGluZ01lc3NhZ2UiLCJjb25zb2xlIiwiaGVhZGVyVGl0bGUiLCJuYW1lIiwiaGVhZGVyU3VidGl0bGUiLCJzdGF0dXMiLCJsYXN0U2VlbiIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsImhhbmRsZVNlbmQiLCJwYXlsb2FkIiwidGV4dCIsInRyaW0iLCJfaWQiLCJyZXBseVRvIiwibm90aWZ5TWVzc2FnZVNlbnQiLCJyZXNvbHZlVGFyZ2V0VXNlcklkIiwidXNlcklkIiwibGlzdENhbmRpZGF0ZSIsImZpbmQiLCJpZCIsIm90aGVyU2VuZGVyIiwibXNnIiwic2VuZGVySWQiLCJoYW5kbGVWaWRlb0NhbGwiLCJ0YXJnZXRVc2VySWQiLCJ3YXJuIiwibG9nIiwicmVzdWx0IiwiY2FsbCIsImNhbGxUeXBlIiwibGl2ZWtpdFJvb21OYW1lIiwiY2FsbElkIiwicG9wdXAiLCJvcGVuQ2FsbFdpbmRvdyIsImhhbmRsZUF1ZGlvQ2FsbCIsImhhbmRsZUpvaW5DYWxsIiwiY2hpbGRyZW4iLCJoZWFkZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwiYXZhdGFyIiwic3RhdHVzRG90Q29sb3IiLCJvblZpZGVvQ2FsbCIsIm9uQXVkaW9DYWxsIiwidHlwZSIsIm9uSm9pbkNhbGwiLCJtZXNzYWdlQXJlYSIsIm9wcG9uZW50TmFtZSIsIm9wcG9uZW50QXZhdGFyIiwib25Mb2FkTW9yZSIsIm9uUmVwbHkiLCJtZXNzYWdlIiwib25SZWFjdCIsIm1lc3NhZ2VJZCIsImVtb2ppIiwib25Ub2dnbGVQaW4iLCJzaG91bGRQaW4iLCJvbkVkaXQiLCJvbkRlbGV0ZSIsIm9uRm9yd2FyZCIsIm9uU3RhciIsImlzU3RhcnJlZCIsIm9uUmV2b2tlIiwib25TY3JvbGxUb01lc3NhZ2UiLCJmb2N1c01lc3NhZ2VJZCIsIm9uRm9jdXNIYW5kbGVkIiwidXNlcnMiLCJ0eXBpbmdVc2VycyIsImNvbXBvc2VyIiwiZGlzYWJsZWQiLCJyZXBseVByZXZpZXciLCJlZGl0aW5nTGFiZWwiLCJ2YWx1ZSIsIm9uVmFsdWVDaGFuZ2UiLCJoYW5kbGVJbnB1dENoYW5nZSIsIm9uQ2FuY2VsUmVwbHkiLCJvbkNhbmNlbEVkaXQiLCJvblNlbmQiLCJyaWdodFBhbmVsIiwiY29udmVyc2F0aW9uIiwib25DbG9zZSIsIm9uRm9yd2FyZGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/DesktopChat.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/DirectChatInfoPanel.js":
/*!*****************************************************************!*\
  !*** ../../packages/app/components/chat/DirectChatInfoPanel.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DirectChatInfoPanel: () => (/* binding */ DirectChatInfoPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Icons */ \"(ssr)/../../packages/app/components/Icons.js\");\n/* harmony import */ var _styles_group_info_panel_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../styles/group-info-panel.css */ \"(ssr)/../../packages/app/styles/group-info-panel.css\");\n\n\n\n\n\nfunction DirectChatInfoPanel({ conversation, opponentName, opponentAvatar, messages = [] }) {\n    const [isMediaOpen, setIsMediaOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mediaTab, setMediaTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"media\");\n    const [viewerOpen, setViewerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewerImages, setViewerImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [viewerIndex, setViewerIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const title = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>opponentName || conversation.title || \"on chat\", [\n        opponentName,\n        conversation.title\n    ]);\n    const mediaMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>messages.filter((msg)=>{\n            const hasImageUrl = Boolean(msg.imageUrl);\n            const isImageType = msg.type === \"image\";\n            const isFileImage = msg.file?.mime?.startsWith?.(\"image/\");\n            return hasImageUrl || isImageType || isFileImage;\n        }), [\n        messages\n    ]);\n    const fileMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>messages.filter((msg)=>{\n            const isFileType = msg.type === \"file\";\n            const hasFile = Boolean(msg.file);\n            const isNonImageFile = msg.file && !msg.file.mime?.startsWith?.(\"image/\");\n            return isFileType || hasFile && isNonImageFile;\n        }), [\n        messages\n    ]);\n    const mediaUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>mediaMessages.map((msg)=>{\n            const url = msg.imageUrl || (msg.file?.mime?.startsWith?.(\"image/\") ? msg.file.url : undefined);\n            return url || null;\n        }).filter((u)=>Boolean(u)), [\n        mediaMessages\n    ]);\n    const openViewerAt = (index)=>{\n        if (!mediaUrls.length) return;\n        const clamped = Math.max(0, Math.min(index, mediaUrls.length - 1));\n        setViewerImages(mediaUrls);\n        setViewerIndex(clamped);\n        setViewerOpen(true);\n    };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"group-info-panel direct-chat-panel\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"group-info-header direct-chat-header\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"group-info-avatar large\",\n                                children: opponentAvatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                    src: opponentAvatar,\n                                    alt: \"\"\n                                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.ProfileIcon, {\n                                    size: 40,\n                                    color: \"#0966FF\"\n                                })\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                className: \"direct-chat-header-text\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: \"group-info-title\",\n                                        children: title\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: \"group-info-subtitle\",\n                                        children: \"on chat c\\xe1 nh\\xe2n\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"direct-chat-action-row\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"direct-chat-circle-btn\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"circle-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.ProfileIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"circle-label\",\n                                        children: \"Trang c\\xe1 nh\\xe2n\"\n                                    })\n                                ]\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"direct-chat-circle-btn\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"circle-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.BellIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"circle-label\",\n                                        children: \"Tt th\\xf4ng b\\xe1o\"\n                                    })\n                                ]\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"direct-chat-circle-btn\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"circle-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.SearchIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"circle-label\",\n                                        children: \"T\\xecm kim\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"group-info-divider\"\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"group-info-section-title\",\n                        children: \"Tu chnh on chat\"\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"group-info-list\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"group-info-item\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.PaletteIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        children: \"i ch \"\n                                    })\n                                ]\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"group-info-item\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.ThumbsUpIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        children: \"Thay i biu tng cm x\\xfac\"\n                                    })\n                                ]\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"group-info-item\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        style: {\n                                            fontWeight: 700,\n                                            fontSize: \"14px\"\n                                        },\n                                        children: \"Aa\"\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        children: \"Chnh sa bit danh\"\n                                    })\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"group-info-section-title\",\n                        children: \"File phng tin & file\"\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"group-info-list\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"group-info-item\",\n                                onClick: ()=>{\n                                    setMediaTab(\"media\");\n                                    setIsMediaOpen(true);\n                                },\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.MediaIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        children: \"File phng tin\"\n                                    })\n                                ]\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                className: \"group-info-item\",\n                                onClick: ()=>{\n                                    setMediaTab(\"files\");\n                                    setIsMediaOpen(true);\n                                },\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"group-info-item-icon\",\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.FolderIcon, {\n                                            size: 20,\n                                            color: \"#e4e6eb\"\n                                        })\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        children: \"File\"\n                                    })\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            isMediaOpen && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"media-overlay\",\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"media-overlay-inner\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"media-overlay-header\",\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                    className: \"media-back-btn\",\n                                    onClick: ()=>setIsMediaOpen(false),\n                                    children: \"\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                    className: \"media-title-group\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                            className: \"media-title\",\n                                            children: \"File phng tin & file\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                            className: \"media-subtitle\",\n                                            children: title\n                                        })\n                                    ]\n                                })\n                            ]\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"media-tabs\",\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                    className: `media-tab ${mediaTab === \"media\" ? \"active\" : \"\"}`,\n                                    onClick: ()=>setMediaTab(\"media\"),\n                                    children: \"File phng tin\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                    className: `media-tab ${mediaTab === \"files\" ? \"active\" : \"\"}`,\n                                    onClick: ()=>setMediaTab(\"files\"),\n                                    children: \"File\"\n                                })\n                            ]\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"media-content\",\n                            children: mediaTab === \"media\" ? mediaMessages.length === 0 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"media-placeholder\",\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                                    children: \"Cha c\\xf3 file phng tin n\\xe0o trong on chat n\\xe0y.\"\n                                })\n                            }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"media-grid\",\n                                children: mediaMessages.map((msg, index)=>{\n                                    const key = msg._id || msg.localId || `${msg.createdAt}-${msg.senderId}`;\n                                    const url = msg.imageUrl || (msg.file?.mime?.startsWith?.(\"image/\") ? msg.file.url : undefined);\n                                    if (!url) return null;\n                                    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                        type: \"button\",\n                                        className: \"media-grid-item\",\n                                        onClick: ()=>openViewerAt(index),\n                                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                            src: url,\n                                            alt: \"\"\n                                        })\n                                    }, key);\n                                })\n                            }) : fileMessages.length === 0 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"media-placeholder\",\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                                    children: \"Cha c\\xf3 file n\\xe0o trong on chat n\\xe0y.\"\n                                })\n                            }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"media-file-list\",\n                                children: fileMessages.map((msg)=>{\n                                    const file = msg.file;\n                                    if (!file) return null;\n                                    const key = msg._id || msg.localId || `${msg.createdAt}-${msg.senderId}`;\n                                    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"a\", {\n                                        href: file.url,\n                                        target: \"_blank\",\n                                        rel: \"noreferrer\",\n                                        className: \"media-file-item\",\n                                        children: [\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                className: \"media-file-icon\",\n                                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.FileIcon, {\n                                                    size: 24,\n                                                    color: \"#0966FF\"\n                                                })\n                                            }),\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                className: \"media-file-info\",\n                                                children: [\n                                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                        className: \"media-file-name\",\n                                                        children: file.name || \"File \\xednh k\\xe8m\"\n                                                    }),\n                                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                        className: \"media-file-meta\",\n                                                        children: new Date(msg.createdAt).toLocaleDateString(\"vi-VN\")\n                                                    })\n                                                ]\n                                            })\n                                        ]\n                                    }, key);\n                                })\n                            })\n                        })\n                    ]\n                })\n            }),\n            viewerOpen ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-image-viewer-backdrop\",\n                onClick: ()=>setViewerOpen(false),\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"chat-image-viewer-content\",\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        viewerImages[viewerIndex] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: viewerImages[viewerIndex],\n                            alt: \"attachment-large\"\n                        }) : null,\n                        viewerImages.length > 1 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"chat-image-viewer-thumbs\",\n                            children: viewerImages.map((src, index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                    type: \"button\",\n                                    className: [\n                                        \"chat-image-viewer-thumb\",\n                                        index === viewerIndex ? \"chat-image-viewer-thumb--active\" : \"\"\n                                    ].filter(Boolean).join(\" \"),\n                                    onClick: ()=>setViewerIndex(index),\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                        src: src,\n                                        alt: `thumb-${index}`\n                                    })\n                                }, src + index))\n                        }) : null\n                    ]\n                })\n            }), document.body) : null\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9EaXJlY3RDaGF0SW5mb1BhbmVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErRDtBQUNyQjtBQUNEO0FBQ2dGO0FBQzlFO0FBQ3BDLFNBQVNlLG9CQUFvQixFQUFFQyxZQUFZLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFQyxXQUFXLEVBQUUsRUFBRztJQUM5RixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2lCLFVBQVVDLFlBQVksR0FBR2xCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ21CLFlBQVlDLGNBQWMsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3FCLGNBQWNDLGdCQUFnQixHQUFHdEIsK0NBQVFBLENBQUMsRUFBRTtJQUNuRCxNQUFNLENBQUN1QixhQUFhQyxlQUFlLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNeUIsUUFBUTFCLDhDQUFPQSxDQUFDLElBQU1hLGdCQUFnQkQsYUFBYWMsS0FBSyxJQUFJLGFBQWE7UUFBQ2I7UUFBY0QsYUFBYWMsS0FBSztLQUFDO0lBQ2pILE1BQU1DLGdCQUFnQjNCLDhDQUFPQSxDQUFDLElBQU1lLFNBQVNhLE1BQU0sQ0FBQyxDQUFDQztZQUNqRCxNQUFNQyxjQUFjQyxRQUFRRixJQUFJRyxRQUFRO1lBQ3hDLE1BQU1DLGNBQWNKLElBQUlLLElBQUksS0FBSztZQUNqQyxNQUFNQyxjQUFjTixJQUFJTyxJQUFJLEVBQUVDLE1BQU1DLGFBQWE7WUFDakQsT0FBT1IsZUFBZUcsZUFBZUU7UUFDekMsSUFBSTtRQUFDcEI7S0FBUztJQUNkLE1BQU13QixlQUFldkMsOENBQU9BLENBQUMsSUFBTWUsU0FBU2EsTUFBTSxDQUFDLENBQUNDO1lBQ2hELE1BQU1XLGFBQWFYLElBQUlLLElBQUksS0FBSztZQUNoQyxNQUFNTyxVQUFVVixRQUFRRixJQUFJTyxJ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ZCxTQUFTLElBQU12QyxlQUFld0I7b0NBQVFPLFVBQVUzRCxzREFBSUEsQ0FBQyxPQUFPO3dDQUFFNEQsS0FBS0E7d0NBQUtDLEtBQUssQ0FBQyxNQUFNLEVBQUVULE1BQU0sQ0FBQztvQ0FBQztnQ0FBRyxHQUFHUSxNQUFNUjt3QkFBUyxLQUFNO3FCQUFLO2dCQUFDO1lBQUcsSUFBSThCLFNBQVNDLElBQUksSUFDckw7U0FBSztJQUFDO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9EaXJlY3RDaGF0SW5mb1BhbmVsLmpzP2ZkMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFByb2ZpbGVJY29uLCBCZWxsSWNvbiwgU2VhcmNoSWNvbiwgUGFsZXR0ZUljb24sIFRodW1ic1VwSWNvbiwgTWVkaWFJY29uLCBGb2xkZXJJY29uLCBGaWxlSWNvbiB9IGZyb20gJy4uL0ljb25zJztcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2dyb3VwLWluZm8tcGFuZWwuY3NzJztcbmV4cG9ydCBmdW5jdGlvbiBEaXJlY3RDaGF0SW5mb1BhbmVsKHsgY29udmVyc2F0aW9uLCBvcHBvbmVudE5hbWUsIG9wcG9uZW50QXZhdGFyLCBtZXNzYWdlcyA9IFtdLCB9KSB7XG4gICAgY29uc3QgW2lzTWVkaWFPcGVuLCBzZXRJc01lZGlhT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW21lZGlhVGFiLCBzZXRNZWRpYVRhYl0gPSB1c2VTdGF0ZSgnbWVkaWEnKTtcbiAgICBjb25zdCBbdmlld2VyT3Blbiwgc2V0Vmlld2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3ZpZXdlckltYWdlcywgc2V0Vmlld2VySW1hZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbdmlld2VySW5kZXgsIHNldFZpZXdlckluZGV4XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IHRpdGxlID0gdXNlTWVtbygoKSA9PiBvcHBvbmVudE5hbWUgfHwgY29udmVyc2F0aW9uLnRpdGxlIHx8ICfEkG/huqFuIGNoYXQnLCBbb3Bwb25lbnROYW1lLCBjb252ZXJzYXRpb24udGl0bGVdKTtcbiAgICBjb25zdCBtZWRpYU1lc3NhZ2VzID0gdXNlTWVtbygoKSA9PiBtZXNzYWdlcy5maWx0ZXIoKG1zZykgPT4ge1xuICAgICAgICBjb25zdCBoYXNJbWFnZVVybCA9IEJvb2xlYW4obXNnLmltYWdlVXJsKTtcbiAgICAgICAgY29uc3QgaXNJbWFnZVR5cGUgPSBtc2cudHlwZSA9PT0gJ2ltYWdlJztcbiAgICAgICAgY29uc3QgaXNGaWxlSW1hZ2UgPSBtc2cuZmlsZT8ubWltZT8uc3RhcnRzV2l0aD8uKCdpbWFnZS8nKTtcbiAgICAgICAgcmV0dXJuIGhhc0ltYWdlVXJsIHx8IGlzSW1hZ2VUeXBlIHx8IGlzRmlsZUltYWdlO1xuICAgIH0pLCBbbWVzc2FnZXNdKTtcbiAgICBjb25zdCBmaWxlTWVzc2FnZXMgPSB1c2VNZW1vKCgpID0+IG1lc3NhZ2VzLmZpbHRlcigobXNnKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRmlsZVR5cGUgPSBtc2cudHlwZSA9PT0gJ2ZpbGUnO1xuICAgICAgICBjb25zdCBoYXNGaWxlID0gQm9vbGVhbihtc2cuZmlsZSk7XG4gICAgICAgIGNvbnN0IGlzTm9uSW1hZ2VGaWxlID0gbXNnLmZpbGUgJiYgIW1zZy5maWxlLm1pbWU/LnN0YXJ0c1dpdGg/LignaW1hZ2UvJyk7XG4gICAgICAgIHJldHVybiBpc0ZpbGVUeXBlIHx8IChoYXNGaWxlICYmIGlzTm9uSW1hZ2VGaWxlKTtcbiAgICB9KSwgW21lc3NhZ2VzXSk7XG4gICAgY29uc3QgbWVkaWFVcmxzID0gdXNlTWVtbygoKSA9PiBtZWRpYU1lc3NhZ2VzXG4gICAgICAgIC5tYXAoKG1zZykgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBtc2cuaW1hZ2VVcmwgfHxcbiAgICAgICAgICAgIChtc2cuZmlsZT8ubWltZT8uc3RhcnRzV2l0aD8uKCdpbWFnZS8nKSA/IG1zZy5maWxlLnVybCA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiB1cmwgfHwgbnVsbDtcbiAgICB9KVxuICAgICAgICAuZmlsdGVyKCh1KSA9PiBCb29sZWFuKHUpKSwgW21lZGlhTWVzc2FnZXNdKTtcbiAgICBjb25zdCBvcGVuVmlld2VyQXQgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFtZWRpYVVybHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGFtcGVkID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oaW5kZXgsIG1lZGlhVXJscy5sZW5ndGggLSAxKSk7XG4gICAgICAgIHNldFZpZXdlckltYWdlcyhtZWRpYVVybHMpO1xuICAgICAgICBzZXRWaWV3ZXJJbmRleChjbGFtcGVkKTtcbiAgICAgICAgc2V0Vmlld2VyT3Blbih0cnVlKTtcbiAgICB9O1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1wYW5lbCBkaXJlY3QtY2hhdC1wYW5lbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc2VjdGlvblwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taGVhZGVyIGRpcmVjdC1jaGF0LWhlYWRlclwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1hdmF0YXIgbGFyZ2VcIiwgY2hpbGRyZW46IG9wcG9uZW50QXZhdGFyID8gX2pzeChcImltZ1wiLCB7IHNyYzogb3Bwb25lbnRBdmF0YXIsIGFsdDogXCJcIiB9KSA6IF9qc3goUHJvZmlsZUljb24sIHsgc2l6ZTogNDAsIGNvbG9yOiBcIiMwOTY2RkZcIiB9KSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGlyZWN0LWNoYXQtaGVhZGVyLXRleHRcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc3VidGl0bGVcIiwgY2hpbGRyZW46IFwiXFx1MDExMG9cXHUxRUExbiBjaGF0IGNcXHUwMEUxIG5oXFx1MDBFMm5cIiB9KV0gfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkaXJlY3QtY2hhdC1hY3Rpb24tcm93XCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiZGlyZWN0LWNoYXQtY2lyY2xlLWJ0blwiLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNpcmNsZS1pY29uXCIsIGNoaWxkcmVuOiBfanN4KFByb2ZpbGVJY29uLCB7IHNpemU6IDIwLCBjb2xvcjogXCIjZTRlNmViXCIgfSkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNpcmNsZS1sYWJlbFwiLCBjaGlsZHJlbjogXCJUcmFuZyBjXFx1MDBFMSBuaFxcdTAwRTJuXCIgfSldIH0pLCBfanN4cyhcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJkaXJlY3QtY2hhdC1jaXJjbGUtYnRuXCIsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2lyY2xlLWljb25cIiwgY2hpbGRyZW46IF9qc3goQmVsbEljb24sIHsgc2l6ZTogMjAsIGNvbG9yOiBcIiNlNGU2ZWJcIiB9KSB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2lyY2xlLWxhYmVsXCIsIGNoaWxkcmVuOiBcIlRcXHUxRUFGdCB0aFxcdTAwRjRuZyBiXFx1MDBFMW9cIiB9KV0gfSksIF9qc3hzKFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImRpcmVjdC1jaGF0LWNpcmNsZS1idG5cIiwgY2hpbGRyZW46IFtfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaXJjbGUtaWNvblwiLCBjaGlsZHJlbjogX2pzeChTZWFyY2hJY29uLCB7IHNpemU6IDIwLCBjb2xvcjogXCIjZTRlNmViXCIgfSkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNpcmNsZS1sYWJlbFwiLCBjaGlsZHJlbjogXCJUXFx1MDBFQ20ga2lcXHUxRUJGbVwiIH0pXSB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1kaXZpZGVyXCIgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLXNlY3Rpb25cIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc2VjdGlvbi10aXRsZVwiLCBjaGlsZHJlbjogXCJUdVxcdTFFRjMgY2hcXHUxRUM5bmggXFx1MDExMW9cXHUxRUExbiBjaGF0XCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tbGlzdFwiLCBjaGlsZHJlbjogW19qc3hzKFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taXRlbVwiLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taXRlbS1pY29uXCIsIGNoaWxkcmVuOiBfanN4KFBhbGV0dGVJY29uLCB7IHNpemU6IDIwLCBjb2xvcjogXCIjZTRlNmViXCIgfSkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IFwiXFx1MDExMFxcdTFFRDVpIGNoXFx1MUVFNyBcXHUwMTExXFx1MUVDMVwiIH0pXSB9KSwgX2pzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1pdGVtXCIsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1pdGVtLWljb25cIiwgY2hpbGRyZW46IF9qc3goVGh1bWJzVXBJY29uLCB7IHNpemU6IDIwLCBjb2xvcjogXCIjZTRlNmViXCIgfSkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IFwiVGhheSBcXHUwMTExXFx1MUVENWkgYmlcXHUxRUMzdSB0XFx1MDFCMFxcdTFFRTNuZyBjXFx1MUVBM20geFxcdTAwRkFjXCIgfSldIH0pLCBfanN4cyhcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLWl0ZW1cIiwgY2hpbGRyZW46IFtfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLWl0ZW0taWNvblwiLCBzdHlsZTogeyBmb250V2VpZ2h0OiA3MDAsIGZvbnRTaXplOiAnMTRweCcgfSwgY2hpbGRyZW46IFwiQWFcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogXCJDaFxcdTFFQzluaCBzXFx1MUVFRGEgYmlcXHUxRUM3dCBkYW5oXCIgfSldIH0pXSB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc2VjdGlvblwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1zZWN0aW9uLXRpdGxlXCIsIGNoaWxkcmVuOiBcIkZpbGUgcGhcXHUwMUIwXFx1MDFBMW5nIHRpXFx1MUVDN24gJiBmaWxlXCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tbGlzdFwiLCBjaGlsZHJlbjogW19qc3hzKFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taXRlbVwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZWRpYVRhYignbWVkaWEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzTWVkaWFPcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taXRlbS1pY29uXCIsIGNoaWxkcmVuOiBfanN4KE1lZGlhSWNvbiwgeyBzaXplOiAyMCwgY29sb3I6IFwiI2U0ZTZlYlwiIH0pIH0pLCBfanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBcIkZpbGUgcGhcXHUwMUIwXFx1MDFBMW5nIHRpXFx1MUVDN25cIiB9KV0gfSksIF9qc3hzKFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taXRlbVwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZWRpYVRhYignZmlsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzTWVkaWFPcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taXRlbS1pY29uXCIsIGNoaWxkcmVuOiBfanN4KEZvbGRlckljb24sIHsgc2l6ZTogMjAsIGNvbG9yOiBcIiNlNGU2ZWJcIiB9KSB9KSwgX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogXCJGaWxlXCIgfSldIH0pXSB9KV0gfSksIGlzTWVkaWFPcGVuICYmIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLW92ZXJsYXlcIiwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLW92ZXJsYXktaW5uZXJcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZWRpYS1vdmVybGF5LWhlYWRlclwiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibWVkaWEtYmFjay1idG5cIiwgb25DbGljazogKCkgPT4gc2V0SXNNZWRpYU9wZW4oZmFsc2UpLCBjaGlsZHJlbjogXCJcXHUyMTkwXCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLXRpdGxlLWdyb3VwXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZWRpYS10aXRsZVwiLCBjaGlsZHJlbjogXCJGaWxlIHBoXFx1MDFCMFxcdTAxQTFuZyB0aVxcdTFFQzduICYgZmlsZVwiIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLXN1YnRpdGxlXCIsIGNoaWxkcmVuOiB0aXRsZSB9KV0gfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZWRpYS10YWJzXCIsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogYG1lZGlhLXRhYiAke21lZGlhVGFiID09PSAnbWVkaWEnID8gJ2FjdGl2ZScgOiAnJ31gLCBvbkNsaWNrOiAoKSA9PiBzZXRNZWRpYVRhYignbWVkaWEnKSwgY2hpbGRyZW46IFwiRmlsZSBwaFxcdTAxQjBcXHUwMUExbmcgdGlcXHUxRUM3blwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBgbWVkaWEtdGFiICR7bWVkaWFUYWIgPT09ICdmaWxlcycgPyAnYWN0aXZlJyA6ICcnfWAsIG9uQ2xpY2s6ICgpID0+IHNldE1lZGlhVGFiKCdmaWxlcycpLCBjaGlsZHJlbjogXCJGaWxlXCIgfSldIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLWNvbnRlbnRcIiwgY2hpbGRyZW46IG1lZGlhVGFiID09PSAnbWVkaWEnID8gKG1lZGlhTWVzc2FnZXMubGVuZ3RoID09PSAwID8gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVkaWEtcGxhY2Vob2xkZXJcIiwgY2hpbGRyZW46IF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiQ2hcXHUwMUIwYSBjXFx1MDBGMyBmaWxlIHBoXFx1MDFCMFxcdTAxQTFuZyB0aVxcdTFFQzduIG5cXHUwMEUwbyB0cm9uZyBcXHUwMTExb1xcdTFFQTFuIGNoYXQgblxcdTAwRTB5LlwiIH0pIH0pKSA6IChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLWdyaWRcIiwgY2hpbGRyZW46IG1lZGlhTWVzc2FnZXMubWFwKChtc2csIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBtc2cuX2lkIHx8IG1zZy5sb2NhbElkIHx8IGAke21zZy5jcmVhdGVkQXR9LSR7bXNnLnNlbmRlcklkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBtc2cuaW1hZ2VVcmwgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobXNnLmZpbGU/Lm1pbWU/LnN0YXJ0c1dpdGg/LignaW1hZ2UvJykgPyBtc2cuZmlsZS51cmwgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1cmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwibWVkaWEtZ3JpZC1pdGVtXCIsIG9uQ2xpY2s6ICgpID0+IG9wZW5WaWV3ZXJBdChpbmRleCksIGNoaWxkcmVuOiBfanN4KFwiaW1nXCIsIHsgc3JjOiB1cmwsIGFsdDogXCJcIiB9KSB9LCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSkpKSA6IGZpbGVNZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZWRpYS1wbGFjZWhvbGRlclwiLCBjaGlsZHJlbjogX2pzeChcInBcIiwgeyBjaGlsZHJlbjogXCJDaFxcdTAxQjBhIGNcXHUwMEYzIGZpbGUgblxcdTAwRTBvIHRyb25nIFxcdTAxMTFvXFx1MUVBMW4gY2hhdCBuXFx1MDBFMHkuXCIgfSkgfSkpIDogKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVkaWEtZmlsZS1saXN0XCIsIGNoaWxkcmVuOiBmaWxlTWVzc2FnZXMubWFwKChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBtc2cuZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IG1zZy5faWQgfHwgbXNnLmxvY2FsSWQgfHwgYCR7bXNnLmNyZWF0ZWRBdH0tJHttc2cuc2VuZGVySWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJhXCIsIHsgaHJlZjogZmlsZS51cmwsIHRhcmdldDogXCJfYmxhbmtcIiwgcmVsOiBcIm5vcmVmZXJyZXJcIiwgY2xhc3NOYW1lOiBcIm1lZGlhLWZpbGUtaXRlbVwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVkaWEtZmlsZS1pY29uXCIsIGNoaWxkcmVuOiBfanN4KEZpbGVJY29uLCB7IHNpemU6IDI0LCBjb2xvcjogXCIjMDk2NkZGXCIgfSkgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLWZpbGUtaW5mb1wiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVkaWEtZmlsZS1uYW1lXCIsIGNoaWxkcmVuOiBmaWxlLm5hbWUgfHwgJ0ZpbGUgxJHDrW5oIGvDqG0nIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lZGlhLWZpbGUtbWV0YVwiLCBjaGlsZHJlbjogbmV3IERhdGUobXNnLmNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCd2aS1WTicpIH0pXSB9KV0gfSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0pKSB9KV0gfSkgfSkpLCB2aWV3ZXJPcGVuXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVQb3J0YWwoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWltYWdlLXZpZXdlci1iYWNrZHJvcFwiLCBvbkNsaWNrOiAoKSA9PiBzZXRWaWV3ZXJPcGVuKGZhbHNlKSwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaW1hZ2Utdmlld2VyLWNvbnRlbnRcIiwgb25DbGljazogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksIGNoaWxkcmVuOiBbdmlld2VySW1hZ2VzW3ZpZXdlckluZGV4XSA/IChfanN4KFwiaW1nXCIsIHsgc3JjOiB2aWV3ZXJJbWFnZXNbdmlld2VySW5kZXhdLCBhbHQ6IFwiYXR0YWNobWVudC1sYXJnZVwiIH0pKSA6IG51bGwsIHZpZXdlckltYWdlcy5sZW5ndGggPiAxID8gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1pbWFnZS12aWV3ZXItdGh1bWJzXCIsIGNoaWxkcmVuOiB2aWV3ZXJJbWFnZXMubWFwKChzcmMsIGluZGV4KSA9PiAoX2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjaGF0LWltYWdlLXZpZXdlci10aHVtYicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IHZpZXdlckluZGV4ID8gJ2NoYXQtaW1hZ2Utdmlld2VyLXRodW1iLS1hY3RpdmUnIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyksIG9uQ2xpY2s6ICgpID0+IHNldFZpZXdlckluZGV4KGluZGV4KSwgY2hpbGRyZW46IF9qc3goXCJpbWdcIiwgeyBzcmM6IHNyYywgYWx0OiBgdGh1bWItJHtpbmRleH1gIH0pIH0sIHNyYyArIGluZGV4KSkpIH0pKSA6IG51bGxdIH0pIH0pLCBkb2N1bWVudC5ib2R5KVxuICAgICAgICAgICAgICAgIDogbnVsbF0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJjcmVhdGVQb3J0YWwiLCJQcm9maWxlSWNvbiIsIkJlbGxJY29uIiwiU2VhcmNoSWNvbiIsIlBhbGV0dGVJY29uIiwiVGh1bWJzVXBJY29uIiwiTWVkaWFJY29uIiwiRm9sZGVySWNvbiIsIkZpbGVJY29uIiwiRGlyZWN0Q2hhdEluZm9QYW5lbCIsImNvbnZlcnNhdGlvbiIsIm9wcG9uZW50TmFtZSIsIm9wcG9uZW50QXZhdGFyIiwibWVzc2FnZXMiLCJpc01lZGlhT3BlbiIsInNldElzTWVkaWFPcGVuIiwibWVkaWFUYWIiLCJzZXRNZWRpYVRhYiIsInZpZXdlck9wZW4iLCJzZXRWaWV3ZXJPcGVuIiwidmlld2VySW1hZ2VzIiwic2V0Vmlld2VySW1hZ2VzIiwidmlld2VySW5kZXgiLCJzZXRWaWV3ZXJJbmRleCIsInRpdGxlIiwibWVkaWFNZXNzYWdlcyIsImZpbHRlciIsIm1zZyIsImhhc0ltYWdlVXJsIiwiQm9vbGVhbiIsImltYWdlVXJsIiwiaXNJbWFnZVR5cGUiLCJ0eXBlIiwiaXNGaWxlSW1hZ2UiLCJmaWxlIiwibWltZSIsInN0YXJ0c1dpdGgiLCJmaWxlTWVzc2FnZXMiLCJpc0ZpbGVUeXBlIiwiaGFzRmlsZSIsImlzTm9uSW1hZ2VGaWxlIiwibWVkaWFVcmxzIiwibWFwIiwidXJsIiwidW5kZWZpbmVkIiwidSIsIm9wZW5WaWV3ZXJBdCIsImluZGV4IiwibGVuZ3RoIiwiY2xhbXBlZCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInNyYyIsImFsdCIsInNpemUiLCJjb2xvciIsInN0eWxlIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwib25DbGljayIsImtleSIsIl9pZCIsImxvY2FsSWQiLCJjcmVhdGVkQXQiLCJzZW5kZXJJZCIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJuYW1lIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJqb2luIiwiZG9jdW1lbnQiLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/DirectChatInfoPanel.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/ForwardMessageDialog.js":
/*!******************************************************************!*\
  !*** ../../packages/app/components/chat/ForwardMessageDialog.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForwardMessageDialog: () => (/* binding */ ForwardMessageDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.js\");\n\n\n\nfunction ForwardMessageDialog({ message, onClose, onForwarded }) {\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [selectedConversationId, setSelectedConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwarding, setForwarding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!message) return;\n        loadConversations();\n    }, [\n        message\n    ]);\n    const loadConversations = async ()=>{\n        try {\n            setLoading(true);\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.getConversations)();\n            setConversations(data);\n        } catch (err) {\n            console.error(\"Failed to load conversations:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleForward = async ()=>{\n        if (!message || !selectedConversationId) return;\n        try {\n            setForwarding(true);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createMessageWithPayload)(selectedConversationId, {\n                text: message.text,\n                imageUrl: message.imageUrl,\n                type: message.type\n            });\n            onForwarded?.();\n            onClose();\n        } catch (err) {\n            console.error(\"Failed to forward message:\", err);\n            alert(\"Kh\\xf4ng th chuyn tip tin nhn. Vui l\\xf2ng th li.\");\n        } finally{\n            setForwarding(false);\n        }\n    };\n    if (!message) return null;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"chat-forward-dialog-overlay\",\n        onClick: onClose,\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"chat-forward-dialog\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"chat-forward-dialog-header\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", {\n                            children: \"Chuyn tip tin nhn\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"chat-forward-dialog-close\",\n                            onClick: onClose,\n                            children: \"\\xd7\"\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"chat-forward-dialog-preview\",\n                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"chat-forward-preview-message\",\n                        children: [\n                            message.text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"chat-forward-preview-text\",\n                                children: message.text\n                            }),\n                            message.imageUrl && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                src: message.imageUrl,\n                                alt: \"Preview\",\n                                className: \"chat-forward-preview-image\"\n                            })\n                        ]\n                    })\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"chat-forward-dialog-list\",\n                    children: loading ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-forward-dialog-loading\",\n                        children: \"ang ti...\"\n                    }) : conversations.length === 0 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-forward-dialog-empty\",\n                        children: \"Kh\\xf4ng c\\xf3 cuc tr\\xf2 chuyn n\\xe0o\"\n                    }) : conversations.map((conv)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                            className: `chat-forward-dialog-item ${selectedConversationId === conv._id ? \"chat-forward-dialog-item--selected\" : \"\"}`,\n                            onClick: ()=>setSelectedConversationId(conv._id),\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"chat-forward-dialog-item-avatar\",\n                                    children: conv.isGroup ? \"\\uD83D\\uDC65\" : \"\\uD83D\\uDCAC\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"chat-forward-dialog-item-info\",\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: \"chat-forward-dialog-item-name\",\n                                        children: conv.isGroup ? conv.title || `Nhm (${conv.members.length})` : conv.title || \"Ngi d\\xf9ng\"\n                                    })\n                                })\n                            ]\n                        }, conv._id))\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"chat-forward-dialog-actions\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"chat-forward-dialog-cancel\",\n                            onClick: onClose,\n                            children: \"Hy\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"chat-forward-dialog-forward\",\n                            onClick: handleForward,\n                            disabled: !selectedConversationId || forwarding,\n                            children: forwarding ? \"ang chuyn tip...\" : \"Chuyn tip\"\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9Gb3J3YXJkTWVzc2FnZURpYWxvZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0Q7QUFDbkI7QUFDMkI7QUFDaEUsU0FBU1EscUJBQXFCLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUU7SUFDbEUsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR1IsK0NBQVFBLENBQUMsRUFBRTtJQUNyRCxNQUFNLENBQUNTLFNBQVNDLFdBQVcsR0FBR1YsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVyx3QkFBd0JDLDBCQUEwQixHQUFHWiwrQ0FBUUEsQ0FBQztJQUNyRSxNQUFNLENBQUNhLFlBQVlDLGNBQWMsR0FBR2QsK0NBQVFBLENBQUM7SUFDN0NELGdEQUFTQSxDQUFDO1FBQ04sSUFBSSxDQUFDSyxTQUNEO1FBQ0pXO0lBQ0osR0FBRztRQUFDWDtLQUFRO0lBQ1osTUFBTVcsb0JBQW9CO1FBQ3RCLElBQUk7WUFDQUwsV0FBVztZQUNYLE1BQU1NLE9BQU8sTUFBTWYsc0RBQWdCQTtZQUNuQ08saUJBQWlCUTtRQUNyQixFQUNBLE9BQU9DLEtBQUs7WUFDUkMsUUFBUUMsS0FBSyxDQUFDLGlDQUFpQ0Y7UUFDbkQsU0FDUTtZQUNKUCxXQUFXO1FBQ2Y7SUFDSjtJQUNBLE1BQU1VLGdCQUFnQjtRQUNsQixJQUFJLENBQUNoQixXQUFXLENBQUNPLHdCQUNiO1FBQ0osSUFBSTtZQUNBRyxjQUFjO1lBQ2QsTUFBTVosOERBQXdCQSxDQUFDUyx3QkFBd0I7Z0JBQ25EVSxNQUFNakIsUUFBUWlCLElBQUk7Z0JBQ2xCQyxVQUFVbEIsUUFBUWtCLFFBQVE7Z0JBQzFCQyxNQUFNbkIsUUFBUW1CLElBQUk7WUFDdEI7WUFDQWpCO1lBQ0FEO1FBQ0osRUFDQSxPQUFPWSxLQUFLO1lBQ1JDLFFBQVFDLEtBQUssQ0FBQyw4QkFBOEJGO1lBQzVDTyxNQUFNO1FBQ1YsU0FDUTtZQUNKVixjQUFjO1FBQ2xCO0lBQ0o7SUFDQSxJQUFJLENBQUNWLFNBQ0QsT0FBTztJQUNYLE9BQVFSLHNEQUFJQSxDQUFDLE9BQU87UUFBRTZCLFdBQVc7UUFBK0JDLFNBQVNyQjtRQUFTc0IsVUFBVTdCLHVEQUFLQSxDQUFDLE9BQU87WUFBRTJCLFdBQVc7WUFBdUJDLFNBQVMsQ0FBQ0UsSUFBTUEsRUFBRUMsZUFBZTtZQUFJRixVQUFVO2dCQUFDN0IsdURBQUtBLENBQUMsT0FBTztvQkFBRTJCLFdBQVc7b0JBQThCRSxVQUFVO3dCQUFDL0Isc0RBQUlBLENBQUMsTUFBTTs0QkFBRStCLFVBQVU7d0JBQXNDO3dCQUFJL0Isc0RBQUlBLENBQUMsVUFBVTs0QkFBRTZCLFdBQVc7NEJBQTZCQyxTQUFTckI7NEJBQVNzQixVQUFVO3dCQUFTO3FCQUFHO2dCQUFDO2dCQUFJL0Isc0RBQUlBLENBQUMsT0FBTztvQkFBRTZCLFdBQVc7b0JBQStCRSxVQUFVN0IsdURBQUtBLENBQUMsT0FBTzt3QkFBRTJCLFdBQVc7d0JBQWdDRSxVQUFVOzRCQUFDdkIsUUFBUWlCLElBQUksSUFBSXpCLHNEQUFJQSxDQUFDLE9BQU87Z0NBQUU2QixXQUFXO2dDQUE2QkUsVUFBVXZCLFFBQVFpQixJQUFJOzRCQUFDOzRCQUFJakIsUUFBUWtCLFFBQVEsSUFBSzFCLHNEQUFJQSxDQUFDLE9BQU87Z0NBQUVrQyxLQUFLMUIsUUFBUWtCLFFBQVE7Z0NBQUVTLEtBQUs7Z0NBQVdOLFdBQVc7NEJBQTZCO3lCQUFJO29CQUFDO2dCQUFHO2dCQUFJN0Isc0RBQUlBLENBQUMsT0FBTztvQkFBRTZCLFdBQVc7b0JBQTRCRSxVQUFVbEIsVUFBV2Isc0RBQUlBLENBQUMsT0FBTzt3QkFBRTZCLFdBQVc7d0JBQStCRSxVQUFVO29CQUF3QixLQUFNcEIsY0FBY3lCLE1BQU0sS0FBSyxJQUFLcEMsc0RBQUlBLENBQUMsT0FBTzt3QkFBRTZCLFdBQVc7d0JBQTZCRSxVQUFVO29CQUE2RCxLQUFPcEIsY0FBYzBCLEdBQUcsQ0FBQyxDQUFDQyxPQUFVcEMsdURBQUtBLENBQUMsVUFBVTs0QkFBRTJCLFdBQVcsQ0FBQyx5QkFBeUIsRUFBRWQsMkJBQTJCdUIsS0FBS0MsR0FBRyxHQUFHLHVDQUF1QyxHQUFHLENBQUM7NEJBQUVULFNBQVMsSUFBTWQsMEJBQTBCc0IsS0FBS0MsR0FBRzs0QkFBR1IsVUFBVTtnQ0FBQy9CLHNEQUFJQSxDQUFDLE9BQU87b0NBQUU2QixXQUFXO29DQUFtQ0UsVUFBVU8sS0FBS0UsT0FBTyxHQUFHLGlCQUFPO2dDQUFLO2dDQUFJeEMsc0RBQUlBLENBQUMsT0FBTztvQ0FBRTZCLFdBQVc7b0NBQWlDRSxVQUFVL0Isc0RBQUlBLENBQUMsT0FBTzt3Q0FBRTZCLFdBQVc7d0NBQWlDRSxVQUFVTyxLQUFLRSxPQUFPLEdBQUdGLEtBQUtHLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRUgsS0FBS0ksT0FBTyxDQUFDTixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUdFLEtBQUtHLEtBQUssSUFBSTtvQ0FBYTtnQ0FBRzs2QkFBRzt3QkFBQyxHQUFHSCxLQUFLQyxHQUFHO2dCQUFLO2dCQUFJckMsdURBQUtBLENBQUMsT0FBTztvQkFBRTJCLFdBQVc7b0JBQStCRSxVQUFVO3dCQUFDL0Isc0RBQUlBLENBQUMsVUFBVTs0QkFBRTZCLFdBQVc7NEJBQThCQyxTQUFTckI7NEJBQVNzQixVQUFVO3dCQUFXO3dCQUFJL0Isc0RBQUlBLENBQUMsVUFBVTs0QkFBRTZCLFdBQVc7NEJBQStCQyxTQUFTTjs0QkFBZW1CLFVBQVUsQ0FBQzVCLDBCQUEwQkU7NEJBQVljLFVBQVVkLGFBQWEsd0JBQXdCO3dCQUFjO3FCQUFHO2dCQUFDO2FBQUc7UUFBQztJQUFHO0FBQzVoRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvRm9yd2FyZE1lc3NhZ2VEaWFsb2cuanM/YTdkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldENvbnZlcnNhdGlvbnMsIGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZCB9IGZyb20gJy4uLy4uL2FwaSc7XG5leHBvcnQgZnVuY3Rpb24gRm9yd2FyZE1lc3NhZ2VEaWFsb2coeyBtZXNzYWdlLCBvbkNsb3NlLCBvbkZvcndhcmRlZCB9KSB7XG4gICAgY29uc3QgW2NvbnZlcnNhdGlvbnMsIHNldENvbnZlcnNhdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzZWxlY3RlZENvbnZlcnNhdGlvbklkLCBzZXRTZWxlY3RlZENvbnZlcnNhdGlvbklkXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtmb3J3YXJkaW5nLCBzZXRGb3J3YXJkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIW1lc3NhZ2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWRDb252ZXJzYXRpb25zKCk7XG4gICAgfSwgW21lc3NhZ2VdKTtcbiAgICBjb25zdCBsb2FkQ29udmVyc2F0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpO1xuICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBjb252ZXJzYXRpb25zOicsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRm9yd2FyZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8ICFzZWxlY3RlZENvbnZlcnNhdGlvbklkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0Rm9yd2FyZGluZyh0cnVlKTtcbiAgICAgICAgICAgIGF3YWl0IGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZChzZWxlY3RlZENvbnZlcnNhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZS50ZXh0LFxuICAgICAgICAgICAgICAgIGltYWdlVXJsOiBtZXNzYWdlLmltYWdlVXJsLFxuICAgICAgICAgICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25Gb3J3YXJkZWQ/LigpO1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmb3J3YXJkIG1lc3NhZ2U6JywgZXJyKTtcbiAgICAgICAgICAgIGFsZXJ0KCdLaMO0bmcgdGjhu4MgY2h1eeG7g24gdGnhur9wIHRpbiBuaOG6r24uIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaS4nKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldEZvcndhcmRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoIW1lc3NhZ2UpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtZGlhbG9nLW92ZXJsYXlcIiwgb25DbGljazogb25DbG9zZSwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtZm9yd2FyZC1kaWFsb2dcIiwgb25DbGljazogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1mb3J3YXJkLWRpYWxvZy1oZWFkZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiaDNcIiwgeyBjaGlsZHJlbjogXCJDaHV5XFx1MUVDM24gdGlcXHUxRUJGcCB0aW4gbmhcXHUxRUFGblwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtZm9yd2FyZC1kaWFsb2ctY2xvc2VcIiwgb25DbGljazogb25DbG9zZSwgY2hpbGRyZW46IFwiXFx1MDBEN1wiIH0pXSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtZGlhbG9nLXByZXZpZXdcIiwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtZm9yd2FyZC1wcmV2aWV3LW1lc3NhZ2VcIiwgY2hpbGRyZW46IFttZXNzYWdlLnRleHQgJiYgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtcHJldmlldy10ZXh0XCIsIGNoaWxkcmVuOiBtZXNzYWdlLnRleHQgfSksIG1lc3NhZ2UuaW1hZ2VVcmwgJiYgKF9qc3goXCJpbWdcIiwgeyBzcmM6IG1lc3NhZ2UuaW1hZ2VVcmwsIGFsdDogXCJQcmV2aWV3XCIsIGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtcHJldmlldy1pbWFnZVwiIH0pKV0gfSkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1mb3J3YXJkLWRpYWxvZy1saXN0XCIsIGNoaWxkcmVuOiBsb2FkaW5nID8gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1mb3J3YXJkLWRpYWxvZy1sb2FkaW5nXCIsIGNoaWxkcmVuOiBcIlxcdTAxMTBhbmcgdFxcdTFFQTNpLi4uXCIgfSkpIDogY29udmVyc2F0aW9ucy5sZW5ndGggPT09IDAgPyAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtZGlhbG9nLWVtcHR5XCIsIGNoaWxkcmVuOiBcIktoXFx1MDBGNG5nIGNcXHUwMEYzIGN1XFx1MUVEOWMgdHJcXHUwMEYyIGNodXlcXHUxRUM3biBuXFx1MDBFMG9cIiB9KSkgOiAoY29udmVyc2F0aW9ucy5tYXAoKGNvbnYpID0+IChfanN4cyhcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogYGNoYXQtZm9yd2FyZC1kaWFsb2ctaXRlbSAke3NlbGVjdGVkQ29udmVyc2F0aW9uSWQgPT09IGNvbnYuX2lkID8gJ2NoYXQtZm9yd2FyZC1kaWFsb2ctaXRlbS0tc2VsZWN0ZWQnIDogJyd9YCwgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRDb252ZXJzYXRpb25JZChjb252Ll9pZCksIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtZGlhbG9nLWl0ZW0tYXZhdGFyXCIsIGNoaWxkcmVuOiBjb252LmlzR3JvdXAgPyAn8J+RpScgOiAn8J+SrCcgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1mb3J3YXJkLWRpYWxvZy1pdGVtLWluZm9cIiwgY2hpbGRyZW46IF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1mb3J3YXJkLWRpYWxvZy1pdGVtLW5hbWVcIiwgY2hpbGRyZW46IGNvbnYuaXNHcm91cCA/IGNvbnYudGl0bGUgfHwgYE5ow7NtICgke2NvbnYubWVtYmVycy5sZW5ndGh9KWAgOiBjb252LnRpdGxlIHx8ICdOZ8aw4budaSBkw7luZycgfSkgfSldIH0sIGNvbnYuX2lkKSkpKSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1mb3J3YXJkLWRpYWxvZy1hY3Rpb25zXCIsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtZGlhbG9nLWNhbmNlbFwiLCBvbkNsaWNrOiBvbkNsb3NlLCBjaGlsZHJlbjogXCJIXFx1MUVFN3lcIiB9KSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWZvcndhcmQtZGlhbG9nLWZvcndhcmRcIiwgb25DbGljazogaGFuZGxlRm9yd2FyZCwgZGlzYWJsZWQ6ICFzZWxlY3RlZENvbnZlcnNhdGlvbklkIHx8IGZvcndhcmRpbmcsIGNoaWxkcmVuOiBmb3J3YXJkaW5nID8gJ8SQYW5nIGNodXnhu4NuIHRp4bq/cC4uLicgOiAnQ2h1eeG7g24gdGnhur9wJyB9KV0gfSldIH0pIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJnZXRDb252ZXJzYXRpb25zIiwiY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkIiwiRm9yd2FyZE1lc3NhZ2VEaWFsb2ciLCJtZXNzYWdlIiwib25DbG9zZSIsIm9uRm9yd2FyZGVkIiwiY29udmVyc2F0aW9ucyIsInNldENvbnZlcnNhdGlvbnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNlbGVjdGVkQ29udmVyc2F0aW9uSWQiLCJzZXRTZWxlY3RlZENvbnZlcnNhdGlvbklkIiwiZm9yd2FyZGluZyIsInNldEZvcndhcmRpbmciLCJsb2FkQ29udmVyc2F0aW9ucyIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJoYW5kbGVGb3J3YXJkIiwidGV4dCIsImltYWdlVXJsIiwidHlwZSIsImFsZXJ0IiwiY2xhc3NOYW1lIiwib25DbGljayIsImNoaWxkcmVuIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsInNyYyIsImFsdCIsImxlbmd0aCIsIm1hcCIsImNvbnYiLCJfaWQiLCJpc0dyb3VwIiwidGl0bGUiLCJtZW1iZXJzIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/ForwardMessageDialog.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageComposer/MessageComposer.js":
/*!*****************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageComposer/MessageComposer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageComposer: () => (/* binding */ MessageComposer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _Icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Icons */ \"(ssr)/../../packages/app/components/Icons.js\");\n\n\n\n\nfunction MessageComposer({ onSend, disabled, onValueChange, replyPreview, onCancelReply, editingLabel, onCancelEdit, value }) {\n    const [internalValue, setInternalValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const text = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>value !== undefined ? value : internalValue, [\n        value,\n        internalValue\n    ]);\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const mediaInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const updateValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((next)=>{\n        if (value !== undefined) {\n            onValueChange?.(next);\n        } else {\n            setInternalValue(next);\n            onValueChange?.(next);\n        }\n    }, [\n        onValueChange,\n        value\n    ]);\n    const resetValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (value !== undefined) {\n            onValueChange?.(\"\");\n        } else {\n            setInternalValue(\"\");\n            onValueChange?.(\"\");\n        }\n    }, [\n        onValueChange,\n        value\n    ]);\n    const handleSubmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (event)=>{\n        event.preventDefault();\n        const trimmed = text.trim();\n        if (!trimmed && !replyPreview) return;\n        try {\n            setSending(true);\n            await onSend({\n                text: trimmed\n            });\n            resetValue();\n        } finally{\n            setSending(false);\n        }\n    }, [\n        onSend,\n        text,\n        replyPreview,\n        resetValue\n    ]);\n    const handleUpload = (kind)=>async (event)=>{\n            const file = event.target.files?.[0];\n            event.target.value = \"\";\n            if (!file) return;\n            try {\n                setSending(true);\n                const uploaded = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.uploadChatFile)(file);\n                if (!uploaded?.url) {\n                    console.warn(\"Upload did not return URL\");\n                    return;\n                }\n                const baseFile = {\n                    url: uploaded.url,\n                    name: uploaded.name ?? file.name,\n                    mime: uploaded.mime ?? file.type,\n                    size: uploaded.size ?? file.size\n                };\n                if (kind === \"media\") {\n                    const isImageOrVideo = baseFile.mime?.startsWith(\"image/\") || baseFile.mime?.startsWith(\"video/\") || file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\");\n                    const payload = {\n                        type: isImageOrVideo ? \"image\" : \"file\",\n                        file: baseFile\n                    };\n                    await onSend(payload);\n                } else {\n                    const payload = {\n                        type: \"file\",\n                        file: baseFile\n                    };\n                    await onSend(payload);\n                }\n            } finally{\n                setSending(false);\n            }\n        };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n        className: \"chat-composer-form\",\n        onSubmit: handleSubmit,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                ref: mediaInputRef,\n                type: \"file\",\n                accept: \"image/*,video/*\",\n                hidden: true,\n                onChange: handleUpload(\"media\")\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                ref: audioInputRef,\n                type: \"file\",\n                accept: \"audio/*\",\n                hidden: true,\n                onChange: handleUpload(\"audio\")\n            }),\n            replyPreview ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-composer-reply-preview\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-reply-indicator\"\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"chat-composer-reply-body\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-reply-label\",\n                                children: \"Tr li\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-reply-text\",\n                                children: replyPreview\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-reply-cancel\",\n                        onClick: onCancelReply,\n                        children: \"\"\n                    })\n                ]\n            }) : null,\n            editingLabel ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-composer-edit-banner\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                        children: editingLabel\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        type: \"button\",\n                        onClick: onCancelEdit,\n                        children: \"Hy\"\n                    })\n                ]\n            }) : null,\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-composer-left\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-composer-icon-btn\",\n                        disabled: disabled || sending,\n                        title: \"Gi nh/video\",\n                        onClick: ()=>mediaInputRef.current?.click(),\n                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.CameraIcon, {\n                            size: 20,\n                            color: \"#0966FF\"\n                        })\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-composer-icon-btn\",\n                        disabled: disabled || sending,\n                        title: \"Gi \\xe2m thanh\",\n                        onClick: ()=>audioInputRef.current?.click(),\n                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icons__WEBPACK_IMPORTED_MODULE_3__.MicIcon, {\n                            size: 20,\n                            color: \"#0966FF\"\n                        })\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                className: \"chat-composer-input\",\n                placeholder: \"Nhp tin nhn...\",\n                value: text,\n                onChange: (event)=>updateValue(event.target.value),\n                disabled: disabled || sending\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-composer-send\",\n                type: \"submit\",\n                disabled: disabled || sending || !text.trim(),\n                children: \"Gi\"\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlQ29tcG9zZXIvTWVzc2FnZUNvbXBvc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0Q7QUFDQTtBQUNqQjtBQUNJO0FBQzNDLFNBQVNXLGdCQUFnQixFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsYUFBYSxFQUFFQyxZQUFZLEVBQUVDLGFBQWEsRUFBRUMsWUFBWSxFQUFFQyxZQUFZLEVBQUVDLEtBQUssRUFBRztJQUNoSSxNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHZCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNZSxPQUFPakIsOENBQU9BLENBQUMsSUFBT2MsVUFBVUksWUFBWUosUUFBUUMsZUFBZ0I7UUFBQ0Q7UUFBT0M7S0FBYztJQUNoRyxNQUFNLENBQUNJLFNBQVNDLFdBQVcsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU1tQixnQkFBZ0JwQiw2Q0FBTUEsQ0FBQztJQUM3QixNQUFNcUIsZ0JBQWdCckIsNkNBQU1BLENBQUM7SUFDN0IsTUFBTXNCLGNBQWN4QixrREFBV0EsQ0FBQyxDQUFDeUI7UUFDN0IsSUFBSVYsVUFBVUksV0FBVztZQUNyQlQsZ0JBQWdCZTtRQUNwQixPQUNLO1lBQ0RSLGlCQUFpQlE7WUFDakJmLGdCQUFnQmU7UUFDcEI7SUFDSixHQUFHO1FBQUNmO1FBQWVLO0tBQU07SUFDekIsTUFBTVcsYUFBYTFCLGtEQUFXQSxDQUFDO1FBQzNCLElBQUllLFVBQVVJLFdBQVc7WUFDckJULGdCQUFnQjtRQUNwQixPQUNLO1lBQ0RPLGlCQUFpQjtZQUNqQlAsZ0JBQWdCO1FBQ3BCO0lBQ0osR0FBRztRQUFDQTtRQUFlSztLQUFNO0lBQ3pCLE1BQU1ZLGVBQWUzQixrREFBV0EsQ0FBQyxPQUFPNEI7UUFDcENBLE1BQU1DLGNBQWM7UUFDcEIsTUFBTUMsVUFBVVosS0FBS2EsSUFBSTtRQUN6QixJQUFJLENBQUNELFdBQVcsQ0FBQ25CLGNBQ2I7UUFDSixJQUFJO1lBQ0FVLFdBQVc7WUFDWCxNQUFNYixPQUFPO2dCQUFFVSxNQUFNWTtZQUFRO1lBQzdCSjtRQUNKLFNBQ1E7WUFDSkwsV0FBVztRQUNmO0lBQ0osR0FBRztRQUFDYjtRQUFRVTtRQUFNUDtRQUFjZTtLQUFXO0lBQzNDLE1BQU1NLGVBQWUsQ0FBQ0MsT0FBUyxPQUFPTDtZQUNsQyxNQUFNTSxPQUFPTixNQUFNTyxNQUFNLENBQUNDLEtBQUssRUFBRSxDQUFDLEVBQUU7WUFDcENSLE1BQU1PLE1BQU0sQ0FBQ3BCLEtBQUssR0FBRztZQUNyQixJQUFJLENBQUNtQixNQUNEO1lBQ0osSUFBSTtnQkFDQWIsV0FBVztnQkFDWCxNQUFNZ0IsV0FBVyxNQUFNakMsb0RBQWNBLENBQUM4QjtnQkFDdEMsSUFBSSxDQUFDRyxVQUFVQyxLQUFLO29CQUNoQkMsUUFBUUMsSUFBSSxDQUFDO29CQUNiO2dCQUNKO2dCQUNBLE1BQU1DLFdBQVc7b0JBQ2JILEtBQUtELFNBQVNDLEdBQUc7b0JBQ2pCSSxNQUFNTCxTQUFTSyxJQUFJLElBQUlSLEtBQUtRLElBQUk7b0JBQ2hDQyxNQUFNTixTQUFTTSxJQUFJLElBQUlULEtBQUtVLElBQUk7b0JBQ2hDQyxNQUFNUixTQUFTUSxJQUFJLElBQUlYLEtBQUtXLElBQUk7Z0JBQ3BDO2dCQUNBLElBQUlaLFNBQVMsU0FBUztvQkFDbEIsTUFBTWEsaUJBQWlCTCxTQUFTRSxJQUFJLEVBQUVJLFdBQVcsYUFDN0NOLFNBQVNFLElBQUksRUFBRUksV0FBVyxhQUMxQmIsS0FBS1UsSUFBSSxDQUFDRyxVQUFVLENBQUMsYUFDckJiLEtBQUtVLElBQUksQ0FBQ0csVUFBVSxDQUFDO29CQUN6QixNQUFNQyxVQUFVO3dCQUNaSixNQUFNRSxpQkFBaUIsVUFBVTt3QkFDakNaLE1BQU1PO29CQUNWO29CQUNBLE1BQU1qQyxPQUFPd0M7Z0JBQ2pCLE9BQ0s7b0JBQ0QsTUFBTUEsVUFBVTt3QkFDWkosTUFBTTt3QkFDTlYsTUFBTU87b0JBQ1Y7b0JBQ0EsTUFBTWpDLE9BQU93QztnQkFDakI7WUFDSixTQUNRO2dCQUNKM0IsV0FBVztZQUNmO1FBQ0o7SUFDQSxPQUFRdEIsdURBQUtBLENBQUMsUUFBUTtRQUFFa0QsV0FBVztRQUFzQkMsVUFBVXZCO1FBQWN3QixVQUFVO1lBQUN0RCxzREFBSUEsQ0FBQyxTQUFTO2dCQUFFdUQsS0FBSzlCO2dCQUFlc0IsTUFBTTtnQkFBUVMsUUFBUTtnQkFBbUJDLFFBQVE7Z0JBQU1DLFVBQVV2QixhQUFhO1lBQVM7WUFBSW5DLHNEQUFJQSxDQUFDLFNBQVM7Z0JBQUV1RCxLQUFLN0I7Z0JBQWVxQixNQUFNO2dCQUFRUyxRQUFRO2dCQUFXQyxRQUFRO2dCQUFNQyxVQUFVdkIsYUFBYTtZQUFTO1lBQUlyQixlQUFnQlosdURBQUtBLENBQUMsT0FBTztnQkFBRWtELFdBQVc7Z0JBQStCRSxVQUFVO29CQUFDdEQsc0RBQUlBLENBQUMsT0FBTzt3QkFBRW9ELFdBQVc7b0JBQXVCO29CQUFJbEQsdURBQUtBLENBQUMsT0FBTzt3QkFBRWtELFdBQVc7d0JBQTRCRSxVQUFVOzRCQUFDdEQsc0RBQUlBLENBQUMsUUFBUTtnQ0FBRW9ELFdBQVc7Z0NBQW9CRSxVQUFVOzRCQUFvQjs0QkFBSXRELHNEQUFJQSxDQUFDLFFBQVE7Z0NBQUVvRCxXQUFXO2dDQUFtQkUsVUFBVXhDOzRCQUFhO3lCQUFHO29CQUFDO29CQUFJZCxzREFBSUEsQ0FBQyxVQUFVO3dCQUFFK0MsTUFBTTt3QkFBVUssV0FBVzt3QkFBcUJPLFNBQVM1Qzt3QkFBZXVDLFVBQVU7b0JBQVM7aUJBQUc7WUFBQyxLQUFNO1lBQU10QyxlQUFnQmQsdURBQUtBLENBQUMsT0FBTztnQkFBRWtELFdBQVc7Z0JBQTZCRSxVQUFVO29CQUFDdEQsc0RBQUlBLENBQUMsUUFBUTt3QkFBRXNELFVBQVV0QztvQkFBYTtvQkFBSWhCLHNEQUFJQSxDQUFDLFVBQVU7d0JBQUUrQyxNQUFNO3dCQUFVWSxTQUFTMUM7d0JBQWNxQyxVQUFVO29CQUFXO2lCQUFHO1lBQUMsS0FBTTtZQUFNcEQsdURBQUtBLENBQUMsT0FBTztnQkFBRWtELFdBQVc7Z0JBQXNCRSxVQUFVO29CQUFDdEQsc0RBQUlBLENBQUMsVUFBVTt3QkFBRStDLE1BQU07d0JBQVVLLFdBQVc7d0JBQTBCeEMsVUFBVUEsWUFBWVc7d0JBQVNxQyxPQUFPO3dCQUEyQkQsU0FBUyxJQUFNbEMsY0FBY29DLE9BQU8sRUFBRUM7d0JBQVNSLFVBQVV0RCxzREFBSUEsQ0FBQ1EsOENBQVVBLEVBQUU7NEJBQUV3QyxNQUFNOzRCQUFJZSxPQUFPO3dCQUFVO29CQUFHO29CQUFJL0Qsc0RBQUlBLENBQUMsVUFBVTt3QkFBRStDLE1BQU07d0JBQVVLLFdBQVc7d0JBQTBCeEMsVUFBVUEsWUFBWVc7d0JBQVNxQyxPQUFPO3dCQUEwQkQsU0FBUyxJQUFNakMsY0FBY21DLE9BQU8sRUFBRUM7d0JBQVNSLFVBQVV0RCxzREFBSUEsQ0FBQ1MsMkNBQU9BLEVBQUU7NEJBQUV1QyxNQUFNOzRCQUFJZSxPQUFPO3dCQUFVO29CQUFHO2lCQUFHO1lBQUM7WUFBSS9ELHNEQUFJQSxDQUFDLFNBQVM7Z0JBQUVvRCxXQUFXO2dCQUF1QlksYUFBYTtnQkFBOEI5QyxPQUFPRztnQkFBTXFDLFVBQVUsQ0FBQzNCLFFBQVVKLFlBQVlJLE1BQU1PLE1BQU0sQ0FBQ3BCLEtBQUs7Z0JBQUdOLFVBQVVBLFlBQVlXO1lBQVE7WUFBSXZCLHNEQUFJQSxDQUFDLFVBQVU7Z0JBQUVvRCxXQUFXO2dCQUFzQkwsTUFBTTtnQkFBVW5DLFVBQVVBLFlBQVlXLFdBQVcsQ0FBQ0YsS0FBS2EsSUFBSTtnQkFBSW9CLFVBQVU7WUFBVztTQUFHO0lBQUM7QUFDajREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlQ29tcG9zZXIvTWVzc2FnZUNvbXBvc2VyLmpzP2QyNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXBsb2FkQ2hhdEZpbGUgfSBmcm9tICcuLi8uLi8uLi9hcGknO1xuaW1wb3J0IHsgQ2FtZXJhSWNvbiwgTWljSWNvbiB9IGZyb20gJy4uLy4uL0ljb25zJztcbmV4cG9ydCBmdW5jdGlvbiBNZXNzYWdlQ29tcG9zZXIoeyBvblNlbmQsIGRpc2FibGVkLCBvblZhbHVlQ2hhbmdlLCByZXBseVByZXZpZXcsIG9uQ2FuY2VsUmVwbHksIGVkaXRpbmdMYWJlbCwgb25DYW5jZWxFZGl0LCB2YWx1ZSwgfSkge1xuICAgIGNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCB0ZXh0ID0gdXNlTWVtbygoKSA9PiAodmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogaW50ZXJuYWxWYWx1ZSksIFt2YWx1ZSwgaW50ZXJuYWxWYWx1ZV0pO1xuICAgIGNvbnN0IFtzZW5kaW5nLCBzZXRTZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBtZWRpYUlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGF1ZGlvSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgdXBkYXRlVmFsdWUgPSB1c2VDYWxsYmFjaygobmV4dCkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT8uKG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0SW50ZXJuYWxWYWx1ZShuZXh0KTtcbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U/LihuZXh0KTtcbiAgICAgICAgfVxuICAgIH0sIFtvblZhbHVlQ2hhbmdlLCB2YWx1ZV0pO1xuICAgIGNvbnN0IHJlc2V0VmFsdWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvblZhbHVlQ2hhbmdlPy4oJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0SW50ZXJuYWxWYWx1ZSgnJyk7XG4gICAgICAgICAgICBvblZhbHVlQ2hhbmdlPy4oJycpO1xuICAgICAgICB9XG4gICAgfSwgW29uVmFsdWVDaGFuZ2UsIHZhbHVlXSk7XG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSB0ZXh0LnRyaW0oKTtcbiAgICAgICAgaWYgKCF0cmltbWVkICYmICFyZXBseVByZXZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgICAgICAgICAgYXdhaXQgb25TZW5kKHsgdGV4dDogdHJpbW1lZCB9KTtcbiAgICAgICAgICAgIHJlc2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldFNlbmRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW29uU2VuZCwgdGV4dCwgcmVwbHlQcmV2aWV3LCByZXNldFZhbHVlXSk7XG4gICAgY29uc3QgaGFuZGxlVXBsb2FkID0gKGtpbmQpID0+IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnO1xuICAgICAgICBpZiAoIWZpbGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgICAgICAgICAgY29uc3QgdXBsb2FkZWQgPSBhd2FpdCB1cGxvYWRDaGF0RmlsZShmaWxlKTtcbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQ/LnVybCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVXBsb2FkIGRpZCBub3QgcmV0dXJuIFVSTCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJhc2VGaWxlID0ge1xuICAgICAgICAgICAgICAgIHVybDogdXBsb2FkZWQudXJsLFxuICAgICAgICAgICAgICAgIG5hbWU6IHVwbG9hZGVkLm5hbWUgPz8gZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgIG1pbWU6IHVwbG9hZGVkLm1pbWUgPz8gZmlsZS50eXBlLFxuICAgICAgICAgICAgICAgIHNpemU6IHVwbG9hZGVkLnNpemUgPz8gZmlsZS5zaXplLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChraW5kID09PSAnbWVkaWEnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNJbWFnZU9yVmlkZW8gPSBiYXNlRmlsZS5taW1lPy5zdGFydHNXaXRoKCdpbWFnZS8nKSB8fFxuICAgICAgICAgICAgICAgICAgICBiYXNlRmlsZS5taW1lPy5zdGFydHNXaXRoKCd2aWRlby8nKSB8fFxuICAgICAgICAgICAgICAgICAgICBmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGlzSW1hZ2VPclZpZGVvID8gJ2ltYWdlJyA6ICdmaWxlJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogYmFzZUZpbGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhd2FpdCBvblNlbmQocGF5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IGJhc2VGaWxlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXdhaXQgb25TZW5kKHBheWxvYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0U2VuZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoX2pzeHMoXCJmb3JtXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtY29tcG9zZXItZm9ybVwiLCBvblN1Ym1pdDogaGFuZGxlU3VibWl0LCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHJlZjogbWVkaWFJbnB1dFJlZiwgdHlwZTogXCJmaWxlXCIsIGFjY2VwdDogXCJpbWFnZS8qLHZpZGVvLypcIiwgaGlkZGVuOiB0cnVlLCBvbkNoYW5nZTogaGFuZGxlVXBsb2FkKCdtZWRpYScpIH0pLCBfanN4KFwiaW5wdXRcIiwgeyByZWY6IGF1ZGlvSW5wdXRSZWYsIHR5cGU6IFwiZmlsZVwiLCBhY2NlcHQ6IFwiYXVkaW8vKlwiLCBoaWRkZW46IHRydWUsIG9uQ2hhbmdlOiBoYW5kbGVVcGxvYWQoJ2F1ZGlvJykgfSksIHJlcGx5UHJldmlldyA/IChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWNvbXBvc2VyLXJlcGx5LXByZXZpZXdcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcmVwbHktaW5kaWNhdG9yXCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtY29tcG9zZXItcmVwbHktYm9keVwiLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcmVwbHktbGFiZWxcIiwgY2hpbGRyZW46IFwiVHJcXHUxRUEzIGxcXHUxRUREaVwiIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LXJlcGx5LXRleHRcIiwgY2hpbGRyZW46IHJlcGx5UHJldmlldyB9KV0gfSksIF9qc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2hhdC1yZXBseS1jYW5jZWxcIiwgb25DbGljazogb25DYW5jZWxSZXBseSwgY2hpbGRyZW46IFwiXFx1MjcxNVwiIH0pXSB9KSkgOiBudWxsLCBlZGl0aW5nTGFiZWwgPyAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb21wb3Nlci1lZGl0LWJhbm5lclwiLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IGVkaXRpbmdMYWJlbCB9KSwgX2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2FuY2VsRWRpdCwgY2hpbGRyZW46IFwiSFxcdTFFRTd5XCIgfSldIH0pKSA6IG51bGwsIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtY29tcG9zZXItbGVmdFwiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2hhdC1jb21wb3Nlci1pY29uLWJ0blwiLCBkaXNhYmxlZDogZGlzYWJsZWQgfHwgc2VuZGluZywgdGl0bGU6IFwiR1xcdTFFRURpIFxcdTFFQTNuaC92aWRlb1wiLCBvbkNsaWNrOiAoKSA9PiBtZWRpYUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCksIGNoaWxkcmVuOiBfanN4KENhbWVyYUljb24sIHsgc2l6ZTogMjAsIGNvbG9yOiBcIiMwOTY2RkZcIiB9KSB9KSwgX2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjaGF0LWNvbXBvc2VyLWljb24tYnRuXCIsIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBzZW5kaW5nLCB0aXRsZTogXCJHXFx1MUVFRGkgXFx1MDBFMm0gdGhhbmhcIiwgb25DbGljazogKCkgPT4gYXVkaW9JbnB1dFJlZi5jdXJyZW50Py5jbGljaygpLCBjaGlsZHJlbjogX2pzeChNaWNJY29uLCB7IHNpemU6IDIwLCBjb2xvcjogXCIjMDk2NkZGXCIgfSkgfSldIH0pLCBfanN4KFwiaW5wdXRcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb21wb3Nlci1pbnB1dFwiLCBwbGFjZWhvbGRlcjogXCJOaFxcdTFFQURwIHRpbiBuaFxcdTFFQUZuLi4uXCIsIHZhbHVlOiB0ZXh0LCBvbkNoYW5nZTogKGV2ZW50KSA9PiB1cGRhdGVWYWx1ZShldmVudC50YXJnZXQudmFsdWUpLCBkaXNhYmxlZDogZGlzYWJsZWQgfHwgc2VuZGluZyB9KSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWNvbXBvc2VyLXNlbmRcIiwgdHlwZTogXCJzdWJtaXRcIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHNlbmRpbmcgfHwgIXRleHQudHJpbSgpLCBjaGlsZHJlbjogXCJHXFx1MUVFRGlcIiB9KV0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVwbG9hZENoYXRGaWxlIiwiQ2FtZXJhSWNvbiIsIk1pY0ljb24iLCJNZXNzYWdlQ29tcG9zZXIiLCJvblNlbmQiLCJkaXNhYmxlZCIsIm9uVmFsdWVDaGFuZ2UiLCJyZXBseVByZXZpZXciLCJvbkNhbmNlbFJlcGx5IiwiZWRpdGluZ0xhYmVsIiwib25DYW5jZWxFZGl0IiwidmFsdWUiLCJpbnRlcm5hbFZhbHVlIiwic2V0SW50ZXJuYWxWYWx1ZSIsInRleHQiLCJ1bmRlZmluZWQiLCJzZW5kaW5nIiwic2V0U2VuZGluZyIsIm1lZGlhSW5wdXRSZWYiLCJhdWRpb0lucHV0UmVmIiwidXBkYXRlVmFsdWUiLCJuZXh0IiwicmVzZXRWYWx1ZSIsImhhbmRsZVN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ0cmltbWVkIiwidHJpbSIsImhhbmRsZVVwbG9hZCIsImtpbmQiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJ1cGxvYWRlZCIsInVybCIsImNvbnNvbGUiLCJ3YXJuIiwiYmFzZUZpbGUiLCJuYW1lIiwibWltZSIsInR5cGUiLCJzaXplIiwiaXNJbWFnZU9yVmlkZW8iLCJzdGFydHNXaXRoIiwicGF5bG9hZCIsImNsYXNzTmFtZSIsIm9uU3VibWl0IiwiY2hpbGRyZW4iLCJyZWYiLCJhY2NlcHQiLCJoaWRkZW4iLCJvbkNoYW5nZSIsIm9uQ2xpY2siLCJ0aXRsZSIsImN1cnJlbnQiLCJjbGljayIsImNvbG9yIiwicGxhY2Vob2xkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageComposer/MessageComposer.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/MessageBubble.js":
/*!***********************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/MessageBubble.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageBubble: () => (/* binding */ MessageBubble)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ReplyPreview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ReplyPreview */ \"(ssr)/../../packages/app/components/chat/MessageList/ReplyPreview.js\");\n/* harmony import */ var _ReactionSummary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ReactionSummary */ \"(ssr)/../../packages/app/components/chat/MessageList/ReactionSummary.js\");\n/* harmony import */ var _MessageContextMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MessageContextMenu */ \"(ssr)/../../packages/app/components/chat/MessageList/MessageContextMenu.js\");\n/* harmony import */ var _ReactionPicker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ReactionPicker */ \"(ssr)/../../packages/app/components/chat/MessageList/ReactionPicker.js\");\n\n\n\n\n\n\n\nconst getInitials = (name)=>{\n    return name.split(\" \").map((n)=>n[0]).join(\"\").toUpperCase().slice(0, 2);\n};\nfunction MessageBubble({ message, isOwn, senderName, senderAvatar, onReply, onReact, onTogglePin, onEdit, onDelete, onForward, onStar, onRevoke }) {\n    const displayName = senderName || message.sender?.name || \"Ngi d\\xf9ng\";\n    const displayAvatar = senderAvatar || message.sender?.avatar;\n    const [menuOpen, setMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pickerOpen, setPickerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [menuPosition, setMenuPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [pickerPosition, setPickerPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [viewerOpen, setViewerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewerImages, setViewerImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [viewerIndex, setViewerIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const emojiButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wrapperClass = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble-wrapper\",\n            isOwn ? \"chat-bubble-wrapper--own\" : \"chat-bubble-wrapper--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const rowClass = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble-row\",\n            isOwn ? \"chat-bubble-row--own\" : \"chat-bubble-row--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const footerClass = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble-footer\",\n            isOwn ? \"chat-bubble-footer--own\" : \"chat-bubble-footer--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const classes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            \"chat-bubble\",\n            isOwn ? \"chat-bubble--own\" : \"chat-bubble--other\"\n        ].join(\" \"), [\n        isOwn\n    ]);\n    const replyPreviewContent = (()=>{\n        if (!message.replyTo) return undefined;\n        if (typeof message.replyTo === \"string\") {\n            return \"[Tr li tin nhn trc]\";\n        }\n        return message.replyTo;\n    })();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!menuOpen || !buttonRef.current) return;\n        const updateMenuPosition = ()=>{\n            if (buttonRef.current) {\n                const rect = buttonRef.current.getBoundingClientRect();\n                setMenuPosition({\n                    top: rect.bottom + 6,\n                    right: window.innerWidth - rect.right,\n                    left: rect.left\n                });\n            }\n        };\n        updateMenuPosition();\n        window.addEventListener(\"scroll\", updateMenuPosition, true);\n        window.addEventListener(\"resize\", updateMenuPosition);\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (menuRef.current && !menuRef.current.contains(target) && buttonRef.current && !buttonRef.current.contains(target)) {\n                setMenuOpen(false);\n                setMenuPosition(null);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n            window.removeEventListener(\"scroll\", updateMenuPosition, true);\n            window.removeEventListener(\"resize\", updateMenuPosition);\n        };\n    }, [\n        menuOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!pickerOpen || !emojiButtonRef.current) return;\n        const updatePickerPosition = ()=>{\n            if (emojiButtonRef.current) {\n                const rect = emojiButtonRef.current.getBoundingClientRect();\n                setPickerPosition({\n                    top: rect.bottom + 6,\n                    right: window.innerWidth - rect.right,\n                    left: rect.left\n                });\n            }\n        };\n        updatePickerPosition();\n        window.addEventListener(\"scroll\", updatePickerPosition, true);\n        window.addEventListener(\"resize\", updatePickerPosition);\n        return ()=>{\n            window.removeEventListener(\"scroll\", updatePickerPosition, true);\n            window.removeEventListener(\"resize\", updatePickerPosition);\n        };\n    }, [\n        pickerOpen\n    ]);\n    const isRevoked = Boolean(message.isRevoked);\n    const isDeleted = Boolean(message.deletedAt);\n    const hasContent = Boolean(message.text) || Boolean(message.imageUrl);\n    const isActionDisabled = isRevoked || isDeleted;\n    const openImageViewer = ()=>{\n        if (!message.imageUrl) return;\n        try {\n            const nodes = Array.from(document.querySelectorAll(\".chat-bubble-image\"));\n            const srcs = nodes.map((n)=>n.src);\n            const idx = srcs.indexOf(message.imageUrl);\n            setViewerImages(srcs);\n            setViewerIndex(idx >= 0 ? idx : 0);\n            setViewerOpen(true);\n        } catch  {\n            setViewerImages([\n                message.imageUrl\n            ]);\n            setViewerIndex(0);\n            setViewerOpen(true);\n        }\n    };\n    const renderMessageBody = ()=>{\n        if (isRevoked) {\n            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-bubble-removed\",\n                children: \"Tin nhn \\xe3 b thu hi\"\n            });\n        }\n        if (isDeleted) {\n            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-bubble-removed\",\n                children: \"Tin nhn \\xe3 b x\\xf3a\"\n            });\n        }\n        if (!hasContent) {\n            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-bubble-removed\",\n                children: \"[Kh\\xf4ng c\\xf3 ni dung hin th]\"\n            });\n        }\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                message.text ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"chat-bubble-text\",\n                    children: message.text\n                }) : null,\n                message.imageUrl ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"chat-bubble-image-wrapper\",\n                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: message.imageUrl,\n                        alt: \"attachment\",\n                        className: \"chat-bubble-image\",\n                        onClick: openImageViewer\n                    })\n                }) : null\n            ]\n        });\n    };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: wrapperClass,\n        \"data-message-id\": message._id,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: rowClass,\n                children: [\n                    !isOwn && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-bubble-sender-avatar\",\n                        children: displayAvatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: displayAvatar,\n                            alt: displayName,\n                            className: \"chat-bubble-sender-avatar-img\"\n                        }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"chat-bubble-sender-avatar-initials\",\n                            children: getInitials(displayName)\n                        })\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: [\n                            classes,\n                            !message.text && message.imageUrl ? \"chat-bubble--image-only\" : \"\"\n                        ].filter(Boolean).join(\" \"),\n                        children: [\n                            !isOwn && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"chat-bubble-sender-name\",\n                                children: displayName\n                            }),\n                            message.isPinned ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"chat-bubble-pinned\",\n                                children: \"\\uD83D\\uDCCC \\xe3 ghim\"\n                            }) : null,\n                            message.isStarred ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"chat-bubble-starred\",\n                                children: \" \\xe3 \\xe1nh du\"\n                            }) : null,\n                            replyPreviewContent ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ReplyPreview__WEBPACK_IMPORTED_MODULE_3__.ReplyPreview, {\n                                message: replyPreviewContent\n                            }) : null,\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"chat-bubble-body\",\n                                children: renderMessageBody()\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: [\n                            \"chat-bubble-actions\",\n                            isOwn ? \"chat-bubble-actions--own\" : \"chat-bubble-actions--other\",\n                            menuOpen || pickerOpen ? \"chat-bubble-actions--visible\" : \"\"\n                        ].filter(Boolean).join(\" \"),\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                ref: emojiButtonRef,\n                                className: \"chat-bubble-action\",\n                                onClick: ()=>{\n                                    if (isActionDisabled) return;\n                                    if (emojiButtonRef.current) {\n                                        const rect = emojiButtonRef.current.getBoundingClientRect();\n                                        setPickerPosition({\n                                            top: rect.bottom + 6,\n                                            right: window.innerWidth - rect.right,\n                                            left: rect.left\n                                        });\n                                    }\n                                    setPickerOpen((prev)=>!prev);\n                                },\n                                title: \"Th\\xeam cm x\\xfac\",\n                                type: \"button\",\n                                disabled: isActionDisabled,\n                                children: \"\\uD83D\\uDE0A\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                ref: buttonRef,\n                                className: \"chat-bubble-action\",\n                                onClick: ()=>{\n                                    if (isActionDisabled) return;\n                                    setMenuOpen((prev)=>!prev);\n                                },\n                                title: \"T\\xf9y chn\",\n                                type: \"button\",\n                                disabled: isActionDisabled,\n                                children: \"\"\n                            }),\n                            pickerOpen && pickerPosition ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ReactionPicker__WEBPACK_IMPORTED_MODULE_6__.ReactionPicker, {\n                                isOpen: pickerOpen,\n                                position: pickerPosition,\n                                onSelect: (emoji)=>{\n                                    onReact?.(message._id, emoji);\n                                    setPickerOpen(false);\n                                    setPickerPosition(null);\n                                },\n                                onClose: ()=>{\n                                    setPickerOpen(false);\n                                    setPickerPosition(null);\n                                },\n                                anchorClassName: isOwn ? undefined : \"chat-reaction-picker--other\"\n                            }) : null,\n                            menuOpen && menuPosition ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MessageContextMenu__WEBPACK_IMPORTED_MODULE_5__.MessageContextMenu, {\n                                ref: menuRef,\n                                message: message,\n                                isOwn: isOwn,\n                                style: {\n                                    top: `${menuPosition.top}px`,\n                                    ...isOwn ? {\n                                        right: `${menuPosition.right}px`\n                                    } : {\n                                        left: `${menuPosition.left}px`\n                                    }\n                                },\n                                onReply: (msg)=>{\n                                    onReply?.(msg);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onCopy: ()=>{\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onPinToggle: (shouldPin)=>{\n                                    onTogglePin?.(message._id, shouldPin);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onEdit: ()=>{\n                                    onEdit?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onDelete: ()=>{\n                                    onDelete?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onRevoke: ()=>{\n                                    onRevoke?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onStar: ()=>{\n                                    onStar?.(message);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                onForward: (msg)=>{\n                                    onForward?.(msg);\n                                    setMenuOpen(false);\n                                    setMenuPosition(null);\n                                },\n                                anchorClassName: isOwn ? undefined : \"chat-context-menu--other\"\n                            }), document.body) : null\n                        ]\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: footerClass,\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"chat-bubble-meta\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-bubble-time\",\n                                children: new Date(message.createdAt).toLocaleTimeString(\"vi-VN\", {\n                                    hour: \"2-digit\",\n                                    minute: \"2-digit\"\n                                })\n                            }),\n                            message.isEdited ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-bubble-edited\",\n                                children: \"(\\xe3 chnh sa)\"\n                            }) : null,\n                            message.pending ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-bubble-pending\",\n                                children: \"ang gi\"\n                            }) : null,\n                            message.error ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-bubble-error\",\n                                children: message.error\n                            }) : null,\n                            isOwn && message.readBy && message.readBy.length > 0 && !message.pending && !message.error ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-bubble-read\",\n                                title: ` c bi ${message.readBy.length} ngi`,\n                                children: \"\"\n                            }) : isOwn && !message.pending && !message.error ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-bubble-sent\",\n                                title: \"\\xe3 gi\",\n                                children: \"\"\n                            }) : null\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ReactionSummary__WEBPACK_IMPORTED_MODULE_4__.ReactionSummary, {\n                        reactions: message.reactions\n                    })\n                ]\n            }),\n            viewerOpen ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-image-viewer-backdrop\",\n                onClick: ()=>setViewerOpen(false),\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"chat-image-viewer-content\",\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        viewerImages[viewerIndex] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: viewerImages[viewerIndex],\n                            alt: \"attachment-large\"\n                        }) : null,\n                        viewerImages.length > 1 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"chat-image-viewer-thumbs\",\n                            children: viewerImages.map((src, index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                    type: \"button\",\n                                    className: [\n                                        \"chat-image-viewer-thumb\",\n                                        index === viewerIndex ? \"chat-image-viewer-thumb--active\" : \"\"\n                                    ].filter(Boolean).join(\" \"),\n                                    onClick: ()=>setViewerIndex(index),\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                        src: src,\n                                        alt: `thumb-${index}`\n                                    })\n                                }, src + index))\n                        }) : null\n                    ]\n                })\n            }), document.body) : null\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQnViYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNGO0FBQ3pCO0FBQ3BCO0FBQ0s7QUFDTTtBQUNNO0FBQ1I7QUFDbEQsTUFBTWUsY0FBYyxDQUFDQztJQUNqQixPQUFPQSxLQUNGQyxLQUFLLENBQUMsS0FDTkMsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxDQUFDLENBQUMsRUFBRSxFQUNiQyxJQUFJLENBQUMsSUFDTEMsV0FBVyxHQUNYQyxLQUFLLENBQUMsR0FBRztBQUNsQjtBQUNPLFNBQVNDLGNBQWMsRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRztJQUNySixNQUFNQyxjQUFjVixjQUFjRixRQUFRYSxNQUFNLEVBQUVyQixRQUFRO0lBQzFELE1BQU1zQixnQkFBZ0JYLGdCQUFnQkgsUUFBUWEsTUFBTSxFQUFFRTtJQUN0RCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2lDLFlBQVlDLGNBQWMsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ21DLGNBQWNDLGdCQUFnQixHQUFHcEMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDcUMsZ0JBQWdCQyxrQkFBa0IsR0FBR3RDLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ3VDLFlBQVlDLGNBQWMsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3lDLGNBQWNDLGdCQUFnQixHQUFHMUMsK0NBQVFBLENBQUMsRUFBRTtJQUNuRCxNQUFNLENBQUMyQyxhQUFhQyxlQUFlLEdBQUc1QywrQ0FBUUEsQ0FBQztJ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QUN0QixTQUNQL0QsSUFBSSxDQUFDO29DQUFNbUYsU0FBUyxJQUFNbEQsZUFBZXFGO29DQUFRckMsVUFBVXBHLHNEQUFJQSxDQUFDLE9BQU87d0NBQUUrRixLQUFLQTt3Q0FBS00sS0FBSyxDQUFDLE1BQU0sRUFBRW9DLE1BQU0sQ0FBQztvQ0FBQztnQ0FBRyxHQUFHMUMsTUFBTTBDO3dCQUFTLEtBQU07cUJBQUs7Z0JBQUM7WUFBRyxJQUFJM0QsU0FBUzZDLElBQUksSUFDckw7U0FBSztJQUFDO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQnViYmxlLmpzP2Y5N2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFJlcGx5UHJldmlldyB9IGZyb20gJy4vUmVwbHlQcmV2aWV3JztcbmltcG9ydCB7IFJlYWN0aW9uU3VtbWFyeSB9IGZyb20gJy4vUmVhY3Rpb25TdW1tYXJ5JztcbmltcG9ydCB7IE1lc3NhZ2VDb250ZXh0TWVudSB9IGZyb20gJy4vTWVzc2FnZUNvbnRleHRNZW51JztcbmltcG9ydCB7IFJlYWN0aW9uUGlja2VyIH0gZnJvbSAnLi9SZWFjdGlvblBpY2tlcic7XG5jb25zdCBnZXRJbml0aWFscyA9IChuYW1lKSA9PiB7XG4gICAgcmV0dXJuIG5hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLm1hcChuID0+IG5bMF0pXG4gICAgICAgIC5qb2luKCcnKVxuICAgICAgICAudG9VcHBlckNhc2UoKVxuICAgICAgICAuc2xpY2UoMCwgMik7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2VCdWJibGUoeyBtZXNzYWdlLCBpc093biwgc2VuZGVyTmFtZSwgc2VuZGVyQXZhdGFyLCBvblJlcGx5LCBvblJlYWN0LCBvblRvZ2dsZVBpbiwgb25FZGl0LCBvbkRlbGV0ZSwgb25Gb3J3YXJkLCBvblN0YXIsIG9uUmV2b2tlLCB9KSB7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBzZW5kZXJOYW1lIHx8IG1lc3NhZ2Uuc2VuZGVyPy5uYW1lIHx8ICdOZ8aw4budaSBkw7luZyc7XG4gICAgY29uc3QgZGlzcGxheUF2YXRhciA9IHNlbmRlckF2YXRhciB8fCBtZXNzYWdlLnNlbmRlcj8uYXZhdGFyO1xuICAgIGNvbnN0IFttZW51T3Blbiwgc2V0TWVudU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtwaWNrZXJPcGVuLCBzZXRQaWNrZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbWVudVBvc2l0aW9uLCBzZXRNZW51UG9zaXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3BpY2tlclBvc2l0aW9uLCBzZXRQaWNrZXJQb3NpdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbdmlld2VyT3Blbiwgc2V0Vmlld2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3ZpZXdlckltYWdlcywgc2V0Vmlld2VySW1hZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbdmlld2VySW5kZXgsIHNldFZpZXdlckluZGV4XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IG1lbnVSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgYnV0dG9uUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGVtb2ppQnV0dG9uUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHdyYXBwZXJDbGFzcyA9IHVzZU1lbW8oKCkgPT4gWydjaGF0LWJ1YmJsZS13cmFwcGVyJywgaXNPd24gPyAnY2hhdC1idWJibGUtd3JhcHBlci0tb3duJyA6ICdjaGF0LWJ1YmJsZS13cmFwcGVyLS1vdGhlciddLmpvaW4oJyAnKSwgW2lzT3duXSk7XG4gICAgY29uc3Qgcm93Q2xhc3MgPSB1c2VNZW1vKCgpID0+IFsnY2hhdC1idWJibGUtcm93JywgaXNPd24gPyAnY2hhdC1idWJibGUtcm93LS1vd24nIDogJ2NoYXQtYnViYmxlLXJvdy0tb3RoZXInXS5qb2luKCcgJyksIFtpc093bl0pO1xuICAgIGNvbnN0IGZvb3RlckNsYXNzID0gdXNlTWVtbygoKSA9PiBbJ2NoYXQtYnViYmxlLWZvb3RlcicsIGlzT3duID8gJ2NoYXQtYnViYmxlLWZvb3Rlci0tb3duJyA6ICdjaGF0LWJ1YmJsZS1mb290ZXItLW90aGVyJ10uam9pbignICcpLCBbaXNPd25dKTtcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlTWVtbygoKSA9PiBbJ2NoYXQtYnViYmxlJywgaXNPd24gPyAnY2hhdC1idWJibGUtLW93bicgOiAnY2hhdC1idWJibGUtLW90aGVyJ10uam9pbignICcpLCBbaXNPd25dKTtcbiAgICBjb25zdCByZXBseVByZXZpZXdDb250ZW50ID0gKCgpID0+IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlLnJlcGx5VG8pXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UucmVwbHlUbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnW1Ry4bqjIGzhu51pIHRpbiBuaOG6r24gdHLGsOG7m2NdJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZS5yZXBseVRvO1xuICAgIH0pKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFtZW51T3BlbiB8fCAhYnV0dG9uUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHVwZGF0ZU1lbnVQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChidXR0b25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBidXR0b25SZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24oe1xuICAgICAgICAgICAgICAgICAgICB0b3A6IHJlY3QuYm90dG9tICsgNixcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB1cGRhdGVNZW51UG9zaXRpb24oKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZU1lbnVQb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVNZW51UG9zaXRpb24pO1xuICAgICAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIGlmIChtZW51UmVmLmN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAhbWVudVJlZi5jdXJyZW50LmNvbnRhaW5zKHRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICBidXR0b25SZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICFidXR0b25SZWYuY3VycmVudC5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgc2V0TWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldE1lbnVQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlTWVudVBvc2l0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVNZW51UG9zaXRpb24pO1xuICAgICAgICB9O1xuICAgIH0sIFttZW51T3Blbl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghcGlja2VyT3BlbiB8fCAhZW1vamlCdXR0b25SZWYuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdXBkYXRlUGlja2VyUG9zaXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZW1vamlCdXR0b25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbW9qaUJ1dHRvblJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHNldFBpY2tlclBvc2l0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiByZWN0LmJvdHRvbSArIDYsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB3aW5kb3cuaW5uZXJXaWR0aCAtIHJlY3QucmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlUGlja2VyUG9zaXRpb24oKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZVBpY2tlclBvc2l0aW9uLCB0cnVlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZVBpY2tlclBvc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVQaWNrZXJQb3NpdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlUGlja2VyUG9zaXRpb24pO1xuICAgICAgICB9O1xuICAgIH0sIFtwaWNrZXJPcGVuXSk7XG4gICAgY29uc3QgaXNSZXZva2VkID0gQm9vbGVhbihtZXNzYWdlLmlzUmV2b2tlZCk7XG4gICAgY29uc3QgaXNEZWxldGVkID0gQm9vbGVhbihtZXNzYWdlLmRlbGV0ZWRBdCk7XG4gICAgY29uc3QgaGFzQ29udGVudCA9IEJvb2xlYW4obWVzc2FnZS50ZXh0KSB8fCBCb29sZWFuKG1lc3NhZ2UuaW1hZ2VVcmwpO1xuICAgIGNvbnN0IGlzQWN0aW9uRGlzYWJsZWQgPSBpc1Jldm9rZWQgfHwgaXNEZWxldGVkO1xuICAgIGNvbnN0IG9wZW5JbWFnZVZpZXdlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlLmltYWdlVXJsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGF0LWJ1YmJsZS1pbWFnZScpKTtcbiAgICAgICAgICAgIGNvbnN0IHNyY3MgPSBub2Rlcy5tYXAoKG4pID0+IG4uc3JjKTtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHNyY3MuaW5kZXhPZihtZXNzYWdlLmltYWdlVXJsKTtcbiAgICAgICAgICAgIHNldFZpZXdlckltYWdlcyhzcmNzKTtcbiAgICAgICAgICAgIHNldFZpZXdlckluZGV4KGlkeCA+PSAwID8gaWR4IDogMCk7XG4gICAgICAgICAgICBzZXRWaWV3ZXJPcGVuKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHNldFZpZXdlckltYWdlcyhbbWVzc2FnZS5pbWFnZVVybF0pO1xuICAgICAgICAgICAgc2V0Vmlld2VySW5kZXgoMCk7XG4gICAgICAgICAgICBzZXRWaWV3ZXJPcGVuKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJNZXNzYWdlQm9keSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGlzUmV2b2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtcmVtb3ZlZFwiLCBjaGlsZHJlbjogXCJUaW4gbmhcXHUxRUFGbiBcXHUwMTExXFx1MDBFMyBiXFx1MUVDQiB0aHUgaFxcdTFFRDNpXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVsZXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtcmVtb3ZlZFwiLCBjaGlsZHJlbjogXCJUaW4gbmhcXHUxRUFGbiBcXHUwMTExXFx1MDBFMyBiXFx1MUVDQiB4XFx1MDBGM2FcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0NvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtYnViYmxlLXJlbW92ZWRcIiwgY2hpbGRyZW46IFwiW0toXFx1MDBGNG5nIGNcXHUwMEYzIG5cXHUxRUQ5aSBkdW5nIGhpXFx1MUVDM24gdGhcXHUxRUNCXVwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVzc2FnZS50ZXh0ID8gX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWJ1YmJsZS10ZXh0XCIsIGNoaWxkcmVuOiBtZXNzYWdlLnRleHQgfSkgOiBudWxsLCBtZXNzYWdlLmltYWdlVXJsID8gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtaW1hZ2Utd3JhcHBlclwiLCBjaGlsZHJlbjogX2pzeChcImltZ1wiLCB7IHNyYzogbWVzc2FnZS5pbWFnZVVybCwgYWx0OiBcImF0dGFjaG1lbnRcIiwgY2xhc3NOYW1lOiBcImNoYXQtYnViYmxlLWltYWdlXCIsIG9uQ2xpY2s6IG9wZW5JbWFnZVZpZXdlciB9KSB9KSkgOiBudWxsXSB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3MsIFwiZGF0YS1tZXNzYWdlLWlkXCI6IG1lc3NhZ2UuX2lkLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiByb3dDbGFzcywgY2hpbGRyZW46IFshaXNPd24gJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtc2VuZGVyLWF2YXRhclwiLCBjaGlsZHJlbjogZGlzcGxheUF2YXRhciA/IChfanN4KFwiaW1nXCIsIHsgc3JjOiBkaXNwbGF5QXZhdGFyLCBhbHQ6IGRpc3BsYXlOYW1lLCBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtc2VuZGVyLWF2YXRhci1pbWdcIiB9KSkgOiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWJ1YmJsZS1zZW5kZXItYXZhdGFyLWluaXRpYWxzXCIsIGNoaWxkcmVuOiBnZXRJbml0aWFscyhkaXNwbGF5TmFtZSkgfSkpIH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFtZXNzYWdlLnRleHQgJiYgbWVzc2FnZS5pbWFnZVVybCA/ICdjaGF0LWJ1YmJsZS0taW1hZ2Utb25seScgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKSwgY2hpbGRyZW46IFshaXNPd24gJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtc2VuZGVyLW5hbWVcIiwgY2hpbGRyZW46IGRpc3BsYXlOYW1lIH0pKSwgbWVzc2FnZS5pc1Bpbm5lZCA/IF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtcGlubmVkXCIsIGNoaWxkcmVuOiBcIlxcdUQ4M0RcXHVEQ0NDIFxcdTAxMTBcXHUwMEUzIGdoaW1cIiB9KSA6IG51bGwsIG1lc3NhZ2UuaXNTdGFycmVkID8gX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWJ1YmJsZS1zdGFycmVkXCIsIGNoaWxkcmVuOiBcIlxcdTJCNTAgXFx1MDExMFxcdTAwRTMgXFx1MDExMVxcdTAwRTFuaCBkXFx1MUVBNXVcIiB9KSA6IG51bGwsIHJlcGx5UHJldmlld0NvbnRlbnQgPyBfanN4KFJlcGx5UHJldmlldywgeyBtZXNzYWdlOiByZXBseVByZXZpZXdDb250ZW50IH0pIDogbnVsbCwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWJ1YmJsZS1ib2R5XCIsIGNoaWxkcmVuOiByZW5kZXJNZXNzYWdlQm9keSgpIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhdC1idWJibGUtYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPd24gPyAnY2hhdC1idWJibGUtYWN0aW9ucy0tb3duJyA6ICdjaGF0LWJ1YmJsZS1hY3Rpb25zLS1vdGhlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudU9wZW4gfHwgcGlja2VyT3BlbiA/ICdjaGF0LWJ1YmJsZS1hY3Rpb25zLS12aXNpYmxlJyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyByZWY6IGVtb2ppQnV0dG9uUmVmLCBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtYWN0aW9uXCIsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGlvbkRpc2FibGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbW9qaUJ1dHRvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVtb2ppQnV0dG9uUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGlja2VyUG9zaXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHJlY3QuYm90dG9tICsgNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGlja2VyT3BlbigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aXRsZTogXCJUaFxcdTAwRUFtIGNcXHUxRUEzbSB4XFx1MDBGQWNcIiwgdHlwZTogXCJidXR0b25cIiwgZGlzYWJsZWQ6IGlzQWN0aW9uRGlzYWJsZWQsIGNoaWxkcmVuOiBcIlxcdUQ4M0RcXHVERTBBXCIgfSksIF9qc3goXCJidXR0b25cIiwgeyByZWY6IGJ1dHRvblJlZiwgY2xhc3NOYW1lOiBcImNoYXQtYnViYmxlLWFjdGlvblwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBY3Rpb25EaXNhYmxlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbigocHJldikgPT4gIXByZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aXRsZTogXCJUXFx1MDBGOXkgY2hcXHUxRUNEblwiLCB0eXBlOiBcImJ1dHRvblwiLCBkaXNhYmxlZDogaXNBY3Rpb25EaXNhYmxlZCwgY2hpbGRyZW46IFwiXFx1MjJFRlwiIH0pLCBwaWNrZXJPcGVuICYmIHBpY2tlclBvc2l0aW9uID8gKF9qc3goUmVhY3Rpb25QaWNrZXIsIHsgaXNPcGVuOiBwaWNrZXJPcGVuLCBwb3NpdGlvbjogcGlja2VyUG9zaXRpb24sIG9uU2VsZWN0OiAoZW1vamkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVhY3Q/LihtZXNzYWdlLl9pZCwgZW1vamkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGlja2VyT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQaWNrZXJQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGlja2VyT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQaWNrZXJQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgYW5jaG9yQ2xhc3NOYW1lOiBpc093biA/IHVuZGVmaW5lZCA6ICdjaGF0LXJlYWN0aW9uLXBpY2tlci0tb3RoZXInIH0pKSA6IG51bGwsIG1lbnVPcGVuICYmIG1lbnVQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVBvcnRhbChfanN4KE1lc3NhZ2VDb250ZXh0TWVudSwgeyByZWY6IG1lbnVSZWYsIG1lc3NhZ2U6IG1lc3NhZ2UsIGlzT3duOiBpc093biwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGAke21lbnVQb3NpdGlvbi50b3B9cHhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihpc093biA/IHsgcmlnaHQ6IGAke21lbnVQb3NpdGlvbi5yaWdodH1weGAgfSA6IHsgbGVmdDogYCR7bWVudVBvc2l0aW9uLmxlZnR9cHhgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25SZXBseTogKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVwbHk/Lihtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvbkNvcHk6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25QaW5Ub2dnbGU6IChzaG91bGRQaW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRvZ2dsZVBpbj8uKG1lc3NhZ2UuX2lkLCBzaG91bGRQaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvbkVkaXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXQ/LihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVudVBvc2l0aW9uKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25EZWxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZT8uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvblJldm9rZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmV2b2tlPy4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVudU9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lbnVQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uU3RhcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3Rhcj8uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvbkZvcndhcmQ6IChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZvcndhcmQ/Lihtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZW51UG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBhbmNob3JDbGFzc05hbWU6IGlzT3duID8gdW5kZWZpbmVkIDogJ2NoYXQtY29udGV4dC1tZW51LS1vdGhlcicgfSksIGRvY3VtZW50LmJvZHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbF0gfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogZm9vdGVyQ2xhc3MsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtbWV0YVwiLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtYnViYmxlLXRpbWVcIiwgY2hpbGRyZW46IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZEF0KS50b0xvY2FsZVRpbWVTdHJpbmcoJ3ZpLVZOJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0pLCBtZXNzYWdlLmlzRWRpdGVkID8gX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtZWRpdGVkXCIsIGNoaWxkcmVuOiBcIihcXHUwMTExXFx1MDBFMyBjaFxcdTFFQzluaCBzXFx1MUVFRGEpXCIgfSkgOiBudWxsLCBtZXNzYWdlLnBlbmRpbmcgPyBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWJ1YmJsZS1wZW5kaW5nXCIsIGNoaWxkcmVuOiBcIlxcdTAxMTBhbmcgZ1xcdTFFRURpXFx1MjAyNlwiIH0pIDogbnVsbCwgbWVzc2FnZS5lcnJvciA/IF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtYnViYmxlLWVycm9yXCIsIGNoaWxkcmVuOiBtZXNzYWdlLmVycm9yIH0pIDogbnVsbCwgaXNPd24gJiYgbWVzc2FnZS5yZWFkQnkgJiYgbWVzc2FnZS5yZWFkQnkubGVuZ3RoID4gMCAmJiAhbWVzc2FnZS5wZW5kaW5nICYmICFtZXNzYWdlLmVycm9yID8gKF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtYnViYmxlLXJlYWRcIiwgdGl0bGU6IGDEkMOjIMSR4buNYyBi4bufaSAke21lc3NhZ2UucmVhZEJ5Lmxlbmd0aH0gbmfGsOG7nWlgLCBjaGlsZHJlbjogXCJcXHUyNzEzXFx1MjcxM1wiIH0pKSA6IGlzT3duICYmICFtZXNzYWdlLnBlbmRpbmcgJiYgIW1lc3NhZ2UuZXJyb3IgPyAoX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1idWJibGUtc2VudFwiLCB0aXRsZTogXCJcXHUwMTEwXFx1MDBFMyBnXFx1MUVFRGlcIiwgY2hpbGRyZW46IFwiXFx1MjcxM1wiIH0pKSA6IG51bGxdIH0pLCBfanN4KFJlYWN0aW9uU3VtbWFyeSwgeyByZWFjdGlvbnM6IG1lc3NhZ2UucmVhY3Rpb25zIH0pXSB9KSwgdmlld2VyT3BlblxuICAgICAgICAgICAgICAgID8gY3JlYXRlUG9ydGFsKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1pbWFnZS12aWV3ZXItYmFja2Ryb3BcIiwgb25DbGljazogKCkgPT4gc2V0Vmlld2VyT3BlbihmYWxzZSksIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWltYWdlLXZpZXdlci1jb250ZW50XCIsIG9uQ2xpY2s6IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCBjaGlsZHJlbjogW3ZpZXdlckltYWdlc1t2aWV3ZXJJbmRleF0gPyAoX2pzeChcImltZ1wiLCB7IHNyYzogdmlld2VySW1hZ2VzW3ZpZXdlckluZGV4XSwgYWx0OiBcImF0dGFjaG1lbnQtbGFyZ2VcIiB9KSkgOiBudWxsLCB2aWV3ZXJJbWFnZXMubGVuZ3RoID4gMSA/IChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtaW1hZ2Utdmlld2VyLXRodW1ic1wiLCBjaGlsZHJlbjogdmlld2VySW1hZ2VzLm1hcCgoc3JjLCBpbmRleCkgPT4gKF9qc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhdC1pbWFnZS12aWV3ZXItdGh1bWInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID09PSB2aWV3ZXJJbmRleCA/ICdjaGF0LWltYWdlLXZpZXdlci10aHVtYi0tYWN0aXZlJyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpLCBvbkNsaWNrOiAoKSA9PiBzZXRWaWV3ZXJJbmRleChpbmRleCksIGNoaWxkcmVuOiBfanN4KFwiaW1nXCIsIHsgc3JjOiBzcmMsIGFsdDogYHRodW1iLSR7aW5kZXh9YCB9KSB9LCBzcmMgKyBpbmRleCkpKSB9KSkgOiBudWxsXSB9KSB9KSwgZG9jdW1lbnQuYm9keSlcbiAgICAgICAgICAgICAgICA6IG51bGxdIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJqc3hzIiwiX2pzeHMiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJjcmVhdGVQb3J0YWwiLCJSZXBseVByZXZpZXciLCJSZWFjdGlvblN1bW1hcnkiLCJNZXNzYWdlQ29udGV4dE1lbnUiLCJSZWFjdGlvblBpY2tlciIsImdldEluaXRpYWxzIiwibmFtZSIsInNwbGl0IiwibWFwIiwibiIsImpvaW4iLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiTWVzc2FnZUJ1YmJsZSIsIm1lc3NhZ2UiLCJpc093biIsInNlbmRlck5hbWUiLCJzZW5kZXJBdmF0YXIiLCJvblJlcGx5Iiwib25SZWFjdCIsIm9uVG9nZ2xlUGluIiwib25FZGl0Iiwib25EZWxldGUiLCJvbkZvcndhcmQiLCJvblN0YXIiLCJvblJldm9rZSIsImRpc3BsYXlOYW1lIiwic2VuZGVyIiwiZGlzcGxheUF2YXRhciIsImF2YXRhciIsIm1lbnVPcGVuIiwic2V0TWVudU9wZW4iLCJwaWNrZXJPcGVuIiwic2V0UGlja2VyT3BlbiIsIm1lbnVQb3NpdGlvbiIsInNldE1lbnVQb3NpdGlvbiIsInBpY2tlclBvc2l0aW9uIiwic2V0UGlja2VyUG9zaXRpb24iLCJ2aWV3ZXJPcGVuIiwic2V0Vmlld2VyT3BlbiIsInZpZXdlckltYWdlcyIsInNldFZpZXdlckltYWdlcyIsInZpZXdlckluZGV4Iiwic2V0Vmlld2VySW5kZXgiLCJtZW51UmVmIiwiYnV0dG9uUmVmIiwiZW1vamlCdXR0b25SZWYiLCJ3cmFwcGVyQ2xhc3MiLCJyb3dDbGFzcyIsImZvb3RlckNsYXNzIiwiY2xhc3NlcyIsInJlcGx5UHJldmlld0NvbnRlbnQiLCJyZXBseVRvIiwidW5kZWZpbmVkIiwiY3VycmVudCIsInVwZGF0ZU1lbnVQb3NpdGlvbiIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJsZWZ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJkb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVQaWNrZXJQb3NpdGlvbiIsImlzUmV2b2tlZCIsIkJvb2xlYW4iLCJpc0RlbGV0ZWQiLCJkZWxldGVkQXQiLCJoYXNDb250ZW50IiwidGV4dCIsImltYWdlVXJsIiwiaXNBY3Rpb25EaXNhYmxlZCIsIm9wZW5JbWFnZVZpZXdlciIsIm5vZGVzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNyY3MiLCJzcmMiLCJpZHgiLCJpbmRleE9mIiwicmVuZGVyTWVzc2FnZUJvZHkiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsImFsdCIsIm9uQ2xpY2siLCJfaWQiLCJmaWx0ZXIiLCJpc1Bpbm5lZCIsImlzU3RhcnJlZCIsInJlZiIsInByZXYiLCJ0aXRsZSIsInR5cGUiLCJkaXNhYmxlZCIsImlzT3BlbiIsInBvc2l0aW9uIiwib25TZWxlY3QiLCJlbW9qaSIsIm9uQ2xvc2UiLCJhbmNob3JDbGFzc05hbWUiLCJzdHlsZSIsIm1zZyIsIm9uQ29weSIsIm9uUGluVG9nZ2xlIiwic2hvdWxkUGluIiwiYm9keSIsIkRhdGUiLCJjcmVhdGVkQXQiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiaXNFZGl0ZWQiLCJwZW5kaW5nIiwiZXJyb3IiLCJyZWFkQnkiLCJsZW5ndGgiLCJyZWFjdGlvbnMiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiaW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/MessageBubble.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/MessageContextMenu.js":
/*!****************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/MessageContextMenu.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageContextMenu: () => (/* binding */ MessageContextMenu)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst MessageContextMenu = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ message, isOwn, onReply, onCopy, onPinToggle, onEdit, onDelete, onForward, onStar, onRevoke, anchorClassName, style }, ref)=>{\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        ref: ref,\n        className: [\n            \"chat-context-menu\",\n            anchorClassName\n        ].filter(Boolean).join(\" \"),\n        style: style,\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onReply(message);\n                },\n                children: \" Tr li\"\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    navigator.clipboard.writeText(message.text ?? \"\");\n                    onCopy?.(message);\n                },\n                children: \"\\uD83D\\uDCCB Sao ch\\xe9p\"\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onPinToggle?.(!message.isPinned);\n                },\n                children: message.isPinned ? \"\\uD83D\\uDCCC B ghim\" : \"\\uD83D\\uDCCC Ghim tin nhn\"\n            }),\n            !message.isStarred ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onStar?.();\n                },\n                children: \" \\xe1nh du sao\"\n            }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                disabled: true,\n                children: \" \\xe3 \\xe1nh du\"\n            }),\n            isOwn ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onEdit?.();\n                },\n                children: \" Chnh sa\"\n            }) : null,\n            isOwn && !message.isRevoked ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onRevoke?.();\n                },\n                children: \" Thu hi\"\n            }) : null,\n            isOwn ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item chat-context-menu-item--danger\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onDelete?.();\n                },\n                children: \"\\uD83D\\uDDD1 X\\xf3a\"\n            }) : null,\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                className: \"chat-context-menu-item\",\n                onClick: (e)=>{\n                    e.stopPropagation();\n                    onForward?.(message);\n                },\n                children: \" Chuyn tip\"\n            })\n        ]\n    });\n});\nMessageContextMenu.displayName = \"MessageContextMenu\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQ29udGV4dE1lbnUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0Q7QUFDNUI7QUFDNUIsTUFBTUssbUNBQXFCRCxpREFBVUEsQ0FBQyxDQUFDLEVBQUVFLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsZUFBZSxFQUFFQyxLQUFLLEVBQUcsRUFBRUM7SUFDcEssT0FBUWYsdURBQUtBLENBQUMsT0FBTztRQUFFZSxLQUFLQTtRQUFLQyxXQUFXO1lBQUM7WUFBcUJIO1NBQWdCLENBQUNJLE1BQU0sQ0FBQ0MsU0FBU0MsSUFBSSxDQUFDO1FBQU1MLE9BQU9BO1FBQU9NLFVBQVU7WUFBQ3RCLHNEQUFJQSxDQUFDLFVBQVU7Z0JBQUVrQixXQUFXO2dCQUEwQkssU0FBUyxDQUFDQztvQkFDdkxBLEVBQUVDLGVBQWU7b0JBQ2pCbEIsUUFBUUY7Z0JBQ1o7Z0JBQUdpQixVQUFVO1lBQTJCO1lBQUl0QixzREFBSUEsQ0FBQyxVQUFVO2dCQUFFa0IsV0FBVztnQkFBMEJLLFNBQVMsQ0FBQ0M7b0JBQ3hHQSxFQUFFQyxlQUFlO29CQUNqQkMsVUFBVUMsU0FBUyxDQUFDQyxTQUFTLENBQUN2QixRQUFRd0IsSUFBSSxJQUFJO29CQUM5Q3JCLFNBQVNIO2dCQUNiO2dCQUFHaUIsVUFBVTtZQUE2QjtZQUFJdEIsc0RBQUlBLENBQUMsVUFBVTtnQkFBRWtCLFdBQVc7Z0JBQTBCSyxTQUFTLENBQUNDO29CQUMxR0EsRUFBRUMsZUFBZTtvQkFDakJoQixjQUFjLENBQUNKLFFBQVF5QixRQUFRO2dCQUNuQztnQkFBR1IsVUFBVWpCLFFBQVF5QixRQUFRLEdBQUcseUJBQWU7WUFBbUI7WUFBSSxDQUFDekIsUUFBUTBCLFNBQVMsR0FBSS9CLHNEQUFJQSxDQUFDLFVBQVU7Z0JBQUVrQixXQUFXO2dCQUEwQkssU0FBUyxDQUFDQztvQkFDeEpBLEVBQUVDLGVBQWU7b0JBQ2pCWjtnQkFDSjtnQkFBR1MsVUFBVTtZQUFxQyxLQUFPdEIsc0RBQUlBLENBQUMsVUFBVTtnQkFBRWtCLFdBQVc7Z0JBQTBCYyxVQUFVO2dCQUFNVixVQUFVO1lBQThDO1lBQUtoQixRQUFTTixzREFBSUEsQ0FBQyxVQUFVO2dCQUFFa0IsV0FBVztnQkFBMEJLLFNBQVMsQ0FBQ0M7b0JBQ2pRQSxFQUFFQyxlQUFlO29CQUNqQmY7Z0JBQ0o7Z0JBQUdZLFVBQVU7WUFBbUMsS0FBTTtZQUFNaEIsU0FBUyxDQUFDRCxRQUFRNEIsU0FBUyxHQUFJakMsc0RBQUlBLENBQUMsVUFBVTtnQkFBRWtCLFdBQVc7Z0JBQTBCSyxTQUFTLENBQUNDO29CQUN2SkEsRUFBRUMsZUFBZTtvQkFDakJYO2dCQUNKO2dCQUFHUSxVQUFVO1lBQTRCLEtBQU07WUFBTWhCLFFBQVNOLHNEQUFJQSxDQUFDLFVBQVU7Z0JBQUVrQixXQUFXO2dCQUF5REssU0FBUyxDQUFDQztvQkFDekpBLEVBQUVDLGVBQWU7b0JBQ2pCZDtnQkFDSjtnQkFBR1csVUFBVTtZQUE4QixLQUFNO1lBQU10QixzREFBSUEsQ0FBQyxVQUFVO2dCQUFFa0IsV0FBVztnQkFBMEJLLFNBQVMsQ0FBQ0M7b0JBQ25IQSxFQUFFQyxlQUFlO29CQUNqQmIsWUFBWVA7Z0JBQ2hCO2dCQUFHaUIsVUFBVTtZQUFxQztTQUFHO0lBQUM7QUFDdEUsR0FBRztBQUNIbEIsbUJBQW1COEIsV0FBVyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlQ29udGV4dE1lbnUuanM/OTY1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBjb25zdCBNZXNzYWdlQ29udGV4dE1lbnUgPSBmb3J3YXJkUmVmKCh7IG1lc3NhZ2UsIGlzT3duLCBvblJlcGx5LCBvbkNvcHksIG9uUGluVG9nZ2xlLCBvbkVkaXQsIG9uRGVsZXRlLCBvbkZvcndhcmQsIG9uU3Rhciwgb25SZXZva2UsIGFuY2hvckNsYXNzTmFtZSwgc3R5bGUsIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyByZWY6IHJlZiwgY2xhc3NOYW1lOiBbJ2NoYXQtY29udGV4dC1tZW51JywgYW5jaG9yQ2xhc3NOYW1lXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpLCBzdHlsZTogc3R5bGUsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIG9uUmVwbHkobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFwiXFx1MjFBOSBUclxcdTFFQTMgbFxcdTFFRERpXCIgfSksIF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbVwiLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChtZXNzYWdlLnRleHQgPz8gJycpO1xuICAgICAgICAgICAgICAgICAgICBvbkNvcHk/LihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogXCJcXHVEODNEXFx1RENDQiBTYW8gY2hcXHUwMEU5cFwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgb25QaW5Ub2dnbGU/LighbWVzc2FnZS5pc1Bpbm5lZCk7XG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IG1lc3NhZ2UuaXNQaW5uZWQgPyAn8J+TjCBC4buPIGdoaW0nIDogJ/Cfk4wgR2hpbSB0aW4gbmjhuq9uJyB9KSwgIW1lc3NhZ2UuaXNTdGFycmVkID8gKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbVwiLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBvblN0YXI/LigpO1xuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBcIlxcdTJCNTAgXFx1MDExMFxcdTAwRTFuaCBkXFx1MUVBNXUgc2FvXCIgfSkpIDogKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbVwiLCBkaXNhYmxlZDogdHJ1ZSwgY2hpbGRyZW46IFwiXFx1MkI1MCBcXHUwMTEwXFx1MDBFMyBcXHUwMTExXFx1MDBFMW5oIGRcXHUxRUE1dVwiIH0pKSwgaXNPd24gPyAoX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIG9uRWRpdD8uKCk7XG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFwiXFx1MjcwRlxcdUZFMEYgQ2hcXHUxRUM5bmggc1xcdTFFRURhXCIgfSkpIDogbnVsbCwgaXNPd24gJiYgIW1lc3NhZ2UuaXNSZXZva2VkID8gKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbVwiLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBvblJldm9rZT8uKCk7XG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFwiXFx1MjFBOVxcdUZFMEYgVGh1IGhcXHUxRUQzaVwiIH0pKSA6IG51bGwsIGlzT3duID8gKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1jb250ZXh0LW1lbnUtaXRlbSBjaGF0LWNvbnRleHQtbWVudS1pdGVtLS1kYW5nZXJcIiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgb25EZWxldGU/LigpO1xuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBcIlxcdUQ4M0RcXHVEREQxXFx1RkUwRiBYXFx1MDBGM2FcIiB9KSkgOiBudWxsLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgb25Gb3J3YXJkPy4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFwiXFx1MjFBQVxcdUZFMEYgQ2h1eVxcdTFFQzNuIHRpXFx1MUVCRnBcIiB9KV0gfSkpO1xufSk7XG5NZXNzYWdlQ29udGV4dE1lbnUuZGlzcGxheU5hbWUgPSAnTWVzc2FnZUNvbnRleHRNZW51JztcbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiZm9yd2FyZFJlZiIsIk1lc3NhZ2VDb250ZXh0TWVudSIsIm1lc3NhZ2UiLCJpc093biIsIm9uUmVwbHkiLCJvbkNvcHkiLCJvblBpblRvZ2dsZSIsIm9uRWRpdCIsIm9uRGVsZXRlIiwib25Gb3J3YXJkIiwib25TdGFyIiwib25SZXZva2UiLCJhbmNob3JDbGFzc05hbWUiLCJzdHlsZSIsInJlZiIsImNsYXNzTmFtZSIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwiY2hpbGRyZW4iLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInRleHQiLCJpc1Bpbm5lZCIsImlzU3RhcnJlZCIsImRpc2FibGVkIiwiaXNSZXZva2VkIiwiZGlzcGxheU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/MessageContextMenu.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/MessageList.js":
/*!*********************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/MessageList.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageList: () => (/* binding */ MessageList)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MessageBubble__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageBubble */ \"(ssr)/../../packages/app/components/chat/MessageList/MessageBubble.js\");\n/* harmony import */ var _PinnedMessagesBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PinnedMessagesBar */ \"(ssr)/../../packages/app/components/chat/MessageList/PinnedMessagesBar.js\");\n\n\n\n\nfunction MessageList({ messages, currentUserId, loading, hasMore, opponentName, opponentAvatar, onReply, onLoadMore, onReact, onTogglePin, onScrollToMessage, focusMessageId, onFocusHandled, onEdit, onDelete, onForward, onStar, onRevoke }) {\n    const listRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rowRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = listRef.current;\n        if (!el) return;\n        el.scrollTop = el.scrollHeight;\n    }, [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = listRef.current;\n        if (!el || !onLoadMore) return;\n        const handleScroll = ()=>{\n            if (el.scrollTop <= 32) {\n                onLoadMore();\n            }\n        };\n        el.addEventListener(\"scroll\", handleScroll);\n        return ()=>el.removeEventListener(\"scroll\", handleScroll);\n    }, [\n        onLoadMore\n    ]);\n    const pinnedMessages = messages.filter((message)=>message.isPinned);\n    const scrollToMessage = (messageId)=>{\n        const target = rowRefs.current[messageId];\n        if (target) {\n            target.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\"\n            });\n            target.classList.add(\"chat-message-row--highlight\");\n            setTimeout(()=>target.classList.remove(\"chat-message-row--highlight\"), 1200);\n        } else {\n            onScrollToMessage?.(messageId);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (focusMessageId) {\n            scrollToMessage(focusMessageId);\n            onFocusHandled?.();\n        }\n    }, [\n        focusMessageId,\n        messages\n    ]);\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"chat-message-list-wrapper\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PinnedMessagesBar__WEBPACK_IMPORTED_MODULE_3__.PinnedMessagesBar, {\n                messages: pinnedMessages,\n                onSelect: scrollToMessage\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-message-list\",\n                ref: listRef,\n                children: [\n                    hasMore ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-load-more\",\n                        onClick: ()=>onLoadMore?.(),\n                        children: \"Xem th\\xeam tin nhn c\"\n                    }) : null,\n                    loading ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-message-placeholder\",\n                        children: \"ang ti tin nhn...\"\n                    }) : null,\n                    !loading && messages.length === 0 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-message-placeholder\",\n                        children: \"Bt u cuc tr\\xf2 chuyn u ti\\xean!\"\n                    }) : null,\n                    messages.map((message)=>{\n                        const isOwn = message.senderId === currentUserId;\n                        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: `chat-message-row ${isOwn ? \"mine\" : \"\"}`,\n                            ref: (el)=>{\n                                if (el && message._id) {\n                                    rowRefs.current[message._id] = el;\n                                }\n                            },\n                            onMouseEnter: ()=>{\n                            /* future: show contextual actions */ },\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MessageBubble__WEBPACK_IMPORTED_MODULE_2__.MessageBubble, {\n                                    message: message,\n                                    isOwn: message.senderId === currentUserId,\n                                    senderName: message.sender?.name || (message.senderId !== currentUserId ? opponentName : undefined),\n                                    senderAvatar: message.sender?.avatar || (message.senderId !== currentUserId ? opponentAvatar : undefined),\n                                    onReply: onReply,\n                                    onReact: onReact,\n                                    onTogglePin: onTogglePin,\n                                    onEdit: onEdit,\n                                    onDelete: onDelete,\n                                    onForward: onForward,\n                                    onStar: onStar,\n                                    onRevoke: onRevoke\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"chat-message-actions\",\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                        className: \"chat-message-action\",\n                                        onClick: ()=>onReply?.(message),\n                                        title: \"Tr li\",\n                                        children: \"\"\n                                    })\n                                })\n                            ]\n                        }, message._id || message.localId);\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9NZXNzYWdlTGlzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStEO0FBQ3JCO0FBQ007QUFDUTtBQUNqRCxTQUFTUSxZQUFZLEVBQUVDLFFBQVEsRUFBRUMsYUFBYSxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxjQUFjLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxPQUFPLEVBQUVDLFdBQVcsRUFBRUMsaUJBQWlCLEVBQUVDLGNBQWMsRUFBRUMsY0FBYyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRztJQUNqUCxNQUFNQyxVQUFVdEIsNkNBQU1BLENBQUM7SUFDdkIsTUFBTXVCLFVBQVV2Qiw2Q0FBTUEsQ0FBQyxDQUFDO0lBQ3hCRCxnREFBU0EsQ0FBQztRQUNOLE1BQU15QixLQUFLRixRQUFRRyxPQUFPO1FBQzFCLElBQUksQ0FBQ0QsSUFDRDtRQUNKQSxHQUFHRSxTQUFTLEdBQUdGLEdBQUdHLFlBQVk7SUFDbEMsR0FBRztRQUFDdkI7S0FBUztJQUNiTCxnREFBU0EsQ0FBQztRQUNOLE1BQU15QixLQUFLRixRQUFRRyxPQUFPO1FBQzFCLElBQUksQ0FBQ0QsTUFBTSxDQUFDYixZQUNSO1FBQ0osTUFBTWlCLGVBQWU7WUFDakIsSUFBSUosR0FBR0UsU0FBUyxJQUFJLElBQUk7Z0JBQ3BCZjtZQUNKO1FBQ0o7UUFDQWEsR0FBR0ssZ0JBQWdCLENBQUMsVUFBVUQ7UUFDOUIsT0FBTyxJQUFNSixHQUFHTSxtQkFBbUIsQ0FBQyxVQUFVRjtJQUNsRCxHQUFHO1FBQUNqQjtLQUFXO0lBQ2YsTUFBTW9CLGlCQUFpQjNCLFNBQVM0QixNQUFNLENBQUMsQ0FBQ0MsVUFBWUEsUUFBUUMsUUFBUTtJQUNwRSxNQUFNQyxrQkFBa0IsQ0FBQ0M7UUFDckIsTUFBTUMsU0FBU2QsUUFBUUUsT0FBTyxDQUFDVyxVQUFVO1FBQ3pDLElBQUlDLFFBQVE7WUFDUkEsT0FBT0MsY0FBYyxDQUFDO2dCQUFFQyxVQUFVO2dCQUFVQyxPQUFPO1lBQVM7WUFDNURILE9BQU9JLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDO1lBQ3JCQyxXQUFXLElBQU1OLE9BQU9JLFNBQVMsQ0FBQ0csTUFBTSxDQUFDLGdDQUFnQztRQUM3RSxPQUNLO1lBQ0Q5QixvQkFBb0JzQjtRQUN4QjtJQUNKO0lBQ0FyQyxnREFBU0EsQ0FBQztRQUNOLElBQUlnQixnQkFBZ0I7WUFDaEJvQixnQkFBZ0JwQjtZQUNoQkM7UUFDSjtJQUNKLEdBQUc7UUFBQ0Q7UUFBZ0JYO0tBQVM7SUFDN0IsT0FBUU4sdURBQUtBLENBQUMsT0FBTztRQUFFK0MsV0FBVztRQUE2QkMsVUFBVTtZQUFDbEQsc0RBQUlBLENBQUNNLGlFQUFpQkEsRUFBRTtnQkFBRUUsVUFBVTJCO2dCQUFnQmdCLFVBQVVaO1lBQWdCO1lBQUlyQyx1REFBS0EsQ0FBQyxPQUFPO2dCQUFFK0MsV0FBVztnQkFBcUJHLEtBQUsxQjtnQkFBU3dCLFVBQVU7b0JBQUN2QyxVQUFXWCxzREFBSUEsQ0FBQyxVQUFVO3dCQUFFcUQsTUFBTTt3QkFBVUosV0FBVzt3QkFBa0JLLFNBQVMsSUFBTXZDO3dCQUFnQm1DLFVBQVU7b0JBQXNDLEtBQU07b0JBQU14QyxVQUFVVixzREFBSUEsQ0FBQyxPQUFPO3dCQUFFaUQsV0FBVzt3QkFBNEJDLFVBQVU7b0JBQXNDLEtBQUs7b0JBQU0sQ0FBQ3hDLFdBQVdGLFNBQVMrQyxNQUFNLEtBQUssSUFBS3ZELHNEQUFJQSxDQUFDLE9BQU87d0JBQUVpRCxXQUFXO3dCQUE0QkMsVUFBVTtvQkFBaUYsS0FBTTtvQkFBTTFDLFNBQVNnRCxHQUFHLENBQUMsQ0FBQ25CO3dCQUM3ckIsTUFBTW9CLFFBQVFwQixRQUFRcUIsUUFBUSxLQUFLakQ7d0JBQ25DLE9BQVFQLHVEQUFLQSxDQUFDLE9BQU87NEJBQUUrQyxXQUFXLENBQUMsaUJBQWlCLEVBQUVRLFFBQVEsU0FBUyxHQUFHLENBQUM7NEJBQUVMLEtBQUssQ0FBQ3hCO2dDQUMzRSxJQUFJQSxNQUFNUyxRQUFRc0IsR0FBRyxFQUFFO29DQUNuQmhDLFFBQVFFLE9BQU8sQ0FBQ1EsUUFBUXNCLEdBQUcsQ0FBQyxHQUFHL0I7Z0NBQ25DOzRCQUNKOzRCQUFHZ0MsY0FBYzs0QkFDYixtQ0FBbUMsR0FDdkM7NEJBQUdWLFVBQVU7Z0NBQUNsRCxzREFBSUEsQ0FBQ0sseURBQWFBLEVBQUU7b0NBQUVnQyxTQUFTQTtvQ0FBU29CLE9BQU9wQixRQUFRcUIsUUFBUSxLQUFLakQ7b0NBQWVvRCxZQUFZeEIsUUFBUXlCLE1BQU0sRUFBRUMsUUFBUzFCLENBQUFBLFFBQVFxQixRQUFRLEtBQUtqRCxnQkFBZ0JHLGVBQWVvRCxTQUFRO29DQUFJQyxjQUFjNUIsUUFBUXlCLE1BQU0sRUFBRUksVUFBVzdCLENBQUFBLFFBQVFxQixRQUFRLEtBQUtqRCxnQkFBZ0JJLGlCQUFpQm1ELFNBQVE7b0NBQUlsRCxTQUFTQTtvQ0FBU0UsU0FBU0E7b0NBQVNDLGFBQWFBO29DQUFhSSxRQUFRQTtvQ0FBUUMsVUFBVUE7b0NBQVVDLFdBQVdBO29DQUFXQyxRQUFRQTtvQ0FBUUMsVUFBVUE7Z0NBQVM7Z0NBQUl6QixzREFBSUEsQ0FBQyxPQUFPO29DQUFFaUQsV0FBVztvQ0FBd0JDLFVBQVVsRCxzREFBSUEsQ0FBQyxVQUFVO3dDQUFFaUQsV0FBVzt3Q0FBdUJLLFNBQVMsSUFBTXhDLFVBQVV1Qjt3Q0FBVThCLE9BQU87d0NBQXFCakIsVUFBVTtvQ0FBUztnQ0FBRzs2QkFBRzt3QkFBQyxHQUFHYixRQUFRc0IsR0FBRyxJQUFJdEIsUUFBUStCLE9BQU87b0JBQ2hzQjtpQkFBRztZQUFDO1NBQUc7SUFBQztBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NoYXQvTWVzc2FnZUxpc3QvTWVzc2FnZUxpc3QuanM/MWJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNZXNzYWdlQnViYmxlIH0gZnJvbSAnLi9NZXNzYWdlQnViYmxlJztcbmltcG9ydCB7IFBpbm5lZE1lc3NhZ2VzQmFyIH0gZnJvbSAnLi9QaW5uZWRNZXNzYWdlc0Jhcic7XG5leHBvcnQgZnVuY3Rpb24gTWVzc2FnZUxpc3QoeyBtZXNzYWdlcywgY3VycmVudFVzZXJJZCwgbG9hZGluZywgaGFzTW9yZSwgb3Bwb25lbnROYW1lLCBvcHBvbmVudEF2YXRhciwgb25SZXBseSwgb25Mb2FkTW9yZSwgb25SZWFjdCwgb25Ub2dnbGVQaW4sIG9uU2Nyb2xsVG9NZXNzYWdlLCBmb2N1c01lc3NhZ2VJZCwgb25Gb2N1c0hhbmRsZWQsIG9uRWRpdCwgb25EZWxldGUsIG9uRm9yd2FyZCwgb25TdGFyLCBvblJldm9rZSwgfSkge1xuICAgIGNvbnN0IGxpc3RSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgcm93UmVmcyA9IHVzZVJlZih7fSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBsaXN0UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodDtcbiAgICB9LCBbbWVzc2FnZXNdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGxpc3RSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFlbCB8fCAhb25Mb2FkTW9yZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVsLnNjcm9sbFRvcCA8PSAzMikge1xuICAgICAgICAgICAgICAgIG9uTG9hZE1vcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XG4gICAgfSwgW29uTG9hZE1vcmVdKTtcbiAgICBjb25zdCBwaW5uZWRNZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcigobWVzc2FnZSkgPT4gbWVzc2FnZS5pc1Bpbm5lZCk7XG4gICAgY29uc3Qgc2Nyb2xsVG9NZXNzYWdlID0gKG1lc3NhZ2VJZCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSByb3dSZWZzLmN1cnJlbnRbbWVzc2FnZUlkXTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicgfSk7XG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnY2hhdC1tZXNzYWdlLXJvdy0taGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdjaGF0LW1lc3NhZ2Utcm93LS1oaWdobGlnaHQnKSwgMTIwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvblNjcm9sbFRvTWVzc2FnZT8uKG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChmb2N1c01lc3NhZ2VJZCkge1xuICAgICAgICAgICAgc2Nyb2xsVG9NZXNzYWdlKGZvY3VzTWVzc2FnZUlkKTtcbiAgICAgICAgICAgIG9uRm9jdXNIYW5kbGVkPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtmb2N1c01lc3NhZ2VJZCwgbWVzc2FnZXNdKTtcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtbWVzc2FnZS1saXN0LXdyYXBwZXJcIiwgY2hpbGRyZW46IFtfanN4KFBpbm5lZE1lc3NhZ2VzQmFyLCB7IG1lc3NhZ2VzOiBwaW5uZWRNZXNzYWdlcywgb25TZWxlY3Q6IHNjcm9sbFRvTWVzc2FnZSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1tZXNzYWdlLWxpc3RcIiwgcmVmOiBsaXN0UmVmLCBjaGlsZHJlbjogW2hhc01vcmUgPyAoX2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjaGF0LWxvYWQtbW9yZVwiLCBvbkNsaWNrOiAoKSA9PiBvbkxvYWRNb3JlPy4oKSwgY2hpbGRyZW46IFwiWGVtIHRoXFx1MDBFQW0gdGluIG5oXFx1MUVBRm4gY1xcdTAxNjlcIiB9KSkgOiBudWxsLCBsb2FkaW5nID8gX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LW1lc3NhZ2UtcGxhY2Vob2xkZXJcIiwgY2hpbGRyZW46IFwiXFx1MDExMGFuZyB0XFx1MUVBM2kgdGluIG5oXFx1MUVBRm4uLi5cIiB9KSA6IG51bGwsICFsb2FkaW5nICYmIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtbWVzc2FnZS1wbGFjZWhvbGRlclwiLCBjaGlsZHJlbjogXCJCXFx1MUVBRnQgXFx1MDExMVxcdTFFQTd1IGN1XFx1MUVEOWMgdHJcXHUwMEYyIGNodXlcXHUxRUM3biBcXHUwMTExXFx1MUVBN3UgdGlcXHUwMEVBbiFcIiB9KSkgOiBudWxsLCBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzT3duID0gbWVzc2FnZS5zZW5kZXJJZCA9PT0gY3VycmVudFVzZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBjaGF0LW1lc3NhZ2Utcm93ICR7aXNPd24gPyAnbWluZScgOiAnJ31gLCByZWY6IChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwgJiYgbWVzc2FnZS5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1JlZnMuY3VycmVudFttZXNzYWdlLl9pZF0gPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uTW91c2VFbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBmdXR1cmU6IHNob3cgY29udGV4dHVhbCBhY3Rpb25zICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtfanN4KE1lc3NhZ2VCdWJibGUsIHsgbWVzc2FnZTogbWVzc2FnZSwgaXNPd246IG1lc3NhZ2Uuc2VuZGVySWQgPT09IGN1cnJlbnRVc2VySWQsIHNlbmRlck5hbWU6IG1lc3NhZ2Uuc2VuZGVyPy5uYW1lIHx8IChtZXNzYWdlLnNlbmRlcklkICE9PSBjdXJyZW50VXNlcklkID8gb3Bwb25lbnROYW1lIDogdW5kZWZpbmVkKSwgc2VuZGVyQXZhdGFyOiBtZXNzYWdlLnNlbmRlcj8uYXZhdGFyIHx8IChtZXNzYWdlLnNlbmRlcklkICE9PSBjdXJyZW50VXNlcklkID8gb3Bwb25lbnRBdmF0YXIgOiB1bmRlZmluZWQpLCBvblJlcGx5OiBvblJlcGx5LCBvblJlYWN0OiBvblJlYWN0LCBvblRvZ2dsZVBpbjogb25Ub2dnbGVQaW4sIG9uRWRpdDogb25FZGl0LCBvbkRlbGV0ZTogb25EZWxldGUsIG9uRm9yd2FyZDogb25Gb3J3YXJkLCBvblN0YXI6IG9uU3Rhciwgb25SZXZva2U6IG9uUmV2b2tlIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtbWVzc2FnZS1hY3Rpb25zXCIsIGNoaWxkcmVuOiBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtbWVzc2FnZS1hY3Rpb25cIiwgb25DbGljazogKCkgPT4gb25SZXBseT8uKG1lc3NhZ2UpLCB0aXRsZTogXCJUclxcdTFFQTMgbFxcdTFFRERpXCIsIGNoaWxkcmVuOiBcIlxcdTIxQTlcIiB9KSB9KV0gfSwgbWVzc2FnZS5faWQgfHwgbWVzc2FnZS5sb2NhbElkKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXSB9KV0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJNZXNzYWdlQnViYmxlIiwiUGlubmVkTWVzc2FnZXNCYXIiLCJNZXNzYWdlTGlzdCIsIm1lc3NhZ2VzIiwiY3VycmVudFVzZXJJZCIsImxvYWRpbmciLCJoYXNNb3JlIiwib3Bwb25lbnROYW1lIiwib3Bwb25lbnRBdmF0YXIiLCJvblJlcGx5Iiwib25Mb2FkTW9yZSIsIm9uUmVhY3QiLCJvblRvZ2dsZVBpbiIsIm9uU2Nyb2xsVG9NZXNzYWdlIiwiZm9jdXNNZXNzYWdlSWQiLCJvbkZvY3VzSGFuZGxlZCIsIm9uRWRpdCIsIm9uRGVsZXRlIiwib25Gb3J3YXJkIiwib25TdGFyIiwib25SZXZva2UiLCJsaXN0UmVmIiwicm93UmVmcyIsImVsIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImhhbmRsZVNjcm9sbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGlubmVkTWVzc2FnZXMiLCJmaWx0ZXIiLCJtZXNzYWdlIiwiaXNQaW5uZWQiLCJzY3JvbGxUb01lc3NhZ2UiLCJtZXNzYWdlSWQiLCJ0YXJnZXQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJvblNlbGVjdCIsInJlZiIsInR5cGUiLCJvbkNsaWNrIiwibGVuZ3RoIiwibWFwIiwiaXNPd24iLCJzZW5kZXJJZCIsIl9pZCIsIm9uTW91c2VFbnRlciIsInNlbmRlck5hbWUiLCJzZW5kZXIiLCJuYW1lIiwidW5kZWZpbmVkIiwic2VuZGVyQXZhdGFyIiwiYXZhdGFyIiwidGl0bGUiLCJsb2NhbElkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/MessageList.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/PinnedMessagesBar.js":
/*!***************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/PinnedMessagesBar.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PinnedMessagesBar: () => (/* binding */ PinnedMessagesBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction PinnedMessagesBar({ messages, onSelect }) {\n    if (!messages.length) return null;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"chat-pinned-bar\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"chat-pinned-label\",\n                children: \"Tin nhn \\xe3 ghim\"\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-pinned-items\",\n                children: messages.map((message)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                        type: \"button\",\n                        className: \"chat-pinned-item\",\n                        onClick: ()=>onSelect?.(message._id),\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-pinned-icon\",\n                                children: \"\\uD83D\\uDCCC\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"chat-pinned-text\",\n                                children: message.text ?? \"[\\xednh k\\xe8m]\"\n                            })\n                        ]\n                    }, message._id))\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9QaW5uZWRNZXNzYWdlc0Jhci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0Q7QUFDeEQsU0FBU0ksa0JBQWtCLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFO0lBQ3BELElBQUksQ0FBQ0QsU0FBU0UsTUFBTSxFQUNoQixPQUFPO0lBQ1gsT0FBUUosdURBQUtBLENBQUMsT0FBTztRQUFFSyxXQUFXO1FBQW1CQyxVQUFVO1lBQUNSLHNEQUFJQSxDQUFDLFFBQVE7Z0JBQUVPLFdBQVc7Z0JBQXFCQyxVQUFVO1lBQWtDO1lBQUlSLHNEQUFJQSxDQUFDLE9BQU87Z0JBQUVPLFdBQVc7Z0JBQXFCQyxVQUFVSixTQUFTSyxHQUFHLENBQUMsQ0FBQ0MsVUFBYVIsdURBQUtBLENBQUMsVUFBVTt3QkFBRVMsTUFBTTt3QkFBVUosV0FBVzt3QkFBb0JLLFNBQVMsSUFBTVAsV0FBV0ssUUFBUUcsR0FBRzt3QkFBR0wsVUFBVTs0QkFBQ1Isc0RBQUlBLENBQUMsUUFBUTtnQ0FBRU8sV0FBVztnQ0FBb0JDLFVBQVU7NEJBQWU7NEJBQUlSLHNEQUFJQSxDQUFDLFFBQVE7Z0NBQUVPLFdBQVc7Z0NBQW9CQyxVQUFVRSxRQUFRSSxJQUFJLElBQUk7NEJBQWE7eUJBQUc7b0JBQUMsR0FBR0osUUFBUUcsR0FBRztZQUFJO1NBQUc7SUFBQztBQUNwaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L1Bpbm5lZE1lc3NhZ2VzQmFyLmpzP2VhMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBQaW5uZWRNZXNzYWdlc0Jhcih7IG1lc3NhZ2VzLCBvblNlbGVjdCB9KSB7XG4gICAgaWYgKCFtZXNzYWdlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1waW5uZWQtYmFyXCIsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1waW5uZWQtbGFiZWxcIiwgY2hpbGRyZW46IFwiVGluIG5oXFx1MUVBRm4gXFx1MDExMVxcdTAwRTMgZ2hpbVwiIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcGlubmVkLWl0ZW1zXCIsIGNoaWxkcmVuOiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChfanN4cyhcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjaGF0LXBpbm5lZC1pdGVtXCIsIG9uQ2xpY2s6ICgpID0+IG9uU2VsZWN0Py4obWVzc2FnZS5faWQpLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcGlubmVkLWljb25cIiwgY2hpbGRyZW46IFwiXFx1RDgzRFxcdURDQ0NcIiB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1waW5uZWQtdGV4dFwiLCBjaGlsZHJlbjogbWVzc2FnZS50ZXh0ID8/ICdbxJDDrW5oIGvDqG1dJyB9KV0gfSwgbWVzc2FnZS5faWQpKSkgfSldIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiUGlubmVkTWVzc2FnZXNCYXIiLCJtZXNzYWdlcyIsIm9uU2VsZWN0IiwibGVuZ3RoIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJtYXAiLCJtZXNzYWdlIiwidHlwZSIsIm9uQ2xpY2siLCJfaWQiLCJ0ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/PinnedMessagesBar.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/ReactionPicker.js":
/*!************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/ReactionPicker.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReactionPicker: () => (/* binding */ ReactionPicker)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst COMMON_EMOJIS = [\n    \"\\uD83D\\uDC4D\",\n    \"\",\n    \"\\uD83D\\uDE02\",\n    \"\\uD83D\\uDE2E\",\n    \"\\uD83D\\uDE22\",\n    \"\\uD83D\\uDE4F\",\n    \"\\uD83D\\uDD25\",\n    \"\\uD83D\\uDC4F\",\n    \"\\uD83C\\uDF89\",\n    \"\",\n    \"\",\n    \"\\uD83D\\uDCAF\"\n];\nfunction ReactionPicker({ isOpen, position, onSelect, onClose, anchorClassName }) {\n    const pickerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const handleClickOutside = (event)=>{\n            const target = event.target;\n            if (pickerRef.current && !pickerRef.current.contains(target)) {\n                onClose();\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        isOpen,\n        onClose\n    ]);\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        ref: pickerRef,\n        className: [\n            \"chat-reaction-picker\",\n            anchorClassName\n        ].filter(Boolean).join(\" \"),\n        style: {\n            position: \"fixed\",\n            top: `${position.top}px`,\n            ...position.right !== undefined ? {\n                right: `${position.right}px`\n            } : {\n                left: `${position.left}px`\n            },\n            zIndex: 100000\n        },\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: \"chat-reaction-picker-grid\",\n            children: COMMON_EMOJIS.map((emoji)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                    className: \"chat-reaction-picker-item\",\n                    onClick: (e)=>{\n                        e.stopPropagation();\n                        onSelect(emoji);\n                        onClose();\n                    },\n                    title: emoji,\n                    children: emoji\n                }, emoji))\n        })\n    }), document.body);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZWFjdGlvblBpY2tlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdEO0FBQ047QUFDRDtBQUN6QyxNQUFNSyxnQkFBZ0I7SUFBQztJQUFNO0lBQU07SUFBTTtJQUFNO0lBQU07SUFBTTtJQUFNO0lBQU07SUFBTTtJQUFLO0lBQUs7Q0FBSztBQUNyRixTQUFTQyxlQUFlLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsZUFBZSxFQUFHO0lBQ3BGLE1BQU1DLFlBQVlULDZDQUFNQSxDQUFDO0lBQ3pCRCxnREFBU0EsQ0FBQztRQUNOLElBQUksQ0FBQ0ssUUFDRDtRQUNKLE1BQU1NLHFCQUFxQixDQUFDQztZQUN4QixNQUFNQyxTQUFTRCxNQUFNQyxNQUFNO1lBQzNCLElBQUlILFVBQVVJLE9BQU8sSUFBSSxDQUFDSixVQUFVSSxPQUFPLENBQUNDLFFBQVEsQ0FBQ0YsU0FBUztnQkFDMURMO1lBQ0o7UUFDSjtRQUNBUSxTQUFTQyxnQkFBZ0IsQ0FBQyxhQUFhTjtRQUN2QyxPQUFPO1lBQ0hLLFNBQVNFLG1CQUFtQixDQUFDLGFBQWFQO1FBQzlDO0lBQ0osR0FBRztRQUFDTjtRQUFRRztLQUFRO0lBQ3BCLElBQUksQ0FBQ0gsUUFDRCxPQUFPO0lBQ1gscUJBQU9ILHVEQUFZQSxDQUFDSCxzREFBSUEsQ0FBQyxPQUFPO1FBQUVvQixLQUFLVDtRQUFXVSxXQUFXO1lBQUM7WUFBd0JYO1NBQWdCLENBQUNZLE1BQU0sQ0FBQ0MsU0FBU0MsSUFBSSxDQUFDO1FBQU1DLE9BQU87WUFDaklsQixVQUFVO1lBQ1ZtQixLQUFLLENBQUMsRUFBRW5CLFNBQVNtQixHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3hCLEdBQUluQixTQUFTb0IsS0FBSyxLQUFLQyxZQUNqQjtnQkFBRUQsT0FBTyxDQUFDLEVBQUVwQixTQUFTb0IsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUFDLElBQy9CO2dCQUFFRSxNQUFNLENBQUMsRUFBRXRCLFNBQVNzQixJQUFJLENBQUMsRUFBRSxDQUFDO1lBQUMsQ0FBQztZQUNwQ0MsUUFBUTtRQUNaO1FBQUdDLFVBQVUvQixzREFBSUEsQ0FBQyxPQUFPO1lBQUVxQixXQUFXO1lBQTZCVSxVQUFVM0IsY0FBYzRCLEdBQUcsQ0FBQyxDQUFDQyxRQUFXakMsc0RBQUlBLENBQUMsVUFBVTtvQkFBRXFCLFdBQVc7b0JBQTZCYSxTQUFTLENBQUNDO3dCQUNsS0EsRUFBRUMsZUFBZTt3QkFDakI1QixTQUFTeUI7d0JBQ1R4QjtvQkFDSjtvQkFBRzRCLE9BQU9KO29CQUFPRixVQUFVRTtnQkFBTSxHQUFHQTtRQUFTO0lBQUcsSUFBSWhCLFNBQVNxQixJQUFJO0FBQ2pGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZWFjdGlvblBpY2tlci5qcz8zNTJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5jb25zdCBDT01NT05fRU1PSklTID0gWyfwn5GNJywgJ+KdpO+4jycsICfwn5iCJywgJ/CfmK4nLCAn8J+YoicsICfwn5mPJywgJ/CflKUnLCAn8J+RjycsICfwn46JJywgJ+KchScsICfinYwnLCAn8J+SryddO1xuZXhwb3J0IGZ1bmN0aW9uIFJlYWN0aW9uUGlja2VyKHsgaXNPcGVuLCBwb3NpdGlvbiwgb25TZWxlY3QsIG9uQ2xvc2UsIGFuY2hvckNsYXNzTmFtZSwgfSkge1xuICAgIGNvbnN0IHBpY2tlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzT3BlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICBpZiAocGlja2VyUmVmLmN1cnJlbnQgJiYgIXBpY2tlclJlZi5jdXJyZW50LmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc09wZW4sIG9uQ2xvc2VdKTtcbiAgICBpZiAoIWlzT3BlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChfanN4KFwiZGl2XCIsIHsgcmVmOiBwaWNrZXJSZWYsIGNsYXNzTmFtZTogWydjaGF0LXJlYWN0aW9uLXBpY2tlcicsIGFuY2hvckNsYXNzTmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgdG9wOiBgJHtwb3NpdGlvbi50b3B9cHhgLFxuICAgICAgICAgICAgLi4uKHBvc2l0aW9uLnJpZ2h0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHsgcmlnaHQ6IGAke3Bvc2l0aW9uLnJpZ2h0fXB4YCB9XG4gICAgICAgICAgICAgICAgOiB7IGxlZnQ6IGAke3Bvc2l0aW9uLmxlZnR9cHhgIH0pLFxuICAgICAgICAgICAgekluZGV4OiAxMDAwMDAsXG4gICAgICAgIH0sIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcmVhY3Rpb24tcGlja2VyLWdyaWRcIiwgY2hpbGRyZW46IENPTU1PTl9FTU9KSVMubWFwKChlbW9qaSkgPT4gKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1yZWFjdGlvbi1waWNrZXItaXRlbVwiLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdChlbW9qaSk7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9LCB0aXRsZTogZW1vamksIGNoaWxkcmVuOiBlbW9qaSB9LCBlbW9qaSkpKSB9KSB9KSwgZG9jdW1lbnQuYm9keSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsInVzZUVmZmVjdCIsInVzZVJlZiIsImNyZWF0ZVBvcnRhbCIsIkNPTU1PTl9FTU9KSVMiLCJSZWFjdGlvblBpY2tlciIsImlzT3BlbiIsInBvc2l0aW9uIiwib25TZWxlY3QiLCJvbkNsb3NlIiwiYW5jaG9yQ2xhc3NOYW1lIiwicGlja2VyUmVmIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJ0YXJnZXQiLCJjdXJyZW50IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVmIiwiY2xhc3NOYW1lIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJzdHlsZSIsInRvcCIsInJpZ2h0IiwidW5kZWZpbmVkIiwibGVmdCIsInpJbmRleCIsImNoaWxkcmVuIiwibWFwIiwiZW1vamkiLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsInRpdGxlIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/ReactionPicker.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/ReactionSummary.js":
/*!*************************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/ReactionSummary.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReactionSummary: () => (/* binding */ ReactionSummary)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ReactionSummary({ reactions }) {\n    if (!reactions || reactions.length === 0) return null;\n    const grouped = reactions.reduce((acc, reaction)=>{\n        acc[reaction.emoji] = (acc[reaction.emoji] ?? 0) + 1;\n        return acc;\n    }, {});\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"chat-reaction-summary\",\n        children: Object.entries(grouped).map(([emoji, count])=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                className: \"chat-reaction-chip\",\n                children: [\n                    emoji,\n                    \" \",\n                    count\n                ]\n            }, emoji))\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZWFjdGlvblN1bW1hcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStEO0FBQ3hELFNBQVNJLGdCQUFnQixFQUFFQyxTQUFTLEVBQUU7SUFDekMsSUFBSSxDQUFDQSxhQUFhQSxVQUFVQyxNQUFNLEtBQUssR0FDbkMsT0FBTztJQUNYLE1BQU1DLFVBQVVGLFVBQVVHLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQztRQUNuQ0QsR0FBRyxDQUFDQyxTQUFTQyxLQUFLLENBQUMsR0FBRyxDQUFDRixHQUFHLENBQUNDLFNBQVNDLEtBQUssQ0FBQyxJQUFJLEtBQUs7UUFDbkQsT0FBT0Y7SUFDWCxHQUFHLENBQUM7SUFDSixPQUFRTixzREFBSUEsQ0FBQyxPQUFPO1FBQUVTLFdBQVc7UUFBeUJDLFVBQVVDLE9BQU9DLE9BQU8sQ0FBQ1IsU0FBU1MsR0FBRyxDQUFDLENBQUMsQ0FBQ0wsT0FBT00sTUFBTSxHQUFNaEIsdURBQUtBLENBQUMsUUFBUTtnQkFBRVcsV0FBVztnQkFBc0JDLFVBQVU7b0JBQUNGO29CQUFPO29CQUFLTTtpQkFBTTtZQUFDLEdBQUdOO0lBQVM7QUFDcE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L1JlYWN0aW9uU3VtbWFyeS5qcz8xM2M5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeHMgYXMgX2pzeHMsIGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gUmVhY3Rpb25TdW1tYXJ5KHsgcmVhY3Rpb25zIH0pIHtcbiAgICBpZiAoIXJlYWN0aW9ucyB8fCByZWFjdGlvbnMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBncm91cGVkID0gcmVhY3Rpb25zLnJlZHVjZSgoYWNjLCByZWFjdGlvbikgPT4ge1xuICAgICAgICBhY2NbcmVhY3Rpb24uZW1vamldID0gKGFjY1tyZWFjdGlvbi5lbW9qaV0gPz8gMCkgKyAxO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1yZWFjdGlvbi1zdW1tYXJ5XCIsIGNoaWxkcmVuOiBPYmplY3QuZW50cmllcyhncm91cGVkKS5tYXAoKFtlbW9qaSwgY291bnRdKSA9PiAoX2pzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcmVhY3Rpb24tY2hpcFwiLCBjaGlsZHJlbjogW2Vtb2ppLCBcIiBcIiwgY291bnRdIH0sIGVtb2ppKSkpIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3hzIiwiX2pzeHMiLCJqc3giLCJfanN4IiwiUmVhY3Rpb25TdW1tYXJ5IiwicmVhY3Rpb25zIiwibGVuZ3RoIiwiZ3JvdXBlZCIsInJlZHVjZSIsImFjYyIsInJlYWN0aW9uIiwiZW1vamkiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJjb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/ReactionSummary.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/MessageList/ReplyPreview.js":
/*!**********************************************************************!*\
  !*** ../../packages/app/components/chat/MessageList/ReplyPreview.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReplyPreview: () => (/* binding */ ReplyPreview)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction ReplyPreview({ message }) {\n    if (!message) return null;\n    const previewText = typeof message === \"string\" ? message : message.text ?? \"[\\xednh k\\xe8m]\";\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"chat-reply-preview\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-reply-indicator\"\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"chat-reply-content\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-reply-label\",\n                        children: \"Tr li\"\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"chat-reply-text\",\n                        children: previewText\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlTGlzdC9SZXBseVByZXZpZXcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStEO0FBQ3hELFNBQVNJLGFBQWEsRUFBRUMsT0FBTyxFQUFFO0lBQ3BDLElBQUksQ0FBQ0EsU0FDRCxPQUFPO0lBQ1gsTUFBTUMsY0FBYyxPQUFPRCxZQUFZLFdBQVdBLFVBQVVBLFFBQVFFLElBQUksSUFBSTtJQUM1RSxPQUFRSix1REFBS0EsQ0FBQyxPQUFPO1FBQUVLLFdBQVc7UUFBc0JDLFVBQVU7WUFBQ1Isc0RBQUlBLENBQUMsT0FBTztnQkFBRU8sV0FBVztZQUF1QjtZQUFJTCx1REFBS0EsQ0FBQyxPQUFPO2dCQUFFSyxXQUFXO2dCQUFzQkMsVUFBVTtvQkFBQ1Isc0RBQUlBLENBQUMsT0FBTzt3QkFBRU8sV0FBVzt3QkFBb0JDLFVBQVU7b0JBQW9CO29CQUFJUixzREFBSUEsQ0FBQyxPQUFPO3dCQUFFTyxXQUFXO3dCQUFtQkMsVUFBVUg7b0JBQVk7aUJBQUc7WUFBQztTQUFHO0lBQUM7QUFDL1UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L01lc3NhZ2VMaXN0L1JlcGx5UHJldmlldy5qcz81Mzg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gUmVwbHlQcmV2aWV3KHsgbWVzc2FnZSB9KSB7XG4gICAgaWYgKCFtZXNzYWdlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwcmV2aWV3VGV4dCA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyA/IG1lc3NhZ2UgOiBtZXNzYWdlLnRleHQgPz8gJ1vEkMOtbmgga8OobV0nO1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC1yZXBseS1wcmV2aWV3XCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LXJlcGx5LWluZGljYXRvclwiIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LXJlcGx5LWNvbnRlbnRcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcmVwbHktbGFiZWxcIiwgY2hpbGRyZW46IFwiVHJcXHUxRUEzIGxcXHUxRUREaVwiIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoYXQtcmVwbHktdGV4dFwiLCBjaGlsZHJlbjogcHJldmlld1RleHQgfSldIH0pXSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIlJlcGx5UHJldmlldyIsIm1lc3NhZ2UiLCJwcmV2aWV3VGV4dCIsInRleHQiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/MessageList/ReplyPreview.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/NewConversationModal.js":
/*!******************************************************************!*\
  !*** ../../packages/app/components/chat/NewConversationModal.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NewConversationModal: () => (/* binding */ NewConversationModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _styles_new_conversation_modal_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/new-conversation-modal.css */ \"(ssr)/../../packages/app/styles/new-conversation-modal.css\");\n/* __next_internal_client_entry_do_not_use__ NewConversationModal auto */ \n\n\n\nfunction NewConversationModal({ isOpen, onClose, onCreated }) {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedUsers, setSelectedUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [groupName, setGroupName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearching, setIsSearching] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [infoMessage, setInfoMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const currentUserId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (true) return \"\";\n        try {\n            return window.localStorage.getItem(\"user_id\") || \"\";\n        } catch  {\n            return \"\";\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) {\n            setSearchQuery(\"\");\n            setSearchResults([]);\n            setSelectedUsers([]);\n            setGroupName(\"\");\n            setError(null);\n            setInfoMessage(null);\n            setIsSearching(false);\n            setIsSubmitting(false);\n            return;\n        }\n        setGroupName(\"\");\n    }, [\n        isOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedUsers.length < 2 && groupName) {\n            setGroupName(\"\");\n        }\n    }, [\n        selectedUsers.length,\n        groupName\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        if (!isOpen) {\n            return;\n        }\n        if (searchQuery.trim().length < 2) {\n            setSearchResults([]);\n            setInfoMessage(\"Nhp \\xedt nht 2 k\\xfd t  t\\xecm kim\");\n            setError(null);\n            return;\n        }\n        async function runSearch() {\n            setIsSearching(true);\n            setInfoMessage(null);\n            try {\n                const result = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.searchUsers)(searchQuery.trim());\n                if (!active) return;\n                const filtered = result.users.filter((user)=>user._id !== currentUserId);\n                setSearchResults(filtered);\n                setError(filtered.length === 0 ? \"Kh\\xf4ng t\\xecm thy ngi d\\xf9ng ph\\xf9 hp\" : null);\n            } catch (err) {\n                console.error(\"Search users error:\", err);\n                if (!active) return;\n                setError(\"Kh\\xf4ng th t\\xecm kim l\\xfac n\\xe0y, th li sau\");\n            } finally{\n                if (active) {\n                    setIsSearching(false);\n                }\n            }\n        }\n        const timeout = setTimeout(runSearch, 350);\n        return ()=>{\n            active = false;\n            clearTimeout(timeout);\n        };\n    }, [\n        searchQuery,\n        isOpen,\n        currentUserId\n    ]);\n    const isSelected = (userId)=>selectedUsers.some((user)=>user._id === userId);\n    const toggleUser = (user)=>{\n        setSelectedUsers((prev)=>{\n            if (prev.some((item)=>item._id === user._id)) {\n                return prev.filter((item)=>item._id !== user._id);\n            }\n            return [\n                ...prev,\n                user\n            ];\n        });\n    };\n    const selectedIds = selectedUsers.map((user)=>user._id);\n    const handleCreate = async ()=>{\n        if (selectedUsers.length === 0) {\n            setError(\"H\\xe3y chn \\xedt nht mt ngi d\\xf9ng\");\n            return;\n        }\n        setIsSubmitting(true);\n        setError(null);\n        try {\n            let conversation;\n            if (selectedUsers.length === 1) {\n                conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createConversationWithUser)(selectedUsers[0]._id);\n            } else {\n                conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createGroupConversation)(selectedIds, groupName.trim() || undefined);\n            }\n            onCreated?.(conversation);\n            onClose();\n        } catch (err) {\n            console.error(\"Create conversation error:\", err);\n            const apiError = err?.response?.data?.error || err?.message;\n            setError(apiError || \"Kh\\xf4ng th to cuc tr\\xf2 chuyn, th li sau\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    if (!isOpen) return null;\n    const canSubmit = selectedUsers.length >= 1 && !isSubmitting;\n    const isGroup = selectedUsers.length >= 2;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"new-conversation-modal-overlay\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"new-conversation-modal\",\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"header\", {\n                    className: \"new-conversation-modal__header\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h2\", {\n                                    children: \"To cuc tr\\xf2 chuyn\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                                    children: \"Chn mt hoc nhiu ngi  bt u tr\\xf2 chuyn\"\n                                })\n                            ]\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"modal-close-btn\",\n                            onClick: onClose,\n                            \"aria-label\": \"\\xf3ng\",\n                            children: \"\"\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"new-conversation-modal__body\",\n                    children: [\n                        isGroup && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"form-group\",\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                    htmlFor: \"groupName\",\n                                    children: \"T\\xean nh\\xf3m\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                    id: \"groupName\",\n                                    type: \"text\",\n                                    value: groupName,\n                                    onChange: (e)=>setGroupName(e.target.value),\n                                    placeholder: \"V\\xed d: Nh\\xf3m d \\xe1n, Team marketing...\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                    className: \"hint\",\n                                    children: \"Nh\\xf3m s xut hin khi bn chn t 2 ngi tr l\\xean\"\n                                })\n                            ]\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"form-group\",\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                    htmlFor: \"searchUsers\",\n                                    children: \"T\\xecm kim ngi d\\xf9ng\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                    id: \"searchUsers\",\n                                    type: \"text\",\n                                    value: searchQuery,\n                                    onChange: (e)=>setSearchQuery(e.target.value),\n                                    placeholder: \"Nhp t\\xean, email hoc username\"\n                                })\n                            ]\n                        }),\n                        isSearching && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"hint\",\n                            children: \"ang t\\xecm kim...\"\n                        }),\n                        infoMessage && !isSearching && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"hint\",\n                            children: infoMessage\n                        }),\n                        error && !isSearching && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"error-message\",\n                            children: error\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"search-results\",\n                            children: searchResults.map((user)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                    type: \"button\",\n                                    className: `search-result-item ${isSelected(user._id) ? \"selected\" : \"\"}`,\n                                    onClick: ()=>toggleUser(user),\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                            className: \"result-avatar\",\n                                            children: user.avatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                                src: user.avatar,\n                                                alt: user.name\n                                            }) : user.name?.[0]?.toUpperCase() || \"?\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                            className: \"result-info\",\n                                            children: [\n                                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                    className: \"result-name\",\n                                                    children: user.name\n                                                }),\n                                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                    className: \"result-subline\",\n                                                    children: [\n                                                        user.email,\n                                                        user.username ? `  @${user.username}` : \"\"\n                                                    ]\n                                                })\n                                            ]\n                                        }),\n                                        isSelected(user._id) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                            className: \"result-check\",\n                                            children: \"\"\n                                        })\n                                    ]\n                                }, user._id))\n                        }),\n                        selectedUsers.length > 0 && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"selected-users\",\n                            children: selectedUsers.map((user)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                                    className: \"selected-chip\",\n                                    onClick: ()=>toggleUser(user),\n                                    children: [\n                                        user.name,\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                            className: \"chip-remove\",\n                                            children: \"\"\n                                        })\n                                    ]\n                                }, user._id))\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"footer\", {\n                    className: \"new-conversation-modal__footer\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            disabled: isSubmitting,\n                            children: \"Hy\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"primary-btn\",\n                            onClick: handleCreate,\n                            disabled: !canSubmit,\n                            children: isSubmitting ? \"ang to...\" : \"To\"\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9OZXdDb252ZXJzYXRpb25Nb2RhbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OzBFQUMrRDtBQUNWO0FBQ3lDO0FBQzdDO0FBQzFDLFNBQVNVLHFCQUFxQixFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFO0lBQy9ELE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHVCwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNVLGVBQWVDLGlCQUFpQixHQUFHWCwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ3JELE1BQU0sQ0FBQ1ksZUFBZUMsaUJBQWlCLEdBQUdiLCtDQUFRQSxDQUFDLEVBQUU7SUFDckQsTUFBTSxDQUFDYyxXQUFXQyxhQUFhLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2dCLGFBQWFDLGVBQWUsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2tCLGNBQWNDLGdCQUFnQixHQUFHbkIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDb0IsT0FBT0MsU0FBUyxHQUFHckIsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDc0IsYUFBYUMsZUFBZSxHQUFHdkIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTXdCLGdCQUFnQnpCLDhDQUFPQSxDQUFDO1FBQzFCLElBQUksSUFBa0IsRUFDbEIsT0FBTztRQUNYLElBQUk7WUFDQSxPQUFPMEIsT0FBT0MsWUFBWSxDQUFDQyxPQUFPLENBQUMsY0FBYztRQUNyRCxFQUNBLE9BQU07WUFDRixPQUFPO1FBQ1g7SUFDSixHQUFHLEVBQUU7SUFDTDdCLGdEQUFTQSxDQUFDO1FBQ04sSUFBSSxDQUFDTyxRQUFRO1lBQ1RJLGVBQWU7WUFDZkUsaUJBQWlCLEVBQUU7WUFDbkJFLGlCQUFpQixFQUFFO1lBQ25CRSxhQUFhO1lBQ2JNLFNBQVM7WUFDVEUsZUFBZTtZQUNmTixlQUFlO1lBQ2ZFLGdCQUFnQjtZQUNoQjtRQUNKO1FBQ0FKLGFBQWE7SUFDakIsR0FBRztRQUFDVjtLQUFPO0lBQ1hQLGdEQUFTQSxDQUFDO1FBQ04sSUFBSWMsY0FBY2dCLE1BQU0sR0FBRyxLQUFLZCxXQUFXO1lBQ3ZDQyxhQUFhO1FBQ2pCO0lBQ0osR0FBRztRQUFDSCxjQUFjZ0IsTUFBTTtRQUFFZDtLQUFVO0lBQ3BDaEIsZ0RBQVNBLENBQUM7UUFDTixJQUFJK0IsU0FBUztRQUNiLElBQUksQ0FBQ3hCLFFBQVE7WUFDVDtRQUNKO1FBQ0EsSUFBSUcsWUFBWXNCLElBQUksR0FBR0YsTUFBTSxHQUFHLEdBQUc7WUFDL0JqQixpQkFBaUIsRUFBRTtZQUNuQlksZUFBZTtZQUNmRixTQUFTO1lBQ1Q7UUFDSjtRQUNBLGVBQWVVO1lBQ1hkLGVBQWU7WUFDZk0sZUFBZTtZQUNmLElBQUk7Z0JBQ0EsTUFBTVMsU0FBUyxNQUFNN0IsaURBQVdBLENBQUNLLFlBQVlzQixJQUFJO2dCQUNqRCxJQUFJLENBQUNELFFBQ0Q7Z0JBQ0osTUFBTUksV0FBV0QsT0FBT0UsS0FBSyxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsT0FBU0EsS0FBS0MsR0FBRyxLQUFLYjtnQkFDNURiLGlCQUFpQnNCO2dCQUNqQlosU0FBU1ksU0FBU0wsTUFBTSxLQUFLLElBQUksa0RBQXNDO1lBQzNFLEVBQ0EsT0FBT1UsS0FBSztnQkFDUkMsUUFBUW5CLEtBQUssQ0FBQyx1QkFBdUJrQjtnQkFDckMsSUFBSSxDQUFDVCxRQUNEO2dCQUNKUixTQUFTO1lBQ2IsU0FDUTtnQkFDSixJQUFJUSxRQUFRO29CQUNSWixlQUFlO2dCQUNuQjtZQUNKO1FBQ0o7UUFDQSxNQUFNdUIsVUFBVUMsV0FBV1YsV0FBVztRQUN0QyxPQUFPO1lBQ0hGLFNBQVM7WUFDVGEsYUFBYUY7UUFDakI7SUFDSixHQUFHO1FBQUNoQztRQUFhSDtRQUFRbUI7S0FBYztJQUN2QyxNQUFNbUIsYUFBYSxDQUFDQyxTQUFXaEMsY0FBY2lDLElBQUksQ0FBQyxDQUFDVCxPQUFTQSxLQUFLQyxHQUFHLEtBQUtPO0lBQ3pFLE1BQU1FLGFBQWEsQ0FBQ1Y7UUFDaEJ2QixpQkFBaUIsQ0FBQ2tDO1lBQ2QsSUFBSUEsS0FBS0YsSUFBSSxDQUFDLENBQUNHLE9BQVNBLEtBQUtYLEdBQUcsS0FBS0QsS0FBS0MsR0FBRyxHQUFHO2dCQUM1QyxPQUFPVSxLQUFLWixNQUFNLENBQUMsQ0FBQ2EsT0FBU0EsS0FBS1gsR0FBRyxLQUFLRCxLQUFLQyxHQUFHO1lBQ3REO1lBQ0EsT0FBTzttQkFBSVU7Z0JBQU1YO2FBQUs7UUFDMUI7SUFDSjtJQUNBLE1BQU1hLGNBQWNyQyxjQUFjc0MsR0FBRyxDQUFDLENBQUNkLE9BQVNBLEtBQUtDLEdBQUc7SUFDeEQsTUFBTWMsZUFBZTtRQUNqQixJQUFJdkMsY0FBY2dCLE1BQU0sS0FBSyxHQUFHO1lBQzVCUCxTQUFTO1lBQ1Q7UUFDSjtRQUNBRixnQkFBZ0I7UUFDaEJFLFNBQVM7UUFDVCxJQUFJO1lBQ0EsSUFBSStCO1lBQ0osSUFBSXhDLGNBQWNnQixNQUFNLEtBQUssR0FBRztnQkFDNUJ3QixlQUFlLE1BQU1uRCxnRUFBMEJBLENBQUNXLGFBQWEsQ0FBQyxFQUFFLENBQUN5QixHQUFHO1lBQ3hFLE9BQ0s7Z0JBQ0RlLGVBQWUsTUFBTWxELDZEQUF1QkEsQ0FBQytDLGFBQWFuQyxVQUFVZ0IsSUFBSSxNQUFNdUI7WUFDbEY7WUFDQTlDLFlBQVk2QztZQUNaOUM7UUFDSixFQUNBLE9BQU9nQyxLQUFLO1lBQ1JDLFFBQVFuQixLQUFLLENBQUMsOEJBQThCa0I7WUFDNUMsTUFBTWdCLFdBQVdoQixLQUFLaUIsVUFBVUMsTUFBTXBDLFNBQVNrQixLQUFLbUI7WUFDcERwQyxTQUFTaUMsWUFBWTtRQUN6QixTQUNRO1lBQ0puQyxnQkFBZ0I7UUFDcEI7SUFDSjtJQUNBLElBQUksQ0FBQ2QsUUFDRCxPQUFPO0lBQ1gsTUFBTXFELFlBQVk5QyxjQUFjZ0IsTUFBTSxJQUFJLEtBQUssQ0FBQ1Y7SUFDaEQsTUFBTXlDLFVBQVUvQyxjQUFjZ0IsTUFBTSxJQUFJO0lBQ3hDLE9BQVFqQyxzREFBSUEsQ0FBQyxPQUFPO1FBQUVpRSxXQUFXO1FBQWtDQyxNQUFNO1FBQVUsY0FBYztRQUFRQyxVQUFVakUsdURBQUtBLENBQUMsT0FBTztZQUFFK0QsV0FBVztZQUEwQkUsVUFBVTtnQkFBQ2pFLHVEQUFLQSxDQUFDLFVBQVU7b0JBQUUrRCxXQUFXO29CQUFrQ0UsVUFBVTt3QkFBQ2pFLHVEQUFLQSxDQUFDLE9BQU87NEJBQUVpRSxVQUFVO2dDQUFDbkUsc0RBQUlBLENBQUMsTUFBTTtvQ0FBRW1FLFVBQVU7Z0NBQTBDO2dDQUFJbkUsc0RBQUlBLENBQUMsS0FBSztvQ0FBRW1FLFVBQVU7Z0NBQW1IOzZCQUFHO3dCQUFDO3dCQUFJbkUsc0RBQUlBLENBQUMsVUFBVTs0QkFBRWlFLFdBQVc7NEJBQW1CRyxTQUFTekQ7NEJBQVMsY0FBYzs0QkFBa0J3RCxVQUFVO3dCQUFTO3FCQUFHO2dCQUFDO2dCQUFJakUsdURBQUtBLENBQUMsT0FBTztvQkFBRStELFdBQVc7b0JBQWdDRSxVQUFVO3dCQUFDSCxXQUFZOUQsdURBQUtBLENBQUMsT0FBTzs0QkFBRStELFdBQVc7NEJBQWNFLFVBQVU7Z0NBQUNuRSxzREFBSUEsQ0FBQyxTQUFTO29DQUFFcUUsU0FBUztvQ0FBYUYsVUFBVTtnQ0FBcUI7Z0NBQUluRSxzREFBSUEsQ0FBQyxTQUFTO29DQUFFc0UsSUFBSTtvQ0FBYUMsTUFBTTtvQ0FBUUMsT0FBT3JEO29DQUFXc0QsVUFBVSxDQUFDQyxJQUFNdEQsYUFBYXNELEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSztvQ0FBR0ksYUFBYTtnQ0FBZ0U7Z0NBQUk1RSxzREFBSUEsQ0FBQyxRQUFRO29DQUFFaUUsV0FBVztvQ0FBUUUsVUFBVTtnQ0FBMkc7NkJBQUc7d0JBQUM7d0JBQUtqRSx1REFBS0EsQ0FBQyxPQUFPOzRCQUFFK0QsV0FBVzs0QkFBY0UsVUFBVTtnQ0FBQ25FLHNEQUFJQSxDQUFDLFNBQVM7b0NBQUVxRSxTQUFTO29DQUFlRixVQUFVO2dDQUErQztnQ0FBSW5FLHNEQUFJQSxDQUFDLFNBQVM7b0NBQUVzRSxJQUFJO29DQUFlQyxNQUFNO29DQUFRQyxPQUFPM0Q7b0NBQWE0RCxVQUFVLENBQUNDLElBQU01RCxlQUFlNEQsRUFBRUMsTUFBTSxDQUFDSCxLQUFLO29DQUFHSSxhQUFhO2dDQUErQzs2QkFBRzt3QkFBQzt3QkFBSXZELGVBQWVyQixzREFBSUEsQ0FBQyxPQUFPOzRCQUFFaUUsV0FBVzs0QkFBUUUsVUFBVTt3QkFBa0M7d0JBQUl4QyxlQUFlLENBQUNOLGVBQWVyQixzREFBSUEsQ0FBQyxPQUFPOzRCQUFFaUUsV0FBVzs0QkFBUUUsVUFBVXhDO3dCQUFZO3dCQUFJRixTQUFTLENBQUNKLGVBQWVyQixzREFBSUEsQ0FBQyxPQUFPOzRCQUFFaUUsV0FBVzs0QkFBaUJFLFVBQVUxQzt3QkFBTTt3QkFBSXpCLHNEQUFJQSxDQUFDLE9BQU87NEJBQUVpRSxXQUFXOzRCQUFrQkUsVUFBVXBELGNBQWN3QyxHQUFHLENBQUMsQ0FBQ2QsT0FBVXZDLHVEQUFLQSxDQUFDLFVBQVU7b0NBQUVxRSxNQUFNO29DQUFVTixXQUFXLENBQUMsbUJBQW1CLEVBQUVqQixXQUFXUCxLQUFLQyxHQUFHLElBQUksYUFBYSxHQUFHLENBQUM7b0NBQUUwQixTQUFTLElBQU1qQixXQUFXVjtvQ0FBTzBCLFVBQVU7d0NBQUNuRSxzREFBSUEsQ0FBQyxPQUFPOzRDQUFFaUUsV0FBVzs0Q0FBaUJFLFVBQVUxQixLQUFLb0MsTUFBTSxHQUFJN0Usc0RBQUlBLENBQUMsT0FBTztnREFBRThFLEtBQUtyQyxLQUFLb0MsTUFBTTtnREFBRUUsS0FBS3RDLEtBQUt1QyxJQUFJOzRDQUFDLEtBQU92QyxLQUFLdUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFQyxpQkFBaUI7d0NBQUs7d0NBQUkvRSx1REFBS0EsQ0FBQyxPQUFPOzRDQUFFK0QsV0FBVzs0Q0FBZUUsVUFBVTtnREFBQ25FLHNEQUFJQSxDQUFDLE9BQU87b0RBQUVpRSxXQUFXO29EQUFlRSxVQUFVMUIsS0FBS3VDLElBQUk7Z0RBQUM7Z0RBQUk5RSx1REFBS0EsQ0FBQyxPQUFPO29EQUFFK0QsV0FBVztvREFBa0JFLFVBQVU7d0RBQUMxQixLQUFLeUMsS0FBSzt3REFBRXpDLEtBQUswQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLEVBQUUxQyxLQUFLMEMsUUFBUSxDQUFDLENBQUMsR0FBRztxREFBRztnREFBQzs2Q0FBRzt3Q0FBQzt3Q0FBSW5DLFdBQVdQLEtBQUtDLEdBQUcsS0FBSzFDLHNEQUFJQSxDQUFDLFFBQVE7NENBQUVpRSxXQUFXOzRDQUFnQkUsVUFBVTt3Q0FBUztxQ0FBRztnQ0FBQyxHQUFHMUIsS0FBS0MsR0FBRzt3QkFBSTt3QkFBSXpCLGNBQWNnQixNQUFNLEdBQUcsS0FBTWpDLHNEQUFJQSxDQUFDLE9BQU87NEJBQUVpRSxXQUFXOzRCQUFrQkUsVUFBVWxELGNBQWNzQyxHQUFHLENBQUMsQ0FBQ2QsT0FBVXZDLHVEQUFLQSxDQUFDLFFBQVE7b0NBQUUrRCxXQUFXO29DQUFpQkcsU0FBUyxJQUFNakIsV0FBV1Y7b0NBQU8wQixVQUFVO3dDQUFDMUIsS0FBS3VDLElBQUk7d0NBQUVoRixzREFBSUEsQ0FBQyxRQUFROzRDQUFFaUUsV0FBVzs0Q0FBZUUsVUFBVTt3Q0FBUztxQ0FBRztnQ0FBQyxHQUFHMUIsS0FBS0MsR0FBRzt3QkFBSTtxQkFBSTtnQkFBQztnQkFBSXhDLHVEQUFLQSxDQUFDLFVBQVU7b0JBQUUrRCxXQUFXO29CQUFrQ0UsVUFBVTt3QkFBQ25FLHNEQUFJQSxDQUFDLFVBQVU7NEJBQUVpRSxXQUFXOzRCQUFpQkcsU0FBU3pEOzRCQUFTeUUsVUFBVTdEOzRCQUFjNEMsVUFBVTt3QkFBVzt3QkFBSW5FLHNEQUFJQSxDQUFDLFVBQVU7NEJBQUVpRSxXQUFXOzRCQUFlRyxTQUFTWjs0QkFBYzRCLFVBQVUsQ0FBQ3JCOzRCQUFXSSxVQUFVNUMsZUFBZSxnQkFBZ0I7d0JBQU07cUJBQUc7Z0JBQUM7YUFBRztRQUFDO0lBQUc7QUFDemxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9OZXdDb252ZXJzYXRpb25Nb2RhbC5qcz8xNzU1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIsIGNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uLCBzZWFyY2hVc2VycywgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0ICcuLi8uLi9zdHlsZXMvbmV3LWNvbnZlcnNhdGlvbi1tb2RhbC5jc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIE5ld0NvbnZlcnNhdGlvbk1vZGFsKHsgaXNPcGVuLCBvbkNsb3NlLCBvbkNyZWF0ZWQgfSkge1xuICAgIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtzZWFyY2hSZXN1bHRzLCBzZXRTZWFyY2hSZXN1bHRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRVc2Vycywgc2V0U2VsZWN0ZWRVc2Vyc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2dyb3VwTmFtZSwgc2V0R3JvdXBOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbaXNTZWFyY2hpbmcsIHNldElzU2VhcmNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2luZm9NZXNzYWdlLCBzZXRJbmZvTWVzc2FnZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpc09wZW4pIHtcbiAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5KCcnKTtcbiAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRVc2VycyhbXSk7XG4gICAgICAgICAgICBzZXRHcm91cE5hbWUoJycpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBzZXRJbmZvTWVzc2FnZShudWxsKTtcbiAgICAgICAgICAgIHNldElzU2VhcmNoaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0R3JvdXBOYW1lKCcnKTtcbiAgICB9LCBbaXNPcGVuXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHNlbGVjdGVkVXNlcnMubGVuZ3RoIDwgMiAmJiBncm91cE5hbWUpIHtcbiAgICAgICAgICAgIHNldEdyb3VwTmFtZSgnJyk7XG4gICAgICAgIH1cbiAgICB9LCBbc2VsZWN0ZWRVc2Vycy5sZW5ndGgsIGdyb3VwTmFtZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCBhY3RpdmUgPSB0cnVlO1xuICAgICAgICBpZiAoIWlzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWFyY2hRdWVyeS50cmltKCkubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhbXSk7XG4gICAgICAgICAgICBzZXRJbmZvTWVzc2FnZSgnTmjhuq1wIMOtdCBuaOG6pXQgMiBrw70gdOG7sSDEkeG7gyB0w6xtIGtp4bq/bScpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gcnVuU2VhcmNoKCkge1xuICAgICAgICAgICAgc2V0SXNTZWFyY2hpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRJbmZvTWVzc2FnZShudWxsKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoVXNlcnMoc2VhcmNoUXVlcnkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gcmVzdWx0LnVzZXJzLmZpbHRlcigodXNlcikgPT4gdXNlci5faWQgIT09IGN1cnJlbnRVc2VySWQpO1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoZmlsdGVyZWQpO1xuICAgICAgICAgICAgICAgIHNldEVycm9yKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCA/ICdLaMO0bmcgdMOsbSB0aOG6pXkgbmfGsOG7nWkgZMO5bmcgcGjDuSBo4bujcCcgOiBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggdXNlcnMgZXJyb3I6JywgZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCdLaMO0bmcgdGjhu4MgdMOsbSBraeG6v20gbMO6YyBuw6B5LCB0aOG7rSBs4bqhaSBzYXUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNTZWFyY2hpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChydW5TZWFyY2gsIDM1MCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICB9LCBbc2VhcmNoUXVlcnksIGlzT3BlbiwgY3VycmVudFVzZXJJZF0pO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSAodXNlcklkKSA9PiBzZWxlY3RlZFVzZXJzLnNvbWUoKHVzZXIpID0+IHVzZXIuX2lkID09PSB1c2VySWQpO1xuICAgIGNvbnN0IHRvZ2dsZVVzZXIgPSAodXNlcikgPT4ge1xuICAgICAgICBzZXRTZWxlY3RlZFVzZXJzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICBpZiAocHJldi5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdXNlci5faWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYuZmlsdGVyKChpdGVtKSA9PiBpdGVtLl9pZCAhPT0gdXNlci5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCB1c2VyXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBzZWxlY3RlZElkcyA9IHNlbGVjdGVkVXNlcnMubWFwKCh1c2VyKSA9PiB1c2VyLl9pZCk7XG4gICAgY29uc3QgaGFuZGxlQ3JlYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNldEVycm9yKCdIw6N5IGNo4buNbiDDrXQgbmjhuqV0IG3hu5l0IG5nxrDhu51pIGTDuW5nJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBjb252ZXJzYXRpb247XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24gPSBhd2FpdCBjcmVhdGVDb252ZXJzYXRpb25XaXRoVXNlcihzZWxlY3RlZFVzZXJzWzBdLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24gPSBhd2FpdCBjcmVhdGVHcm91cENvbnZlcnNhdGlvbihzZWxlY3RlZElkcywgZ3JvdXBOYW1lLnRyaW0oKSB8fCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25DcmVhdGVkPy4oY29udmVyc2F0aW9uKTtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgY29udmVyc2F0aW9uIGVycm9yOicsIGVycik7XG4gICAgICAgICAgICBjb25zdCBhcGlFcnJvciA9IGVycj8ucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8IGVycj8ubWVzc2FnZTtcbiAgICAgICAgICAgIHNldEVycm9yKGFwaUVycm9yIHx8ICdLaMO0bmcgdGjhu4MgdOG6oW8gY3Xhu5ljIHRyw7IgY2h1eeG7h24sIHRo4butIGzhuqFpIHNhdScpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFpc09wZW4pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGNhblN1Ym1pdCA9IHNlbGVjdGVkVXNlcnMubGVuZ3RoID49IDEgJiYgIWlzU3VibWl0dGluZztcbiAgICBjb25zdCBpc0dyb3VwID0gc2VsZWN0ZWRVc2Vycy5sZW5ndGggPj0gMjtcbiAgICByZXR1cm4gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibmV3LWNvbnZlcnNhdGlvbi1tb2RhbC1vdmVybGF5XCIsIHJvbGU6IFwiZGlhbG9nXCIsIFwiYXJpYS1tb2RhbFwiOiBcInRydWVcIiwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5ldy1jb252ZXJzYXRpb24tbW9kYWxcIiwgY2hpbGRyZW46IFtfanN4cyhcImhlYWRlclwiLCB7IGNsYXNzTmFtZTogXCJuZXctY29udmVyc2F0aW9uLW1vZGFsX19oZWFkZXJcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbX2pzeChcImgyXCIsIHsgY2hpbGRyZW46IFwiVFxcdTFFQTFvIGN1XFx1MUVEOWMgdHJcXHUwMEYyIGNodXlcXHUxRUM3blwiIH0pLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkNoXFx1MUVDRG4gbVxcdTFFRDl0IGhvXFx1MUVCN2MgbmhpXFx1MUVDMXUgbmdcXHUwMUIwXFx1MUVERGkgXFx1MDExMVxcdTFFQzMgYlxcdTFFQUZ0IFxcdTAxMTFcXHUxRUE3dSB0clxcdTAwRjIgY2h1eVxcdTFFQzduXCIgfSldIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcIm1vZGFsLWNsb3NlLWJ0blwiLCBvbkNsaWNrOiBvbkNsb3NlLCBcImFyaWEtbGFiZWxcIjogXCJcXHUwMTEwXFx1MDBGM25nXCIsIGNoaWxkcmVuOiBcIlxcdTI3MTVcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm5ldy1jb252ZXJzYXRpb24tbW9kYWxfX2JvZHlcIiwgY2hpbGRyZW46IFtpc0dyb3VwICYmIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmb3JtLWdyb3VwXCIsIGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJncm91cE5hbWVcIiwgY2hpbGRyZW46IFwiVFxcdTAwRUFuIG5oXFx1MDBGM21cIiB9KSwgX2pzeChcImlucHV0XCIsIHsgaWQ6IFwiZ3JvdXBOYW1lXCIsIHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogZ3JvdXBOYW1lLCBvbkNoYW5nZTogKGUpID0+IHNldEdyb3VwTmFtZShlLnRhcmdldC52YWx1ZSksIHBsYWNlaG9sZGVyOiBcIlZcXHUwMEVEIGRcXHUxRUU1OiBOaFxcdTAwRjNtIGRcXHUxRUYxIFxcdTAwRTFuLCBUZWFtIG1hcmtldGluZy4uLlwiIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJoaW50XCIsIGNoaWxkcmVuOiBcIk5oXFx1MDBGM20gc1xcdTFFQkQgeHVcXHUxRUE1dCBoaVxcdTFFQzduIGtoaSBiXFx1MUVBMW4gY2hcXHUxRUNEbiB0XFx1MUVFQiAyIG5nXFx1MDFCMFxcdTFFRERpIHRyXFx1MUVERiBsXFx1MDBFQW5cIiB9KV0gfSkpLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmb3JtLWdyb3VwXCIsIGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJzZWFyY2hVc2Vyc1wiLCBjaGlsZHJlbjogXCJUXFx1MDBFQ20ga2lcXHUxRUJGbSBuZ1xcdTAxQjBcXHUxRUREaSBkXFx1MDBGOW5nXCIgfSksIF9qc3goXCJpbnB1dFwiLCB7IGlkOiBcInNlYXJjaFVzZXJzXCIsIHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogc2VhcmNoUXVlcnksIG9uQ2hhbmdlOiAoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpLCBwbGFjZWhvbGRlcjogXCJOaFxcdTFFQURwIHRcXHUwMEVBbiwgZW1haWwgaG9cXHUxRUI3YyB1c2VybmFtZVwiIH0pXSB9KSwgaXNTZWFyY2hpbmcgJiYgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoaW50XCIsIGNoaWxkcmVuOiBcIlxcdTAxMTBhbmcgdFxcdTAwRUNtIGtpXFx1MUVCRm0uLi5cIiB9KSwgaW5mb01lc3NhZ2UgJiYgIWlzU2VhcmNoaW5nICYmIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaGludFwiLCBjaGlsZHJlbjogaW5mb01lc3NhZ2UgfSksIGVycm9yICYmICFpc1NlYXJjaGluZyAmJiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImVycm9yLW1lc3NhZ2VcIiwgY2hpbGRyZW46IGVycm9yIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNlYXJjaC1yZXN1bHRzXCIsIGNoaWxkcmVuOiBzZWFyY2hSZXN1bHRzLm1hcCgodXNlcikgPT4gKF9qc3hzKFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBgc2VhcmNoLXJlc3VsdC1pdGVtICR7aXNTZWxlY3RlZCh1c2VyLl9pZCkgPyAnc2VsZWN0ZWQnIDogJyd9YCwgb25DbGljazogKCkgPT4gdG9nZ2xlVXNlcih1c2VyKSwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlc3VsdC1hdmF0YXJcIiwgY2hpbGRyZW46IHVzZXIuYXZhdGFyID8gKF9qc3goXCJpbWdcIiwgeyBzcmM6IHVzZXIuYXZhdGFyLCBhbHQ6IHVzZXIubmFtZSB9KSkgOiAodXNlci5uYW1lPy5bMF0/LnRvVXBwZXJDYXNlKCkgfHwgJz8nKSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVzdWx0LWluZm9cIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlc3VsdC1uYW1lXCIsIGNoaWxkcmVuOiB1c2VyLm5hbWUgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlc3VsdC1zdWJsaW5lXCIsIGNoaWxkcmVuOiBbdXNlci5lbWFpbCwgdXNlci51c2VybmFtZSA/IGAgwrcgQCR7dXNlci51c2VybmFtZX1gIDogJyddIH0pXSB9KSwgaXNTZWxlY3RlZCh1c2VyLl9pZCkgJiYgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicmVzdWx0LWNoZWNrXCIsIGNoaWxkcmVuOiBcIlxcdTI3MTNcIiB9KV0gfSwgdXNlci5faWQpKSkgfSksIHNlbGVjdGVkVXNlcnMubGVuZ3RoID4gMCAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzZWxlY3RlZC11c2Vyc1wiLCBjaGlsZHJlbjogc2VsZWN0ZWRVc2Vycy5tYXAoKHVzZXIpID0+IChfanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic2VsZWN0ZWQtY2hpcFwiLCBvbkNsaWNrOiAoKSA9PiB0b2dnbGVVc2VyKHVzZXIpLCBjaGlsZHJlbjogW3VzZXIubmFtZSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2hpcC1yZW1vdmVcIiwgY2hpbGRyZW46IFwiXFx1MjcxNVwiIH0pXSB9LCB1c2VyLl9pZCkpKSB9KSldIH0pLCBfanN4cyhcImZvb3RlclwiLCB7IGNsYXNzTmFtZTogXCJuZXctY29udmVyc2F0aW9uLW1vZGFsX19mb290ZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInNlY29uZGFyeS1idG5cIiwgb25DbGljazogb25DbG9zZSwgZGlzYWJsZWQ6IGlzU3VibWl0dGluZywgY2hpbGRyZW46IFwiSFxcdTFFRTd5XCIgfSksIF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwicHJpbWFyeS1idG5cIiwgb25DbGljazogaGFuZGxlQ3JlYXRlLCBkaXNhYmxlZDogIWNhblN1Ym1pdCwgY2hpbGRyZW46IGlzU3VibWl0dGluZyA/ICfEkGFuZyB04bqhby4uLicgOiAnVOG6oW8nIH0pXSB9KV0gfSkgfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJjcmVhdGVDb252ZXJzYXRpb25XaXRoVXNlciIsImNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uIiwic2VhcmNoVXNlcnMiLCJOZXdDb252ZXJzYXRpb25Nb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvbkNyZWF0ZWQiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5Iiwic2VhcmNoUmVzdWx0cyIsInNldFNlYXJjaFJlc3VsdHMiLCJzZWxlY3RlZFVzZXJzIiwic2V0U2VsZWN0ZWRVc2VycyIsImdyb3VwTmFtZSIsInNldEdyb3VwTmFtZSIsImlzU2VhcmNoaW5nIiwic2V0SXNTZWFyY2hpbmciLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaW5mb01lc3NhZ2UiLCJzZXRJbmZvTWVzc2FnZSIsImN1cnJlbnRVc2VySWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGVuZ3RoIiwiYWN0aXZlIiwidHJpbSIsInJ1blNlYXJjaCIsInJlc3VsdCIsImZpbHRlcmVkIiwidXNlcnMiLCJmaWx0ZXIiLCJ1c2VyIiwiX2lkIiwiZXJyIiwiY29uc29sZSIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaXNTZWxlY3RlZCIsInVzZXJJZCIsInNvbWUiLCJ0b2dnbGVVc2VyIiwicHJldiIsIml0ZW0iLCJzZWxlY3RlZElkcyIsIm1hcCIsImhhbmRsZUNyZWF0ZSIsImNvbnZlcnNhdGlvbiIsInVuZGVmaW5lZCIsImFwaUVycm9yIiwicmVzcG9uc2UiLCJkYXRhIiwibWVzc2FnZSIsImNhblN1Ym1pdCIsImlzR3JvdXAiLCJjbGFzc05hbWUiLCJyb2xlIiwiY2hpbGRyZW4iLCJvbkNsaWNrIiwiaHRtbEZvciIsImlkIiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJhdmF0YXIiLCJzcmMiLCJhbHQiLCJuYW1lIiwidG9VcHBlckNhc2UiLCJlbWFpbCIsInVzZXJuYW1lIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/NewConversationModal.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/chat/TypingIndicator.js":
/*!*************************************************************!*\
  !*** ../../packages/app/components/chat/TypingIndicator.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypingIndicator: () => (/* binding */ TypingIndicator)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction TypingIndicator({ users }) {\n    if (!users.length) return null;\n    const text = users.length === 1 ? `${users[0].name ?? \"Ai \\xf3\"} ang nhp...` : `${users.length} ngi ang nhp...`;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"chat-typing-indicator\",\n        children: text\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9UeXBpbmdJbmRpY2F0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEO0FBQ3pDLFNBQVNFLGdCQUFnQixFQUFFQyxLQUFLLEVBQUU7SUFDckMsSUFBSSxDQUFDQSxNQUFNQyxNQUFNLEVBQ2IsT0FBTztJQUNYLE1BQU1DLE9BQU9GLE1BQU1DLE1BQU0sS0FBSyxJQUN4QixDQUFDLEVBQUVELEtBQUssQ0FBQyxFQUFFLENBQUNHLElBQUksSUFBSSxXQUFRLGFBQWEsQ0FBQyxHQUMxQyxDQUFDLEVBQUVILE1BQU1DLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQztJQUMxQyxPQUFPSCxzREFBSUEsQ0FBQyxPQUFPO1FBQUVNLFdBQVc7UUFBeUJDLFVBQVVIO0lBQUs7QUFDNUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L1R5cGluZ0luZGljYXRvci5qcz9hZDgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gVHlwaW5nSW5kaWNhdG9yKHsgdXNlcnMgfSkge1xuICAgIGlmICghdXNlcnMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0ZXh0ID0gdXNlcnMubGVuZ3RoID09PSAxXG4gICAgICAgID8gYCR7dXNlcnNbMF0ubmFtZSA/PyAnQWkgxJHDsyd9IMSRYW5nIG5o4bqtcC4uLmBcbiAgICAgICAgOiBgJHt1c2Vycy5sZW5ndGh9IG5nxrDhu51pIMSRYW5nIG5o4bqtcC4uLmA7XG4gICAgcmV0dXJuIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2hhdC10eXBpbmctaW5kaWNhdG9yXCIsIGNoaWxkcmVuOiB0ZXh0IH0pO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJUeXBpbmdJbmRpY2F0b3IiLCJ1c2VycyIsImxlbmd0aCIsInRleHQiLCJuYW1lIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/chat/TypingIndicator.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/AddMembersModal.js":
/*!**************************************************************!*\
  !*** ../../packages/app/components/group/AddMembersModal.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddMembersModal: () => (/* binding */ AddMembersModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _styles_group_modals_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/group-modals.css */ \"(ssr)/../../packages/app/styles/group-modals.css\");\n\n\n\n\nfunction AddMembersModal({ isOpen, onClose, onConfirm, conversation }) {\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selected, setSelected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [submitting, setSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) {\n            setQuery(\"\");\n            setResults([]);\n            setSelected(new Set());\n            setError(null);\n        }\n    }, [\n        isOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        if (!isOpen || query.trim().length < 2) {\n            setResults([]);\n            return;\n        }\n        (async ()=>{\n            setLoading(true);\n            try {\n                const res = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.searchUsers)(query.trim());\n                if (!active) return;\n                const conversationMemberSet = new Set(conversation.members.map((m)=>String(m)));\n                const filtered = res.users.filter((user)=>!conversationMemberSet.has(user._id));\n                setResults(filtered);\n            } catch (err) {\n                console.error(\"Search users error\", err);\n                if (active) setError(\"Kh\\xf4ng th t\\xecm kim ngi d\\xf9ng, th li sau\");\n            } finally{\n                if (active) setLoading(false);\n            }\n        })();\n        return ()=>{\n            active = false;\n        };\n    }, [\n        isOpen,\n        query,\n        conversation.members\n    ]);\n    const toggleUser = (userId)=>{\n        setSelected((prev)=>{\n            const next = new Set(prev);\n            if (next.has(userId)) {\n                next.delete(userId);\n            } else {\n                next.add(userId);\n            }\n            return next;\n        });\n    };\n    const handleConfirm = async ()=>{\n        if (selected.size === 0) {\n            setError(\"H\\xe3y chn \\xedt nht mt ngi\");\n            return;\n        }\n        try {\n            setSubmitting(true);\n            await onConfirm(Array.from(selected));\n            onClose();\n        } catch (err) {\n            console.error(\"Add members error\", err);\n            setError(err?.response?.data?.error || \"Kh\\xf4ng th th\\xeam th\\xe0nh vi\\xean\");\n        } finally{\n            setSubmitting(false);\n        }\n    };\n    if (!isOpen) return null;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"group-modal-overlay\",\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"group-modal\",\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"header\", {\n                    className: \"group-modal__header\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h2\", {\n                            children: \"Th\\xeam th\\xe0nh vi\\xean\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            onClick: onClose,\n                            children: \"\"\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"group-modal__body\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                            type: \"text\",\n                            placeholder: \"Nhp t\\xean/email  t\\xecm kim\",\n                            value: query,\n                            onChange: (e)=>setQuery(e.target.value)\n                        }),\n                        loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"hint\",\n                            children: \"ang t\\xecm...\"\n                        }),\n                        error && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"error-message\",\n                            children: error\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"group-modal__list\",\n                            children: [\n                                results.map((user)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                        type: \"button\",\n                                        className: `group-modal__item ${selected.has(user._id) ? \"selected\" : \"\"}`,\n                                        onClick: ()=>toggleUser(user._id),\n                                        children: [\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                className: \"member-avatar\",\n                                                children: user.avatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                                    src: user.avatar,\n                                                    alt: user.name\n                                                }) : user.name.slice(0, 2).toUpperCase()\n                                            }),\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                className: \"member-meta\",\n                                                children: [\n                                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                        children: user.name\n                                                    }),\n                                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                                        className: \"member-email\",\n                                                        children: user.email\n                                                    })\n                                                ]\n                                            }),\n                                            selected.has(user._id) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                                children: \"\"\n                                            })\n                                        ]\n                                    }, user._id)),\n                                !loading && results.length === 0 && query.length >= 2 && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"hint\",\n                                    children: \"Kh\\xf4ng t\\xecm thy ngi d\\xf9ng n\\xe0o\"\n                                })\n                            ]\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"footer\", {\n                    className: \"group-modal__footer\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            disabled: submitting,\n                            children: \"Hy\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"primary-btn\",\n                            onClick: handleConfirm,\n                            disabled: submitting,\n                            children: submitting ? \"ang th\\xeam...\" : \"Th\\xeam th\\xe0nh vi\\xean\"\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvQWRkTWVtYmVyc01vZGFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0Q7QUFDbkI7QUFDSjtBQUNEO0FBQ2hDLFNBQVNPLGdCQUFnQixFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxZQUFZLEVBQUU7SUFDeEUsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ1MsU0FBU0MsV0FBVyxHQUFHViwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ3pDLE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHWiwrQ0FBUUEsQ0FBQyxJQUFJYTtJQUM3QyxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR2YsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0IsWUFBWUMsY0FBYyxHQUFHakIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDa0IsT0FBT0MsU0FBUyxHQUFHbkIsK0NBQVFBLENBQUM7SUFDbkNELGdEQUFTQSxDQUFDO1FBQ04sSUFBSSxDQUFDSSxRQUFRO1lBQ1RLLFNBQVM7WUFDVEUsV0FBVyxFQUFFO1lBQ2JFLFlBQVksSUFBSUM7WUFDaEJNLFNBQVM7UUFDYjtJQUNKLEdBQUc7UUFBQ2hCO0tBQU87SUFDWEosZ0RBQVNBLENBQUM7UUFDTixJQUFJcUIsU0FBUztRQUNiLElBQUksQ0FBQ2pCLFVBQVVJLE1BQU1jLElBQUksR0FBR0MsTUFBTSxHQUFHLEdBQUc7WUFDcENaLFdBQVcsRUFBRTtZQUNiO1FBQ0o7UUFDQztZQUNHSyxXQUFXO1lBQ1gsSUFBSTtnQkFDQSxNQUFNUSxNQUFNLE1BQU10QixpREFBV0EsQ0FBQ00sTUFBTWMsSUFBSTtnQkFDeEMsSUFBSSxDQUFDRCxRQUNEO2dCQUNKLE1BQU1JLHdCQUF3QixJQUFJWCxJQUFJUCxhQUFhbUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsSUFBTUMsT0FBT0Q7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QUFXOzRDQUFHOzRDQUFJakUsdURBQUtBLENBQUMsT0FBTztnREFBRW1ELFdBQVc7Z0RBQWVDLFVBQVU7b0RBQUN0RCxzREFBSUEsQ0FBQyxPQUFPO3dEQUFFc0QsVUFBVWxCLEtBQUs2QixJQUFJO29EQUFDO29EQUFJakUsc0RBQUlBLENBQUMsUUFBUTt3REFBRXFELFdBQVc7d0RBQWdCQyxVQUFVbEIsS0FBS2dDLEtBQUs7b0RBQUM7aURBQUc7NENBQUM7NENBQUlyRCxTQUFTc0IsR0FBRyxDQUFDRCxLQUFLRSxHQUFHLEtBQUt0QyxzREFBSUEsQ0FBQyxRQUFRO2dEQUFFc0QsVUFBVTs0Q0FBUzt5Q0FBRztvQ0FBQyxHQUFHbEIsS0FBS0UsR0FBRztnQ0FBSyxDQUFDcEIsV0FBV0wsUUFBUWEsTUFBTSxLQUFLLEtBQUtmLE1BQU1lLE1BQU0sSUFBSSxLQUFNMUIsc0RBQUlBLENBQUMsT0FBTztvQ0FBRXFELFdBQVc7b0NBQVFDLFVBQVU7Z0NBQW1FOzZCQUFJO3dCQUFDO3FCQUFHO2dCQUFDO2dCQUFJcEQsdURBQUtBLENBQUMsVUFBVTtvQkFBRW1ELFdBQVc7b0JBQXVCQyxVQUFVO3dCQUFDdEQsc0RBQUlBLENBQUMsVUFBVTs0QkFBRXFELFdBQVc7NEJBQWlCRSxTQUFTL0M7NEJBQVM2RCxVQUFVakQ7NEJBQVlrQyxVQUFVO3dCQUFXO3dCQUFJdEQsc0RBQUlBLENBQUMsVUFBVTs0QkFBRXFELFdBQVc7NEJBQWVFLFNBQVNSOzRCQUFlc0IsVUFBVWpEOzRCQUFZa0MsVUFBVWxDLGFBQWEsb0JBQWlCO3dCQUFrQjtxQkFBRztnQkFBQzthQUFHO1FBQUM7SUFBRztBQUN2eUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9ncm91cC9BZGRNZW1iZXJzTW9kYWwuanM/YjUwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNlYXJjaFVzZXJzIH0gZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2dyb3VwLW1vZGFscy5jc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIEFkZE1lbWJlcnNNb2RhbCh7IGlzT3Blbiwgb25DbG9zZSwgb25Db25maXJtLCBjb252ZXJzYXRpb24gfSkge1xuICAgIGNvbnN0IFtxdWVyeSwgc2V0UXVlcnldID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtyZXN1bHRzLCBzZXRSZXN1bHRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKG5ldyBTZXQoKSk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzdWJtaXR0aW5nLCBzZXRTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNPcGVuKSB7XG4gICAgICAgICAgICBzZXRRdWVyeSgnJyk7XG4gICAgICAgICAgICBzZXRSZXN1bHRzKFtdKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkKG5ldyBTZXQoKSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc09wZW5dKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFpc09wZW4gfHwgcXVlcnkudHJpbSgpLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHNldFJlc3VsdHMoW10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzZWFyY2hVc2VycyhxdWVyeS50cmltKCkpO1xuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uTWVtYmVyU2V0ID0gbmV3IFNldChjb252ZXJzYXRpb24ubWVtYmVycy5tYXAoKG0pID0+IFN0cmluZyhtKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gcmVzLnVzZXJzLmZpbHRlcigodXNlcikgPT4gIWNvbnZlcnNhdGlvbk1lbWJlclNldC5oYXModXNlci5faWQpKTtcbiAgICAgICAgICAgICAgICBzZXRSZXN1bHRzKGZpbHRlcmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggdXNlcnMgZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICAgICAgICAgIHNldEVycm9yKCdLaMO0bmcgdGjhu4MgdMOsbSBraeG6v20gbmfGsOG7nWkgZMO5bmcsIHRo4butIGzhuqFpIHNhdScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbaXNPcGVuLCBxdWVyeSwgY29udmVyc2F0aW9uLm1lbWJlcnNdKTtcbiAgICBjb25zdCB0b2dnbGVVc2VyID0gKHVzZXJJZCkgPT4ge1xuICAgICAgICBzZXRTZWxlY3RlZCgocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgICAgICBpZiAobmV4dC5oYXModXNlcklkKSkge1xuICAgICAgICAgICAgICAgIG5leHQuZGVsZXRlKHVzZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0LmFkZCh1c2VySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQ29uZmlybSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHNlbGVjdGVkLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHNldEVycm9yKCdIw6N5IGNo4buNbiDDrXQgbmjhuqV0IG3hu5l0IG5nxrDhu51pJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldFN1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBhd2FpdCBvbkNvbmZpcm0oQXJyYXkuZnJvbShzZWxlY3RlZCkpO1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FkZCBtZW1iZXJzIGVycm9yJywgZXJyKTtcbiAgICAgICAgICAgIHNldEVycm9yKGVycj8ucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8ICdLaMO0bmcgdGjhu4MgdGjDqm0gdGjDoG5oIHZpw6puJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFpc09wZW4pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1tb2RhbC1vdmVybGF5XCIsIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1tb2RhbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiaGVhZGVyXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsX19oZWFkZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiaDJcIiwgeyBjaGlsZHJlbjogXCJUaFxcdTAwRUFtIHRoXFx1MDBFMG5oIHZpXFx1MDBFQW5cIiB9KSwgX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IG9uQ2xvc2UsIGNoaWxkcmVuOiBcIlxcdTI3MTVcIiB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsX19ib2R5XCIsIGNoaWxkcmVuOiBbX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIk5oXFx1MUVBRHAgdFxcdTAwRUFuL2VtYWlsIFxcdTAxMTFcXHUxRUMzIHRcXHUwMEVDbSBraVxcdTFFQkZtXCIsIHZhbHVlOiBxdWVyeSwgb25DaGFuZ2U6IChlKSA9PiBzZXRRdWVyeShlLnRhcmdldC52YWx1ZSkgfSksIGxvYWRpbmcgJiYgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoaW50XCIsIGNoaWxkcmVuOiBcIlxcdTAxMTBhbmcgdFxcdTAwRUNtLi4uXCIgfSksIGVycm9yICYmIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZXJyb3ItbWVzc2FnZVwiLCBjaGlsZHJlbjogZXJyb3IgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsX19saXN0XCIsIGNoaWxkcmVuOiBbcmVzdWx0cy5tYXAoKHVzZXIpID0+IChfanN4cyhcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogYGdyb3VwLW1vZGFsX19pdGVtICR7c2VsZWN0ZWQuaGFzKHVzZXIuX2lkKSA/ICdzZWxlY3RlZCcgOiAnJ31gLCBvbkNsaWNrOiAoKSA9PiB0b2dnbGVVc2VyKHVzZXIuX2lkKSwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lbWJlci1hdmF0YXJcIiwgY2hpbGRyZW46IHVzZXIuYXZhdGFyID8gX2pzeChcImltZ1wiLCB7IHNyYzogdXNlci5hdmF0YXIsIGFsdDogdXNlci5uYW1lIH0pIDogdXNlci5uYW1lLnNsaWNlKDAsIDIpLnRvVXBwZXJDYXNlKCkgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lbWJlci1tZXRhXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNoaWxkcmVuOiB1c2VyLm5hbWUgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm1lbWJlci1lbWFpbFwiLCBjaGlsZHJlbjogdXNlci5lbWFpbCB9KV0gfSksIHNlbGVjdGVkLmhhcyh1c2VyLl9pZCkgJiYgX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogXCJcXHUyNzEzXCIgfSldIH0sIHVzZXIuX2lkKSkpLCAhbG9hZGluZyAmJiByZXN1bHRzLmxlbmd0aCA9PT0gMCAmJiBxdWVyeS5sZW5ndGggPj0gMiAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoaW50XCIsIGNoaWxkcmVuOiBcIktoXFx1MDBGNG5nIHRcXHUwMEVDbSB0aFxcdTFFQTV5IG5nXFx1MDFCMFxcdTFFRERpIGRcXHUwMEY5bmcgblxcdTAwRTBvXCIgfSkpXSB9KV0gfSksIF9qc3hzKFwiZm9vdGVyXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsX19mb290ZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInNlY29uZGFyeS1idG5cIiwgb25DbGljazogb25DbG9zZSwgZGlzYWJsZWQ6IHN1Ym1pdHRpbmcsIGNoaWxkcmVuOiBcIkhcXHUxRUU3eVwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInByaW1hcnktYnRuXCIsIG9uQ2xpY2s6IGhhbmRsZUNvbmZpcm0sIGRpc2FibGVkOiBzdWJtaXR0aW5nLCBjaGlsZHJlbjogc3VibWl0dGluZyA/ICfEkGFuZyB0aMOqbS4uLicgOiAnVGjDqm0gdGjDoG5oIHZpw6puJyB9KV0gfSldIH0pIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJzZWFyY2hVc2VycyIsIkFkZE1lbWJlcnNNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvbkNvbmZpcm0iLCJjb252ZXJzYXRpb24iLCJxdWVyeSIsInNldFF1ZXJ5IiwicmVzdWx0cyIsInNldFJlc3VsdHMiLCJzZWxlY3RlZCIsInNldFNlbGVjdGVkIiwiU2V0IiwibG9hZGluZyIsInNldExvYWRpbmciLCJzdWJtaXR0aW5nIiwic2V0U3VibWl0dGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJhY3RpdmUiLCJ0cmltIiwibGVuZ3RoIiwicmVzIiwiY29udmVyc2F0aW9uTWVtYmVyU2V0IiwibWVtYmVycyIsIm1hcCIsIm0iLCJTdHJpbmciLCJmaWx0ZXJlZCIsInVzZXJzIiwiZmlsdGVyIiwidXNlciIsImhhcyIsIl9pZCIsImVyciIsImNvbnNvbGUiLCJ0b2dnbGVVc2VyIiwidXNlcklkIiwicHJldiIsIm5leHQiLCJkZWxldGUiLCJhZGQiLCJoYW5kbGVDb25maXJtIiwic2l6ZSIsIkFycmF5IiwiZnJvbSIsInJlc3BvbnNlIiwiZGF0YSIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwib25DbGljayIsInR5cGUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiYXZhdGFyIiwic3JjIiwiYWx0IiwibmFtZSIsInNsaWNlIiwidG9VcHBlckNhc2UiLCJlbWFpbCIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/AddMembersModal.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/ConfirmActionModal.js":
/*!*****************************************************************!*\
  !*** ../../packages/app/components/group/ConfirmActionModal.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfirmActionModal: () => (/* binding */ ConfirmActionModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_group_modals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/group-modals.css */ \"(ssr)/../../packages/app/styles/group-modals.css\");\n\n\nfunction ConfirmActionModal({ isOpen, title, description, confirmLabel = \"X\\xe1c nhn\", onClose, onConfirm, variant = \"danger\" }) {\n    if (!isOpen) return null;\n    const handleConfirm = async ()=>{\n        await onConfirm();\n        onClose();\n    };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"group-modal-overlay\",\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"group-modal\",\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"header\", {\n                    className: \"group-modal__header\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h2\", {\n                            children: title\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            onClick: onClose,\n                            children: \"\"\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"group-modal__body\",\n                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: description\n                    })\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"footer\", {\n                    className: \"group-modal__footer\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            children: \"Hy\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: `primary-btn ${variant === \"danger\" ? \"danger\" : \"\"}`,\n                            onClick: handleConfirm,\n                            children: confirmLabel\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvQ29uZmlybUFjdGlvbk1vZGFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0Q7QUFDeEI7QUFDaEMsU0FBU0ksbUJBQW1CLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxXQUFXLEVBQUVDLGVBQWUsYUFBVSxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsRUFBRUMsVUFBVSxRQUFRLEVBQUc7SUFDakksSUFBSSxDQUFDTixRQUNELE9BQU87SUFDWCxNQUFNTyxnQkFBZ0I7UUFDbEIsTUFBTUY7UUFDTkQ7SUFDSjtJQUNBLE9BQVFSLHNEQUFJQSxDQUFDLE9BQU87UUFBRVksV0FBVztRQUF1QkMsVUFBVVgsdURBQUtBLENBQUMsT0FBTztZQUFFVSxXQUFXO1lBQWVDLFVBQVU7Z0JBQUNYLHVEQUFLQSxDQUFDLFVBQVU7b0JBQUVVLFdBQVc7b0JBQXVCQyxVQUFVO3dCQUFDYixzREFBSUEsQ0FBQyxNQUFNOzRCQUFFYSxVQUFVUjt3QkFBTTt3QkFBSUwsc0RBQUlBLENBQUMsVUFBVTs0QkFBRWMsU0FBU047NEJBQVNLLFVBQVU7d0JBQVM7cUJBQUc7Z0JBQUM7Z0JBQUliLHNEQUFJQSxDQUFDLE9BQU87b0JBQUVZLFdBQVc7b0JBQXFCQyxVQUFVYixzREFBSUEsQ0FBQyxLQUFLO3dCQUFFYSxVQUFVUDtvQkFBWTtnQkFBRztnQkFBSUosdURBQUtBLENBQUMsVUFBVTtvQkFBRVUsV0FBVztvQkFBdUJDLFVBQVU7d0JBQUNiLHNEQUFJQSxDQUFDLFVBQVU7NEJBQUVZLFdBQVc7NEJBQWlCRSxTQUFTTjs0QkFBU0ssVUFBVTt3QkFBVzt3QkFBSWIsc0RBQUlBLENBQUMsVUFBVTs0QkFBRVksV0FBVyxDQUFDLFlBQVksRUFBRUYsWUFBWSxXQUFXLFdBQVcsR0FBRyxDQUFDOzRCQUFFSSxTQUFTSDs0QkFBZUUsVUFBVU47d0JBQWE7cUJBQUc7Z0JBQUM7YUFBRztRQUFDO0lBQUc7QUFDN3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvQ29uZmlybUFjdGlvbk1vZGFsLmpzPzRmZDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2dyb3VwLW1vZGFscy5jc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIENvbmZpcm1BY3Rpb25Nb2RhbCh7IGlzT3BlbiwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maXJtTGFiZWwgPSAnWMOhYyBuaOG6rW4nLCBvbkNsb3NlLCBvbkNvbmZpcm0sIHZhcmlhbnQgPSAnZGFuZ2VyJywgfSkge1xuICAgIGlmICghaXNPcGVuKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBoYW5kbGVDb25maXJtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBvbkNvbmZpcm0oKTtcbiAgICAgICAgb25DbG9zZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsLW92ZXJsYXlcIiwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJoZWFkZXJcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtbW9kYWxfX2hlYWRlclwiLCBjaGlsZHJlbjogW19qc3goXCJoMlwiLCB7IGNoaWxkcmVuOiB0aXRsZSB9KSwgX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IG9uQ2xvc2UsIGNoaWxkcmVuOiBcIlxcdTI3MTVcIiB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtbW9kYWxfX2JvZHlcIiwgY2hpbGRyZW46IF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IGRlc2NyaXB0aW9uIH0pIH0pLCBfanN4cyhcImZvb3RlclwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1tb2RhbF9fZm9vdGVyXCIsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzZWNvbmRhcnktYnRuXCIsIG9uQ2xpY2s6IG9uQ2xvc2UsIGNoaWxkcmVuOiBcIkhcXHUxRUU3eVwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBgcHJpbWFyeS1idG4gJHt2YXJpYW50ID09PSAnZGFuZ2VyJyA/ICdkYW5nZXInIDogJyd9YCwgb25DbGljazogaGFuZGxlQ29uZmlybSwgY2hpbGRyZW46IGNvbmZpcm1MYWJlbCB9KV0gfSldIH0pIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiQ29uZmlybUFjdGlvbk1vZGFsIiwiaXNPcGVuIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNvbmZpcm1MYWJlbCIsIm9uQ2xvc2UiLCJvbkNvbmZpcm0iLCJ2YXJpYW50IiwiaGFuZGxlQ29uZmlybSIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/ConfirmActionModal.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/GroupInfoPanel.js":
/*!*************************************************************!*\
  !*** ../../packages/app/components/group/GroupInfoPanel.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupInfoPanel: () => (/* binding */ GroupInfoPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _styles_group_info_panel_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/group-info-panel.css */ \"(ssr)/../../packages/app/styles/group-info-panel.css\");\n/* harmony import */ var _MemberRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MemberRow */ \"(ssr)/../../packages/app/components/group/MemberRow.js\");\n\n\n\n\n\nfunction GroupInfoPanel({ conversation, currentUserId, onAddMembers, onRemoveMember, onLeaveGroup, onMakeAdmin, onRemoveAdmin, onChangeInfo, onGenerateInvite, inviteLink, isGeneratingInvite }) {\n    const [showMembers, setShowMembers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [membersInfo, setMembersInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [copyState, setCopyState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const isAdmin = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>conversation.admins?.some((id)=>id === currentUserId), [\n        conversation.admins,\n        currentUserId\n    ]);\n    const members = conversation.members || [];\n    const admins = conversation.admins || [];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        async function loadMembers() {\n            if (!conversation.isGroup || !members.length) {\n                setMembersInfo([]);\n                return;\n            }\n            const memberIds = members.map((m)=>typeof m === \"string\" ? m : String(m));\n            try {\n                const res = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.getUsersByIds)(memberIds);\n                if (!active) return;\n                const mapped = res.users.map((user)=>({\n                        _id: user._id,\n                        name: user.name || user.username || user.email || user._id,\n                        avatar: user.avatar,\n                        email: user.email\n                    }));\n                setMembersInfo(mapped);\n            } catch (err) {\n                console.error(\"Failed to load member info\", err);\n            }\n        }\n        loadMembers();\n        return ()=>{\n            active = false;\n        };\n    }, [\n        conversation._id,\n        conversation.isGroup,\n        members\n    ]);\n    const getMemberInfo = (memberId)=>{\n        return membersInfo?.find((info)=>info._id === memberId);\n    };\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"group-info-panel\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"group-info-header\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"group-info-avatar\",\n                                children: conversation.groupAvatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                    src: conversation.groupAvatar,\n                                    alt: \"\"\n                                }) : \"\\uD83D\\uDC65\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: \"group-info-title\",\n                                        children: conversation.title || `Nhm (${members.length})`\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                        className: \"group-info-subtitle\",\n                                        children: [\n                                            members.length,\n                                            \" th\\xe0nh vi\\xean\"\n                                        ]\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    isAdmin && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"group-info-action\",\n                        onClick: onChangeInfo,\n                        children: \"Chnh sa t\\xean/nh nh\\xf3m\"\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"group-info-row\",\n                        onClick: ()=>setShowMembers((prev)=>!prev),\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                children: \"Th\\xe0nh vi\\xean\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                                children: [\n                                    showMembers ? \"n\" : \"Xem\",\n                                    \" (\",\n                                    members.length,\n                                    \")\"\n                                ]\n                            })\n                        ]\n                    }),\n                    showMembers && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"group-member-list\",\n                        children: members.map((memberId)=>{\n                            const info = getMemberInfo(memberId);\n                            const isMemberAdmin = admins.includes(memberId);\n                            const isSelf = memberId === currentUserId;\n                            const canManage = Boolean(isAdmin);\n                            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MemberRow__WEBPACK_IMPORTED_MODULE_4__.MemberRow, {\n                                memberId: memberId,\n                                name: info?.name,\n                                email: info?.email,\n                                avatar: info?.avatar,\n                                isAdmin: isMemberAdmin,\n                                isSelf: isSelf,\n                                canManage: canManage,\n                                onMakeAdmin: onMakeAdmin,\n                                onRemoveAdmin: onRemoveAdmin,\n                                onRemove: onRemoveMember\n                            }, memberId);\n                        })\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"group-info-section\",\n                children: [\n                    isAdmin && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"group-info-action\",\n                        onClick: onAddMembers,\n                        children: \"Th\\xeam th\\xe0nh vi\\xean\"\n                    }),\n                    isAdmin && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"group-info-invite\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"group-info-action\",\n                                onClick: onGenerateInvite,\n                                disabled: isGeneratingInvite,\n                                children: isGeneratingInvite ? \"ang to link...\" : \"To link mi\"\n                            }),\n                            inviteLink && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                        className: \"invite-link-box\",\n                                        children: [\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                className: \"invite-link-text\",\n                                                title: inviteLink,\n                                                children: inviteLink\n                                            }),\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                                className: \"secondary-btn\",\n                                                onClick: async ()=>{\n                                                    try {\n                                                        await navigator.clipboard?.writeText(inviteLink);\n                                                        setCopyState(\"copied\");\n                                                        setTimeout(()=>setCopyState(\"idle\"), 2000);\n                                                    } catch (err) {\n                                                        console.error(\"Copy failed\", err);\n                                                        setCopyState(\"error\");\n                                                    }\n                                                },\n                                                children: copyState === \"copied\" ? \"\\xe3 sao ch\\xe9p\" : \"Sao ch\\xe9p\"\n                                            })\n                                        ]\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                        className: \"invite-link-actions\",\n                                        children: [\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                                                className: \"secondary-btn link-button\",\n                                                href: inviteLink,\n                                                target: \"_blank\",\n                                                rel: \"noreferrer\",\n                                                children: \"M link tr\\xean web\"\n                                            }),\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                className: \"invite-code-chip\",\n                                                title: \"Chia s m\\xe3  nhp th c\\xf4ng\",\n                                                children: [\n                                                    \"M\\xe3: \",\n                                                    inviteLink.split(\"/\").pop() || inviteLink\n                                                ]\n                                            })\n                                        ]\n                                    }),\n                                    copyState === \"error\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: \"invite-link-hint\",\n                                        children: \"Kh\\xf4ng sao ch\\xe9p c, h\\xe3y b\\xf4i en ng dn ri nhn Ctrl+C.\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"group-info-action danger\",\n                        onClick: onLeaveGroup,\n                        children: \"Ri nh\\xf3m\"\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvR3JvdXBJbmZvUGFuZWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0Y7QUFDakM7QUFDWDtBQUNDO0FBQ0g7QUFDakMsU0FBU1csZUFBZSxFQUFFQyxZQUFZLEVBQUVDLGFBQWEsRUFBRUMsWUFBWSxFQUFFQyxjQUFjLEVBQUVDLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLFVBQVUsRUFBRUMsa0JBQWtCLEVBQUc7SUFDbk0sTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNpQixhQUFhQyxlQUFlLEdBQUdsQiwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ2pELE1BQU0sQ0FBQ21CLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU1xQixVQUFVdEIsOENBQU9BLENBQUMsSUFBTUssYUFBYWtCLE1BQU0sRUFBRUMsS0FBSyxDQUFDQyxLQUFPQSxPQUFPbkIsZ0JBQWdCO1FBQUNELGFBQWFrQixNQUFNO1FBQUVqQjtLQUFjO0lBQzNILE1BQU1vQixVQUFVckIsYUFBYXFCLE9BQU8sSUFBSSxFQUFFO0lBQzFDLE1BQU1ILFNBQVNsQixhQUFha0IsTUFBTSxJQUFJLEVBQUU7SUFDeEN4QixnREFBU0EsQ0FBQztRQUNOLElBQUk0QixTQUFTO1FBQ2IsZUFBZUM7WUFDWCxJQUFJLENBQUN2QixhQUFhd0IsT0FBTyxJQUFJLENBQUNILFFBQVFJLE1BQU0sRUFBRTtnQkFDMUNYLGVBQWUsRUFBRTtnQkFDakI7WUFDSjtZQUNBLE1BQU1ZLFlBQVlMLFFBQVFNLEdBQUcsQ0FBQyxDQUFDQyxJQUFPLE9BQU9BLE1BQU0sV0FBV0EsSUFBSUMsT0FBT0Q7WUFDekUsSUFBSTtnQkFDQSxNQUFNRSxNQUFNLE1BQU1qQyxtREFBYUEsQ0FBQzZCO2dCQUNoQyxJQUFJLENBQUNK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QTZCbUIsTUFBTXhEO2dEQUFZeUQsUUFBUTtnREFBVUMsS0FBSztnREFBY3BCLFVBQVU7NENBQTZCOzRDQUFJeEQsdURBQUtBLENBQUMsT0FBTztnREFBRXVELFdBQVc7Z0RBQW9CSyxPQUFPO2dEQUFrRUosVUFBVTtvREFBQztvREFBYXRDLFdBQVcyRCxLQUFLLENBQUMsS0FBS0MsR0FBRyxNQUFNNUQ7aURBQVc7NENBQUM7eUNBQUc7b0NBQUM7b0NBQUlNLGNBQWMsV0FBWTFCLHNEQUFJQSxDQUFDLE9BQU87d0NBQUV5RCxXQUFXO3dDQUFvQkMsVUFBVTtvQ0FBb0k7aUNBQUk7NEJBQUM7eUJBQUk7b0JBQUM7b0JBQUsxRCxzREFBSUEsQ0FBQyxVQUFVO3dCQUFFeUQsV0FBVzt3QkFBNEJNLFNBQVNoRDt3QkFBYzJDLFVBQVU7b0JBQXFCO2lCQUFHO1lBQUM7U0FBRztJQUFDO0FBQ3YyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2dyb3VwL0dyb3VwSW5mb1BhbmVsLmpzPzEwOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldFVzZXJzQnlJZHMgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0ICcuLi8uLi9zdHlsZXMvZ3JvdXAtaW5mby1wYW5lbC5jc3MnO1xuaW1wb3J0IHsgTWVtYmVyUm93IH0gZnJvbSAnLi9NZW1iZXJSb3cnO1xuZXhwb3J0IGZ1bmN0aW9uIEdyb3VwSW5mb1BhbmVsKHsgY29udmVyc2F0aW9uLCBjdXJyZW50VXNlcklkLCBvbkFkZE1lbWJlcnMsIG9uUmVtb3ZlTWVtYmVyLCBvbkxlYXZlR3JvdXAsIG9uTWFrZUFkbWluLCBvblJlbW92ZUFkbWluLCBvbkNoYW5nZUluZm8sIG9uR2VuZXJhdGVJbnZpdGUsIGludml0ZUxpbmssIGlzR2VuZXJhdGluZ0ludml0ZSwgfSkge1xuICAgIGNvbnN0IFtzaG93TWVtYmVycywgc2V0U2hvd01lbWJlcnNdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW21lbWJlcnNJbmZvLCBzZXRNZW1iZXJzSW5mb10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2NvcHlTdGF0ZSwgc2V0Q29weVN0YXRlXSA9IHVzZVN0YXRlKCdpZGxlJyk7XG4gICAgY29uc3QgaXNBZG1pbiA9IHVzZU1lbW8oKCkgPT4gY29udmVyc2F0aW9uLmFkbWlucz8uc29tZSgoaWQpID0+IGlkID09PSBjdXJyZW50VXNlcklkKSwgW2NvbnZlcnNhdGlvbi5hZG1pbnMsIGN1cnJlbnRVc2VySWRdKTtcbiAgICBjb25zdCBtZW1iZXJzID0gY29udmVyc2F0aW9uLm1lbWJlcnMgfHwgW107XG4gICAgY29uc3QgYWRtaW5zID0gY29udmVyc2F0aW9uLmFkbWlucyB8fCBbXTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZE1lbWJlcnMoKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnZlcnNhdGlvbi5pc0dyb3VwIHx8ICFtZW1iZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNldE1lbWJlcnNJbmZvKFtdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZW1iZXJJZHMgPSBtZW1iZXJzLm1hcCgobSkgPT4gKHR5cGVvZiBtID09PSAnc3RyaW5nJyA/IG0gOiBTdHJpbmcobSkpKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0VXNlcnNCeUlkcyhtZW1iZXJJZHMpO1xuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkID0gcmVzLnVzZXJzLm1hcCgodXNlcikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lIHx8IHVzZXIudXNlcm5hbWUgfHwgdXNlci5lbWFpbCB8fCB1c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHNldE1lbWJlcnNJbmZvKG1hcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgbWVtYmVyIGluZm8nLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvYWRNZW1iZXJzKCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbY29udmVyc2F0aW9uLl9pZCwgY29udmVyc2F0aW9uLmlzR3JvdXAsIG1lbWJlcnNdKTtcbiAgICBjb25zdCBnZXRNZW1iZXJJbmZvID0gKG1lbWJlcklkKSA9PiB7XG4gICAgICAgIHJldHVybiBtZW1iZXJzSW5mbz8uZmluZCgoaW5mbykgPT4gaW5mby5faWQgPT09IG1lbWJlcklkKTtcbiAgICB9O1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1wYW5lbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc2VjdGlvblwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8taGVhZGVyXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLWF2YXRhclwiLCBjaGlsZHJlbjogY29udmVyc2F0aW9uLmdyb3VwQXZhdGFyID8gX2pzeChcImltZ1wiLCB7IHNyYzogY29udmVyc2F0aW9uLmdyb3VwQXZhdGFyLCBhbHQ6IFwiXCIgfSkgOiAn8J+RpScgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tdGl0bGVcIiwgY2hpbGRyZW46IGNvbnZlcnNhdGlvbi50aXRsZSB8fCBgTmjDs20gKCR7bWVtYmVycy5sZW5ndGh9KWAgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc3VidGl0bGVcIiwgY2hpbGRyZW46IFttZW1iZXJzLmxlbmd0aCwgXCIgdGhcXHUwMEUwbmggdmlcXHUwMEVBblwiXSB9KV0gfSldIH0pLCBpc0FkbWluICYmIChfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tYWN0aW9uXCIsIG9uQ2xpY2s6IG9uQ2hhbmdlSW5mbywgY2hpbGRyZW46IFwiQ2hcXHUxRUM5bmggc1xcdTFFRURhIHRcXHUwMEVBbi9cXHUxRUEzbmggbmhcXHUwMEYzbVwiIH0pKV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tc2VjdGlvblwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tcm93XCIsIG9uQ2xpY2s6ICgpID0+IHNldFNob3dNZW1iZXJzKChwcmV2KSA9PiAhcHJldiksIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogXCJUaFxcdTAwRTBuaCB2aVxcdTAwRUFuXCIgfSksIF9qc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbc2hvd01lbWJlcnMgPyAn4bqobicgOiAnWGVtJywgXCIgKFwiLCBtZW1iZXJzLmxlbmd0aCwgXCIpXCJdIH0pXSB9KSwgc2hvd01lbWJlcnMgJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtbWVtYmVyLWxpc3RcIiwgY2hpbGRyZW46IG1lbWJlcnMubWFwKChtZW1iZXJJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBnZXRNZW1iZXJJbmZvKG1lbWJlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01lbWJlckFkbWluID0gYWRtaW5zLmluY2x1ZGVzKG1lbWJlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGYgPSBtZW1iZXJJZCA9PT0gY3VycmVudFVzZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5NYW5hZ2UgPSBCb29sZWFuKGlzQWRtaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeChNZW1iZXJSb3csIHsgbWVtYmVySWQ6IG1lbWJlcklkLCBuYW1lOiBpbmZvPy5uYW1lLCBlbWFpbDogaW5mbz8uZW1haWwsIGF2YXRhcjogaW5mbz8uYXZhdGFyLCBpc0FkbWluOiBpc01lbWJlckFkbWluLCBpc1NlbGY6IGlzU2VsZiwgY2FuTWFuYWdlOiBjYW5NYW5hZ2UsIG9uTWFrZUFkbWluOiBvbk1ha2VBZG1pbiwgb25SZW1vdmVBZG1pbjogb25SZW1vdmVBZG1pbiwgb25SZW1vdmU6IG9uUmVtb3ZlTWVtYmVyIH0sIG1lbWJlcklkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSB9KSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLXNlY3Rpb25cIiwgY2hpbGRyZW46IFtpc0FkbWluICYmIChfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLWluZm8tYWN0aW9uXCIsIG9uQ2xpY2s6IG9uQWRkTWVtYmVycywgY2hpbGRyZW46IFwiVGhcXHUwMEVBbSB0aFxcdTAwRTBuaCB2aVxcdTAwRUFuXCIgfSkpLCBpc0FkbWluICYmIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLWludml0ZVwiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtaW5mby1hY3Rpb25cIiwgb25DbGljazogb25HZW5lcmF0ZUludml0ZSwgZGlzYWJsZWQ6IGlzR2VuZXJhdGluZ0ludml0ZSwgY2hpbGRyZW46IGlzR2VuZXJhdGluZ0ludml0ZSA/ICfEkGFuZyB04bqhbyBsaW5rLi4uJyA6ICdU4bqhbyBsaW5rIG3hu51pJyB9KSwgaW52aXRlTGluayAmJiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW52aXRlLWxpbmstYm94XCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpbnZpdGUtbGluay10ZXh0XCIsIHRpdGxlOiBpbnZpdGVMaW5rLCBjaGlsZHJlbjogaW52aXRlTGluayB9KSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzZWNvbmRhcnktYnRuXCIsIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkPy53cml0ZVRleHQoaW52aXRlTGluayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvcHlTdGF0ZSgnY29waWVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Q29weVN0YXRlKCdpZGxlJyksIDIwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvcHkgZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29weVN0YXRlKCdlcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBjb3B5U3RhdGUgPT09ICdjb3BpZWQnID8gJ8SQw6Mgc2FvIGNow6lwJyA6ICdTYW8gY2jDqXAnIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW52aXRlLWxpbmstYWN0aW9uc1wiLCBjaGlsZHJlbjogW19qc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBcInNlY29uZGFyeS1idG4gbGluay1idXR0b25cIiwgaHJlZjogaW52aXRlTGluaywgdGFyZ2V0OiBcIl9ibGFua1wiLCByZWw6IFwibm9yZWZlcnJlclwiLCBjaGlsZHJlbjogXCJNXFx1MUVERiBsaW5rIHRyXFx1MDBFQW4gd2ViXCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImludml0ZS1jb2RlLWNoaXBcIiwgdGl0bGU6IFwiQ2hpYSBzXFx1MUVCQiBtXFx1MDBFMyBcXHUwMTExXFx1MUVDMyBuaFxcdTFFQURwIHRoXFx1MUVFNyBjXFx1MDBGNG5nXCIsIGNoaWxkcmVuOiBbXCJNXFx1MDBFMzogXCIsIGludml0ZUxpbmsuc3BsaXQoJy8nKS5wb3AoKSB8fCBpbnZpdGVMaW5rXSB9KV0gfSksIGNvcHlTdGF0ZSA9PT0gJ2Vycm9yJyAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpbnZpdGUtbGluay1oaW50XCIsIGNoaWxkcmVuOiBcIktoXFx1MDBGNG5nIHNhbyBjaFxcdTAwRTlwIFxcdTAxMTFcXHUwMUIwXFx1MUVFM2MsIGhcXHUwMEUzeSBiXFx1MDBGNGkgXFx1MDExMWVuIFxcdTAxMTFcXHUwMUIwXFx1MUVERG5nIGRcXHUxRUFCbiByXFx1MUVEM2kgbmhcXHUxRUE1biBDdHJsK0MuXCIgfSkpXSB9KSldIH0pKSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1pbmZvLWFjdGlvbiBkYW5nZXJcIiwgb25DbGljazogb25MZWF2ZUdyb3VwLCBjaGlsZHJlbjogXCJSXFx1MUVERGkgbmhcXHUwMEYzbVwiIH0pXSB9KV0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJGcmFnbWVudCIsIl9GcmFnbWVudCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsImdldFVzZXJzQnlJZHMiLCJNZW1iZXJSb3ciLCJHcm91cEluZm9QYW5lbCIsImNvbnZlcnNhdGlvbiIsImN1cnJlbnRVc2VySWQiLCJvbkFkZE1lbWJlcnMiLCJvblJlbW92ZU1lbWJlciIsIm9uTGVhdmVHcm91cCIsIm9uTWFrZUFkbWluIiwib25SZW1vdmVBZG1pbiIsIm9uQ2hhbmdlSW5mbyIsIm9uR2VuZXJhdGVJbnZpdGUiLCJpbnZpdGVMaW5rIiwiaXNHZW5lcmF0aW5nSW52aXRlIiwic2hvd01lbWJlcnMiLCJzZXRTaG93TWVtYmVycyIsIm1lbWJlcnNJbmZvIiwic2V0TWVtYmVyc0luZm8iLCJjb3B5U3RhdGUiLCJzZXRDb3B5U3RhdGUiLCJpc0FkbWluIiwiYWRtaW5zIiwic29tZSIsImlkIiwibWVtYmVycyIsImFjdGl2ZSIsImxvYWRNZW1iZXJzIiwiaXNHcm91cCIsImxlbmd0aCIsIm1lbWJlcklkcyIsIm1hcCIsIm0iLCJTdHJpbmciLCJyZXMiLCJtYXBwZWQiLCJ1c2VycyIsInVzZXIiLCJfaWQiLCJuYW1lIiwidXNlcm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImdldE1lbWJlckluZm8iLCJtZW1iZXJJZCIsImZpbmQiLCJpbmZvIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJncm91cEF2YXRhciIsInNyYyIsImFsdCIsInRpdGxlIiwib25DbGljayIsInByZXYiLCJpc01lbWJlckFkbWluIiwiaW5jbHVkZXMiLCJpc1NlbGYiLCJjYW5NYW5hZ2UiLCJCb29sZWFuIiwib25SZW1vdmUiLCJkaXNhYmxlZCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInNldFRpbWVvdXQiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwic3BsaXQiLCJwb3AiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/GroupInfoPanel.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/MemberRow.js":
/*!********************************************************!*\
  !*** ../../packages/app/components/group/MemberRow.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemberRow: () => (/* binding */ MemberRow)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_group_info_panel_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/group-info-panel.css */ \"(ssr)/../../packages/app/styles/group-info-panel.css\");\n\n\nfunction MemberRow({ memberId, name, email, avatar, isAdmin, isSelf, canManage, onMakeAdmin, onRemoveAdmin, onRemove }) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"group-member-item\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"member-info\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"member-avatar\",\n                        children: avatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: avatar,\n                            alt: name || memberId\n                        }) : (name || memberId).slice(0, 2).toUpperCase()\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"member-meta\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                children: name || memberId\n                            }),\n                            isAdmin && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"badge-admin\",\n                                children: \"Admin\"\n                            }),\n                            email && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"member-email\",\n                                children: email\n                            })\n                        ]\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"member-actions\",\n                children: canManage && !isSelf && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        isAdmin ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            onClick: ()=>onRemoveAdmin?.(memberId),\n                            children: \"B admin\"\n                        }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            onClick: ()=>onMakeAdmin?.(memberId),\n                            children: \"Chn admin\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            onClick: ()=>onRemove?.(memberId),\n                            children: \"X\\xf3a\"\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvTWVtYmVyUm93LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0Y7QUFDM0M7QUFDcEMsU0FBU00sVUFBVSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxRQUFRLEVBQUc7SUFDMUgsT0FBUWIsdURBQUtBLENBQUMsT0FBTztRQUFFYyxXQUFXO1FBQXFCQyxVQUFVO1lBQUNmLHVEQUFLQSxDQUFDLE9BQU87Z0JBQUVjLFdBQVc7Z0JBQWVDLFVBQVU7b0JBQUNqQixzREFBSUEsQ0FBQyxPQUFPO3dCQUFFZ0IsV0FBVzt3QkFBaUJDLFVBQVVSLFNBQVNULHNEQUFJQSxDQUFDLE9BQU87NEJBQUVrQixLQUFLVDs0QkFBUVUsS0FBS1osUUFBUUQ7d0JBQVMsS0FBSyxDQUFDQyxRQUFRRCxRQUFPLEVBQUdjLEtBQUssQ0FBQyxHQUFHLEdBQUdDLFdBQVc7b0JBQUc7b0JBQUluQix1REFBS0EsQ0FBQyxPQUFPO3dCQUFFYyxXQUFXO3dCQUFlQyxVQUFVOzRCQUFDakIsc0RBQUlBLENBQUMsT0FBTztnQ0FBRWlCLFVBQVVWLFFBQVFEOzRCQUFTOzRCQUFJSSxXQUFXVixzREFBSUEsQ0FBQyxRQUFRO2dDQUFFZ0IsV0FBVztnQ0FBZUMsVUFBVTs0QkFBUTs0QkFBSVQsU0FBU1Isc0RBQUlBLENBQUMsUUFBUTtnQ0FBRWdCLFdBQVc7Z0NBQWdCQyxVQUFVVDs0QkFBTTt5QkFBRztvQkFBQztpQkFBRztZQUFDO1lBQUlSLHNEQUFJQSxDQUFDLE9BQU87Z0JBQUVnQixXQUFXO2dCQUFrQkMsVUFBVUwsYUFBYSxDQUFDRCxVQUFXVCx1REFBS0EsQ0FBQ0UsdURBQVNBLEVBQUU7b0JBQUVhLFVBQVU7d0JBQUNQLFVBQVdWLHNEQUFJQSxDQUFDLFVBQVU7NEJBQUVzQixTQUFTLElBQU1SLGdCQUFnQlI7NEJBQVdXLFVBQVU7d0JBQWdCLEtBQU9qQixzREFBSUEsQ0FBQyxVQUFVOzRCQUFFc0IsU0FBUyxJQUFNVCxjQUFjUDs0QkFBV1csVUFBVTt3QkFBa0I7d0JBQUtqQixzREFBSUEsQ0FBQyxVQUFVOzRCQUFFc0IsU0FBUyxJQUFNUCxXQUFXVDs0QkFBV1csVUFBVTt3QkFBVztxQkFBRztnQkFBQztZQUFJO1NBQUc7SUFBQztBQUM1NUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9ncm91cC9NZW1iZXJSb3cuanM/NzNmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgJy4uLy4uL3N0eWxlcy9ncm91cC1pbmZvLXBhbmVsLmNzcyc7XG5leHBvcnQgZnVuY3Rpb24gTWVtYmVyUm93KHsgbWVtYmVySWQsIG5hbWUsIGVtYWlsLCBhdmF0YXIsIGlzQWRtaW4sIGlzU2VsZiwgY2FuTWFuYWdlLCBvbk1ha2VBZG1pbiwgb25SZW1vdmVBZG1pbiwgb25SZW1vdmUsIH0pIHtcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1lbWJlci1pdGVtXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVtYmVyLWluZm9cIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lbWJlci1hdmF0YXJcIiwgY2hpbGRyZW46IGF2YXRhciA/IF9qc3goXCJpbWdcIiwgeyBzcmM6IGF2YXRhciwgYWx0OiBuYW1lIHx8IG1lbWJlcklkIH0pIDogKG5hbWUgfHwgbWVtYmVySWQpLnNsaWNlKDAsIDIpLnRvVXBwZXJDYXNlKCkgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lbWJlci1tZXRhXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNoaWxkcmVuOiBuYW1lIHx8IG1lbWJlcklkIH0pLCBpc0FkbWluICYmIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJhZGdlLWFkbWluXCIsIGNoaWxkcmVuOiBcIkFkbWluXCIgfSksIGVtYWlsICYmIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm1lbWJlci1lbWFpbFwiLCBjaGlsZHJlbjogZW1haWwgfSldIH0pXSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZW1iZXItYWN0aW9uc1wiLCBjaGlsZHJlbjogY2FuTWFuYWdlICYmICFpc1NlbGYgJiYgKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW2lzQWRtaW4gPyAoX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IG9uUmVtb3ZlQWRtaW4/LihtZW1iZXJJZCksIGNoaWxkcmVuOiBcIkJcXHUxRUNGIGFkbWluXCIgfSkpIDogKF9qc3goXCJidXR0b25cIiwgeyBvbkNsaWNrOiAoKSA9PiBvbk1ha2VBZG1pbj8uKG1lbWJlcklkKSwgY2hpbGRyZW46IFwiQ2hcXHUxRUNEbiBhZG1pblwiIH0pKSwgX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IG9uUmVtb3ZlPy4obWVtYmVySWQpLCBjaGlsZHJlbjogXCJYXFx1MDBGM2FcIiB9KV0gfSkpIH0pXSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIkZyYWdtZW50IiwiX0ZyYWdtZW50IiwiTWVtYmVyUm93IiwibWVtYmVySWQiLCJuYW1lIiwiZW1haWwiLCJhdmF0YXIiLCJpc0FkbWluIiwiaXNTZWxmIiwiY2FuTWFuYWdlIiwib25NYWtlQWRtaW4iLCJvblJlbW92ZUFkbWluIiwib25SZW1vdmUiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInNyYyIsImFsdCIsInNsaWNlIiwidG9VcHBlckNhc2UiLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/MemberRow.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/UpdateGroupInfoModal.js":
/*!*******************************************************************!*\
  !*** ../../packages/app/components/group/UpdateGroupInfoModal.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UpdateGroupInfoModal: () => (/* binding */ UpdateGroupInfoModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_group_modals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styles/group-modals.css */ \"(ssr)/../../packages/app/styles/group-modals.css\");\n\n\n\nfunction UpdateGroupInfoModal({ isOpen, onClose, onSave, initialTitle, initialAvatar }) {\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialTitle || \"\");\n    const [avatar, setAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialAvatar || \"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setTitle(initialTitle || \"\");\n            setAvatar(initialAvatar || \"\");\n            setError(null);\n        }\n    }, [\n        isOpen,\n        initialTitle,\n        initialAvatar\n    ]);\n    const handleSubmit = async ()=>{\n        if (!title.trim()) {\n            setError(\"T\\xean nh\\xf3m kh\\xf4ng c  trng\");\n            return;\n        }\n        try {\n            setSaving(true);\n            await onSave({\n                title: title.trim(),\n                avatar: avatar.trim() || undefined\n            });\n            onClose();\n        } catch (err) {\n            console.error(\"Update group info error\", err);\n            setError(err?.response?.data?.error || \"Kh\\xf4ng th cp nht nh\\xf3m\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    if (!isOpen) return null;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: \"group-modal-overlay\",\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"group-modal\",\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"header\", {\n                    className: \"group-modal__header\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h2\", {\n                            children: \"Chnh sa nh\\xf3m\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            onClick: onClose,\n                            children: \"\"\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"group-modal__body\",\n                    children: [\n                        error && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"error-message\",\n                            children: error\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                            children: \"T\\xean nh\\xf3m\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                            value: title,\n                            onChange: (e)=>setTitle(e.target.value),\n                            placeholder: \"Nhp t\\xean nh\\xf3m mi\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                            children: \"nh nh\\xf3m (URL)\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                            value: avatar,\n                            onChange: (e)=>setAvatar(e.target.value),\n                            placeholder: \"https://...\"\n                        }),\n                        avatar && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"preview-avatar\",\n                            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                src: avatar,\n                                alt: \"preview\"\n                            })\n                        })\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"footer\", {\n                    className: \"group-modal__footer\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"secondary-btn\",\n                            onClick: onClose,\n                            disabled: saving,\n                            children: \"Hy\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"primary-btn\",\n                            onClick: handleSubmit,\n                            disabled: saving,\n                            children: saving ? \"ang lu...\" : \"Lu\"\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvVXBkYXRlR3JvdXBJbmZvTW9kYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQStEO0FBQ25CO0FBQ0w7QUFDaEMsU0FBU00scUJBQXFCLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxFQUFHO0lBQzFGLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHVCwrQ0FBUUEsQ0FBQ00sZ0JBQWdCO0lBQ25ELE1BQU0sQ0FBQ0ksUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQ08saUJBQWlCO0lBQ3RELE1BQU0sQ0FBQ0ssT0FBT0MsU0FBUyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNjLFFBQVFDLFVBQVUsR0FBR2YsK0NBQVFBLENBQUM7SUFDckNDLGdEQUFTQSxDQUFDO1FBQ04sSUFBSUUsUUFBUTtZQUNSTSxTQUFTSCxnQkFBZ0I7WUFDekJLLFVBQVVKLGlCQUFpQjtZQUMzQk0sU0FBUztRQUNiO0lBQ0osR0FBRztRQUFDVjtRQUFRRztRQUFjQztLQUFjO0lBQ3hDLE1BQU1TLGVBQWU7UUFDakIsSUFBSSxDQUFDUixNQUFNUyxJQUFJLElBQUk7WUFDZkosU0FBUztZQUNUO1FBQ0o7UUFDQSxJQUFJO1lBQ0FFLFVBQVU7WUFDVixNQUFNVixPQUFPO2dCQUFFRyxPQUFPQSxNQUFNUyxJQUFJO2dCQUFJUCxRQUFRQSxPQUFPTyxJQUFJLE1BQU1DO1lBQVU7WUFDdkVkO1FBQ0osRUFDQSxPQUFPZSxLQUFLO1lBQ1JDLFFBQVFSLEtBQUssQ0FBQywyQkFBMkJPO1lBQ3pDTixTQUFTTSxLQUFLRSxVQUFVQyxNQUFNVixTQUFTO1FBQzNDLFNBQ1E7WUFDSkcsVUFBVTtRQUNkO0lBQ0o7SUFDQSxJQUFJLENBQUNaLFFBQ0QsT0FBTztJQUNYLE9BQVFOLHNEQUFJQSxDQUFDLE9BQU87UUFBRTBCLFdBQVc7UUFBdUJDLFVBQVV6Qix1REFBS0EsQ0FBQyxPQUFPO1lBQUV3QixXQUFXO1lBQWVDLFVBQVU7Z0JBQUN6Qix1REFBS0EsQ0FBQyxVQUFVO29CQUFFd0IsV0FBVztvQkFBdUJDLFVBQVU7d0JBQUMzQixzREFBSUEsQ0FBQyxNQUFNOzRCQUFFMkIsVUFBVTt3QkFBZ0M7d0JBQUkzQixzREFBSUEsQ0FBQyxVQUFVOzRCQUFFNEIsU0FBU3JCOzRCQUFTb0IsVUFBVTt3QkFBUztxQkFBRztnQkFBQztnQkFBSXpCLHVEQUFLQSxDQUFDLE9BQU87b0JBQUV3QixXQUFXO29CQUFxQkMsVUFBVTt3QkFBQ1osU0FBU2Ysc0RBQUlBLENBQUMsT0FBTzs0QkFBRTBCLFdBQVc7NEJBQWlCQyxVQUFVWjt3QkFBTTt3QkFBSWYsc0RBQUlBLENBQUMsU0FBUzs0QkFBRTJCLFVBQVU7d0JBQXFCO3dCQUFJM0Isc0RBQUlBLENBQUMsU0FBUzs0QkFBRTZCLE9BQU9sQjs0QkFBT21CLFVBQVUsQ0FBQ0MsSUFBTW5CLFNBQVNtQixFQUFFQyxNQUFNLENBQUNILEtBQUs7NEJBQUdJLGFBQWE7d0JBQXdDO3dCQUFJakMsc0RBQUlBLENBQUMsU0FBUzs0QkFBRTJCLFVBQVU7d0JBQTJCO3dCQUFJM0Isc0RBQUlBLENBQUMsU0FBUzs0QkFBRTZCLE9BQU9oQjs0QkFBUWlCLFVBQVUsQ0FBQ0MsSUFBTWpCLFVBQVVpQixFQUFFQyxNQUFNLENBQUNILEtBQUs7NEJBQUdJLGFBQWE7d0JBQWM7d0JBQUlwQixVQUFXYixzREFBSUEsQ0FBQyxPQUFPOzRCQUFFMEIsV0FBVzs0QkFBa0JDLFVBQVUzQixzREFBSUEsQ0FBQyxPQUFPO2dDQUFFa0MsS0FBS3JCO2dDQUFRc0IsS0FBSzs0QkFBVTt3QkFBRztxQkFBSTtnQkFBQztnQkFBSWpDLHVEQUFLQSxDQUFDLFVBQVU7b0JBQUV3QixXQUFXO29CQUF1QkMsVUFBVTt3QkFBQzNCLHNEQUFJQSxDQUFDLFVBQVU7NEJBQUUwQixXQUFXOzRCQUFpQkUsU0FBU3JCOzRCQUFTNkIsVUFBVW5COzRCQUFRVSxVQUFVO3dCQUFXO3dCQUFJM0Isc0RBQUlBLENBQUMsVUFBVTs0QkFBRTBCLFdBQVc7NEJBQWVFLFNBQVNUOzRCQUFjaUIsVUFBVW5COzRCQUFRVSxVQUFVVixTQUFTLGdCQUFnQjt3QkFBTTtxQkFBRztnQkFBQzthQUFHO1FBQUM7SUFBRztBQUNsckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9ncm91cC9VcGRhdGVHcm91cEluZm9Nb2RhbC5qcz8xOGZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuLi8uLi9zdHlsZXMvZ3JvdXAtbW9kYWxzLmNzcyc7XG5leHBvcnQgZnVuY3Rpb24gVXBkYXRlR3JvdXBJbmZvTW9kYWwoeyBpc09wZW4sIG9uQ2xvc2UsIG9uU2F2ZSwgaW5pdGlhbFRpdGxlLCBpbml0aWFsQXZhdGFyLCB9KSB7XG4gICAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZShpbml0aWFsVGl0bGUgfHwgJycpO1xuICAgIGNvbnN0IFthdmF0YXIsIHNldEF2YXRhcl0gPSB1c2VTdGF0ZShpbml0aWFsQXZhdGFyIHx8ICcnKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgc2V0VGl0bGUoaW5pdGlhbFRpdGxlIHx8ICcnKTtcbiAgICAgICAgICAgIHNldEF2YXRhcihpbml0aWFsQXZhdGFyIHx8ICcnKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICB9XG4gICAgfSwgW2lzT3BlbiwgaW5pdGlhbFRpdGxlLCBpbml0aWFsQXZhdGFyXSk7XG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRpdGxlLnRyaW0oKSkge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ1TDqm4gbmjDs20ga2jDtG5nIMSRxrDhu6NjIMSR4buDIHRy4buRbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgICAgICAgYXdhaXQgb25TYXZlKHsgdGl0bGU6IHRpdGxlLnRyaW0oKSwgYXZhdGFyOiBhdmF0YXIudHJpbSgpIHx8IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVcGRhdGUgZ3JvdXAgaW5mbyBlcnJvcicsIGVycik7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnI/LnJlc3BvbnNlPy5kYXRhPy5lcnJvciB8fCAnS2jDtG5nIHRo4buDIGPhuq1wIG5o4bqtdCBuaMOzbScpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFpc09wZW4pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1tb2RhbC1vdmVybGF5XCIsIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncm91cC1tb2RhbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiaGVhZGVyXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsX19oZWFkZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiaDJcIiwgeyBjaGlsZHJlbjogXCJDaFxcdTFFQzluaCBzXFx1MUVFRGEgbmhcXHUwMEYzbVwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogb25DbG9zZSwgY2hpbGRyZW46IFwiXFx1MjcxNVwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZ3JvdXAtbW9kYWxfX2JvZHlcIiwgY2hpbGRyZW46IFtlcnJvciAmJiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImVycm9yLW1lc3NhZ2VcIiwgY2hpbGRyZW46IGVycm9yIH0pLCBfanN4KFwibGFiZWxcIiwgeyBjaGlsZHJlbjogXCJUXFx1MDBFQW4gbmhcXHUwMEYzbVwiIH0pLCBfanN4KFwiaW5wdXRcIiwgeyB2YWx1ZTogdGl0bGUsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpLCBwbGFjZWhvbGRlcjogXCJOaFxcdTFFQURwIHRcXHUwMEVBbiBuaFxcdTAwRjNtIG1cXHUxRURCaVwiIH0pLCBfanN4KFwibGFiZWxcIiwgeyBjaGlsZHJlbjogXCJcXHUxRUEybmggbmhcXHUwMEYzbSAoVVJMKVwiIH0pLCBfanN4KFwiaW5wdXRcIiwgeyB2YWx1ZTogYXZhdGFyLCBvbkNoYW5nZTogKGUpID0+IHNldEF2YXRhcihlLnRhcmdldC52YWx1ZSksIHBsYWNlaG9sZGVyOiBcImh0dHBzOi8vLi4uXCIgfSksIGF2YXRhciAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwcmV2aWV3LWF2YXRhclwiLCBjaGlsZHJlbjogX2pzeChcImltZ1wiLCB7IHNyYzogYXZhdGFyLCBhbHQ6IFwicHJldmlld1wiIH0pIH0pKV0gfSksIF9qc3hzKFwiZm9vdGVyXCIsIHsgY2xhc3NOYW1lOiBcImdyb3VwLW1vZGFsX19mb290ZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInNlY29uZGFyeS1idG5cIiwgb25DbGljazogb25DbG9zZSwgZGlzYWJsZWQ6IHNhdmluZywgY2hpbGRyZW46IFwiSFxcdTFFRTd5XCIgfSksIF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwicHJpbWFyeS1idG5cIiwgb25DbGljazogaGFuZGxlU3VibWl0LCBkaXNhYmxlZDogc2F2aW5nLCBjaGlsZHJlbjogc2F2aW5nID8gJ8SQYW5nIGzGsHUuLi4nIDogJ0zGsHUnIH0pXSB9KV0gfSkgfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlVwZGF0ZUdyb3VwSW5mb01vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU2F2ZSIsImluaXRpYWxUaXRsZSIsImluaXRpYWxBdmF0YXIiLCJ0aXRsZSIsInNldFRpdGxlIiwiYXZhdGFyIiwic2V0QXZhdGFyIiwiZXJyb3IiLCJzZXRFcnJvciIsInNhdmluZyIsInNldFNhdmluZyIsImhhbmRsZVN1Ym1pdCIsInRyaW0iLCJ1bmRlZmluZWQiLCJlcnIiLCJjb25zb2xlIiwicmVzcG9uc2UiLCJkYXRhIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJvbkNsaWNrIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsInNyYyIsImFsdCIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/UpdateGroupInfoModal.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/group/index.js":
/*!****************************************************!*\
  !*** ../../packages/app/components/group/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddMembersModal: () => (/* reexport safe */ _AddMembersModal__WEBPACK_IMPORTED_MODULE_1__.AddMembersModal),\n/* harmony export */   ConfirmActionModal: () => (/* reexport safe */ _ConfirmActionModal__WEBPACK_IMPORTED_MODULE_3__.ConfirmActionModal),\n/* harmony export */   GroupInfoPanel: () => (/* reexport safe */ _GroupInfoPanel__WEBPACK_IMPORTED_MODULE_0__.GroupInfoPanel),\n/* harmony export */   MemberRow: () => (/* reexport safe */ _MemberRow__WEBPACK_IMPORTED_MODULE_4__.MemberRow),\n/* harmony export */   UpdateGroupInfoModal: () => (/* reexport safe */ _UpdateGroupInfoModal__WEBPACK_IMPORTED_MODULE_2__.UpdateGroupInfoModal)\n/* harmony export */ });\n/* harmony import */ var _GroupInfoPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GroupInfoPanel */ \"(ssr)/../../packages/app/components/group/GroupInfoPanel.js\");\n/* harmony import */ var _AddMembersModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AddMembersModal */ \"(ssr)/../../packages/app/components/group/AddMembersModal.js\");\n/* harmony import */ var _UpdateGroupInfoModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UpdateGroupInfoModal */ \"(ssr)/../../packages/app/components/group/UpdateGroupInfoModal.js\");\n/* harmony import */ var _ConfirmActionModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConfirmActionModal */ \"(ssr)/../../packages/app/components/group/ConfirmActionModal.js\");\n/* harmony import */ var _MemberRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MemberRow */ \"(ssr)/../../packages/app/components/group/MemberRow.js\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpQztBQUNDO0FBQ0s7QUFDRjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvZ3JvdXAvaW5kZXguanM/ZjkwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL0dyb3VwSW5mb1BhbmVsJztcbmV4cG9ydCAqIGZyb20gJy4vQWRkTWVtYmVyc01vZGFsJztcbmV4cG9ydCAqIGZyb20gJy4vVXBkYXRlR3JvdXBJbmZvTW9kYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9Db25maXJtQWN0aW9uTW9kYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9NZW1iZXJSb3cnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/group/index.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/features/chat/Conversations.web.js":
/*!*************************************************************!*\
  !*** ../../packages/app/features/chat/Conversations.web.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConversationsScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../socket */ \"(ssr)/../../packages/app/socket.js\");\n/* harmony import */ var _styles_conversations_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../styles/conversations.css */ \"(ssr)/../../packages/app/styles/conversations.css\");\n/* harmony import */ var _components_chat_DesktopChat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/chat/DesktopChat */ \"(ssr)/../../packages/app/components/chat/DesktopChat.js\");\n/* harmony import */ var _components_chat_NewConversationModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/chat/NewConversationModal */ \"(ssr)/../../packages/app/components/chat/NewConversationModal.js\");\n/* harmony import */ var _components_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/group */ \"(ssr)/../../packages/app/components/group/index.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../package.json */ \"(ssr)/../../packages/app/package.json\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\nconst APP_VERSION = _package_json__WEBPACK_IMPORTED_MODULE_9__.version || \"1.0.0\";\nfunction ConversationsScreen() {\n    console.log(\"\\uD83D\\uDCAC ConversationsScreen component rendering...\");\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedConversation, setSelectedConversation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [searchText, setSearchText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"all\");\n    const [isCreateModalOpen, setIsCreateModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isAddMembersOpen, setIsAddMembersOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUpdateGroupOpen, setIsUpdateGroupOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [confirmLeaveOpen, setConfirmLeaveOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [memberAction, setMemberAction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inviteLink, setInviteLink] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inviteGenerating, setInviteGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isInfoVisible, setIsInfoVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDCAC ConversationsScreen useEffect - loading conversations...\");\n        // Connect socket if not connected\n        const token = localStorage.getItem(\"auth_token\");\n        if (token) {\n            const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_4__.getSocket)();\n            if (!socket || !socket.connected) {\n                console.log(\"\\uD83D\\uDD0C Connecting socket...\");\n                const result = (0,_socket__WEBPACK_IMPORTED_MODULE_4__.connectSocket)(token);\n                if (result instanceof Promise) {\n                    result.then((sock)=>{\n                        if (sock) {\n                            console.log(\" Socket connected successfully\");\n                        }\n                    });\n                } else if (result) {\n                    console.log(\" Socket connected successfully\");\n                }\n            } else {\n                console.log(\" Socket already connected\");\n            }\n        }\n        loadConversations();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleDeepLinkJoin = (event)=>{\n            const detail = event.detail;\n            const conversation = detail?.conversation;\n            if (!conversation?._id) {\n                console.warn(\"[Conversations] Received deep link join event without conversation payload\");\n                return;\n            }\n            console.log(\"[Conversations] Deep link joined conversation:\", conversation._id);\n            setConversations((prev)=>{\n                const existingIndex = prev.findIndex((item)=>item._id === conversation._id);\n                if (existingIndex === -1) {\n                    return [\n                        conversation,\n                        ...prev\n                    ];\n                }\n                const clone = [\n                    ...prev\n                ];\n                clone[existingIndex] = conversation;\n                return clone;\n            });\n            setSelectedConversation(conversation);\n        };\n        window.addEventListener(\"conversation:joined\", handleDeepLinkJoin);\n        return ()=>{\n            window.removeEventListener(\"conversation:joined\", handleDeepLinkJoin);\n        };\n    }, []);\n    const loadConversations = async ()=>{\n        try {\n            setLoading(true);\n            console.log(\"\\uD83D\\uDCAC Loading conversations from API...\");\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getConversations)();\n            console.log(\"\\uD83D\\uDCAC Conversations loaded:\", data.length, \"items\");\n            console.log(\"\\uD83D\\uDCAC Sample conversation:\", data[0] ? {\n                _id: data[0]._id,\n                isGroup: data[0].isGroup,\n                title: data[0].title,\n                opponent: data[0].opponent,\n                lastMessageSender: data[0].lastMessageSender\n            } : \"No conversations\");\n            setConversations(data);\n        } catch (error) {\n            console.error(\" Error loading conversations:\", error);\n        } finally{\n            setLoading(false);\n            console.log(\"\\uD83D\\uDCAC Loading complete, loading state:\", false);\n        }\n    };\n    const handleLogout = async ()=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            if (token) {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_3__.logout)(token);\n            }\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_id\");\n            localStorage.removeItem(\"user_data\");\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.setAuthToken)();\n            (0,_socket__WEBPACK_IMPORTED_MODULE_4__.disconnectSocket)();\n            window.location.href = \"/login\";\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_id\");\n            localStorage.removeItem(\"user_data\");\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.setAuthToken)();\n            (0,_socket__WEBPACK_IMPORTED_MODULE_4__.disconnectSocket)();\n            window.location.href = \"/login\";\n        }\n    };\n    const filteredConversations = conversations.filter((conv)=>{\n        if (selectedTab === \"groups\") {\n            return conv.isGroup;\n        }\n        if (selectedTab === \"direct\") {\n            return !conv.isGroup;\n        }\n        return true;\n    }).filter((conv)=>{\n        if (!searchText) return true;\n        const searchLower = searchText.toLowerCase();\n        return conv.title?.toLowerCase().includes(searchLower) || conv.lastMessageSender?.name.toLowerCase().includes(searchLower);\n    });\n    const formatTime = (dateString)=>{\n        if (!dateString) return \"\";\n        const date = new Date(dateString);\n        const now = new Date();\n        const diff = now.getTime() - date.getTime();\n        const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n        if (days === 0) {\n            return date.toLocaleTimeString(\"vi-VN\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n            });\n        } else if (days === 1) {\n            return \"H\\xf4m qua\";\n        } else if (days < 7) {\n            return date.toLocaleDateString(\"vi-VN\", {\n                weekday: \"short\"\n            });\n        } else {\n            return date.toLocaleDateString(\"vi-VN\", {\n                day: \"2-digit\",\n                month: \"2-digit\"\n            });\n        }\n    };\n    const getInitials = (name)=>{\n        return name.split(\" \").map((n)=>n[0]).join(\"\").toUpperCase().slice(0, 2);\n    };\n    const getAvatar = (conv)=>{\n        if (conv.isGroup) {\n            return \"\\uD83D\\uDC65\";\n        }\n        // u tin avatar t opponent, sau  t lastMessageSender\n        const avatar = conv.opponent?.avatar || conv.lastMessageSender?.avatar;\n        if (avatar) {\n            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                src: avatar,\n                alt: \"\",\n                className: \"conversation-avatar-img\"\n            });\n        }\n        // Nu khng c avatar, dng initials\n        const name = conv.title || conv.opponent?.name || conv.lastMessageSender?.name || \"U\";\n        return getInitials(name);\n    };\n    const handleConversationClick = (conv)=>{\n        setSelectedConversation(conv);\n    };\n    const handleOpenNewChat = ()=>{\n        setIsCreateModalOpen(true);\n    };\n    const handleConversationCreated = (conversation)=>{\n        setConversations((prev)=>{\n            const filtered = prev.filter((item)=>item._id !== conversation._id);\n            return [\n                conversation,\n                ...filtered\n            ];\n        });\n        setSelectedConversation(conversation);\n    };\n    const refreshCurrentConversation = (updated)=>{\n        setSelectedConversation(updated);\n        setConversations((prev)=>{\n            const index = prev.findIndex((item)=>item._id === updated._id);\n            if (index === -1) return [\n                updated,\n                ...prev\n            ];\n            const clone = [\n                ...prev\n            ];\n            clone[index] = updated;\n            return clone;\n        });\n    };\n    const handleAddMembersConfirm = async (userIds)=>{\n        if (!selectedConversation) return;\n        const updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.addGroupMembers)(selectedConversation._id, userIds);\n        refreshCurrentConversation(updated);\n    };\n    const handleUpdateGroupInfo = async (data)=>{\n        if (!selectedConversation) return;\n        const updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.updateGroupInfo)(selectedConversation._id, data);\n        refreshCurrentConversation(updated);\n    };\n    const handleMemberActionExecute = async ()=>{\n        if (!selectedConversation || !memberAction) return;\n        try {\n            let updated = null;\n            if (memberAction.type === \"remove\") {\n                updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.removeGroupMember)(selectedConversation._id, memberAction.userId);\n            } else if (memberAction.type === \"makeAdmin\") {\n                updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.makeGroupAdmin)(selectedConversation._id, memberAction.userId);\n            } else if (memberAction.type === \"removeAdmin\") {\n                updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.removeGroupAdmin)(selectedConversation._id, memberAction.userId);\n            }\n            if (updated) {\n                refreshCurrentConversation(updated);\n            }\n        } catch (err) {\n            console.error(\"Member action error:\", err);\n        } finally{\n            setMemberAction(null);\n        }\n    };\n    const handleLeaveGroupConfirm = async ()=>{\n        if (!selectedConversation) return;\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.leaveGroup)(selectedConversation._id);\n            setSelectedConversation(null);\n            loadConversations();\n        } catch (err) {\n            console.error(\"Leave group error:\", err);\n        } finally{\n            setConfirmLeaveOpen(false);\n        }\n    };\n    const inviteBaseUrl =  false || \"https://backend36.dev\";\n    const normalizeBase = (url)=>url.replace(/\\/+$/, \"\");\n    const buildInviteUrl = (shareUrl, inviteCode)=>{\n        const base = normalizeBase(inviteBaseUrl);\n        const normalizedShare = shareUrl?.trim();\n        if (normalizedShare) {\n            if (/^https?:\\/\\//i.test(normalizedShare)) {\n                return normalizedShare;\n            }\n            const cleaned = normalizedShare.replace(/^\\/+/, \"\");\n            if (cleaned.startsWith(\"invite/\")) {\n                return `${base}/${cleaned}`;\n            }\n            if (!cleaned.includes(\"/\")) {\n                return `${base}/invite/${cleaned}`;\n            }\n            return `${base}/${cleaned}`;\n        }\n        if (inviteCode) {\n            return `${base}/invite/${inviteCode}`;\n        }\n        return base;\n    };\n    const handleGenerateInvite = async ()=>{\n        if (!selectedConversation) return;\n        try {\n            setInviteGenerating(true);\n            const res = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createInviteLink)(selectedConversation._id);\n            const link = buildInviteUrl(res.shareUrl, res.inviteCode);\n            setInviteLink(link);\n        } catch (err) {\n            console.error(\"Create invite link error:\", err);\n        } finally{\n            setInviteGenerating(false);\n        }\n    };\n    console.log(\"\\uD83D\\uDCAC ConversationsScreen render - loading:\", loading, \"conversations:\", conversations.length);\n    // Test: Add visible content to verify rendering\n    if (!loading && conversations.length === 0) {\n        console.log(\"\\uD83D\\uDCAC No conversations, showing empty state\");\n    }\n    const centerPanelClass = selectedConversation ? \"center-panel center-panel--chat-active\" : \"center-panel\";\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"desktop-layout\",\n        children: [\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"left-panel\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"desktop-header\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"h1\", {\n                                className: \"desktop-header-title\",\n                                children: [\n                                    \"Day2\",\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                                        className: \"desktop-header-version\",\n                                        children: [\n                                            \"v\",\n                                            APP_VERSION\n                                        ]\n                                    })\n                                ]\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                className: \"desktop-header-actions\",\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                        className: \"header-button\",\n                                        title: \"Mng x\\xe3 hi Day2\",\n                                        onClick: ()=>router.push(\"/feed\"),\n                                        children: \"\\uD83D\\uDCF0\"\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                        className: \"header-button\",\n                                        title: \"C\\xe0i t\",\n                                        onClick: ()=>router.push(\"/settings\"),\n                                        children: \"\"\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                        className: \"header-button\",\n                                        onClick: handleLogout,\n                                        children: \"\\uD83D\\uDEAA\"\n                                    })\n                                ]\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"search-container\",\n                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                            type: \"text\",\n                            placeholder: \"T\\xecm kim...\",\n                            className: \"search-input\",\n                            value: searchText,\n                            onChange: (e)=>setSearchText(e.target.value)\n                        })\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"new-chat-actions single\",\n                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                            className: \"new-chat-button\",\n                            onClick: handleOpenNewChat,\n                            children: \"+ To cuc tr\\xf2 chuyn\"\n                        })\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"tabs-container\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: `tab ${selectedTab === \"all\" ? \"active\" : \"\"}`,\n                                onClick: ()=>setSelectedTab(\"all\"),\n                                children: \"Tt c\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: `tab ${selectedTab === \"direct\" ? \"active\" : \"\"}`,\n                                onClick: ()=>setSelectedTab(\"direct\"),\n                                children: \"Tin nhn\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: `tab ${selectedTab === \"groups\" ? \"active\" : \"\"}`,\n                                onClick: ()=>setSelectedTab(\"groups\"),\n                                children: \"Nh\\xf3m\"\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"conversations-list\",\n                        children: loading ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            style: {\n                                padding: 20,\n                                textAlign: \"center\",\n                                color: \"#999\"\n                            },\n                            children: \"ang ti...\"\n                        }) : filteredConversations.length === 0 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            style: {\n                                padding: 20,\n                                textAlign: \"center\",\n                                color: \"#999\"\n                            },\n                            children: \"Kh\\xf4ng c\\xf3 cuc tr\\xf2 chuyn\"\n                        }) : filteredConversations.map((conv)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                className: `conversation-item ${selectedConversation?._id === conv._id ? \"selected\" : \"\"}`,\n                                onClick: ()=>handleConversationClick(conv),\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: \"conversation-avatar\",\n                                        children: getAvatar(conv)\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                        className: \"conversation-content\",\n                                        children: [\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                className: \"conversation-header\",\n                                                children: [\n                                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                                        className: \"conversation-name\",\n                                                        children: conv.isGroup ? conv.title || `Nhm (${conv.members.length})` : conv.title || conv.opponent?.name || conv.lastMessageSender?.name || \"Ngi d\\xf9ng\"\n                                                    }),\n                                                    conv.lastMessageAt && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                                        className: \"conversation-time\",\n                                                        children: formatTime(conv.lastMessageAt)\n                                                    })\n                                                ]\n                                            }),\n                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                                className: \"conversation-preview\",\n                                                children: conv.lastMessageSender?.name ? `${conv.lastMessageSender.name}: ` : \"\"\n                                            })\n                                        ]\n                                    })\n                                ]\n                            }, conv._id))\n                    })\n                ]\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: centerPanelClass,\n                children: selectedConversation ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_chat_DesktopChat__WEBPACK_IMPORTED_MODULE_6__.DesktopChat, {\n                    conversationId: selectedConversation._id,\n                    conversationName: selectedConversation.isGroup ? selectedConversation.title || `Nhm (${selectedConversation.members.length})` : selectedConversation.title || selectedConversation.opponent?.name || \"Ngi d\\xf9ng\",\n                    isGroup: selectedConversation.isGroup,\n                    groupAvatar: selectedConversation.groupAvatar,\n                    groupMemberCount: selectedConversation.members.length,\n                    memberIds: selectedConversation.members,\n                    onToggleInfo: ()=>setIsInfoVisible((prev)=>!prev),\n                    isInfoVisible: isInfoVisible\n                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"empty-chat-area\",\n                    children: [\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"empty-chat-title\",\n                            children: \"Chn mt cuc tr\\xf2 chuyn\"\n                        }),\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"empty-chat-subtitle\",\n                            children: \"Chn mt cuc tr\\xf2 chuyn t danh s\\xe1ch  bt u nhn tin\"\n                        })\n                    ]\n                })\n            }),\n            selectedConversation && selectedConversation.isGroup && isInfoVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"chat-info-panel\",\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_group__WEBPACK_IMPORTED_MODULE_8__.GroupInfoPanel, {\n                    conversation: selectedConversation,\n                    currentUserId: localStorage.getItem(\"user_id\") || \"\",\n                    onAddMembers: ()=>setIsAddMembersOpen(true),\n                    onRemoveMember: (userId)=>setMemberAction({\n                            type: \"remove\",\n                            userId\n                        }),\n                    onLeaveGroup: ()=>setConfirmLeaveOpen(true),\n                    onMakeAdmin: (userId)=>setMemberAction({\n                            type: \"makeAdmin\",\n                            userId\n                        }),\n                    onRemoveAdmin: (userId)=>setMemberAction({\n                            type: \"removeAdmin\",\n                            userId\n                        }),\n                    onChangeInfo: ()=>setIsUpdateGroupOpen(true),\n                    onGenerateInvite: handleGenerateInvite,\n                    inviteLink: inviteLink ?? undefined,\n                    isGeneratingInvite: inviteGenerating\n                })\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_chat_NewConversationModal__WEBPACK_IMPORTED_MODULE_7__.NewConversationModal, {\n                isOpen: isCreateModalOpen,\n                onClose: ()=>setIsCreateModalOpen(false),\n                onCreated: handleConversationCreated\n            }),\n            selectedConversation && selectedConversation.isGroup && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_group__WEBPACK_IMPORTED_MODULE_8__.AddMembersModal, {\n                        isOpen: isAddMembersOpen,\n                        onClose: ()=>setIsAddMembersOpen(false),\n                        onConfirm: handleAddMembersConfirm,\n                        conversation: selectedConversation\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_group__WEBPACK_IMPORTED_MODULE_8__.UpdateGroupInfoModal, {\n                        isOpen: isUpdateGroupOpen,\n                        onClose: ()=>setIsUpdateGroupOpen(false),\n                        onSave: handleUpdateGroupInfo,\n                        initialTitle: selectedConversation.title,\n                        initialAvatar: selectedConversation.groupAvatar\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_group__WEBPACK_IMPORTED_MODULE_8__.ConfirmActionModal, {\n                        isOpen: Boolean(memberAction),\n                        onClose: ()=>setMemberAction(null),\n                        onConfirm: handleMemberActionExecute,\n                        title: memberAction?.type === \"remove\" ? \"X\\xf3a th\\xe0nh vi\\xean\" : memberAction?.type === \"makeAdmin\" ? \"Chn l\\xe0m admin\" : \"B quyn admin\",\n                        description: memberAction?.type === \"remove\" ? \"Bn chc chn mun x\\xf3a th\\xe0nh vi\\xean n\\xe0y khi nh\\xf3m?\" : memberAction?.type === \"makeAdmin\" ? \"Trao quyn admin cho th\\xe0nh vi\\xean n\\xe0y?\" : \"B quyn admin ca th\\xe0nh vi\\xean n\\xe0y?\",\n                        confirmLabel: memberAction?.type === \"remove\" ? \"X\\xf3a khi nh\\xf3m\" : memberAction?.type === \"makeAdmin\" ? \"Chn l\\xe0m admin\" : \"B admin\",\n                        variant: memberAction?.type === \"remove\" ? \"danger\" : \"default\"\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_group__WEBPACK_IMPORTED_MODULE_8__.ConfirmActionModal, {\n                        isOpen: confirmLeaveOpen,\n                        onClose: ()=>setConfirmLeaveOpen(false),\n                        onConfirm: handleLeaveGroupConfirm,\n                        title: \"Ri nh\\xf3m\",\n                        description: \"Bn chc chn mun ri khi nh\\xf3m n\\xe0y?\",\n                        confirmLabel: \"Ri nh\\xf3m\",\n                        variant: \"danger\"\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2ZlYXR1cmVzL2NoYXQvQ29udmVyc2F0aW9ucy53ZWIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7NkRBQ3NGO0FBQzFDO0FBQ0E7QUFDdUI7QUFDTztBQUNsQztBQUN3QjtBQUNrQjtBQUNrQztBQUM2QjtBQUNwRztBQUM3QyxNQUFNNkIsY0FBY0Qsa0RBQW1CLElBQUk7QUFDNUIsU0FBU0c7SUFDcEJDLFFBQVFDLEdBQUcsQ0FBQztJQUNaLE1BQU1DLFNBQVMxQiwwREFBU0E7SUFDeEIsTUFBTSxDQUFDMkIsZUFBZUMsaUJBQWlCLEdBQUc3QiwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ3JELE1BQU0sQ0FBQzhCLHNCQUFzQkMsd0JBQXdCLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUNqRSxNQUFNLENBQUNnQyxTQUFTQyxXQUFXLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNrQyxZQUFZQyxjQUFjLEdBQUduQywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNvQyxhQUFhQyxlQUFlLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNzQyxtQkFBbUJDLHFCQUFxQixHQUFHdkMsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDd0Msa0JBQWtCQyxvQkFBb0IsR0FBR3pDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQzBDLG1CQUFtQkMscUJBQXFCLEdBQUczQywrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUM0QyxrQkFBa0JDLG9CQUFvQixHQUFHN0MsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDOEMsY0FBY0MsZ0JBQWdCLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNnRCxZQUFZQyxjQUFjLEdBQUdqRCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNrRCxrQkFBa0JDLG9CQUFvQixHQUFHbkQsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDb0QsZUFBZUMs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dURBQVNBLEVBQUU7Z0JBQUVpSyxVQUFVO29CQUFDckssc0RBQUlBLENBQUNpQiw4REFBZUEsRUFBRTt3QkFBRWtMLFFBQVFySjt3QkFBa0JzSixTQUFTLElBQU1ySixvQkFBb0I7d0JBQVF1SixXQUFXNUQ7d0JBQXlCakUsY0FBY3JDO29CQUFxQjtvQkFBSXBDLHNEQUFJQSxDQUFDa0IsbUVBQW9CQSxFQUFFO3dCQUFFaUwsUUFBUW5KO3dCQUFtQm9KLFNBQVMsSUFBTW5KLHFCQUFxQjt3QkFBUXNKLFFBQVEzRDt3QkFBdUI0RCxjQUFjcEsscUJBQXFCbUQsS0FBSzt3QkFBRWtILGVBQWVySyxxQkFBcUJpSixXQUFXO29CQUFDO29CQUFJckwsc0RBQUlBLENBQUNtQixpRUFBa0JBLEVBQUU7d0JBQUVnTCxRQUFRTyxRQUFRdEo7d0JBQWVnSixTQUFTLElBQU0vSSxnQkFBZ0I7d0JBQU9pSixXQUFXekQ7d0JBQTJCdEQsT0FBT25DLGNBQWMwRixTQUFTLFdBQ25yRSw0QkFDQTFGLGNBQWMwRixTQUFTLGNBQ25CLHNCQUNBO3dCQUFrQjZELGFBQWF2SixjQUFjMEYsU0FBUyxXQUMxRCxvRUFDQTFGLGNBQWMwRixTQUFTLGNBQ25CLGtEQUNBO3dCQUFzQzhELGNBQWN4SixjQUFjMEYsU0FBUyxXQUMvRSx3QkFDQTFGLGNBQWMwRixTQUFTLGNBQ25CLHNCQUNBO3dCQUFZK0QsU0FBU3pKLGNBQWMwRixTQUFTLFdBQVcsV0FBVztvQkFBVTtvQkFBSTlJLHNEQUFJQSxDQUFDbUIsaUVBQWtCQSxFQUFFO3dCQUFFZ0wsUUFBUWpKO3dCQUFrQmtKLFNBQVMsSUFBTWpKLG9CQUFvQjt3QkFBUW1KLFdBQVdyRDt3QkFBeUIxRCxPQUFPO3dCQUFzQm9ILGFBQWE7d0JBQWlGQyxjQUFjO3dCQUFzQkMsU0FBUztvQkFBUztpQkFBRztZQUFDO1NBQUk7SUFBQztBQUNoYiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9mZWF0dXJlcy9jaGF0L0NvbnZlcnNhdGlvbnMud2ViLmpzPzg3NWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IGdldENvbnZlcnNhdGlvbnMsIGxvZ291dCwgc2V0QXV0aFRva2VuIH0gZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCB7IGRpc2Nvbm5lY3RTb2NrZXQsIGNvbm5lY3RTb2NrZXQsIGdldFNvY2tldCB9IGZyb20gJy4uLy4uL3NvY2tldCc7XG5pbXBvcnQgJy4uLy4uL3N0eWxlcy9jb252ZXJzYXRpb25zLmNzcyc7XG5pbXBvcnQgeyBEZXNrdG9wQ2hhdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2hhdC9EZXNrdG9wQ2hhdCc7XG5pbXBvcnQgeyBOZXdDb252ZXJzYXRpb25Nb2RhbCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2hhdC9OZXdDb252ZXJzYXRpb25Nb2RhbCc7XG5pbXBvcnQgeyBHcm91cEluZm9QYW5lbCwgQWRkTWVtYmVyc01vZGFsLCBVcGRhdGVHcm91cEluZm9Nb2RhbCwgQ29uZmlybUFjdGlvbk1vZGFsLCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZ3JvdXAnO1xuaW1wb3J0IHsgYWRkR3JvdXBNZW1iZXJzLCBsZWF2ZUdyb3VwLCBtYWtlR3JvdXBBZG1pbiwgcmVtb3ZlR3JvdXBBZG1pbiwgcmVtb3ZlR3JvdXBNZW1iZXIsIHVwZGF0ZUdyb3VwSW5mbywgY3JlYXRlSW52aXRlTGluaywgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IHBhY2thZ2VKc29uIGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbic7XG5jb25zdCBBUFBfVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb24gfHwgJzEuMC4wJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnZlcnNhdGlvbnNTY3JlZW4oKSB7XG4gICAgY29uc29sZS5sb2coJ/CfkqwgQ29udmVyc2F0aW9uc1NjcmVlbiBjb21wb25lbnQgcmVuZGVyaW5nLi4uJyk7XG4gICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gICAgY29uc3QgW2NvbnZlcnNhdGlvbnMsIHNldENvbnZlcnNhdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtzZWxlY3RlZENvbnZlcnNhdGlvbiwgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW3NlYXJjaFRleHQsIHNldFNlYXJjaFRleHRdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFRhYiwgc2V0U2VsZWN0ZWRUYWJdID0gdXNlU3RhdGUoJ2FsbCcpO1xuICAgIGNvbnN0IFtpc0NyZWF0ZU1vZGFsT3Blbiwgc2V0SXNDcmVhdGVNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0FkZE1lbWJlcnNPcGVuLCBzZXRJc0FkZE1lbWJlcnNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNVcGRhdGVHcm91cE9wZW4sIHNldElzVXBkYXRlR3JvdXBPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbY29uZmlybUxlYXZlT3Blbiwgc2V0Q29uZmlybUxlYXZlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW21lbWJlckFjdGlvbiwgc2V0TWVtYmVyQWN0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtpbnZpdGVMaW5rLCBzZXRJbnZpdGVMaW5rXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtpbnZpdGVHZW5lcmF0aW5nLCBzZXRJbnZpdGVHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNJbmZvVmlzaWJsZSwgc2V0SXNJbmZvVmlzaWJsZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDb252ZXJzYXRpb25zU2NyZWVuIHVzZUVmZmVjdCAtIGxvYWRpbmcgY29udmVyc2F0aW9ucy4uLicpO1xuICAgICAgICAvLyBDb25uZWN0IHNvY2tldCBpZiBub3QgY29ubmVjdGVkXG4gICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcbiAgICAgICAgICAgIGlmICghc29ja2V0IHx8ICFzb2NrZXQuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgQ29ubmVjdGluZyBzb2NrZXQuLi4nKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0U29ja2V0KHRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoc29jaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFNvY2tldCBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTb2NrZXQgY29ubmVjdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU29ja2V0IGFscmVhZHkgY29ubmVjdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9hZENvbnZlcnNhdGlvbnMoKTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlRGVlcExpbmtKb2luID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXRhaWwgPSBldmVudC5kZXRhaWw7XG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBkZXRhaWw/LmNvbnZlcnNhdGlvbjtcbiAgICAgICAgICAgIGlmICghY29udmVyc2F0aW9uPy5faWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tDb252ZXJzYXRpb25zXSBSZWNlaXZlZCBkZWVwIGxpbmsgam9pbiBldmVudCB3aXRob3V0IGNvbnZlcnNhdGlvbiBwYXlsb2FkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDb252ZXJzYXRpb25zXSBEZWVwIGxpbmsgam9pbmVkIGNvbnZlcnNhdGlvbjonLCBjb252ZXJzYXRpb24uX2lkKTtcbiAgICAgICAgICAgIHNldENvbnZlcnNhdGlvbnMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gcHJldi5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSBjb252ZXJzYXRpb24uX2lkKTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjb252ZXJzYXRpb24sIC4uLnByZXZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjbG9uZSA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICBjbG9uZVtleGlzdGluZ0luZGV4XSA9IGNvbnZlcnNhdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb252ZXJzYXRpb246am9pbmVkJywgaGFuZGxlRGVlcExpbmtKb2luKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb252ZXJzYXRpb246am9pbmVkJywgaGFuZGxlRGVlcExpbmtKb2luKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgTG9hZGluZyBjb252ZXJzYXRpb25zIGZyb20gQVBJLi4uJyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ29udmVyc2F0aW9ucyBsb2FkZWQ6JywgZGF0YS5sZW5ndGgsICdpdGVtcycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgU2FtcGxlIGNvbnZlcnNhdGlvbjonLCBkYXRhWzBdID8ge1xuICAgICAgICAgICAgICAgIF9pZDogZGF0YVswXS5faWQsXG4gICAgICAgICAgICAgICAgaXNHcm91cDogZGF0YVswXS5pc0dyb3VwLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhWzBdLnRpdGxlLFxuICAgICAgICAgICAgICAgIG9wcG9uZW50OiBkYXRhWzBdLm9wcG9uZW50LFxuICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlU2VuZGVyOiBkYXRhWzBdLmxhc3RNZXNzYWdlU2VuZGVyXG4gICAgICAgICAgICB9IDogJ05vIGNvbnZlcnNhdGlvbnMnKTtcbiAgICAgICAgICAgIHNldENvbnZlcnNhdGlvbnMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgbG9hZGluZyBjb252ZXJzYXRpb25zOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgTG9hZGluZyBjb21wbGV0ZSwgbG9hZGluZyBzdGF0ZTonLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKTtcbiAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IGxvZ291dCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfaWQnKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyX2RhdGEnKTtcbiAgICAgICAgICAgIHNldEF1dGhUb2tlbigpO1xuICAgICAgICAgICAgZGlzY29ubmVjdFNvY2tldCgpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfaWQnKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyX2RhdGEnKTtcbiAgICAgICAgICAgIHNldEF1dGhUb2tlbigpO1xuICAgICAgICAgICAgZGlzY29ubmVjdFNvY2tldCgpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZmlsdGVyZWRDb252ZXJzYXRpb25zID0gY29udmVyc2F0aW9ucy5maWx0ZXIoY29udiA9PiB7XG4gICAgICAgIGlmIChzZWxlY3RlZFRhYiA9PT0gJ2dyb3VwcycpIHtcbiAgICAgICAgICAgIHJldHVybiBjb252LmlzR3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkVGFiID09PSAnZGlyZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuICFjb252LmlzR3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkuZmlsdGVyKGNvbnYgPT4ge1xuICAgICAgICBpZiAoIXNlYXJjaFRleHQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc2VhcmNoTG93ZXIgPSBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiAoY29udi50aXRsZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgICAgIGNvbnYubGFzdE1lc3NhZ2VTZW5kZXI/Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikpO1xuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1hdFRpbWUgPSAoZGF0ZVN0cmluZykgPT4ge1xuICAgICAgICBpZiAoIWRhdGVTdHJpbmcpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gICAgICAgIGlmIChkYXlzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoJ3ZpLVZOJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRheXMgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAnSMO0bSBxdWEnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRheXMgPCA3KSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3ZpLVZOJywgeyB3ZWVrZGF5OiAnc2hvcnQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCd2aS1WTicsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnMi1kaWdpdCcgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldEluaXRpYWxzID0gKG5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIG5hbWVcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAubWFwKG4gPT4gblswXSlcbiAgICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgICAgLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgIC5zbGljZSgwLCAyKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEF2YXRhciA9IChjb252KSA9PiB7XG4gICAgICAgIGlmIChjb252LmlzR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiAn8J+RpSc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gxq91IHRpw6puIGF2YXRhciB04burIG9wcG9uZW50LCBzYXUgxJHDsyB04burIGxhc3RNZXNzYWdlU2VuZGVyXG4gICAgICAgIGNvbnN0IGF2YXRhciA9IGNvbnYub3Bwb25lbnQ/LmF2YXRhciB8fCBjb252Lmxhc3RNZXNzYWdlU2VuZGVyPy5hdmF0YXI7XG4gICAgICAgIGlmIChhdmF0YXIpIHtcbiAgICAgICAgICAgIHJldHVybiBfanN4KFwiaW1nXCIsIHsgc3JjOiBhdmF0YXIsIGFsdDogXCJcIiwgY2xhc3NOYW1lOiBcImNvbnZlcnNhdGlvbi1hdmF0YXItaW1nXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTuG6v3Uga2jDtG5nIGPDsyBhdmF0YXIsIGTDuW5nIGluaXRpYWxzXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb252LnRpdGxlIHx8IGNvbnYub3Bwb25lbnQ/Lm5hbWUgfHwgY29udi5sYXN0TWVzc2FnZVNlbmRlcj8ubmFtZSB8fCAnVSc7XG4gICAgICAgIHJldHVybiBnZXRJbml0aWFscyhuYW1lKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUNvbnZlcnNhdGlvbkNsaWNrID0gKGNvbnYpID0+IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb24oY29udik7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVPcGVuTmV3Q2hhdCA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNDcmVhdGVNb2RhbE9wZW4odHJ1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVDb252ZXJzYXRpb25DcmVhdGVkID0gKGNvbnZlcnNhdGlvbikgPT4ge1xuICAgICAgICBzZXRDb252ZXJzYXRpb25zKChwcmV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHByZXYuZmlsdGVyKChpdGVtKSA9PiBpdGVtLl9pZCAhPT0gY29udmVyc2F0aW9uLl9pZCk7XG4gICAgICAgICAgICByZXR1cm4gW2NvbnZlcnNhdGlvbiwgLi4uZmlsdGVyZWRdO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb24oY29udmVyc2F0aW9uKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlZnJlc2hDdXJyZW50Q29udmVyc2F0aW9uID0gKHVwZGF0ZWQpID0+IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb24odXBkYXRlZCk7XG4gICAgICAgIHNldENvbnZlcnNhdGlvbnMoKHByZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJldi5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB1cGRhdGVkLl9pZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiBbdXBkYXRlZCwgLi4ucHJldl07XG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgIGNsb25lW2luZGV4XSA9IHVwZGF0ZWQ7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQWRkTWVtYmVyc0NvbmZpcm0gPSBhc3luYyAodXNlcklkcykgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdGVkQ29udmVyc2F0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgYWRkR3JvdXBNZW1iZXJzKHNlbGVjdGVkQ29udmVyc2F0aW9uLl9pZCwgdXNlcklkcyk7XG4gICAgICAgIHJlZnJlc2hDdXJyZW50Q29udmVyc2F0aW9uKHVwZGF0ZWQpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlVXBkYXRlR3JvdXBJbmZvID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKCFzZWxlY3RlZENvbnZlcnNhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHVwZGF0ZUdyb3VwSW5mbyhzZWxlY3RlZENvbnZlcnNhdGlvbi5faWQsIGRhdGEpO1xuICAgICAgICByZWZyZXNoQ3VycmVudENvbnZlcnNhdGlvbih1cGRhdGVkKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZU1lbWJlckFjdGlvbkV4ZWN1dGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0ZWRDb252ZXJzYXRpb24gfHwgIW1lbWJlckFjdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB1cGRhdGVkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChtZW1iZXJBY3Rpb24udHlwZSA9PT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkID0gYXdhaXQgcmVtb3ZlR3JvdXBNZW1iZXIoc2VsZWN0ZWRDb252ZXJzYXRpb24uX2lkLCBtZW1iZXJBY3Rpb24udXNlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lbWJlckFjdGlvbi50eXBlID09PSAnbWFrZUFkbWluJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSBhd2FpdCBtYWtlR3JvdXBBZG1pbihzZWxlY3RlZENvbnZlcnNhdGlvbi5faWQsIG1lbWJlckFjdGlvbi51c2VySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVtYmVyQWN0aW9uLnR5cGUgPT09ICdyZW1vdmVBZG1pbicpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkID0gYXdhaXQgcmVtb3ZlR3JvdXBBZG1pbihzZWxlY3RlZENvbnZlcnNhdGlvbi5faWQsIG1lbWJlckFjdGlvbi51c2VySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoQ3VycmVudENvbnZlcnNhdGlvbih1cGRhdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNZW1iZXIgYWN0aW9uIGVycm9yOicsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRNZW1iZXJBY3Rpb24obnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUxlYXZlR3JvdXBDb25maXJtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdGVkQ29udmVyc2F0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgbGVhdmVHcm91cChzZWxlY3RlZENvbnZlcnNhdGlvbi5faWQpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb24obnVsbCk7XG4gICAgICAgICAgICBsb2FkQ29udmVyc2F0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xlYXZlIGdyb3VwIGVycm9yOicsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRDb25maXJtTGVhdmVPcGVuKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaW52aXRlQmFzZVVybCA9IGltcG9ydC5tZXRhPy5lbnY/LlZJVEVfSU5WSVRFX0JBU0VfVVJMIHx8XG4gICAgICAgICdodHRwczovL2JhY2tlbmQzNi5kZXYnO1xuICAgIGNvbnN0IG5vcm1hbGl6ZUJhc2UgPSAodXJsKSA9PiB1cmwucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgY29uc3QgYnVpbGRJbnZpdGVVcmwgPSAoc2hhcmVVcmwsIGludml0ZUNvZGUpID0+IHtcbiAgICAgICAgY29uc3QgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoaW52aXRlQmFzZVVybCk7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTaGFyZSA9IHNoYXJlVXJsPy50cmltKCk7XG4gICAgICAgIGlmIChub3JtYWxpemVkU2hhcmUpIHtcbiAgICAgICAgICAgIGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KG5vcm1hbGl6ZWRTaGFyZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplZFNoYXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IG5vcm1hbGl6ZWRTaGFyZS5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbiAgICAgICAgICAgIGlmIChjbGVhbmVkLnN0YXJ0c1dpdGgoJ2ludml0ZS8nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtiYXNlfS8ke2NsZWFuZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2xlYW5lZC5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2Jhc2V9L2ludml0ZS8ke2NsZWFuZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBgJHtiYXNlfS8ke2NsZWFuZWR9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW52aXRlQ29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke2Jhc2V9L2ludml0ZS8ke2ludml0ZUNvZGV9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlSW52aXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdGVkQ29udmVyc2F0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0SW52aXRlR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNyZWF0ZUludml0ZUxpbmsoc2VsZWN0ZWRDb252ZXJzYXRpb24uX2lkKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBidWlsZEludml0ZVVybChyZXMuc2hhcmVVcmwsIHJlcy5pbnZpdGVDb2RlKTtcbiAgICAgICAgICAgIHNldEludml0ZUxpbmsobGluayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ3JlYXRlIGludml0ZSBsaW5rIGVycm9yOicsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJbnZpdGVHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc29sZS5sb2coJ/CfkqwgQ29udmVyc2F0aW9uc1NjcmVlbiByZW5kZXIgLSBsb2FkaW5nOicsIGxvYWRpbmcsICdjb252ZXJzYXRpb25zOicsIGNvbnZlcnNhdGlvbnMubGVuZ3RoKTtcbiAgICAvLyBUZXN0OiBBZGQgdmlzaWJsZSBjb250ZW50IHRvIHZlcmlmeSByZW5kZXJpbmdcbiAgICBpZiAoIWxvYWRpbmcgJiYgY29udmVyc2F0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgTm8gY29udmVyc2F0aW9ucywgc2hvd2luZyBlbXB0eSBzdGF0ZScpO1xuICAgIH1cbiAgICBjb25zdCBjZW50ZXJQYW5lbENsYXNzID0gc2VsZWN0ZWRDb252ZXJzYXRpb25cbiAgICAgICAgPyAnY2VudGVyLXBhbmVsIGNlbnRlci1wYW5lbC0tY2hhdC1hY3RpdmUnXG4gICAgICAgIDogJ2NlbnRlci1wYW5lbCc7XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkZXNrdG9wLWxheW91dFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxlZnQtcGFuZWxcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkZXNrdG9wLWhlYWRlclwiLCBjaGlsZHJlbjogW19qc3hzKFwiaDFcIiwgeyBjbGFzc05hbWU6IFwiZGVza3RvcC1oZWFkZXItdGl0bGVcIiwgY2hpbGRyZW46IFtcIkRheTJcIiwgX2pzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImRlc2t0b3AtaGVhZGVyLXZlcnNpb25cIiwgY2hpbGRyZW46IFtcInZcIiwgQVBQX1ZFUlNJT05dIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGVza3RvcC1oZWFkZXItYWN0aW9uc1wiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiaGVhZGVyLWJ1dHRvblwiLCB0aXRsZTogXCJNXFx1MUVBMW5nIHhcXHUwMEUzIGhcXHUxRUQ5aSBEYXkyXCIsIG9uQ2xpY2s6ICgpID0+IHJvdXRlci5wdXNoKCcvZmVlZCcpLCBjaGlsZHJlbjogXCJcXHVEODNEXFx1RENGMFwiIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImhlYWRlci1idXR0b25cIiwgdGl0bGU6IFwiQ1xcdTAwRTBpIFxcdTAxMTFcXHUxRUI3dFwiLCBvbkNsaWNrOiAoKSA9PiByb3V0ZXIucHVzaCgnL3NldHRpbmdzJyksIGNoaWxkcmVuOiBcIlxcdTI2OTlcXHVGRTBGXCIgfSksIF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiaGVhZGVyLWJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVMb2dvdXQsIGNoaWxkcmVuOiBcIlxcdUQ4M0RcXHVERUFBXCIgfSldIH0pXSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzZWFyY2gtY29udGFpbmVyXCIsIGNoaWxkcmVuOiBfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IFwiVFxcdTAwRUNtIGtpXFx1MUVCRm0uLi5cIiwgY2xhc3NOYW1lOiBcInNlYXJjaC1pbnB1dFwiLCB2YWx1ZTogc2VhcmNoVGV4dCwgb25DaGFuZ2U6IChlKSA9PiBzZXRTZWFyY2hUZXh0KGUudGFyZ2V0LnZhbHVlKSB9KSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJuZXctY2hhdC1hY3Rpb25zIHNpbmdsZVwiLCBjaGlsZHJlbjogX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJuZXctY2hhdC1idXR0b25cIiwgb25DbGljazogaGFuZGxlT3Blbk5ld0NoYXQsIGNoaWxkcmVuOiBcIisgVFxcdTFFQTFvIGN1XFx1MUVEOWMgdHJcXHUwMEYyIGNodXlcXHUxRUM3blwiIH0pIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0YWJzLWNvbnRhaW5lclwiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IGB0YWIgJHtzZWxlY3RlZFRhYiA9PT0gJ2FsbCcgPyAnYWN0aXZlJyA6ICcnfWAsIG9uQ2xpY2s6ICgpID0+IHNldFNlbGVjdGVkVGFiKCdhbGwnKSwgY2hpbGRyZW46IFwiVFxcdTFFQTV0IGNcXHUxRUEzXCIgfSksIF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IGB0YWIgJHtzZWxlY3RlZFRhYiA9PT0gJ2RpcmVjdCcgPyAnYWN0aXZlJyA6ICcnfWAsIG9uQ2xpY2s6ICgpID0+IHNldFNlbGVjdGVkVGFiKCdkaXJlY3QnKSwgY2hpbGRyZW46IFwiVGluIG5oXFx1MUVBRm5cIiB9KSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogYHRhYiAke3NlbGVjdGVkVGFiID09PSAnZ3JvdXBzJyA/ICdhY3RpdmUnIDogJyd9YCwgb25DbGljazogKCkgPT4gc2V0U2VsZWN0ZWRUYWIoJ2dyb3VwcycpLCBjaGlsZHJlbjogXCJOaFxcdTAwRjNtXCIgfSldIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnZlcnNhdGlvbnMtbGlzdFwiLCBjaGlsZHJlbjogbG9hZGluZyA/IChfanN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgcGFkZGluZzogMjAsIHRleHRBbGlnbjogJ2NlbnRlcicsIGNvbG9yOiAnIzk5OScgfSwgY2hpbGRyZW46IFwiXFx1MDExMGFuZyB0XFx1MUVBM2kuLi5cIiB9KSkgOiBmaWx0ZXJlZENvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwID8gKF9qc3goXCJkaXZcIiwgeyBzdHlsZTogeyBwYWRkaW5nOiAyMCwgdGV4dEFsaWduOiAnY2VudGVyJywgY29sb3I6ICcjOTk5JyB9LCBjaGlsZHJlbjogXCJLaFxcdTAwRjRuZyBjXFx1MDBGMyBjdVxcdTFFRDljIHRyXFx1MDBGMiBjaHV5XFx1MUVDN25cIiB9KSkgOiAoZmlsdGVyZWRDb252ZXJzYXRpb25zLm1hcCgoY29udikgPT4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgY29udmVyc2F0aW9uLWl0ZW0gJHtzZWxlY3RlZENvbnZlcnNhdGlvbj8uX2lkID09PSBjb252Ll9pZCA/ICdzZWxlY3RlZCcgOiAnJ31gLCBvbkNsaWNrOiAoKSA9PiBoYW5kbGVDb252ZXJzYXRpb25DbGljayhjb252KSwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnZlcnNhdGlvbi1hdmF0YXJcIiwgY2hpbGRyZW46IGdldEF2YXRhcihjb252KSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29udmVyc2F0aW9uLWNvbnRlbnRcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb252ZXJzYXRpb24taGVhZGVyXCIsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY29udmVyc2F0aW9uLW5hbWVcIiwgY2hpbGRyZW46IGNvbnYuaXNHcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnYudGl0bGUgfHwgYE5ow7NtICgke2NvbnYubWVtYmVycy5sZW5ndGh9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjb252LnRpdGxlIHx8IGNvbnYub3Bwb25lbnQ/Lm5hbWUgfHwgY29udi5sYXN0TWVzc2FnZVNlbmRlcj8ubmFtZSB8fCAnTmfGsOG7nWkgZMO5bmcnIH0pLCBjb252Lmxhc3RNZXNzYWdlQXQgJiYgKF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNvbnZlcnNhdGlvbi10aW1lXCIsIGNoaWxkcmVuOiBmb3JtYXRUaW1lKGNvbnYubGFzdE1lc3NhZ2VBdCkgfSkpXSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb252ZXJzYXRpb24tcHJldmlld1wiLCBjaGlsZHJlbjogY29udi5sYXN0TWVzc2FnZVNlbmRlcj8ubmFtZSA/IGAke2NvbnYubGFzdE1lc3NhZ2VTZW5kZXIubmFtZX06IGAgOiAnJyB9KV0gfSldIH0sIGNvbnYuX2lkKSkpKSB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNlbnRlclBhbmVsQ2xhc3MsIGNoaWxkcmVuOiBzZWxlY3RlZENvbnZlcnNhdGlvbiA/IChfanN4KERlc2t0b3BDaGF0LCB7IGNvbnZlcnNhdGlvbklkOiBzZWxlY3RlZENvbnZlcnNhdGlvbi5faWQsIGNvbnZlcnNhdGlvbk5hbWU6IHNlbGVjdGVkQ29udmVyc2F0aW9uLmlzR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRDb252ZXJzYXRpb24udGl0bGUgfHwgYE5ow7NtICgke3NlbGVjdGVkQ29udmVyc2F0aW9uLm1lbWJlcnMubGVuZ3RofSlgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkQ29udmVyc2F0aW9uLnRpdGxlIHx8IHNlbGVjdGVkQ29udmVyc2F0aW9uLm9wcG9uZW50Py5uYW1lIHx8ICdOZ8aw4budaSBkw7luZycsIGlzR3JvdXA6IHNlbGVjdGVkQ29udmVyc2F0aW9uLmlzR3JvdXAsIGdyb3VwQXZhdGFyOiBzZWxlY3RlZENvbnZlcnNhdGlvbi5ncm91cEF2YXRhciwgZ3JvdXBNZW1iZXJDb3VudDogc2VsZWN0ZWRDb252ZXJzYXRpb24ubWVtYmVycy5sZW5ndGgsIG1lbWJlcklkczogc2VsZWN0ZWRDb252ZXJzYXRpb24ubWVtYmVycywgb25Ub2dnbGVJbmZvOiAoKSA9PiBzZXRJc0luZm9WaXNpYmxlKChwcmV2KSA9PiAhcHJldiksIGlzSW5mb1Zpc2libGU6IGlzSW5mb1Zpc2libGUgfSkpIDogKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImVtcHR5LWNoYXQtYXJlYVwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZW1wdHktY2hhdC10aXRsZVwiLCBjaGlsZHJlbjogXCJDaFxcdTFFQ0RuIG1cXHUxRUQ5dCBjdVxcdTFFRDljIHRyXFx1MDBGMiBjaHV5XFx1MUVDN25cIiB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJlbXB0eS1jaGF0LXN1YnRpdGxlXCIsIGNoaWxkcmVuOiBcIkNoXFx1MUVDRG4gbVxcdTFFRDl0IGN1XFx1MUVEOWMgdHJcXHUwMEYyIGNodXlcXHUxRUM3biB0XFx1MUVFQiBkYW5oIHNcXHUwMEUxY2ggXFx1MDExMVxcdTFFQzMgYlxcdTFFQUZ0IFxcdTAxMTFcXHUxRUE3dSBuaFxcdTFFQUZuIHRpblwiIH0pXSB9KSkgfSksIHNlbGVjdGVkQ29udmVyc2F0aW9uICYmIHNlbGVjdGVkQ29udmVyc2F0aW9uLmlzR3JvdXAgJiYgaXNJbmZvVmlzaWJsZSAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaGF0LWluZm8tcGFuZWxcIiwgY2hpbGRyZW46IF9qc3goR3JvdXBJbmZvUGFuZWwsIHsgY29udmVyc2F0aW9uOiBzZWxlY3RlZENvbnZlcnNhdGlvbiwgY3VycmVudFVzZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKSB8fCAnJywgb25BZGRNZW1iZXJzOiAoKSA9PiBzZXRJc0FkZE1lbWJlcnNPcGVuKHRydWUpLCBvblJlbW92ZU1lbWJlcjogKHVzZXJJZCkgPT4gc2V0TWVtYmVyQWN0aW9uKHsgdHlwZTogJ3JlbW92ZScsIHVzZXJJZCB9KSwgb25MZWF2ZUdyb3VwOiAoKSA9PiBzZXRDb25maXJtTGVhdmVPcGVuKHRydWUpLCBvbk1ha2VBZG1pbjogKHVzZXJJZCkgPT4gc2V0TWVtYmVyQWN0aW9uKHsgdHlwZTogJ21ha2VBZG1pbicsIHVzZXJJZCB9KSwgb25SZW1vdmVBZG1pbjogKHVzZXJJZCkgPT4gc2V0TWVtYmVyQWN0aW9uKHsgdHlwZTogJ3JlbW92ZUFkbWluJywgdXNlcklkIH0pLCBvbkNoYW5nZUluZm86ICgpID0+IHNldElzVXBkYXRlR3JvdXBPcGVuKHRydWUpLCBvbkdlbmVyYXRlSW52aXRlOiBoYW5kbGVHZW5lcmF0ZUludml0ZSwgaW52aXRlTGluazogaW52aXRlTGluayA/PyB1bmRlZmluZWQsIGlzR2VuZXJhdGluZ0ludml0ZTogaW52aXRlR2VuZXJhdGluZyB9KSB9KSksIF9qc3goTmV3Q29udmVyc2F0aW9uTW9kYWwsIHsgaXNPcGVuOiBpc0NyZWF0ZU1vZGFsT3Blbiwgb25DbG9zZTogKCkgPT4gc2V0SXNDcmVhdGVNb2RhbE9wZW4oZmFsc2UpLCBvbkNyZWF0ZWQ6IGhhbmRsZUNvbnZlcnNhdGlvbkNyZWF0ZWQgfSksIHNlbGVjdGVkQ29udmVyc2F0aW9uICYmIHNlbGVjdGVkQ29udmVyc2F0aW9uLmlzR3JvdXAgJiYgKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3goQWRkTWVtYmVyc01vZGFsLCB7IGlzT3BlbjogaXNBZGRNZW1iZXJzT3Blbiwgb25DbG9zZTogKCkgPT4gc2V0SXNBZGRNZW1iZXJzT3BlbihmYWxzZSksIG9uQ29uZmlybTogaGFuZGxlQWRkTWVtYmVyc0NvbmZpcm0sIGNvbnZlcnNhdGlvbjogc2VsZWN0ZWRDb252ZXJzYXRpb24gfSksIF9qc3goVXBkYXRlR3JvdXBJbmZvTW9kYWwsIHsgaXNPcGVuOiBpc1VwZGF0ZUdyb3VwT3Blbiwgb25DbG9zZTogKCkgPT4gc2V0SXNVcGRhdGVHcm91cE9wZW4oZmFsc2UpLCBvblNhdmU6IGhhbmRsZVVwZGF0ZUdyb3VwSW5mbywgaW5pdGlhbFRpdGxlOiBzZWxlY3RlZENvbnZlcnNhdGlvbi50aXRsZSwgaW5pdGlhbEF2YXRhcjogc2VsZWN0ZWRDb252ZXJzYXRpb24uZ3JvdXBBdmF0YXIgfSksIF9qc3goQ29uZmlybUFjdGlvbk1vZGFsLCB7IGlzT3BlbjogQm9vbGVhbihtZW1iZXJBY3Rpb24pLCBvbkNsb3NlOiAoKSA9PiBzZXRNZW1iZXJBY3Rpb24obnVsbCksIG9uQ29uZmlybTogaGFuZGxlTWVtYmVyQWN0aW9uRXhlY3V0ZSwgdGl0bGU6IG1lbWJlckFjdGlvbj8udHlwZSA9PT0gJ3JlbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdYw7NhIHRow6BuaCB2acOqbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1lbWJlckFjdGlvbj8udHlwZSA9PT0gJ21ha2VBZG1pbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnQ2jhu41uIGzDoG0gYWRtaW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ0Lhu48gcXV54buBbiBhZG1pbicsIGRlc2NyaXB0aW9uOiBtZW1iZXJBY3Rpb24/LnR5cGUgPT09ICdyZW1vdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnQuG6oW4gY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSB0aMOgbmggdmnDqm4gbsOgeSBraOG7j2kgbmjDs20/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbWVtYmVyQWN0aW9uPy50eXBlID09PSAnbWFrZUFkbWluJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdUcmFvIHF1eeG7gW4gYWRtaW4gY2hvIHRow6BuaCB2acOqbiBuw6B5PydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnQuG7jyBxdXnhu4FuIGFkbWluIGPhu6dhIHRow6BuaCB2acOqbiBuw6B5PycsIGNvbmZpcm1MYWJlbDogbWVtYmVyQWN0aW9uPy50eXBlID09PSAncmVtb3ZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1jDs2Ega2jhu49pIG5ow7NtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbWVtYmVyQWN0aW9uPy50eXBlID09PSAnbWFrZUFkbWluJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdDaOG7jW4gbMOgbSBhZG1pbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnQuG7jyBhZG1pbicsIHZhcmlhbnQ6IG1lbWJlckFjdGlvbj8udHlwZSA9PT0gJ3JlbW92ZScgPyAnZGFuZ2VyJyA6ICdkZWZhdWx0JyB9KSwgX2pzeChDb25maXJtQWN0aW9uTW9kYWwsIHsgaXNPcGVuOiBjb25maXJtTGVhdmVPcGVuLCBvbkNsb3NlOiAoKSA9PiBzZXRDb25maXJtTGVhdmVPcGVuKGZhbHNlKSwgb25Db25maXJtOiBoYW5kbGVMZWF2ZUdyb3VwQ29uZmlybSwgdGl0bGU6IFwiUlxcdTFFRERpIG5oXFx1MDBGM21cIiwgZGVzY3JpcHRpb246IFwiQlxcdTFFQTFuIGNoXFx1MUVBRmMgY2hcXHUxRUFGbiBtdVxcdTFFRDFuIHJcXHUxRUREaSBraFxcdTFFQ0ZpIG5oXFx1MDBGM20gblxcdTAwRTB5P1wiLCBjb25maXJtTGFiZWw6IFwiUlxcdTFFRERpIG5oXFx1MDBGM21cIiwgdmFyaWFudDogXCJkYW5nZXJcIiB9KV0gfSkpXSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIkZyYWdtZW50IiwiX0ZyYWdtZW50IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJnZXRDb252ZXJzYXRpb25zIiwibG9nb3V0Iiwic2V0QXV0aFRva2VuIiwiZGlzY29ubmVjdFNvY2tldCIsImNvbm5lY3RTb2NrZXQiLCJnZXRTb2NrZXQiLCJEZXNrdG9wQ2hhdCIsIk5ld0NvbnZlcnNhdGlvbk1vZGFsIiwiR3JvdXBJbmZvUGFuZWwiLCJBZGRNZW1iZXJzTW9kYWwiLCJVcGRhdGVHcm91cEluZm9Nb2RhbCIsIkNvbmZpcm1BY3Rpb25Nb2RhbCIsImFkZEdyb3VwTWVtYmVycyIsImxlYXZlR3JvdXAiLCJtYWtlR3JvdXBBZG1pbiIsInJlbW92ZUdyb3VwQWRtaW4iLCJyZW1vdmVHcm91cE1lbWJlciIsInVwZGF0ZUdyb3VwSW5mbyIsImNyZWF0ZUludml0ZUxpbmsiLCJwYWNrYWdlSnNvbiIsIkFQUF9WRVJTSU9OIiwidmVyc2lvbiIsIkNvbnZlcnNhdGlvbnNTY3JlZW4iLCJjb25zb2xlIiwibG9nIiwicm91dGVyIiwiY29udmVyc2F0aW9ucyIsInNldENvbnZlcnNhdGlvbnMiLCJzZWxlY3RlZENvbnZlcnNhdGlvbiIsInNldFNlbGVjdGVkQ29udmVyc2F0aW9uIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZWFyY2hUZXh0Iiwic2V0U2VhcmNoVGV4dCIsInNlbGVjdGVkVGFiIiwic2V0U2VsZWN0ZWRUYWIiLCJpc0NyZWF0ZU1vZGFsT3BlbiIsInNldElzQ3JlYXRlTW9kYWxPcGVuIiwiaXNBZGRNZW1iZXJzT3BlbiIsInNldElzQWRkTWVtYmVyc09wZW4iLCJpc1VwZGF0ZUdyb3VwT3BlbiIsInNldElzVXBkYXRlR3JvdXBPcGVuIiwiY29uZmlybUxlYXZlT3BlbiIsInNldENvbmZpcm1MZWF2ZU9wZW4iLCJtZW1iZXJBY3Rpb24iLCJzZXRNZW1iZXJBY3Rpb24iLCJpbnZpdGVMaW5rIiwic2V0SW52aXRlTGluayIsImludml0ZUdlbmVyYXRpbmciLCJzZXRJbnZpdGVHZW5lcmF0aW5nIiwiaXNJbmZvVmlzaWJsZSIsInNldElzSW5mb1Zpc2libGUiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzb2NrZXQiLCJjb25uZWN0ZWQiLCJyZXN1bHQiLCJQcm9taXNlIiwidGhlbiIsInNvY2siLCJsb2FkQ29udmVyc2F0aW9ucyIsImhhbmRsZURlZXBMaW5rSm9pbiIsImV2ZW50IiwiZGV0YWlsIiwiY29udmVyc2F0aW9uIiwiX2lkIiwid2FybiIsInByZXYiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwiaXRlbSIsImNsb25lIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkYXRhIiwibGVuZ3RoIiwiaXNHcm91cCIsInRpdGxlIiwib3Bwb25lbnQiLCJsYXN0TWVzc2FnZVNlbmRlciIsImVycm9yIiwiaGFuZGxlTG9nb3V0IiwicmVtb3ZlSXRlbSIsImxvY2F0aW9uIiwiaHJlZiIsImZpbHRlcmVkQ29udmVyc2F0aW9ucyIsImZpbHRlciIsImNvbnYiLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJuYW1lIiwiZm9ybWF0VGltZSIsImRhdGVTdHJpbmciLCJkYXRlIiwiRGF0ZSIsIm5vdyIsImRpZmYiLCJnZXRUaW1lIiwiZGF5cyIsIk1hdGgiLCJmbG9vciIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwiZGF5IiwibW9udGgiLCJnZXRJbml0aWFscyIsInNwbGl0IiwibWFwIiwibiIsImpvaW4iLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZ2V0QXZhdGFyIiwiYXZhdGFyIiwic3JjIiwiYWx0IiwiY2xhc3NOYW1lIiwiaGFuZGxlQ29udmVyc2F0aW9uQ2xpY2siLCJoYW5kbGVPcGVuTmV3Q2hhdCIsImhhbmRsZUNvbnZlcnNhdGlvbkNyZWF0ZWQiLCJmaWx0ZXJlZCIsInJlZnJlc2hDdXJyZW50Q29udmVyc2F0aW9uIiwidXBkYXRlZCIsImluZGV4IiwiaGFuZGxlQWRkTWVtYmVyc0NvbmZpcm0iLCJ1c2VySWRzIiwiaGFuZGxlVXBkYXRlR3JvdXBJbmZvIiwiaGFuZGxlTWVtYmVyQWN0aW9uRXhlY3V0ZSIsInR5cGUiLCJ1c2VySWQiLCJlcnIiLCJoYW5kbGVMZWF2ZUdyb3VwQ29uZmlybSIsImludml0ZUJhc2VVcmwiLCJlbnYiLCJWSVRFX0lOVklURV9CQVNFX1VSTCIsIm5vcm1hbGl6ZUJhc2UiLCJ1cmwiLCJyZXBsYWNlIiwiYnVpbGRJbnZpdGVVcmwiLCJzaGFyZVVybCIsImludml0ZUNvZGUiLCJiYXNlIiwibm9ybWFsaXplZFNoYXJlIiwidHJpbSIsInRlc3QiLCJjbGVhbmVkIiwic3RhcnRzV2l0aCIsImhhbmRsZUdlbmVyYXRlSW52aXRlIiwicmVzIiwibGluayIsImNlbnRlclBhbmVsQ2xhc3MiLCJjaGlsZHJlbiIsIm9uQ2xpY2siLCJwdXNoIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInN0eWxlIiwicGFkZGluZyIsInRleHRBbGlnbiIsImNvbG9yIiwibWVtYmVycyIsImxhc3RNZXNzYWdlQXQiLCJjb252ZXJzYXRpb25JZCIsImNvbnZlcnNhdGlvbk5hbWUiLCJncm91cEF2YXRhciIsImdyb3VwTWVtYmVyQ291bnQiLCJtZW1iZXJJZHMiLCJvblRvZ2dsZUluZm8iLCJjdXJyZW50VXNlcklkIiwib25BZGRNZW1iZXJzIiwib25SZW1vdmVNZW1iZXIiLCJvbkxlYXZlR3JvdXAiLCJvbk1ha2VBZG1pbiIsIm9uUmVtb3ZlQWRtaW4iLCJvbkNoYW5nZUluZm8iLCJvbkdlbmVyYXRlSW52aXRlIiwidW5kZWZpbmVkIiwiaXNHZW5lcmF0aW5nSW52aXRlIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uQ3JlYXRlZCIsIm9uQ29uZmlybSIsIm9uU2F2ZSIsImluaXRpYWxUaXRsZSIsImluaXRpYWxBdmF0YXIiLCJCb29sZWFuIiwiZGVzY3JpcHRpb24iLCJjb25maXJtTGFiZWwiLCJ2YXJpYW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/features/chat/Conversations.web.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useActiveCall.js":
/*!*************************************************!*\
  !*** ../../packages/app/hooks/useActiveCall.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useActiveCall: () => (/* binding */ useActiveCall)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.js\");\n\n\n\nfunction useActiveCall(conversationId) {\n    const [activeCall, setActiveCall] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const fetchActiveCall = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!conversationId) {\n            setActiveCall(null);\n            return;\n        }\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getActiveCallForConversation)(conversationId);\n            setActiveCall(response.activeCall);\n        } catch (err) {\n            console.error(\"[useActiveCall] Error fetching active call:\", err);\n            setError(\"Failed to fetch active call\");\n            setActiveCall(null);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        conversationId\n    ]);\n    // Initial fetch\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        fetchActiveCall();\n    }, [\n        fetchActiveCall\n    ]);\n    // Listen for socket events to update active call status\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_2__.getSocket)();\n        if (!socket) return;\n        const handleCallAccepted = (data)=>{\n            if (data.conversationId === conversationId) {\n                console.log(\"[useActiveCall] Call accepted, refetching...\");\n                fetchActiveCall();\n            }\n        };\n        const handleCallEnded = (data)=>{\n            if (activeCall && data.callId === activeCall.id) {\n                console.log(\"[useActiveCall] Call ended, clearing...\");\n                setActiveCall(null);\n            }\n        };\n        const handleCallIncoming = (data)=>{\n            if (data.conversationId === conversationId) {\n                console.log(\"[useActiveCall] New incoming call, refetching...\");\n                fetchActiveCall();\n            }\n        };\n        socket.on(\"call:accepted\", handleCallAccepted);\n        socket.on(\"call:ended\", handleCallEnded);\n        socket.on(\"call:incoming\", handleCallIncoming);\n        return ()=>{\n            socket.off(\"call:accepted\", handleCallAccepted);\n            socket.off(\"call:ended\", handleCallEnded);\n            socket.off(\"call:incoming\", handleCallIncoming);\n        };\n    }, [\n        conversationId,\n        activeCall,\n        fetchActiveCall\n    ]);\n    return {\n        activeCall,\n        loading,\n        error,\n        refetch: fetchActiveCall\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZUFjdGl2ZUNhbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUQ7QUFDSDtBQUNoQjtBQUMvQixTQUFTSyxjQUFjQyxjQUFjO0lBQ3hDLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHUCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNRLFNBQVNDLFdBQVcsR0FBR1QsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU1ZLGtCQUFrQlgsa0RBQVdBLENBQUM7UUFDaEMsSUFBSSxDQUFDSSxnQkFBZ0I7WUFDakJFLGNBQWM7WUFDZDtRQUNKO1FBQ0EsSUFBSTtZQUNBRSxXQUFXO1lBQ1hFLFNBQVM7WUFDVCxNQUFNRSxXQUFXLE1BQU1YLGtFQUE0QkEsQ0FBQ0c7WUFDcERFLGNBQWNNLFNBQVNQLFVBQVU7UUFDckMsRUFDQSxPQUFPUSxLQUFLO1lBQ1JDLFFBQVFMLEtBQUssQ0FBQywrQ0FBK0NJO1lBQzdESCxTQUFTO1lBQ1RKLGNBQWM7UUFDbEIsU0FDUTtZQUNKRSxXQUFXO1FBQ2Y7SUFDSixHQUFHO1FBQUNKO0tBQWU7SUFDbkIsZ0JBQWdCO0lBQ2hCTixnREFBU0EsQ0FBQztRQUNOYTtJQUNKLEdBQUc7UUFBQ0E7S0FBZ0I7SUFDcEIsd0RBQXdEO0lBQ3hEYixnREFBU0EsQ0FBQztRQUNOLElBQUksQ0FBQ00sZ0JBQ0Q7UUFDSixNQUFNVyxTQUFTYixrREFBU0E7UUFDeEIsSUFBSSxDQUFDYSxRQUNEO1FBQ0osTUFBTUMscUJBQXFCLENBQUNDO1lBQ3hCLElBQUlBLEtBQUtiLGNBQWMsS0FBS0EsZ0JBQWdCO2dCQUN4Q1UsUUFBUUksR0FBRyxDQUFDO2dCQUNaUDtZQUNKO1FBQ0o7UUFDQSxNQUFNUSxrQkFBa0IsQ0FBQ0Y7WUFDckIsSUFBSVosY0FBY1ksS0FBS0csTUFBTSxLQUFLZixXQUFXZ0IsRUFBRSxFQUFFO2dCQUM3Q1AsUUFBUUksR0FBRyxDQUFDO2dCQUNaWixjQUFjO1lBQ2xCO1FBQ0o7UUFDQSxNQUFNZ0IscUJBQXFCLENBQUNMO1lBQ3hCLElBQUlBLEtBQUtiLGNBQWMsS0FBS0EsZ0JBQWdCO2dCQUN4Q1UsUUFBUUksR0FBRyxDQUFDO2dCQUNaUDtZQUNKO1FBQ0o7UUFDQUksT0FBT1EsRUFBRSxDQUFDLGlCQUFpQlA7UUFDM0JELE9BQU9RLEVBQUUsQ0FBQyxjQUFjSjtRQUN4QkosT0FBT1EsRUFBRSxDQUFDLGlCQUFpQkQ7UUFDM0IsT0FBTztZQUNIUCxPQUFPUyxHQUFHLENBQUMsaUJBQWlCUjtZQUM1QkQsT0FBT1MsR0FBRyxDQUFDLGNBQWNMO1lBQ3pCSixPQUFPUyxHQUFHLENBQUMsaUJBQWlCRjtRQUNoQztJQUNKLEdBQUc7UUFBQ2xCO1FBQWdCQztRQUFZTTtLQUFnQjtJQUNoRCxPQUFPO1FBQ0hOO1FBQ0FFO1FBQ0FFO1FBQ0FnQixTQUFTZDtJQUNiO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlQWN0aXZlQ2FsbC5qcz8yZjRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlQ2FsbEZvckNvbnZlcnNhdGlvbiB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBnZXRTb2NrZXQgfSBmcm9tICcuLi9zb2NrZXQnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjdGl2ZUNhbGwoY29udmVyc2F0aW9uSWQpIHtcbiAgICBjb25zdCBbYWN0aXZlQ2FsbCwgc2V0QWN0aXZlQ2FsbF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBmZXRjaEFjdGl2ZUNhbGwgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZUNhbGwobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0QWN0aXZlQ2FsbEZvckNvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JZCk7XG4gICAgICAgICAgICBzZXRBY3RpdmVDYWxsKHJlc3BvbnNlLmFjdGl2ZUNhbGwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t1c2VBY3RpdmVDYWxsXSBFcnJvciBmZXRjaGluZyBhY3RpdmUgY2FsbDonLCBlcnIpO1xuICAgICAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBhY3RpdmUgY2FsbCcpO1xuICAgICAgICAgICAgc2V0QWN0aXZlQ2FsbChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XG4gICAgLy8gSW5pdGlhbCBmZXRjaFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoQWN0aXZlQ2FsbCgpO1xuICAgIH0sIFtmZXRjaEFjdGl2ZUNhbGxdKTtcbiAgICAvLyBMaXN0ZW4gZm9yIHNvY2tldCBldmVudHMgdG8gdXBkYXRlIGFjdGl2ZSBjYWxsIHN0YXR1c1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY29udmVyc2F0aW9uSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xuICAgICAgICBpZiAoIXNvY2tldClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2FsbEFjY2VwdGVkID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbnZlcnNhdGlvbklkID09PSBjb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlQWN0aXZlQ2FsbF0gQ2FsbCBhY2NlcHRlZCwgcmVmZXRjaGluZy4uLicpO1xuICAgICAgICAgICAgICAgIGZldGNoQWN0aXZlQ2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVDYWxsRW5kZWQgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNhbGwgJiYgZGF0YS5jYWxsSWQgPT09IGFjdGl2ZUNhbGwuaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW3VzZUFjdGl2ZUNhbGxdIENhbGwgZW5kZWQsIGNsZWFyaW5nLi4uJyk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQ2FsbChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2FsbEluY29taW5nID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbnZlcnNhdGlvbklkID09PSBjb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbdXNlQWN0aXZlQ2FsbF0gTmV3IGluY29taW5nIGNhbGwsIHJlZmV0Y2hpbmcuLi4nKTtcbiAgICAgICAgICAgICAgICBmZXRjaEFjdGl2ZUNhbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc29ja2V0Lm9uKCdjYWxsOmFjY2VwdGVkJywgaGFuZGxlQ2FsbEFjY2VwdGVkKTtcbiAgICAgICAgc29ja2V0Lm9uKCdjYWxsOmVuZGVkJywgaGFuZGxlQ2FsbEVuZGVkKTtcbiAgICAgICAgc29ja2V0Lm9uKCdjYWxsOmluY29taW5nJywgaGFuZGxlQ2FsbEluY29taW5nKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5vZmYoJ2NhbGw6YWNjZXB0ZWQnLCBoYW5kbGVDYWxsQWNjZXB0ZWQpO1xuICAgICAgICAgICAgc29ja2V0Lm9mZignY2FsbDplbmRlZCcsIGhhbmRsZUNhbGxFbmRlZCk7XG4gICAgICAgICAgICBzb2NrZXQub2ZmKCdjYWxsOmluY29taW5nJywgaGFuZGxlQ2FsbEluY29taW5nKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY29udmVyc2F0aW9uSWQsIGFjdGl2ZUNhbGwsIGZldGNoQWN0aXZlQ2FsbF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjdGl2ZUNhbGwsXG4gICAgICAgIGxvYWRpbmcsXG4gICAgICAgIGVycm9yLFxuICAgICAgICByZWZldGNoOiBmZXRjaEFjdGl2ZUNhbGwsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiZ2V0QWN0aXZlQ2FsbEZvckNvbnZlcnNhdGlvbiIsImdldFNvY2tldCIsInVzZUFjdGl2ZUNhbGwiLCJjb252ZXJzYXRpb25JZCIsImFjdGl2ZUNhbGwiLCJzZXRBY3RpdmVDYWxsIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZmV0Y2hBY3RpdmVDYWxsIiwicmVzcG9uc2UiLCJlcnIiLCJjb25zb2xlIiwic29ja2V0IiwiaGFuZGxlQ2FsbEFjY2VwdGVkIiwiZGF0YSIsImxvZyIsImhhbmRsZUNhbGxFbmRlZCIsImNhbGxJZCIsImlkIiwiaGFuZGxlQ2FsbEluY29taW5nIiwib24iLCJvZmYiLCJyZWZldGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useActiveCall.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useChatMessages.js":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useChatMessages.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChatMessages: () => (/* binding */ useChatMessages)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.js\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.js\");\n/* harmony import */ var _services_chatSocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/chatSocket */ \"(ssr)/../../packages/app/services/chatSocket.js\");\n\n\n\n\nconst DEFAULT_PAGE_SIZE = 40;\nconst toChatMessage = (message)=>({\n        ...message,\n        // Chun ha  UI d render nh: u tin imageUrl, fallback sang file.url\n        imageUrl: message.imageUrl ?? message.file?.url\n    });\nconst sortMessages = (msgs)=>[\n        ...msgs\n    ].sort((a, b)=>new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\nfunction useChatMessages(conversationId) {\n    const [allMessages, setAllMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [hasMore, setHasMore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loadingOlder, setLoadingOlder] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loadedSkip, setLoadedSkip] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const storedUserId = localStorage.getItem(\"user_id\");\n        if (storedUserId) {\n            setCurrentUserId(storedUserId);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        setLoadedSkip(0);\n        setAllMessages([]);\n    }, [\n        conversationId\n    ]);\n    const loadMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (skip = 0)=>{\n        if (!conversationId) {\n            setAllMessages([]);\n            setHasMore(false);\n            return;\n        }\n        try {\n            if (skip === 0) {\n                setLoading(true);\n            } else {\n                setLoadingOlder(true);\n            }\n            setError(null);\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getMessages)(conversationId, {\n                limit: DEFAULT_PAGE_SIZE,\n                skip\n            });\n            // Handle both old format (array) and new format (object with messages and pagination)\n            let messages;\n            let hasMoreData = false;\n            if (Array.isArray(data)) {\n                // Old format: direct array\n                messages = data;\n                hasMoreData = messages.length >= DEFAULT_PAGE_SIZE;\n            } else {\n                // New format: object with messages and pagination\n                messages = data.messages || [];\n                hasMoreData = data.pagination?.hasMore || false;\n            }\n            const newMessages = messages.map(toChatMessage);\n            if (skip === 0) {\n                // Initial load - replace all messages\n                setAllMessages(sortMessages(newMessages));\n            } else {\n                // Loading older - prepend to existing messages\n                setAllMessages((prev)=>sortMessages([\n                        ...newMessages,\n                        ...prev\n                    ]));\n            }\n            setHasMore(hasMoreData);\n            setLoadedSkip(skip + newMessages.length);\n        } catch (err) {\n            console.error(\" Failed to load messages:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to load messages\");\n        } finally{\n            setLoading(false);\n            setLoadingOlder(false);\n        }\n    }, [\n        conversationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        loadMessages(0);\n    }, [\n        loadMessages\n    ]);\n    const applyMessageUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((messageId, updater)=>{\n        setAllMessages((prev)=>{\n            const next = prev.map((msg)=>msg._id === messageId ? updater(msg) : msg).filter((msg)=>msg !== null);\n            return sortMessages(next);\n        });\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_2__.getSocket)();\n        if (!socket) {\n            console.warn(\" Socket not available, cannot join room\");\n            return;\n        }\n        const joinRoom = ()=>{\n            console.log(` Joining conversation room: conv:${conversationId}`);\n            socket.emit(\"conversation:join\", conversationId);\n        };\n        // Join conversation room  nhn realtime messages\n        if (socket.connected) {\n            joinRoom();\n        } else {\n            console.log(\" Socket not connected yet, waiting for connect...\");\n            // Nu cha connect, i connect ri join\n            const onConnect = ()=>{\n                console.log(` Socket connected, joining room: conv:${conversationId}`);\n                joinRoom();\n                socket.off(\"connect\", onConnect);\n            };\n            socket.on(\"connect\", onConnect);\n            // Cleanup listener on unmount\n            return ()=>{\n                socket.off(\"connect\", onConnect);\n            };\n        }\n        const unsubscribe = (0,_services_chatSocket__WEBPACK_IMPORTED_MODULE_3__.registerChatSocket)(socket, conversationId, {\n            onMessageCreated: (message)=>{\n                console.log(\"\\uD83D\\uDCE8 New message received via socket:\", message._id);\n                setAllMessages((prev)=>{\n                    const exists = prev.some((item)=>item._id === message._id);\n                    if (exists) {\n                        console.log(\" Message already exists, skipping:\", message._id);\n                        return prev;\n                    }\n                    console.log(\" Adding new message to list\");\n                    return sortMessages([\n                        ...prev,\n                        toChatMessage(message)\n                    ]);\n                });\n            },\n            onMessageUpdated: (message)=>{\n                setAllMessages((prev)=>sortMessages(prev.map((item)=>item._id === message._id ? toChatMessage(message) : item)));\n            },\n            onMessageDeleted: (messageId)=>{\n                setAllMessages((prev)=>prev.filter((item)=>item._id !== messageId));\n            },\n            onMessagePinned: (data)=>{\n                console.log(` Socket: Message ${data.messageId} ${data.action}ed`);\n                // Reload messages to get updated pin status\n                loadMessages();\n            },\n            onMessageReaction: (data)=>{\n                if (!data.reaction) return;\n                const reaction = data.reaction;\n                applyMessageUpdate(data.messageId, (msg)=>{\n                    const current = msg.reactions ?? [];\n                    if (data.action === \"remove\") {\n                        return {\n                            ...msg,\n                            reactions: current.filter((existing)=>!(existing.userId === reaction.userId && existing.emoji === reaction.emoji))\n                        };\n                    }\n                    const exists = current.some((existing)=>existing.userId === reaction.userId && existing.emoji === reaction.emoji);\n                    if (exists) {\n                        return msg;\n                    }\n                    return {\n                        ...msg,\n                        reactions: [\n                            ...current,\n                            {\n                                emoji: reaction.emoji,\n                                userId: reaction.userId,\n                                createdAt: reaction.createdAt ?? new Date().toISOString()\n                            }\n                        ]\n                    };\n                });\n            },\n            onMessageRevoked: (payload)=>{\n                applyMessageUpdate(payload.messageId, (msg)=>({\n                        ...msg,\n                        isRevoked: true,\n                        revokedAt: payload.revokedAt ?? new Date().toISOString(),\n                        revokedBy: payload.revokedBy,\n                        text: null,\n                        imageUrl: undefined\n                    }));\n            },\n            onMessageRead: (payload)=>{\n                if (!payload.userId) return;\n                applyMessageUpdate(payload.messageId, (msg)=>{\n                    const alreadyRead = msg.readBy?.some((entry)=>entry.userId === payload.userId);\n                    if (alreadyRead) {\n                        return msg;\n                    }\n                    const nextRead = [\n                        ...msg.readBy ?? [],\n                        {\n                            userId: payload.userId,\n                            readAt: payload.readAt ?? new Date().toISOString()\n                        }\n                    ];\n                    return {\n                        ...msg,\n                        readBy: nextRead\n                    };\n                });\n            }\n        });\n        return ()=>{\n            unsubscribe();\n        };\n    }, [\n        conversationId,\n        loadMessages\n    ]);\n    const markConversationAsRead = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!conversationId) return;\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.markAsRead)(conversationId);\n        } catch (err) {\n            console.warn(\" Failed to mark conversation as read:\", err);\n        }\n    }, [\n        conversationId\n    ]);\n    const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (payload)=>{\n        if (!conversationId) {\n            console.warn(\"sendMessage called without conversationId\");\n            return;\n        }\n        const content = payload.text?.trim() ?? \"\";\n        if (!content && !payload.imageUrl && !payload.file) {\n            return;\n        }\n        try {\n            let response;\n            if (payload.imageUrl || payload.file) {\n                const data = {\n                    text: payload.text,\n                    imageUrl: payload.imageUrl,\n                    file: payload.file,\n                    type: payload.type ?? (payload.imageUrl ? \"image\" : \"file\"),\n                    replyTo: payload.replyTo\n                };\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.createMessageWithPayload)(conversationId, data);\n            } else {\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.createMessage)(conversationId, content);\n            }\n            // Add message if socket handler hasn't added it yet\n            setAllMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === response._id);\n                if (exists) {\n                    return prev;\n                }\n                return sortMessages([\n                    ...prev,\n                    toChatMessage(response)\n                ]);\n            });\n        } catch (err) {\n            console.error(\" Failed to send message:\", err);\n            const messageError = err instanceof Error ? err.message : \"Failed to send message\";\n            setError(messageError);\n        }\n    }, [\n        conversationId\n    ]);\n    const loadOlder = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!hasMore || loadingOlder || !conversationId) return;\n        await loadMessages(loadedSkip);\n    }, [\n        hasMore,\n        loadingOlder,\n        conversationId,\n        loadedSkip,\n        loadMessages\n    ]);\n    const reactToMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId, emoji)=>{\n        const target = allMessages.find((msg)=>msg._id === messageId);\n        const alreadyReacted = target?.reactions?.some((reaction)=>reaction.emoji === emoji && reaction.userId === currentUserId);\n        if (alreadyReacted) {\n            applyMessageUpdate(messageId, (msg)=>({\n                    ...msg,\n                    reactions: (msg.reactions ?? []).filter((reaction)=>!(reaction.emoji === emoji && reaction.userId === currentUserId))\n                }));\n            try {\n                await (0,_api__WEBPACK_IMPORTED_MODULE_1__.removeReaction)(messageId, emoji);\n            } catch (err) {\n                console.error(\" Failed to remove reaction:\", err);\n                loadMessages();\n            }\n            return;\n        }\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                reactions: [\n                    ...msg.reactions ?? [],\n                    {\n                        emoji,\n                        userId: currentUserId ?? \"me\",\n                        createdAt: new Date().toISOString()\n                    }\n                ]\n            }));\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.addReaction)(messageId, emoji);\n        } catch (err) {\n            console.error(\" Failed to add reaction:\", err);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.removeReaction)(messageId, emoji).catch(()=>undefined);\n            loadMessages();\n        }\n    }, [\n        allMessages,\n        applyMessageUpdate,\n        currentUserId,\n        loadMessages\n    ]);\n    const togglePinMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId, shouldPin)=>{\n        console.log(` Toggling pin for message ${messageId}, shouldPin: ${shouldPin}`);\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                isPinned: shouldPin\n            }));\n        try {\n            let response;\n            if (shouldPin) {\n                console.log(` Pinning message ${messageId}...`);\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.pinMessage)(messageId);\n            } else {\n                console.log(` Unpinning message ${messageId}...`);\n                response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.unpinMessage)(messageId);\n            }\n            console.log(` Pin toggle successful, response:`, response);\n            // Update message from response\n            applyMessageUpdate(messageId, ()=>toChatMessage(response));\n            // Also reload to ensure consistency\n            await loadMessages();\n        } catch (err) {\n            console.error(\" Failed to toggle pin:\", err);\n            // Revert on error\n            applyMessageUpdate(messageId, (msg)=>({\n                    ...msg,\n                    isPinned: !shouldPin\n                }));\n        }\n    }, [\n        applyMessageUpdate,\n        loadMessages\n    ]);\n    const editMessageContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId, text)=>{\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                text,\n                isEdited: true\n            }));\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.editMessage)(messageId, text);\n        } catch (err) {\n            console.error(\" Failed to edit message:\", err);\n            loadMessages();\n        }\n    }, [\n        applyMessageUpdate,\n        loadMessages\n    ]);\n    const deleteMessageById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId)=>{\n        const previous = allMessages;\n        applyMessageUpdate(messageId, ()=>null);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.deleteMessage)(messageId);\n        } catch (err) {\n            console.error(\" Failed to delete message:\", err);\n            setAllMessages(previous);\n        }\n    }, [\n        allMessages,\n        applyMessageUpdate\n    ]);\n    const revokeMessageById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId)=>{\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                isRevoked: true,\n                revokedAt: new Date().toISOString(),\n                revokedBy: currentUserId ?? undefined,\n                text: null,\n                imageUrl: undefined\n            }));\n        try {\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.revokeMessage)(messageId);\n            applyMessageUpdate(messageId, ()=>toChatMessage(response));\n        } catch (err) {\n            console.error(\" Failed to revoke message:\", err);\n            loadMessages();\n        }\n    }, [\n        applyMessageUpdate,\n        currentUserId,\n        loadMessages\n    ]);\n    const starMessageById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messageId)=>{\n        applyMessageUpdate(messageId, (msg)=>({\n                ...msg,\n                isStarred: true\n            }));\n        try {\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.starMessage)(messageId);\n            applyMessageUpdate(messageId, ()=>toChatMessage(response));\n        } catch (err) {\n            console.error(\" Failed to star message:\", err);\n            loadMessages();\n        }\n    }, [\n        applyMessageUpdate,\n        loadMessages\n    ]);\n    const sortedMessages = sortMessages(allMessages);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            messages: sortedMessages,\n            loading,\n            error,\n            currentUserId,\n            hasMore,\n            sendMessage,\n            reload: ()=>loadMessages(0),\n            loadOlder,\n            markConversationAsRead,\n            reactToMessage,\n            togglePinMessage,\n            editMessageContent,\n            deleteMessageById,\n            revokeMessageById,\n            starMessageById\n        }), [\n        sortedMessages,\n        loading,\n        error,\n        currentUserId,\n        hasMore,\n        sendMessage,\n        loadMessages,\n        loadOlder,\n        markConversationAsRead,\n        reactToMessage,\n        togglePinMessage,\n        editMessageContent,\n        deleteMessageById,\n        revokeMessageById,\n        starMessageById\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZUNoYXRNZXNzYWdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0U7QUFDd0k7QUFDcEs7QUFDc0I7QUFDNUQsTUFBTWtCLG9CQUFvQjtBQUMxQixNQUFNQyxnQkFBZ0IsQ0FBQ0MsVUFBYTtRQUNoQyxHQUFHQSxPQUFPO1FBQ1YsMEVBQTBFO1FBQzFFQyxVQUFVRCxRQUFRQyxRQUFRLElBQUlELFFBQVFFLElBQUksRUFBRUM7SUFDaEQ7QUFDQSxNQUFNQyxlQUFlLENBQUNDLE9BQVM7V0FBSUE7S0FBSyxDQUFDQyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTSxJQUFJQyxLQUFLRixFQUFFRyxTQUFTLEVBQUVDLE9BQU8sS0FBSyxJQUFJRixLQUFLRCxFQUFFRSxTQUFTLEVBQUVDLE9BQU87QUFDaEgsU0FBU0MsZ0JBQWdCQyxjQUFjO0lBQzFDLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHaEMsK0NBQVFBLENBQUMsRUFBRTtJQUNqRCxNQUFNLENBQUNpQyxTQUFTQyxXQUFXLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNtQyxTQUFTQyxXQUFXLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNxQyxjQUFjQyxnQkFBZ0IsR0FBR3RDLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3VDLE9BQU9DLFNBQVMsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ3lDLGVBQWVDLGlCQUFpQixHQUFHMUMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDMkMsWUFBWUMsY0FBYyxHQUFHNUMsK0NBQVFBLENBQUM7SUFDN0NGLGdEQUFTQSxDQUFDO1FBQ04sTUFBTStDLGVBQWVDLGFBQWFDLE9BQU8sQ0FBQztRQUMxQyxJQUFJRixjQUFjO1lBQ2RILGlCQUFpQkc7UUFDckI7SUFDSixHQUFHLEVBQUU7SUFDTC9DLGdEQUFTQSxDQUFDO1FBQ044QyxjQUFjO1FB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Q0FFO1FBQ0FuRztRQUNBSTtRQUNBRTtRQUNBUjtRQUNBOEU7UUFDQS9EO1FBQ0FzRTtRQUNBUjtRQUNBUztRQUNBSztRQUNBRztRQUNBRTtRQUNBRTtRQUNBQztLQUNIO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlQ2hhdE1lc3NhZ2VzLmpzPzdjMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRNZXNzYWdlcywgY3JlYXRlTWVzc2FnZSwgY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkLCBtYXJrQXNSZWFkLCBhZGRSZWFjdGlvbiwgcmVtb3ZlUmVhY3Rpb24sIHBpbk1lc3NhZ2UsIHVucGluTWVzc2FnZSwgZWRpdE1lc3NhZ2UsIGRlbGV0ZU1lc3NhZ2UsIHJldm9rZU1lc3NhZ2UsIHN0YXJNZXNzYWdlLCB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBnZXRTb2NrZXQgfSBmcm9tICcuLi9zb2NrZXQnO1xuaW1wb3J0IHsgcmVnaXN0ZXJDaGF0U29ja2V0IH0gZnJvbSAnLi4vc2VydmljZXMvY2hhdFNvY2tldCc7XG5jb25zdCBERUZBVUxUX1BBR0VfU0laRSA9IDQwO1xuY29uc3QgdG9DaGF0TWVzc2FnZSA9IChtZXNzYWdlKSA9PiAoe1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgLy8gQ2h14bqpbiBow7NhIMSR4buDIFVJIGThu4UgcmVuZGVyIOG6o25oOiDGsHUgdGnDqm4gaW1hZ2VVcmwsIGZhbGxiYWNrIHNhbmcgZmlsZS51cmxcbiAgICBpbWFnZVVybDogbWVzc2FnZS5pbWFnZVVybCA/PyBtZXNzYWdlLmZpbGU/LnVybCxcbn0pO1xuY29uc3Qgc29ydE1lc3NhZ2VzID0gKG1zZ3MpID0+IFsuLi5tc2dzXS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSk7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ2hhdE1lc3NhZ2VzKGNvbnZlcnNhdGlvbklkKSB7XG4gICAgY29uc3QgW2FsbE1lc3NhZ2VzLCBzZXRBbGxNZXNzYWdlc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2hhc01vcmUsIHNldEhhc01vcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbG9hZGluZ09sZGVyLCBzZXRMb2FkaW5nT2xkZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2xvYWRlZFNraXAsIHNldExvYWRlZFNraXBdID0gdXNlU3RhdGUoMCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkVXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcbiAgICAgICAgaWYgKHN0b3JlZFVzZXJJZCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFVzZXJJZChzdG9yZWRVc2VySWQpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldExvYWRlZFNraXAoMCk7XG4gICAgICAgIHNldEFsbE1lc3NhZ2VzKFtdKTtcbiAgICB9LCBbY29udmVyc2F0aW9uSWRdKTtcbiAgICBjb25zdCBsb2FkTWVzc2FnZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoc2tpcCA9IDApID0+IHtcbiAgICAgICAgaWYgKCFjb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgc2V0QWxsTWVzc2FnZXMoW10pO1xuICAgICAgICAgICAgc2V0SGFzTW9yZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChza2lwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldExvYWRpbmdPbGRlcih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldE1lc3NhZ2VzKGNvbnZlcnNhdGlvbklkLCB7IGxpbWl0OiBERUZBVUxUX1BBR0VfU0laRSwgc2tpcCB9KTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBib3RoIG9sZCBmb3JtYXQgKGFycmF5KSBhbmQgbmV3IGZvcm1hdCAob2JqZWN0IHdpdGggbWVzc2FnZXMgYW5kIHBhZ2luYXRpb24pXG4gICAgICAgICAgICBsZXQgbWVzc2FnZXM7XG4gICAgICAgICAgICBsZXQgaGFzTW9yZURhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgLy8gT2xkIGZvcm1hdDogZGlyZWN0IGFycmF5XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGhhc01vcmVEYXRhID0gbWVzc2FnZXMubGVuZ3RoID49IERFRkFVTFRfUEFHRV9TSVpFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmV3IGZvcm1hdDogb2JqZWN0IHdpdGggbWVzc2FnZXMgYW5kIHBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IGRhdGEubWVzc2FnZXMgfHwgW107XG4gICAgICAgICAgICAgICAgaGFzTW9yZURhdGEgPSBkYXRhLnBhZ2luYXRpb24/Lmhhc01vcmUgfHwgZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCh0b0NoYXRNZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChza2lwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBsb2FkIC0gcmVwbGFjZSBhbGwgbWVzc2FnZXNcbiAgICAgICAgICAgICAgICBzZXRBbGxNZXNzYWdlcyhzb3J0TWVzc2FnZXMobmV3TWVzc2FnZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIExvYWRpbmcgb2xkZXIgLSBwcmVwZW5kIHRvIGV4aXN0aW5nIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHNvcnRNZXNzYWdlcyhbLi4ubmV3TWVzc2FnZXMsIC4uLnByZXZdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRIYXNNb3JlKGhhc01vcmVEYXRhKTtcbiAgICAgICAgICAgIHNldExvYWRlZFNraXAoc2tpcCArIG5ld01lc3NhZ2VzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBsb2FkIG1lc3NhZ2VzOicsIGVycik7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBsb2FkIG1lc3NhZ2VzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldExvYWRpbmdPbGRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY29udmVyc2F0aW9uSWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsb2FkTWVzc2FnZXMoMCk7XG4gICAgfSwgW2xvYWRNZXNzYWdlc10pO1xuICAgIGNvbnN0IGFwcGx5TWVzc2FnZVVwZGF0ZSA9IHVzZUNhbGxiYWNrKChtZXNzYWdlSWQsIHVwZGF0ZXIpID0+IHtcbiAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwcmV2XG4gICAgICAgICAgICAgICAgLm1hcCgobXNnKSA9PiAobXNnLl9pZCA9PT0gbWVzc2FnZUlkID8gdXBkYXRlcihtc2cpIDogbXNnKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChtc2cpID0+IG1zZyAhPT0gbnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gc29ydE1lc3NhZ2VzKG5leHQpO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjb252ZXJzYXRpb25JZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XG4gICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTb2NrZXQgbm90IGF2YWlsYWJsZSwgY2Fubm90IGpvaW4gcm9vbScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpvaW5Sb29tID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk7EgSm9pbmluZyBjb252ZXJzYXRpb24gcm9vbTogY29udjoke2NvbnZlcnNhdGlvbklkfWApO1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2NvbnZlcnNhdGlvbjpqb2luJywgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBKb2luIGNvbnZlcnNhdGlvbiByb29tIMSR4buDIG5o4bqtbiByZWFsdGltZSBtZXNzYWdlc1xuICAgICAgICBpZiAoc29ja2V0LmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgam9pblJvb20oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7MgU29ja2V0IG5vdCBjb25uZWN0ZWQgeWV0LCB3YWl0aW5nIGZvciBjb25uZWN0Li4uJyk7XG4gICAgICAgICAgICAvLyBO4bq/dSBjaMawYSBjb25uZWN0LCDEkeG7o2kgY29ubmVjdCBy4buTaSBqb2luXG4gICAgICAgICAgICBjb25zdCBvbkNvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBTb2NrZXQgY29ubmVjdGVkLCBqb2luaW5nIHJvb206IGNvbnY6JHtjb252ZXJzYXRpb25JZH1gKTtcbiAgICAgICAgICAgICAgICBqb2luUm9vbSgpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vZmYoJ2Nvbm5lY3QnLCBvbkNvbm5lY3QpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvY2tldC5vbignY29ubmVjdCcsIG9uQ29ubmVjdCk7XG4gICAgICAgICAgICAvLyBDbGVhbnVwIGxpc3RlbmVyIG9uIHVubW91bnRcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9mZignY29ubmVjdCcsIG9uQ29ubmVjdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gcmVnaXN0ZXJDaGF0U29ja2V0KHNvY2tldCwgY29udmVyc2F0aW9uSWQsIHtcbiAgICAgICAgICAgIG9uTWVzc2FnZUNyZWF0ZWQ6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6ggTmV3IG1lc3NhZ2UgcmVjZWl2ZWQgdmlhIHNvY2tldDonLCBtZXNzYWdlLl9pZCk7XG4gICAgICAgICAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gbWVzc2FnZS5faWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIE1lc3NhZ2UgYWxyZWFkeSBleGlzdHMsIHNraXBwaW5nOicsIG1lc3NhZ2UuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQWRkaW5nIG5ldyBtZXNzYWdlIHRvIGxpc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgdG9DaGF0TWVzc2FnZShtZXNzYWdlKV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTWVzc2FnZVVwZGF0ZWQ6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHNvcnRNZXNzYWdlcyhwcmV2Lm1hcCgoaXRlbSkgPT4gKGl0ZW0uX2lkID09PSBtZXNzYWdlLl9pZCA/IHRvQ2hhdE1lc3NhZ2UobWVzc2FnZSkgOiBpdGVtKSkpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1lc3NhZ2VEZWxldGVkOiAobWVzc2FnZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0QWxsTWVzc2FnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChpdGVtKSA9PiBpdGVtLl9pZCAhPT0gbWVzc2FnZUlkKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25NZXNzYWdlUGlubmVkOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OMIFNvY2tldDogTWVzc2FnZSAke2RhdGEubWVzc2FnZUlkfSAke2RhdGEuYWN0aW9ufWVkYCk7XG4gICAgICAgICAgICAgICAgLy8gUmVsb2FkIG1lc3NhZ2VzIHRvIGdldCB1cGRhdGVkIHBpbiBzdGF0dXNcbiAgICAgICAgICAgICAgICBsb2FkTWVzc2FnZXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1lc3NhZ2VSZWFjdGlvbjogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEucmVhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFjdGlvbiA9IGRhdGEucmVhY3Rpb247XG4gICAgICAgICAgICAgICAgYXBwbHlNZXNzYWdlVXBkYXRlKGRhdGEubWVzc2FnZUlkLCAobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBtc2cucmVhY3Rpb25zID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFjdGlvbnM6IGN1cnJlbnQuZmlsdGVyKChleGlzdGluZykgPT4gIShleGlzdGluZy51c2VySWQgPT09IHJlYWN0aW9uLnVzZXJJZCAmJiBleGlzdGluZy5lbW9qaSA9PT0gcmVhY3Rpb24uZW1vamkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gY3VycmVudC5zb21lKChleGlzdGluZykgPT4gZXhpc3RpbmcudXNlcklkID09PSByZWFjdGlvbi51c2VySWQgJiYgZXhpc3RpbmcuZW1vamkgPT09IHJlYWN0aW9uLmVtb2ppKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtb2ppOiByZWFjdGlvbi5lbW9qaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiByZWFjdGlvbi51c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogcmVhY3Rpb24uY3JlYXRlZEF0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1lc3NhZ2VSZXZva2VkOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShwYXlsb2FkLm1lc3NhZ2VJZCwgKG1zZykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgICAgICAgICAgICBpc1Jldm9rZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldm9rZWRBdDogcGF5bG9hZC5yZXZva2VkQXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICByZXZva2VkQnk6IHBheWxvYWQucmV2b2tlZEJ5LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1lc3NhZ2VSZWFkOiAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcGF5bG9hZC51c2VySWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUocGF5bG9hZC5tZXNzYWdlSWQsIChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeVJlYWQgPSBtc2cucmVhZEJ5Py5zb21lKChlbnRyeSkgPT4gZW50cnkudXNlcklkID09PSBwYXlsb2FkLnVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UmVhZCA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihtc2cucmVhZEJ5ID8/IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHBheWxvYWQudXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRBdDogcGF5bG9hZC5yZWFkQXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubXNnLCByZWFkQnk6IG5leHRSZWFkIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnZlcnNhdGlvbklkLCBsb2FkTWVzc2FnZXNdKTtcbiAgICBjb25zdCBtYXJrQ29udmVyc2F0aW9uQXNSZWFkID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWNvbnZlcnNhdGlvbklkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgbWFya0FzUmVhZChjb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmFpbGVkIHRvIG1hcmsgY29udmVyc2F0aW9uIGFzIHJlYWQ6JywgZXJyKTtcbiAgICAgICAgfVxuICAgIH0sIFtjb252ZXJzYXRpb25JZF0pO1xuICAgIGNvbnN0IHNlbmRNZXNzYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKCFjb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdzZW5kTWVzc2FnZSBjYWxsZWQgd2l0aG91dCBjb252ZXJzYXRpb25JZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBwYXlsb2FkLnRleHQ/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgaWYgKCFjb250ZW50ICYmICFwYXlsb2FkLmltYWdlVXJsICYmICFwYXlsb2FkLmZpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuaW1hZ2VVcmwgfHwgcGF5bG9hZC5maWxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcGF5bG9hZC50ZXh0LFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogcGF5bG9hZC5pbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogcGF5bG9hZC5maWxlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXlsb2FkLnR5cGUgPz8gKHBheWxvYWQuaW1hZ2VVcmwgPyAnaW1hZ2UnIDogJ2ZpbGUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVwbHlUbzogcGF5bG9hZC5yZXBseVRvLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQoY29udmVyc2F0aW9uSWQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVNZXNzYWdlKGNvbnZlcnNhdGlvbklkLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCBtZXNzYWdlIGlmIHNvY2tldCBoYW5kbGVyIGhhc24ndCBhZGRlZCBpdCB5ZXRcbiAgICAgICAgICAgIHNldEFsbE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKChtc2cpID0+IG1zZy5faWQgPT09IHJlc3BvbnNlLl9pZCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgdG9DaGF0TWVzc2FnZShyZXNwb25zZSldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOicsIGVycik7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlRXJyb3IgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2UnO1xuICAgICAgICAgICAgc2V0RXJyb3IobWVzc2FnZUVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sIFtjb252ZXJzYXRpb25JZF0pO1xuICAgIGNvbnN0IGxvYWRPbGRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFoYXNNb3JlIHx8IGxvYWRpbmdPbGRlciB8fCAhY29udmVyc2F0aW9uSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGF3YWl0IGxvYWRNZXNzYWdlcyhsb2FkZWRTa2lwKTtcbiAgICB9LCBbaGFzTW9yZSwgbG9hZGluZ09sZGVyLCBjb252ZXJzYXRpb25JZCwgbG9hZGVkU2tpcCwgbG9hZE1lc3NhZ2VzXSk7XG4gICAgY29uc3QgcmVhY3RUb01lc3NhZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAobWVzc2FnZUlkLCBlbW9qaSkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBhbGxNZXNzYWdlcy5maW5kKChtc2cpID0+IG1zZy5faWQgPT09IG1lc3NhZ2VJZCk7XG4gICAgICAgIGNvbnN0IGFscmVhZHlSZWFjdGVkID0gdGFyZ2V0Py5yZWFjdGlvbnM/LnNvbWUoKHJlYWN0aW9uKSA9PiByZWFjdGlvbi5lbW9qaSA9PT0gZW1vamkgJiYgcmVhY3Rpb24udXNlcklkID09PSBjdXJyZW50VXNlcklkKTtcbiAgICAgICAgaWYgKGFscmVhZHlSZWFjdGVkKSB7XG4gICAgICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICByZWFjdGlvbnM6IChtc2cucmVhY3Rpb25zID8/IFtdKS5maWx0ZXIoKHJlYWN0aW9uKSA9PiAhKHJlYWN0aW9uLmVtb2ppID09PSBlbW9qaSAmJiByZWFjdGlvbi51c2VySWQgPT09IGN1cnJlbnRVc2VySWQpKSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVtb3ZlUmVhY3Rpb24obWVzc2FnZUlkLCBlbW9qaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byByZW1vdmUgcmVhY3Rpb246JywgZXJyKTtcbiAgICAgICAgICAgICAgICBsb2FkTWVzc2FnZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoe1xuICAgICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgICAgcmVhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgLi4uKG1zZy5yZWFjdGlvbnMgPz8gW10pLFxuICAgICAgICAgICAgICAgIHsgZW1vamksIHVzZXJJZDogY3VycmVudFVzZXJJZCA/PyAnbWUnLCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgYWRkUmVhY3Rpb24obWVzc2FnZUlkLCBlbW9qaSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBhZGQgcmVhY3Rpb246JywgZXJyKTtcbiAgICAgICAgICAgIGF3YWl0IHJlbW92ZVJlYWN0aW9uKG1lc3NhZ2VJZCwgZW1vamkpLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBsb2FkTWVzc2FnZXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFthbGxNZXNzYWdlcywgYXBwbHlNZXNzYWdlVXBkYXRlLCBjdXJyZW50VXNlcklkLCBsb2FkTWVzc2FnZXNdKTtcbiAgICBjb25zdCB0b2dnbGVQaW5NZXNzYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1lc3NhZ2VJZCwgc2hvdWxkUGluKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OMIFRvZ2dsaW5nIHBpbiBmb3IgbWVzc2FnZSAke21lc3NhZ2VJZH0sIHNob3VsZFBpbjogJHtzaG91bGRQaW59YCk7XG4gICAgICAgIGFwcGx5TWVzc2FnZVVwZGF0ZShtZXNzYWdlSWQsIChtc2cpID0+ICh7IC4uLm1zZywgaXNQaW5uZWQ6IHNob3VsZFBpbiB9KSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUGluKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk4wgUGlubmluZyBtZXNzYWdlICR7bWVzc2FnZUlkfS4uLmApO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgcGluTWVzc2FnZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk4wgVW5waW5uaW5nIG1lc3NhZ2UgJHttZXNzYWdlSWR9Li4uYCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB1bnBpbk1lc3NhZ2UobWVzc2FnZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgUGluIHRvZ2dsZSBzdWNjZXNzZnVsLCByZXNwb25zZTpgLCByZXNwb25zZSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgbWVzc2FnZSBmcm9tIHJlc3BvbnNlXG4gICAgICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAoKSA9PiB0b0NoYXRNZXNzYWdlKHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAvLyBBbHNvIHJlbG9hZCB0byBlbnN1cmUgY29uc2lzdGVuY3lcbiAgICAgICAgICAgIGF3YWl0IGxvYWRNZXNzYWdlcygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gdG9nZ2xlIHBpbjonLCBlcnIpO1xuICAgICAgICAgICAgLy8gUmV2ZXJ0IG9uIGVycm9yXG4gICAgICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoeyAuLi5tc2csIGlzUGlubmVkOiAhc2hvdWxkUGluIH0pKTtcbiAgICAgICAgfVxuICAgIH0sIFthcHBseU1lc3NhZ2VVcGRhdGUsIGxvYWRNZXNzYWdlc10pO1xuICAgIGNvbnN0IGVkaXRNZXNzYWdlQ29udGVudCA9IHVzZUNhbGxiYWNrKGFzeW5jIChtZXNzYWdlSWQsIHRleHQpID0+IHtcbiAgICAgICAgYXBwbHlNZXNzYWdlVXBkYXRlKG1lc3NhZ2VJZCwgKG1zZykgPT4gKHsgLi4ubXNnLCB0ZXh0LCBpc0VkaXRlZDogdHJ1ZSB9KSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBlZGl0TWVzc2FnZShtZXNzYWdlSWQsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZWRpdCBtZXNzYWdlOicsIGVycik7XG4gICAgICAgICAgICBsb2FkTWVzc2FnZXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFthcHBseU1lc3NhZ2VVcGRhdGUsIGxvYWRNZXNzYWdlc10pO1xuICAgIGNvbnN0IGRlbGV0ZU1lc3NhZ2VCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1lc3NhZ2VJZCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91cyA9IGFsbE1lc3NhZ2VzO1xuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAoKSA9PiBudWxsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZU1lc3NhZ2UobWVzc2FnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGRlbGV0ZSBtZXNzYWdlOicsIGVycik7XG4gICAgICAgICAgICBzZXRBbGxNZXNzYWdlcyhwcmV2aW91cyk7XG4gICAgICAgIH1cbiAgICB9LCBbYWxsTWVzc2FnZXMsIGFwcGx5TWVzc2FnZVVwZGF0ZV0pO1xuICAgIGNvbnN0IHJldm9rZU1lc3NhZ2VCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1lc3NhZ2VJZCkgPT4ge1xuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoe1xuICAgICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgICAgaXNSZXZva2VkOiB0cnVlLFxuICAgICAgICAgICAgcmV2b2tlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICByZXZva2VkQnk6IGN1cnJlbnRVc2VySWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgIGltYWdlVXJsOiB1bmRlZmluZWQsXG4gICAgICAgIH0pKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmV2b2tlTWVzc2FnZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgYXBwbHlNZXNzYWdlVXBkYXRlKG1lc3NhZ2VJZCwgKCkgPT4gdG9DaGF0TWVzc2FnZShyZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gcmV2b2tlIG1lc3NhZ2U6JywgZXJyKTtcbiAgICAgICAgICAgIGxvYWRNZXNzYWdlcygpO1xuICAgICAgICB9XG4gICAgfSwgW2FwcGx5TWVzc2FnZVVwZGF0ZSwgY3VycmVudFVzZXJJZCwgbG9hZE1lc3NhZ2VzXSk7XG4gICAgY29uc3Qgc3Rhck1lc3NhZ2VCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1lc3NhZ2VJZCkgPT4ge1xuICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAobXNnKSA9PiAoeyAuLi5tc2csIGlzU3RhcnJlZDogdHJ1ZSB9KSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0YXJNZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICBhcHBseU1lc3NhZ2VVcGRhdGUobWVzc2FnZUlkLCAoKSA9PiB0b0NoYXRNZXNzYWdlKHJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzdGFyIG1lc3NhZ2U6JywgZXJyKTtcbiAgICAgICAgICAgIGxvYWRNZXNzYWdlcygpO1xuICAgICAgICB9XG4gICAgfSwgW2FwcGx5TWVzc2FnZVVwZGF0ZSwgbG9hZE1lc3NhZ2VzXSk7XG4gICAgY29uc3Qgc29ydGVkTWVzc2FnZXMgPSBzb3J0TWVzc2FnZXMoYWxsTWVzc2FnZXMpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIG1lc3NhZ2VzOiBzb3J0ZWRNZXNzYWdlcyxcbiAgICAgICAgbG9hZGluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGN1cnJlbnRVc2VySWQsXG4gICAgICAgIGhhc01vcmUsXG4gICAgICAgIHNlbmRNZXNzYWdlLFxuICAgICAgICByZWxvYWQ6ICgpID0+IGxvYWRNZXNzYWdlcygwKSxcbiAgICAgICAgbG9hZE9sZGVyLFxuICAgICAgICBtYXJrQ29udmVyc2F0aW9uQXNSZWFkLFxuICAgICAgICByZWFjdFRvTWVzc2FnZSxcbiAgICAgICAgdG9nZ2xlUGluTWVzc2FnZSxcbiAgICAgICAgZWRpdE1lc3NhZ2VDb250ZW50LFxuICAgICAgICBkZWxldGVNZXNzYWdlQnlJZCxcbiAgICAgICAgcmV2b2tlTWVzc2FnZUJ5SWQsXG4gICAgICAgIHN0YXJNZXNzYWdlQnlJZCxcbiAgICB9KSwgW1xuICAgICAgICBzb3J0ZWRNZXNzYWdlcyxcbiAgICAgICAgbG9hZGluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGN1cnJlbnRVc2VySWQsXG4gICAgICAgIGhhc01vcmUsXG4gICAgICAgIHNlbmRNZXNzYWdlLFxuICAgICAgICBsb2FkTWVzc2FnZXMsXG4gICAgICAgIGxvYWRPbGRlcixcbiAgICAgICAgbWFya0NvbnZlcnNhdGlvbkFzUmVhZCxcbiAgICAgICAgcmVhY3RUb01lc3NhZ2UsXG4gICAgICAgIHRvZ2dsZVBpbk1lc3NhZ2UsXG4gICAgICAgIGVkaXRNZXNzYWdlQ29udGVudCxcbiAgICAgICAgZGVsZXRlTWVzc2FnZUJ5SWQsXG4gICAgICAgIHJldm9rZU1lc3NhZ2VCeUlkLFxuICAgICAgICBzdGFyTWVzc2FnZUJ5SWQsXG4gICAgXSk7XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJnZXRNZXNzYWdlcyIsImNyZWF0ZU1lc3NhZ2UiLCJjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQiLCJtYXJrQXNSZWFkIiwiYWRkUmVhY3Rpb24iLCJyZW1vdmVSZWFjdGlvbiIsInBpbk1lc3NhZ2UiLCJ1bnBpbk1lc3NhZ2UiLCJlZGl0TWVzc2FnZSIsImRlbGV0ZU1lc3NhZ2UiLCJyZXZva2VNZXNzYWdlIiwic3Rhck1lc3NhZ2UiLCJnZXRTb2NrZXQiLCJyZWdpc3RlckNoYXRTb2NrZXQiLCJERUZBVUxUX1BBR0VfU0laRSIsInRvQ2hhdE1lc3NhZ2UiLCJtZXNzYWdlIiwiaW1hZ2VVcmwiLCJmaWxlIiwidXJsIiwic29ydE1lc3NhZ2VzIiwibXNncyIsInNvcnQiLCJhIiwiYiIsIkRhdGUiLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwidXNlQ2hhdE1lc3NhZ2VzIiwiY29udmVyc2F0aW9uSWQiLCJhbGxNZXNzYWdlcyIsInNldEFsbE1lc3NhZ2VzIiwiaGFzTW9yZSIsInNldEhhc01vcmUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImxvYWRpbmdPbGRlciIsInNldExvYWRpbmdPbGRlciIsImVycm9yIiwic2V0RXJyb3IiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImxvYWRlZFNraXAiLCJzZXRMb2FkZWRTa2lwIiwic3RvcmVkVXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxvYWRNZXNzYWdlcyIsInNraXAiLCJkYXRhIiwibGltaXQiLCJtZXNzYWdlcyIsImhhc01vcmVEYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwicGFnaW5hdGlvbiIsIm5ld01lc3NhZ2VzIiwibWFwIiwicHJldiIsImVyciIsImNvbnNvbGUiLCJFcnJvciIsImFwcGx5TWVzc2FnZVVwZGF0ZSIsIm1lc3NhZ2VJZCIsInVwZGF0ZXIiLCJuZXh0IiwibXNnIiwiX2lkIiwiZmlsdGVyIiwic29ja2V0Iiwid2FybiIsImpvaW5Sb29tIiwibG9nIiwiZW1pdCIsImNvbm5lY3RlZCIsIm9uQ29ubmVjdCIsIm9mZiIsIm9uIiwidW5zdWJzY3JpYmUiLCJvbk1lc3NhZ2VDcmVhdGVkIiwiZXhpc3RzIiwic29tZSIsIml0ZW0iLCJvbk1lc3NhZ2VVcGRhdGVkIiwib25NZXNzYWdlRGVsZXRlZCIsIm9uTWVzc2FnZVBpbm5lZCIsImFjdGlvbiIsIm9uTWVzc2FnZVJlYWN0aW9uIiwicmVhY3Rpb24iLCJjdXJyZW50IiwicmVhY3Rpb25zIiwiZXhpc3RpbmciLCJ1c2VySWQiLCJlbW9qaSIsInRvSVNPU3RyaW5nIiwib25NZXNzYWdlUmV2b2tlZCIsInBheWxvYWQiLCJpc1Jldm9rZWQiLCJyZXZva2VkQXQiLCJyZXZva2VkQnkiLCJ0ZXh0IiwidW5kZWZpbmVkIiwib25NZXNzYWdlUmVhZCIsImFscmVhZHlSZWFkIiwicmVhZEJ5IiwiZW50cnkiLCJuZXh0UmVhZCIsInJlYWRBdCIsIm1hcmtDb252ZXJzYXRpb25Bc1JlYWQiLCJzZW5kTWVzc2FnZSIsImNvbnRlbnQiLCJ0cmltIiwicmVzcG9uc2UiLCJ0eXBlIiwicmVwbHlUbyIsIm1lc3NhZ2VFcnJvciIsImxvYWRPbGRlciIsInJlYWN0VG9NZXNzYWdlIiwidGFyZ2V0IiwiZmluZCIsImFscmVhZHlSZWFjdGVkIiwiY2F0Y2giLCJ0b2dnbGVQaW5NZXNzYWdlIiwic2hvdWxkUGluIiwiaXNQaW5uZWQiLCJlZGl0TWVzc2FnZUNvbnRlbnQiLCJpc0VkaXRlZCIsImRlbGV0ZU1lc3NhZ2VCeUlkIiwicHJldmlvdXMiLCJyZXZva2VNZXNzYWdlQnlJZCIsInN0YXJNZXNzYWdlQnlJZCIsImlzU3RhcnJlZCIsInNvcnRlZE1lc3NhZ2VzIiwicmVsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useChatMessages.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useNotifications.js":
/*!****************************************************!*\
  !*** ../../packages/app/hooks/useNotifications.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useNotifications: () => (/* binding */ useNotifications)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.js\");\n/* harmony import */ var _services_notificationService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/notificationService */ \"(ssr)/../../packages/app/services/notificationService.js\");\n\n\n\nfunction useNotifications(currentConversationId) {\n    const isWindowFocusedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    const permissionRequestedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Request permission on mount\n        if (!permissionRequestedRef.current) {\n            // Only request permission in browser\n            if (false) {}\n            permissionRequestedRef.current = true;\n        }\n        // Track window focus\n        const handleFocus = ()=>{\n            isWindowFocusedRef.current = true;\n        };\n        const handleBlur = ()=>{\n            isWindowFocusedRef.current = false;\n        };\n        if (false) {}\n        return ()=>{\n            if (false) {}\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        // Listen to all new messages (not just current conversation)\n        const handleNewMessage = (payload)=>{\n            const { conversationId, message } = payload;\n            // Don't notify if:\n            // 1. It's the current conversation and window is focused\n            // 2. Message is from current user\n            const isCurrentConversation = conversationId === currentConversationId;\n            let isOwnMessage = false;\n            if (false) {}\n            const shouldNotify = !isCurrentConversation || !isWindowFocusedRef.current;\n            if (!isOwnMessage && shouldNotify) {\n                // Get sender name if available\n                const senderName = message.sender?.name || \"Ai \\xf3\";\n                const messageText = message.text || (message.imageUrl ? \"\\uD83D\\uDCF7 H\\xecnh nh\" : \"Tin nhn\");\n                (0,_services_notificationService__WEBPACK_IMPORTED_MODULE_2__.showNotification)({\n                    title: senderName,\n                    body: messageText.length > 100 ? messageText.substring(0, 100) + \"...\" : messageText,\n                    conversationId\n                });\n            }\n        };\n        socket.on(\"message:new\", handleNewMessage);\n        socket.on(\"newMessage\", handleNewMessage);\n        socket.on(\"chatMessage\", handleNewMessage);\n        return ()=>{\n            socket.off(\"message:new\", handleNewMessage);\n            socket.off(\"newMessage\", handleNewMessage);\n            socket.off(\"chatMessage\", handleNewMessage);\n        };\n    }, [\n        currentConversationId\n    ]);\n    // Social notifications (likes, comments, friend requests)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        const handleSocialNotification = (notification)=>{\n            const actor = notification.actorName || \"Ngi d\\xf9ng\";\n            let body = \"\";\n            switch(notification.type){\n                case \"POST_LIKED\":\n                    body = `${actor}  thch bi vit ca bn`;\n                    break;\n                case \"POST_COMMENTED\":\n                    body = `${actor}  bnh lun bi vit ca bn`;\n                    break;\n                case \"FRIEND_REQUEST\":\n                    body = `${actor}  gi li mi kt bn`;\n                    break;\n                case \"FRIEND_ACCEPTED\":\n                    body = `${actor}  chp nhn li mi kt bn`;\n                    break;\n                default:\n                    body = \"Bn c\\xf3 th\\xf4ng b\\xe1o mi\";\n            }\n            (0,_services_notificationService__WEBPACK_IMPORTED_MODULE_2__.showNotification)({\n                title: \"Day2 Social\",\n                body\n            });\n        };\n        socket.on(\"social:notification\", handleSocialNotification);\n        return ()=>{\n            socket.off(\"social:notification\", handleSocialNotification);\n        };\n    }, []);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZU5vdGlmaWNhdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDSjtBQUM0RDtBQUMzRixTQUFTSyxpQkFBaUJDLHFCQUFxQjtJQUNsRCxNQUFNQyxxQkFBcUJOLDZDQUFNQSxDQUFDO0lBQ2xDLE1BQU1PLHlCQUF5QlAsNkNBQU1BLENBQUM7SUFDdENELGdEQUFTQSxDQUFDO1FBQ04sOEJBQThCO1FBQzlCLElBQUksQ0FBQ1EsdUJBQXVCQyxPQUFPLEVBQUU7WUFDakMscUNBQXFDO1lBQ3JDLElBQUksS0FBa0IsRUFBYSxFQUVsQztZQUNERCx1QkFBdUJDLE9BQU8sR0FBRztRQUNyQztRQUNBLHFCQUFxQjtRQUNyQixNQUFNQyxjQUFjO1lBQ2hCSCxtQkFBbUJFLE9BQU8sR0FBRztRQUNqQztRQUNBLE1BQU1FLGFBQWE7WUFDZkosbUJBQW1CRSxPQUFPLEdBQUc7UUFDakM7UUFDQSxJQUFJLEtBQWtCLEVBQWEsRUFHbEM7UUFDRCxPQUFPO1lBQ0gsSUFBSSxLQUFrQixFQUFhLEVBR2xDO1FBQ0w7SUFDSixHQUFHLEVBQUU7SUFDTFQsZ0RBQVNBLENBQUM7UUFDTixNQUFNZSxTQUFTYixrREFBU0E7UUFDeEIsSUFBSSxDQUFDYSxRQUNEO1FBQ0osNkRBQTZEO1FBQzdELE1BQU1DLG1CQUFtQixDQUFDQztZQUN0QixNQUFNLEVBQUVDLGNBQWMsRUFBRUMsT0FBTyxFQUFFLEdBQUdGO1lBQ3BDLG1CQUFtQjtZQUNuQix5REFBeUQ7WUFDekQsa0NBQWtDO1lBQ2xDLE1BQU1HLHdCQUF3QkYsbUJBQW1CWjtZQUNqRCxJQUFJZSxlQUFlO1lBQ25CLElBQUksS0FBa0IsRUFBYSxFQVFsQztZQUNELE1BQU1LLGVBQWUsQ0FBQ04seUJBQXlCLENBQUNiLG1CQUFtQkUsT0FBTztZQUMxRSxJQUFJLENBQUNZLGdCQUFnQkssY0FBYztnQkFDL0IsK0JBQStCO2dCQUMvQixNQUFNQyxhQUFhUixRQUFRUyxNQUFNLEVBQUVDLFFBQVE7Z0JBQzNDLE1BQU1DLGNBQWNYLFFBQVFZLElBQUksSUFBS1osQ0FBQUEsUUFBUWEsUUFBUSxHQUFHLDZCQUFnQixVQUFTO2dCQUNqRjdCLCtFQUFnQkEsQ0FBQztvQkFDYjhCLE9BQU9OO29CQUNQTyxNQUFNSixZQUFZSyxNQUFNLEdBQUcsTUFBTUwsWUFBWU0sU0FBUyxDQUFDLEdBQUcsT0FBTyxRQUFRTjtvQkFDekVaO2dCQUNKO1lBQ0o7UUFDSjtRQUNBSCxPQUFPc0IsRUFBRSxDQUFDLGVBQWVyQjtRQUN6QkQsT0FBT3NCLEVBQUUsQ0FBQyxjQUFjckI7UUFDeEJELE9BQU9zQixFQUFFLENBQUMsZUFBZXJCO1FBQ3pCLE9BQU87WUFDSEQsT0FBT3VCLEdBQUcsQ0FBQyxlQUFldEI7WUFDMUJELE9BQU91QixHQUFHLENBQUMsY0FBY3RCO1lBQ3pCRCxPQUFPdUIsR0FBRyxDQUFDLGVBQWV0QjtRQUM5QjtJQUNKLEdBQUc7UUFBQ1Y7S0FBc0I7SUFDMUIsMERBQTBEO0lBQzFETixnREFBU0EsQ0FBQztRQUNOLE1BQU1lLFNBQVNiLGtEQUFTQTtRQUN4QixJQUFJLENBQUNhLFFBQ0Q7UUFDSixNQUFNd0IsMkJBQTJCLENBQUNDO1lBQzlCLE1BQU1DLFFBQVFELGFBQWFFLFNBQVMsSUFBSTtZQUN4QyxJQUFJUixPQUFPO1lBQ1gsT0FBUU0sYUFBYUcsSUFBSTtnQkFDckIsS0FBSztvQkFDRFQsT0FBTyxDQUFDLEVBQUVPLE1BQU0sMEJBQTBCLENBQUM7b0JBQzNDO2dCQUNKLEtBQUs7b0JBQ0RQLE9BQU8sQ0FBQyxFQUFFTyxNQUFNLDhCQUE4QixDQUFDO29CQUMvQztnQkFDSixLQUFLO29CQUNEUCxPQUFPLENBQUMsRUFBRU8sTUFBTSx1QkFBdUIsQ0FBQztvQkFDeEM7Z0JBQ0osS0FBSztvQkFDRFAsT0FBTyxDQUFDLEVBQUVPLE1BQU0sNkJBQTZCLENBQUM7b0JBQzlDO2dCQUNKO29CQUNJUCxPQUFPO1lBQ2Y7WUFDQS9CLCtFQUFnQkEsQ0FBQztnQkFDYjhCLE9BQU87Z0JBQ1BDO1lBQ0o7UUFDSjtRQUNBbkIsT0FBT3NCLEVBQUUsQ0FBQyx1QkFBdUJFO1FBQ2pDLE9BQU87WUFDSHhCLE9BQU91QixHQUFHLENBQUMsdUJBQXVCQztRQUN0QztJQUNKLEdBQUcsRUFBRTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZU5vdGlmaWNhdGlvbnMuanM/ZTY3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gJy4uL3NvY2tldCc7XG5pbXBvcnQgeyBzaG93Tm90aWZpY2F0aW9uLCByZXF1ZXN0Tm90aWZpY2F0aW9uUGVybWlzc2lvbiB9IGZyb20gJy4uL3NlcnZpY2VzL25vdGlmaWNhdGlvblNlcnZpY2UnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU5vdGlmaWNhdGlvbnMoY3VycmVudENvbnZlcnNhdGlvbklkKSB7XG4gICAgY29uc3QgaXNXaW5kb3dGb2N1c2VkUmVmID0gdXNlUmVmKHRydWUpO1xuICAgIGNvbnN0IHBlcm1pc3Npb25SZXF1ZXN0ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIFJlcXVlc3QgcGVybWlzc2lvbiBvbiBtb3VudFxuICAgICAgICBpZiAoIXBlcm1pc3Npb25SZXF1ZXN0ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgLy8gT25seSByZXF1ZXN0IHBlcm1pc3Npb24gaW4gYnJvd3NlclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcm1pc3Npb25SZXF1ZXN0ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJhY2sgd2luZG93IGZvY3VzXG4gICAgICAgIGNvbnN0IGhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgaXNXaW5kb3dGb2N1c2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVCbHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaXNXaW5kb3dGb2N1c2VkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cyk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZUJsdXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cyk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVCbHVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XG4gICAgICAgIGlmICghc29ja2V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBMaXN0ZW4gdG8gYWxsIG5ldyBtZXNzYWdlcyAobm90IGp1c3QgY3VycmVudCBjb252ZXJzYXRpb24pXG4gICAgICAgIGNvbnN0IGhhbmRsZU5ld01lc3NhZ2UgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb252ZXJzYXRpb25JZCwgbWVzc2FnZSB9ID0gcGF5bG9hZDtcbiAgICAgICAgICAgIC8vIERvbid0IG5vdGlmeSBpZjpcbiAgICAgICAgICAgIC8vIDEuIEl0J3MgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uIGFuZCB3aW5kb3cgaXMgZm9jdXNlZFxuICAgICAgICAgICAgLy8gMi4gTWVzc2FnZSBpcyBmcm9tIGN1cnJlbnQgdXNlclxuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50Q29udmVyc2F0aW9uID0gY29udmVyc2F0aW9uSWQgPT09IGN1cnJlbnRDb252ZXJzYXRpb25JZDtcbiAgICAgICAgICAgIGxldCBpc093bk1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpO1xuICAgICAgICAgICAgICAgICAgICBpc093bk1lc3NhZ2UgPSAhIXVzZXJJZCAmJiBtZXNzYWdlLnNlbmRlcklkID09PSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgaXNPd25NZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkTm90aWZ5ID0gIWlzQ3VycmVudENvbnZlcnNhdGlvbiB8fCAhaXNXaW5kb3dGb2N1c2VkUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoIWlzT3duTWVzc2FnZSAmJiBzaG91bGROb3RpZnkpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgc2VuZGVyIG5hbWUgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VuZGVyTmFtZSA9IG1lc3NhZ2Uuc2VuZGVyPy5uYW1lIHx8ICdBaSDEkcOzJztcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlVGV4dCA9IG1lc3NhZ2UudGV4dCB8fCAobWVzc2FnZS5pbWFnZVVybCA/ICfwn5O3IEjDrG5oIOG6o25oJyA6ICdUaW4gbmjhuq9uJyk7XG4gICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZW5kZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBtZXNzYWdlVGV4dC5sZW5ndGggPiAxMDAgPyBtZXNzYWdlVGV4dC5zdWJzdHJpbmcoMCwgMTAwKSArICcuLi4nIDogbWVzc2FnZVRleHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzb2NrZXQub24oJ21lc3NhZ2U6bmV3JywgaGFuZGxlTmV3TWVzc2FnZSk7XG4gICAgICAgIHNvY2tldC5vbignbmV3TWVzc2FnZScsIGhhbmRsZU5ld01lc3NhZ2UpO1xuICAgICAgICBzb2NrZXQub24oJ2NoYXRNZXNzYWdlJywgaGFuZGxlTmV3TWVzc2FnZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzb2NrZXQub2ZmKCdtZXNzYWdlOm5ldycsIGhhbmRsZU5ld01lc3NhZ2UpO1xuICAgICAgICAgICAgc29ja2V0Lm9mZignbmV3TWVzc2FnZScsIGhhbmRsZU5ld01lc3NhZ2UpO1xuICAgICAgICAgICAgc29ja2V0Lm9mZignY2hhdE1lc3NhZ2UnLCBoYW5kbGVOZXdNZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY3VycmVudENvbnZlcnNhdGlvbklkXSk7XG4gICAgLy8gU29jaWFsIG5vdGlmaWNhdGlvbnMgKGxpa2VzLCBjb21tZW50cywgZnJpZW5kIHJlcXVlc3RzKVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xuICAgICAgICBpZiAoIXNvY2tldClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlU29jaWFsTm90aWZpY2F0aW9uID0gKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBub3RpZmljYXRpb24uYWN0b3JOYW1lIHx8ICdOZ8aw4budaSBkw7luZyc7XG4gICAgICAgICAgICBsZXQgYm9keSA9ICcnO1xuICAgICAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb24udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1BPU1RfTElLRUQnOlxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gYCR7YWN0b3J9IMSRw6MgdGjDrWNoIGLDoGkgdmnhur90IGPhu6dhIGLhuqFuYDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUE9TVF9DT01NRU5URUQnOlxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gYCR7YWN0b3J9IMSRw6MgYsOsbmggbHXhuq1uIGLDoGkgdmnhur90IGPhu6dhIGLhuqFuYDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRlJJRU5EX1JFUVVFU1QnOlxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gYCR7YWN0b3J9IMSRw6MgZ+G7rWkgbOG7nWkgbeG7nWkga+G6v3QgYuG6oW5gO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdGUklFTkRfQUNDRVBURUQnOlxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gYCR7YWN0b3J9IMSRw6MgY2jhuqVwIG5o4bqtbiBs4budaSBt4budaSBr4bq/dCBi4bqhbmA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSAnQuG6oW4gY8OzIHRow7RuZyBiw6FvIG3hu5tpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnRGF5MiBTb2NpYWwnLFxuICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgc29ja2V0Lm9uKCdzb2NpYWw6bm90aWZpY2F0aW9uJywgaGFuZGxlU29jaWFsTm90aWZpY2F0aW9uKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5vZmYoJ3NvY2lhbDpub3RpZmljYXRpb24nLCBoYW5kbGVTb2NpYWxOb3RpZmljYXRpb24pO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJnZXRTb2NrZXQiLCJzaG93Tm90aWZpY2F0aW9uIiwicmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJ1c2VOb3RpZmljYXRpb25zIiwiY3VycmVudENvbnZlcnNhdGlvbklkIiwiaXNXaW5kb3dGb2N1c2VkUmVmIiwicGVybWlzc2lvblJlcXVlc3RlZFJlZiIsImN1cnJlbnQiLCJoYW5kbGVGb2N1cyIsImhhbmRsZUJsdXIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNvY2tldCIsImhhbmRsZU5ld01lc3NhZ2UiLCJwYXlsb2FkIiwiY29udmVyc2F0aW9uSWQiLCJtZXNzYWdlIiwiaXNDdXJyZW50Q29udmVyc2F0aW9uIiwiaXNPd25NZXNzYWdlIiwidXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNlbmRlcklkIiwic2hvdWxkTm90aWZ5Iiwic2VuZGVyTmFtZSIsInNlbmRlciIsIm5hbWUiLCJtZXNzYWdlVGV4dCIsInRleHQiLCJpbWFnZVVybCIsInRpdGxlIiwiYm9keSIsImxlbmd0aCIsInN1YnN0cmluZyIsIm9uIiwib2ZmIiwiaGFuZGxlU29jaWFsTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiYWN0b3IiLCJhY3Rvck5hbWUiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useNotifications.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useOpponentInfo.js":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useOpponentInfo.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useOpponentInfo: () => (/* binding */ useOpponentInfo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.js\");\n\n\nfunction useOpponentInfo(conversationId) {\n    const [info, setInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const load = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!conversationId) {\n            setInfo(null);\n            return;\n        }\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getOpponentInfo)(conversationId);\n            setInfo({\n                conversationId,\n                userId: response.user?._id,\n                name: response.user?.name ?? \"Ngi d\\xf9ng\",\n                avatar: response.user?.avatar ?? undefined,\n                status: response.status?.isOnline ? \"online\" : \"offline\",\n                lastSeen: response.status?.lastActive\n            });\n        } catch (err) {\n            console.error(\" Failed to load opponent info:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to load opponent info\");\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        conversationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        load();\n    }, [\n        load\n    ]);\n    return {\n        info,\n        loading,\n        error,\n        reload: load\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZU9wcG9uZW50SW5mby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ2hCO0FBQ2xDLFNBQVNJLGdCQUFnQkMsY0FBYztJQUMxQyxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR0wsK0NBQVFBLENBQUM7SUFDakMsTUFBTSxDQUFDTSxTQUFTQyxXQUFXLEdBQUdQLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1EsT0FBT0MsU0FBUyxHQUFHVCwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNVSxPQUFPWixrREFBV0EsQ0FBQztRQUNyQixJQUFJLENBQUNLLGdCQUFnQjtZQUNqQkUsUUFBUTtZQUNSO1FBQ0o7UUFDQSxJQUFJO1lBQ0FFLFdBQVc7WUFDWEUsU0FBUztZQUNULE1BQU1FLFdBQVcsTUFBTVYscURBQWVBLENBQUNFO1lBQ3ZDRSxRQUFRO2dCQUNKRjtnQkFDQVMsUUFBUUQsU0FBU0UsSUFBSSxFQUFFQztnQkFDdkJDLE1BQU1KLFNBQVNFLElBQUksRUFBRUUsUUFBUTtnQkFDN0JDLFFBQVFMLFNBQVNFLElBQUksRUFBRUcsVUFBVUM7Z0JBQ2pDQyxRQUFRUCxTQUFTTyxNQUFNLEVBQUVDLFdBQVcsV0FBVztnQkFDL0NDLFVBQVVULFNBQVNPLE1BQU0sRUFBRUc7WUFDL0I7UUFDSixFQUNBLE9BQU9DLEtBQUs7WUFDUkMsUUFBUWYsS0FBSyxDQUFDLG1DQUFtQ2M7WUFDakRiLFNBQVNhLGVBQWVFLFFBQVFGLElBQUlHLE9BQU8sR0FBRztRQUNsRCxTQUNRO1lBQ0psQixXQUFXO1FBQ2Y7SUFDSixHQUFHO1FBQUNKO0tBQWU7SUFDbkJKLGdEQUFTQSxDQUFDO1FBQ05XO0lBQ0osR0FBRztRQUFDQTtLQUFLO0lBQ1QsT0FBTztRQUFFTjtRQUFNRTtRQUFTRTtRQUFPa0IsUUFBUWhCO0lBQUs7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlT3Bwb25lbnRJbmZvLmpzPzAyZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRPcHBvbmVudEluZm8gfSBmcm9tICcuLi9hcGknO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU9wcG9uZW50SW5mbyhjb252ZXJzYXRpb25JZCkge1xuICAgIGNvbnN0IFtpbmZvLCBzZXRJbmZvXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGxvYWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIHNldEluZm8obnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0T3Bwb25lbnRJbmZvKGNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgICAgIHNldEluZm8oe1xuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogcmVzcG9uc2UudXNlcj8uX2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLnVzZXI/Lm5hbWUgPz8gJ05nxrDhu51pIGTDuW5nJyxcbiAgICAgICAgICAgICAgICBhdmF0YXI6IHJlc3BvbnNlLnVzZXI/LmF2YXRhciA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXM/LmlzT25saW5lID8gJ29ubGluZScgOiAnb2ZmbGluZScsXG4gICAgICAgICAgICAgICAgbGFzdFNlZW46IHJlc3BvbnNlLnN0YXR1cz8ubGFzdEFjdGl2ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbG9hZCBvcHBvbmVudCBpbmZvOicsIGVycik7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBsb2FkIG9wcG9uZW50IGluZm8nKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbG9hZCgpO1xuICAgIH0sIFtsb2FkXSk7XG4gICAgcmV0dXJuIHsgaW5mbywgbG9hZGluZywgZXJyb3IsIHJlbG9hZDogbG9hZCB9O1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJnZXRPcHBvbmVudEluZm8iLCJ1c2VPcHBvbmVudEluZm8iLCJjb252ZXJzYXRpb25JZCIsImluZm8iLCJzZXRJbmZvIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwibG9hZCIsInJlc3BvbnNlIiwidXNlcklkIiwidXNlciIsIl9pZCIsIm5hbWUiLCJhdmF0YXIiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJpc09ubGluZSIsImxhc3RTZWVuIiwibGFzdEFjdGl2ZSIsImVyciIsImNvbnNvbGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJyZWxvYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useOpponentInfo.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useTypingStatus.js":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useTypingStatus.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTypingStatus: () => (/* binding */ useTypingStatus)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.js\");\n\n\nfunction useTypingStatus(conversationId, selfUserId) {\n    const [typingUsers, setTypingUsers] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const timeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        const handleTypingStart = (payload)=>{\n            if (payload.conversationId !== conversationId) return;\n            if (payload.userId === selfUserId) return;\n            setTypingUsers((prev)=>{\n                const exists = prev.some((item)=>item.userId === payload.userId);\n                if (exists) return prev;\n                return [\n                    ...prev,\n                    {\n                        userId: payload.userId,\n                        name: payload.userName\n                    }\n                ];\n            });\n        };\n        const handleTypingStop = (payload)=>{\n            if (payload.conversationId !== conversationId) return;\n            setTypingUsers((prev)=>prev.filter((item)=>item.userId !== payload.userId));\n        };\n        socket.on(\"typing:start\", handleTypingStart);\n        socket.on(\"typing:stop\", handleTypingStop);\n        return ()=>{\n            socket.off(\"typing:start\", handleTypingStart);\n            socket.off(\"typing:stop\", handleTypingStop);\n        };\n    }, [\n        conversationId,\n        selfUserId\n    ]);\n    const emitStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        socket.emit(\"typing:stop\", {\n            conversationId\n        });\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n        }\n    }, [\n        conversationId\n    ]);\n    const handleInputChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value)=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)();\n        if (!socket) return;\n        if (value.trim().length > 0) {\n            socket.emit(\"typing:start\", {\n                conversationId\n            });\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n            timeoutRef.current = setTimeout(()=>{\n                emitStop();\n            }, 3000);\n        } else {\n            emitStop();\n        }\n    }, [\n        conversationId,\n        emitStop\n    ]);\n    const notifyMessageSent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        emitStop();\n    }, [\n        emitStop\n    ]);\n    return {\n        typingUsers,\n        handleInputChange,\n        notifyMessageSent\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZVR5cGluZ1N0YXR1cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlFO0FBQzNCO0FBQy9CLFNBQVNLLGdCQUFnQkMsY0FBYyxFQUFFQyxVQUFVO0lBQ3RELE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHTiwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ2pELE1BQU1PLGFBQWFSLDZDQUFNQSxDQUFDO0lBQzFCRCxnREFBU0EsQ0FBQztRQUNOLElBQUksQ0FBQ0ssZ0JBQ0Q7UUFDSixNQUFNSyxTQUFTUCxrREFBU0E7UUFDeEIsSUFBSSxDQUFDTyxRQUNEO1FBQ0osTUFBTUMsb0JBQW9CLENBQUNDO1lBQ3ZCLElBQUlBLFFBQVFQLGNBQWMsS0FBS0EsZ0JBQzNCO1lBQ0osSUFBSU8sUUFBUUMsTUFBTSxLQUFLUCxZQUNuQjtZQUNKRSxlQUFlLENBQUNNO2dCQUNaLE1BQU1DLFNBQVNELEtBQUtFLElBQUksQ0FBQyxDQUFDQyxPQUFTQSxLQUFLSixNQUFNLEtBQUtELFFBQVFDLE1BQU07Z0JBQ2pFLElBQUlFLFFBQ0EsT0FBT0Q7Z0JBQ1gsT0FBTzt1QkFBSUE7b0JBQU07d0JBQUVELFFBQVFELFFBQVFDLE1BQU07d0JBQUVLLE1BQU1OLFFBQVFPLFFBQVE7b0JBQUM7aUJBQUU7WUFDeEU7UUFDSjtRQUNBLE1BQU1DLG1CQUFtQixDQUFDUjtZQUN0QixJQUFJQSxRQUFRUCxjQUFjLEtBQUtBLGdCQUMzQjtZQUNKRyxlQUFlLENBQUNNLE9BQVNBLEtBQUtPLE1BQU0sQ0FBQyxDQUFDSixPQUFTQSxLQUFLSixNQUFNLEtBQUtELFFBQVFDLE1BQU07UUFDakY7UUFDQUgsT0FBT1ksRUFBRSxDQUFDLGdCQUFnQlg7UUFDMUJELE9BQU9ZLEVBQUUsQ0FBQyxlQUFlRjtRQUN6QixPQUFPO1lBQ0hWLE9BQU9hLEdBQUcsQ0FBQyxnQkFBZ0JaO1lBQzNCRCxPQUFPYSxHQUFHLENBQUMsZUFBZUg7UUFDOUI7SUFDSixHQUFHO1FBQUNmO1FBQWdCQztLQUFXO0lBQy9CLE1BQU1rQixXQUFXekIsa0RBQVdBLENBQUM7UUFDekIsSUFBSSxDQUFDTSxnQkFDRDtRQUNKLE1BQU1LLFNBQVNQLGtEQUFTQTtRQUN4QixJQUFJLENBQUNPLFFBQ0Q7UUFDSkEsT0FBT2UsSUFBSSxDQUFDLGVBQWU7WUFBRXBCO1FBQWU7UUFDNUMsSUFBSUksV0FBV2lCLE9BQU8sRUFBRTtZQUNwQkMsYUFBYWxCLFdBQVdpQixPQUFPO1lBQy9CakIsV0FBV2lCLE9BQU8sR0FBRztRQUN6QjtJQUNKLEdBQUc7UUFBQ3JCO0tBQWU7SUFDbkIsTUFBTXVCLG9CQUFvQjdCLGtEQUFXQSxDQUFDLENBQUM4QjtRQUNuQyxJQUFJLENBQUN4QixnQkFDRDtRQUNKLE1BQU1LLFNBQVNQLGtEQUFTQTtRQUN4QixJQUFJLENBQUNPLFFBQ0Q7UUFDSixJQUFJbUIsTUFBTUMsSUFBSSxHQUFHQyxNQUFNLEdBQUcsR0FBRztZQUN6QnJCLE9BQU9lLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUVwQjtZQUFlO1lBQzdDLElBQUlJLFdBQVdpQixPQUFPLEVBQUU7Z0JBQ3BCQyxhQUFhbEIsV0FBV2lCLE9BQU87WUFDbkM7WUFDQWpCLFdBQVdpQixPQUFPLEdBQUdNLFdBQVc7Z0JBQzVCUjtZQUNKLEdBQUc7UUFDUCxPQUNLO1lBQ0RBO1FBQ0o7SUFDSixHQUFHO1FBQUNuQjtRQUFnQm1CO0tBQVM7SUFDN0IsTUFBTVMsb0JBQW9CbEMsa0RBQVdBLENBQUM7UUFDbEN5QjtJQUNKLEdBQUc7UUFBQ0E7S0FBUztJQUNiLE9BQU87UUFBRWpCO1FBQWFxQjtRQUFtQks7SUFBa0I7QUFDL0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlVHlwaW5nU3RhdHVzLmpzPzAyMTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gJy4uL3NvY2tldCc7XG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwaW5nU3RhdHVzKGNvbnZlcnNhdGlvbklkLCBzZWxmVXNlcklkKSB7XG4gICAgY29uc3QgW3R5cGluZ1VzZXJzLCBzZXRUeXBpbmdVc2Vyc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgdGltZW91dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNvbnZlcnNhdGlvbklkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcbiAgICAgICAgaWYgKCFzb2NrZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVR5cGluZ1N0YXJ0ID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmNvbnZlcnNhdGlvbklkICE9PSBjb252ZXJzYXRpb25JZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocGF5bG9hZC51c2VySWQgPT09IHNlbGZVc2VySWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2V0VHlwaW5nVXNlcnMoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUoKGl0ZW0pID0+IGl0ZW0udXNlcklkID09PSBwYXlsb2FkLnVzZXJJZCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0cylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCB7IHVzZXJJZDogcGF5bG9hZC51c2VySWQsIG5hbWU6IHBheWxvYWQudXNlck5hbWUgfV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlVHlwaW5nU3RvcCA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5jb252ZXJzYXRpb25JZCAhPT0gY29udmVyc2F0aW9uSWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2V0VHlwaW5nVXNlcnMoKHByZXYpID0+IHByZXYuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnVzZXJJZCAhPT0gcGF5bG9hZC51c2VySWQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgc29ja2V0Lm9uKCd0eXBpbmc6c3RhcnQnLCBoYW5kbGVUeXBpbmdTdGFydCk7XG4gICAgICAgIHNvY2tldC5vbigndHlwaW5nOnN0b3AnLCBoYW5kbGVUeXBpbmdTdG9wKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5vZmYoJ3R5cGluZzpzdGFydCcsIGhhbmRsZVR5cGluZ1N0YXJ0KTtcbiAgICAgICAgICAgIHNvY2tldC5vZmYoJ3R5cGluZzpzdG9wJywgaGFuZGxlVHlwaW5nU3RvcCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnZlcnNhdGlvbklkLCBzZWxmVXNlcklkXSk7XG4gICAgY29uc3QgZW1pdFN0b3AgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghY29udmVyc2F0aW9uSWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xuICAgICAgICBpZiAoIXNvY2tldClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc29ja2V0LmVtaXQoJ3R5cGluZzpzdG9wJywgeyBjb252ZXJzYXRpb25JZCB9KTtcbiAgICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XG4gICAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSB1c2VDYWxsYmFjaygodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCFjb252ZXJzYXRpb25JZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XG4gICAgICAgIGlmICghc29ja2V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCd0eXBpbmc6c3RhcnQnLCB7IGNvbnZlcnNhdGlvbklkIH0pO1xuICAgICAgICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdFN0b3AoKTtcbiAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW1pdFN0b3AoKTtcbiAgICAgICAgfVxuICAgIH0sIFtjb252ZXJzYXRpb25JZCwgZW1pdFN0b3BdKTtcbiAgICBjb25zdCBub3RpZnlNZXNzYWdlU2VudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgZW1pdFN0b3AoKTtcbiAgICB9LCBbZW1pdFN0b3BdKTtcbiAgICByZXR1cm4geyB0eXBpbmdVc2VycywgaGFuZGxlSW5wdXRDaGFuZ2UsIG5vdGlmeU1lc3NhZ2VTZW50IH07XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImdldFNvY2tldCIsInVzZVR5cGluZ1N0YXR1cyIsImNvbnZlcnNhdGlvbklkIiwic2VsZlVzZXJJZCIsInR5cGluZ1VzZXJzIiwic2V0VHlwaW5nVXNlcnMiLCJ0aW1lb3V0UmVmIiwic29ja2V0IiwiaGFuZGxlVHlwaW5nU3RhcnQiLCJwYXlsb2FkIiwidXNlcklkIiwicHJldiIsImV4aXN0cyIsInNvbWUiLCJpdGVtIiwibmFtZSIsInVzZXJOYW1lIiwiaGFuZGxlVHlwaW5nU3RvcCIsImZpbHRlciIsIm9uIiwib2ZmIiwiZW1pdFN0b3AiLCJlbWl0IiwiY3VycmVudCIsImNsZWFyVGltZW91dCIsImhhbmRsZUlucHV0Q2hhbmdlIiwidmFsdWUiLCJ0cmltIiwibGVuZ3RoIiwic2V0VGltZW91dCIsIm5vdGlmeU1lc3NhZ2VTZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useTypingStatus.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/services/callPopup.js":
/*!************************************************!*\
  !*** ../../packages/app/services/callPopup.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CallPopupManager: () => (/* binding */ CallPopupManager)\n/* harmony export */ });\nclass CallPopupManager {\n    constructor(){\n        this.callWindow = null;\n        this.callUrl =  false ? 0 : \"\";\n    }\n    isElectron() {\n        if (true) return false;\n        return !!(window.electronAPI || window.location.hash.includes(\"#/\") || window.location.href.includes(\"/#/\") || navigator.userAgent.toLowerCase().includes(\"electron\"));\n    }\n    openCallWindow(callId, conversationId, isIncoming = false, options) {\n        // Service ny ch dng cho web; nu khng c window th b qua\n        if (true) {\n            console.log(\"Call popup only works in browser environment\");\n            return null;\n        }\n        // Detect Electron v dng hash navigation\n        if (this.isElectron()) {\n            const target = `#/call/${callId}`;\n            console.log(\"\\uD83D\\uDCDE [CALLPOPUP] Electron detected, navigating via hash:\", target);\n            window.location.hash = target;\n            return window;\n        }\n        // Web: dng query params\n        const callParams = new URLSearchParams({\n            callId,\n            conversationId,\n            isIncoming: isIncoming.toString()\n        });\n        if (options?.callType) {\n            callParams.set(\"callType\", options.callType);\n        }\n        if (options?.livekitRoomName) {\n            callParams.set(\"livekitRoomName\", options.livekitRoomName);\n        }\n        const fullUrl = `${this.callUrl}?${callParams}`;\n        console.log(\"\\uD83D\\uDCDE [CALLPOPUP] Navigating to call URL in same tab:\", fullUrl);\n        // n gin: m mn hnh call ngay trong tab hin ti  trnh popup b chn\n        window.location.href = fullUrl;\n        return window;\n    }\n    closeCallWindow() {\n        if (this.callWindow && !this.callWindow.closed) {\n            this.callWindow.close();\n        }\n        this.callWindow = null;\n    }\n    endCall() {\n        // Emit end call event to parent window\n        if (false) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL2NhbGxQb3B1cC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUE7SUFDVEMsYUFBYztRQUNWLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1FBQ2xCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLE1BQWtCLEdBQWMsQ0FBZ0MsR0FBRztJQUN0RjtJQUNBSSxhQUFhO1FBQ1QsSUFBSSxJQUFrQixFQUNsQixPQUFPO1FBQ1gsT0FBTyxDQUFDLENBQUVILENBQUFBLE9BQU9JLFdBQVcsSUFDeEJKLE9BQU9DLFFBQVEsQ0FBQ0ksSUFBSSxDQUFDQyxRQUFRLENBQUMsU0FDOUJOLE9BQU9DLFFBQVEsQ0FBQ00sSUFBSSxDQUFDRCxRQUFRLENBQUMsVUFDOUJFLFVBQVVDLFNBQVMsQ0FBQ0MsV0FBVyxHQUFHSixRQUFRLENBQUMsV0FBVTtJQUM3RDtJQUNBSyxlQUFlQyxNQUFNLEVBQUVDLGNBQWMsRUFBRUMsYUFBYSxLQUFLLEVBQUVDLE9BQU8sRUFBRTtRQUNoRSwrREFBK0Q7UUFDL0QsSUFBSSxJQUE2QixFQUFFO1lBQy9CQyxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPO1FBQ1g7UUFDQSwwQ0FBMEM7UUFDMUMsSUFBSSxJQUFJLENBQUNkLFVBQVUsSUFBSTtZQUNuQixNQUFNZSxTQUFTLENBQUMsT0FBTyxFQUFFTixPQUFPLENBQUM7WUFDakNJLFFBQVFDLEdBQUcsQ0FBQyxvRUFBMERDO1lBQ3RFbEIsT0FBT0MsUUFBUSxDQUFDSSxJQUFJLEdBQUdhO1lBQ3ZCLE9BQU9sQjtRQUNYO1FBQ0EseUJBQXlCO1FBQ3pCLE1BQU1tQixhQUFhLElBQUlDLGdCQUFnQjtZQUNuQ1I7WUFDQUM7WUFDQUMsWUFBWUEsV0FBV08sUUFBUTtRQUNuQztRQUNBLElBQUlOLFNBQVNPLFVBQVU7WUFDbkJILFdBQVdJLEdBQUcsQ0FBQyxZQUFZUixRQUFRTyxRQUFRO1FBQy9DO1FBQ0EsSUFBSVAsU0FBU1MsaUJBQWlCO1lBQzFCTCxXQUFXSSxHQUFHLENBQUMsbUJBQW1CUixRQUFRUyxlQUFlO1FBQzdEO1FBQ0EsTUFBTUMsVUFBVSxDQUFDLEVBQUUsSUFBSSxDQUFDMUIsT0FBTyxDQUFDLENBQUMsRUFBRW9CLFdBQVcsQ0FBQztRQUMvQ0gsUUFBUUMsR0FBRyxDQUFDLGdFQUFzRFE7UUFDbEUsNEVBQTRFO1FBQzVFekIsT0FBT0MsUUFBUSxDQUFDTSxJQUFJLEdBQUdrQjtRQUN2QixPQUFPekI7SUFDWDtJQUNBMEIsa0JBQWtCO1FBQ2QsSUFBSSxJQUFJLENBQUM1QixVQUFVLElBQUksQ0FBQyxJQUFJLENBQUNBLFVBQVUsQ0FBQzZCLE1BQU0sRUFBRTtZQUM1QyxJQUFJLENBQUM3QixVQUFVLENBQUM4QixLQUFLO1FBQ3pCO1FBQ0EsSUFBSSxDQUFDOUIsVUFBVSxHQUFHO0lBQ3RCO0lBQ0ErQixVQUFVO1FBQ04sdUNBQXVDO1FBQ3ZDLElBQUksS0FBOEMsRUFBRSxFQUVuRDtJQUNMO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvc2VydmljZXMvY2FsbFBvcHVwLmpzPzAxODkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhbGxQb3B1cE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhbGxXaW5kb3cgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbGxVcmwgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2NhbGxgIDogJyc7XG4gICAgfVxuICAgIGlzRWxlY3Ryb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuICEhKHdpbmRvdy5lbGVjdHJvbkFQSSB8fFxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2guaW5jbHVkZXMoJyMvJykgfHxcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvIy8nKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlbGVjdHJvbicpKTtcbiAgICB9XG4gICAgb3BlbkNhbGxXaW5kb3coY2FsbElkLCBjb252ZXJzYXRpb25JZCwgaXNJbmNvbWluZyA9IGZhbHNlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFNlcnZpY2UgbsOgeSBjaOG7iSBkw7luZyBjaG8gd2ViOyBu4bq/dSBraMO0bmcgY8OzIHdpbmRvdyB0aMOsIGLhu48gcXVhXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FsbCBwb3B1cCBvbmx5IHdvcmtzIGluIGJyb3dzZXIgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIERldGVjdCBFbGVjdHJvbiB2w6AgZMO5bmcgaGFzaCBuYXZpZ2F0aW9uXG4gICAgICAgIGlmICh0aGlzLmlzRWxlY3Ryb24oKSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gYCMvY2FsbC8ke2NhbGxJZH1gO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk54gW0NBTExQT1BVUF0gRWxlY3Ryb24gZGV0ZWN0ZWQsIG5hdmlnYXRpbmcgdmlhIGhhc2g6JywgdGFyZ2V0KTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdGFyZ2V0O1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICAvLyBXZWI6IGTDuW5nIHF1ZXJ5IHBhcmFtc1xuICAgICAgICBjb25zdCBjYWxsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICBjYWxsSWQsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgIGlzSW5jb21pbmc6IGlzSW5jb21pbmcudG9TdHJpbmcoKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnM/LmNhbGxUeXBlKSB7XG4gICAgICAgICAgICBjYWxsUGFyYW1zLnNldCgnY2FsbFR5cGUnLCBvcHRpb25zLmNhbGxUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucz8ubGl2ZWtpdFJvb21OYW1lKSB7XG4gICAgICAgICAgICBjYWxsUGFyYW1zLnNldCgnbGl2ZWtpdFJvb21OYW1lJywgb3B0aW9ucy5saXZla2l0Um9vbU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBgJHt0aGlzLmNhbGxVcmx9PyR7Y2FsbFBhcmFtc31gO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TniBbQ0FMTFBPUFVQXSBOYXZpZ2F0aW5nIHRvIGNhbGwgVVJMIGluIHNhbWUgdGFiOicsIGZ1bGxVcmwpO1xuICAgICAgICAvLyDEkMahbiBnaeG6o246IG3hu58gbcOgbiBow6xuaCBjYWxsIG5nYXkgdHJvbmcgdGFiIGhp4buHbiB04bqhaSDEkeG7gyB0csOhbmggcG9wdXAgYuG7iyBjaOG6t25cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBmdWxsVXJsO1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBjbG9zZUNhbGxXaW5kb3coKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbGxXaW5kb3cgJiYgIXRoaXMuY2FsbFdpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFdpbmRvdy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbFdpbmRvdyA9IG51bGw7XG4gICAgfVxuICAgIGVuZENhbGwoKSB7XG4gICAgICAgIC8vIEVtaXQgZW5kIGNhbGwgZXZlbnQgdG8gcGFyZW50IHdpbmRvd1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm9wZW5lcikge1xuICAgICAgICAgICAgd2luZG93Lm9wZW5lci5wb3N0TWVzc2FnZSh7IHR5cGU6ICdDQUxMX0VOREVEJyB9LCAnKicpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkNhbGxQb3B1cE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImNhbGxXaW5kb3ciLCJjYWxsVXJsIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJpc0VsZWN0cm9uIiwiZWxlY3Ryb25BUEkiLCJoYXNoIiwiaW5jbHVkZXMiLCJocmVmIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJvcGVuQ2FsbFdpbmRvdyIsImNhbGxJZCIsImNvbnZlcnNhdGlvbklkIiwiaXNJbmNvbWluZyIsIm9wdGlvbnMiLCJjb25zb2xlIiwibG9nIiwidGFyZ2V0IiwiY2FsbFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiY2FsbFR5cGUiLCJzZXQiLCJsaXZla2l0Um9vbU5hbWUiLCJmdWxsVXJsIiwiY2xvc2VDYWxsV2luZG93IiwiY2xvc2VkIiwiY2xvc2UiLCJlbmRDYWxsIiwib3BlbmVyIiwicG9zdE1lc3NhZ2UiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/services/callPopup.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/services/chatSocket.js":
/*!*************************************************!*\
  !*** ../../packages/app/services/chatSocket.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerChatSocket: () => (/* binding */ registerChatSocket)\n/* harmony export */ });\nfunction registerChatSocket(socket, conversationId, handlers) {\n    if (!socket) return ()=>undefined;\n    const messageCreated = (payload)=>{\n        // Handle both formats:\n        // 1. Direct message object (backend format)\n        // 2. Wrapped format { conversationId, message }\n        let message;\n        let payloadConversationId;\n        if (\"conversationId\" in payload && \"message\" in payload) {\n            // Wrapped format\n            message = payload.message;\n            payloadConversationId = payload.conversationId;\n        } else {\n            // Direct message object\n            message = payload;\n            payloadConversationId = String(message.conversationId);\n        }\n        if (payloadConversationId === conversationId) {\n            console.log(\"\\uD83D\\uDCE8 Socket received message for current conversation:\", message._id);\n            handlers.onMessageCreated?.(message);\n        } else {\n            console.log(\" Socket received message for different conversation:\", payloadConversationId, \"current:\", conversationId);\n        }\n    };\n    const messageUpdated = (payload)=>{\n        // Handle both formats\n        let message;\n        let payloadConversationId;\n        if (\"conversationId\" in payload && \"message\" in payload) {\n            message = payload.message;\n            payloadConversationId = payload.conversationId;\n        } else {\n            message = payload;\n            payloadConversationId = String(message.conversationId);\n        }\n        if (payloadConversationId === conversationId) {\n            handlers.onMessageUpdated?.(message);\n        }\n    };\n    const messageDeleted = (payload)=>{\n        // Handle both formats\n        const messageId = payload.messageId;\n        const payloadConversationId = payload.conversationId;\n        if (!payloadConversationId || payloadConversationId === conversationId) {\n            handlers.onMessageDeleted?.(messageId);\n        }\n    };\n    const typingStarted = (payload)=>{\n        if (payload.conversationId === conversationId) {\n            handlers.onTypingStarted?.(payload.userId);\n        }\n    };\n    const typingStopped = (payload)=>{\n        if (payload.conversationId === conversationId) {\n            handlers.onTypingStopped?.(payload.userId);\n        }\n    };\n    const messagePinned = (data)=>{\n        handlers.onMessagePinned?.(data);\n    };\n    const messageReaction = (data)=>{\n        if (!data?.messageId) return;\n        handlers.onMessageReaction?.(data);\n    };\n    const messageRevoked = (data)=>{\n        if (!data?.messageId) return;\n        if (data.conversationId && data.conversationId !== conversationId) {\n            return;\n        }\n        handlers.onMessageRevoked?.(data);\n    };\n    const messageRead = (data)=>{\n        if (!data?.messageId) return;\n        if (data.conversationId && data.conversationId !== conversationId) {\n            return;\n        }\n        handlers.onMessageRead?.(data);\n    };\n    socket.on(\"message:new\", messageCreated);\n    socket.on(\"newMessage\", messageCreated);\n    socket.on(\"chatMessage\", messageCreated);\n    socket.on(\"message:update\", messageUpdated);\n    socket.on(\"message:edited\", messageUpdated);\n    socket.on(\"message:delete\", messageDeleted);\n    socket.on(\"message:deleted\", messageDeleted);\n    socket.on(\"message:pinned\", messagePinned);\n    socket.on(\"message:reaction\", messageReaction);\n    socket.on(\"message:revoked\", messageRevoked);\n    socket.on(\"message:read\", messageRead);\n    socket.on(\"typing:start\", typingStarted);\n    socket.on(\"typing:stop\", typingStopped);\n    return ()=>{\n        socket.off(\"message:new\", messageCreated);\n        socket.off(\"newMessage\", messageCreated);\n        socket.off(\"chatMessage\", messageCreated);\n        socket.off(\"message:update\", messageUpdated);\n        socket.off(\"message:edited\", messageUpdated);\n        socket.off(\"message:delete\", messageDeleted);\n        socket.off(\"message:deleted\", messageDeleted);\n        socket.off(\"message:pinned\", messagePinned);\n        socket.off(\"message:reaction\", messageReaction);\n        socket.off(\"message:revoked\", messageRevoked);\n        socket.off(\"message:read\", messageRead);\n        socket.off(\"typing:start\", typingStarted);\n        socket.off(\"typing:stop\", typingStopped);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL2NoYXRTb2NrZXQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLFNBQVNBLG1CQUFtQkMsTUFBTSxFQUFFQyxjQUFjLEVBQUVDLFFBQVE7SUFDL0QsSUFBSSxDQUFDRixRQUNELE9BQU8sSUFBTUc7SUFDakIsTUFBTUMsaUJBQWlCLENBQUNDO1FBQ3BCLHVCQUF1QjtRQUN2Qiw0Q0FBNEM7UUFDNUMsZ0RBQWdEO1FBQ2hELElBQUlDO1FBQ0osSUFBSUM7UUFDSixJQUFJLG9CQUFvQkYsV0FBVyxhQUFhQSxTQUFTO1lBQ3JELGlCQUFpQjtZQUNqQkMsVUFBVUQsUUFBUUMsT0FBTztZQUN6QkMsd0JBQXdCRixRQUFRSixjQUFjO1FBQ2xELE9BQ0s7WUFDRCx3QkFBd0I7WUFDeEJLLFVBQVVEO1lBQ1ZFLHdCQUF3QkMsT0FBT0YsUUFBUUwsY0FBYztRQUN6RDtRQUNBLElBQUlNLDBCQUEwQk4sZ0JBQWdCO1lBQzFDUSxRQUFRQyxHQUFHLENBQUMsa0VBQXdESixRQUFRSyxHQUFHO1lBQy9FVCxTQUFTVSxnQkFBZ0IsR0FBR047UUFDaEMsT0FDSztZQUNERyxRQUFRQyxHQUFHLENBQUMsMERBQTBESCx1QkFBdUIsWUFBWU47UUFDN0c7SUFDSjtJQUNBLE1BQU1ZLGlCQUFpQixDQUFDUjtRQUNwQixzQkFBc0I7UUFDdEIsSUFBSUM7UUFDSixJQUFJQztRQUNKLElBQUksb0JBQW9CRixXQUFXLGFBQWFBLFNBQVM7WUFDckRDLFVBQVVELFFBQVFDLE9BQU87WUFDekJDLHdCQUF3QkYsUUFBUUosY0FBYztRQUNsRCxPQUNLO1lBQ0RLLFVBQVVEO1lBQ1ZFLHdCQUF3QkMsT0FBT0YsUUFBUUwsY0FBYztRQUN6RDtRQUNBLElBQUlNLDBCQUEwQk4sZ0JBQWdCO1lBQzFDQyxTQUFTWSxnQkFBZ0IsR0FBR1I7UUFDaEM7SUFDSjtJQUNBLE1BQU1TLGlCQUFpQixDQUFDVjtRQUNwQixzQkFBc0I7UUFDdEIsTUFBTVcsWUFBWVgsUUFBUVcsU0FBUztRQUNuQyxNQUFNVCx3QkFBd0JGLFFBQVFKLGNBQWM7UUFDcEQsSUFBSSxDQUFDTSx5QkFBeUJBLDBCQUEwQk4sZ0JBQWdCO1lBQ3BFQyxTQUFTZSxnQkFBZ0IsR0FBR0Q7UUFDaEM7SUFDSjtJQUNBLE1BQU1FLGdCQUFnQixDQUFDYjtRQUNuQixJQUFJQSxRQUFRSixjQUFjLEtBQUtBLGdCQUFnQjtZQUMzQ0MsU0FBU2lCLGVBQWUsR0FBR2QsUUFBUWUsTUFBTTtRQUM3QztJQUNKO0lBQ0EsTUFBTUMsZ0JBQWdCLENBQUNoQjtRQUNuQixJQUFJQSxRQUFRSixjQUFjLEtBQUtBLGdCQUFnQjtZQUMzQ0MsU0FBU29CLGVBQWUsR0FBR2pCLFFBQVFlLE1BQU07UUFDN0M7SUFDSjtJQUNBLE1BQU1HLGdCQUFnQixDQUFDQztRQUNuQnRCLFNBQVN1QixlQUFlLEdBQUdEO0lBQy9CO0lBQ0EsTUFBTUUsa0JBQWtCLENBQUNGO1FBQ3JCLElBQUksQ0FBQ0EsTUFBTVIsV0FDUDtRQUNKZCxTQUFTeUIsaUJBQWlCLEdBQUdIO0lBQ2pDO0lBQ0EsTUFBTUksaUJBQWlCLENBQUNKO1FBQ3BCLElBQUksQ0FBQ0EsTUFBTVIsV0FDUDtRQUNKLElBQUlRLEtBQUt2QixjQUFjLElBQUl1QixLQUFLdkIsY0FBYyxLQUFLQSxnQkFBZ0I7WUFDL0Q7UUFDSjtRQUNBQyxTQUFTMkIsZ0JBQWdCLEdBQUdMO0lBQ2hDO0lBQ0EsTUFBTU0sY0FBYyxDQUFDTjtRQUNqQixJQUFJLENBQUNBLE1BQU1SLFdBQ1A7UUFDSixJQUFJUSxLQUFLdkIsY0FBYyxJQUFJdUIsS0FBS3ZCLGNBQWMsS0FBS0EsZ0JBQWdCO1lBQy9EO1FBQ0o7UUFDQUMsU0FBUzZCLGFBQWEsR0FBR1A7SUFDN0I7SUFDQXhCLE9BQU9nQyxFQUFFLENBQUMsZUFBZTVCO0lBQ3pCSixPQUFPZ0MsRUFBRSxDQUFDLGNBQWM1QjtJQUN4QkosT0FBT2dDLEVBQUUsQ0FBQyxlQUFlNUI7SUFDekJKLE9BQU9nQyxFQUFFLENBQUMsa0JBQWtCbkI7SUFDNUJiLE9BQU9nQyxFQUFFLENBQUMsa0JBQWtCbkI7SUFDNUJiLE9BQU9nQyxFQUFFLENBQUMsa0JBQWtCakI7SUFDNUJmLE9BQU9nQyxFQUFFLENBQUMsbUJBQW1CakI7SUFDN0JmLE9BQU9nQyxFQUFFLENBQUMsa0JBQWtCVDtJQUM1QnZCLE9BQU9nQyxFQUFFLENBQUMsb0JBQW9CTjtJQUM5QjFCLE9BQU9nQyxFQUFFLENBQUMsbUJBQW1CSjtJQUM3QjVCLE9BQU9nQyxFQUFFLENBQUMsZ0JBQWdCRjtJQUMxQjlCLE9BQU9nQyxFQUFFLENBQUMsZ0JBQWdCZDtJQUMxQmxCLE9BQU9nQyxFQUFFLENBQUMsZUFBZVg7SUFDekIsT0FBTztRQUNIckIsT0FBT2lDLEdBQUcsQ0FBQyxlQUFlN0I7UUFDMUJKLE9BQU9pQyxHQUFHLENBQUMsY0FBYzdCO1FBQ3pCSixPQUFPaUMsR0FBRyxDQUFDLGVBQWU3QjtRQUMxQkosT0FBT2lDLEdBQUcsQ0FBQyxrQkFBa0JwQjtRQUM3QmIsT0FBT2lDLEdBQUcsQ0FBQyxrQkFBa0JwQjtRQUM3QmIsT0FBT2lDLEdBQUcsQ0FBQyxrQkFBa0JsQjtRQUM3QmYsT0FBT2lDLEdBQUcsQ0FBQyxtQkFBbUJsQjtRQUM5QmYsT0FBT2lDLEdBQUcsQ0FBQyxrQkFBa0JWO1FBQzdCdkIsT0FBT2lDLEdBQUcsQ0FBQyxvQkFBb0JQO1FBQy9CMUIsT0FBT2lDLEdBQUcsQ0FBQyxtQkFBbUJMO1FBQzlCNUIsT0FBT2lDLEdBQUcsQ0FBQyxnQkFBZ0JIO1FBQzNCOUIsT0FBT2lDLEdBQUcsQ0FBQyxnQkFBZ0JmO1FBQzNCbEIsT0FBT2lDLEdBQUcsQ0FBQyxlQUFlWjtJQUM5QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL2NoYXRTb2NrZXQuanM/MGFjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDaGF0U29ja2V0KHNvY2tldCwgY29udmVyc2F0aW9uSWQsIGhhbmRsZXJzKSB7XG4gICAgaWYgKCFzb2NrZXQpXG4gICAgICAgIHJldHVybiAoKSA9PiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbWVzc2FnZUNyZWF0ZWQgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgYm90aCBmb3JtYXRzOlxuICAgICAgICAvLyAxLiBEaXJlY3QgbWVzc2FnZSBvYmplY3QgKGJhY2tlbmQgZm9ybWF0KVxuICAgICAgICAvLyAyLiBXcmFwcGVkIGZvcm1hdCB7IGNvbnZlcnNhdGlvbklkLCBtZXNzYWdlIH1cbiAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgIGxldCBwYXlsb2FkQ29udmVyc2F0aW9uSWQ7XG4gICAgICAgIGlmICgnY29udmVyc2F0aW9uSWQnIGluIHBheWxvYWQgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQpIHtcbiAgICAgICAgICAgIC8vIFdyYXBwZWQgZm9ybWF0XG4gICAgICAgICAgICBtZXNzYWdlID0gcGF5bG9hZC5tZXNzYWdlO1xuICAgICAgICAgICAgcGF5bG9hZENvbnZlcnNhdGlvbklkID0gcGF5bG9hZC5jb252ZXJzYXRpb25JZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIERpcmVjdCBtZXNzYWdlIG9iamVjdFxuICAgICAgICAgICAgbWVzc2FnZSA9IHBheWxvYWQ7XG4gICAgICAgICAgICBwYXlsb2FkQ29udmVyc2F0aW9uSWQgPSBTdHJpbmcobWVzc2FnZS5jb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBheWxvYWRDb252ZXJzYXRpb25JZCA9PT0gY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OoIFNvY2tldCByZWNlaXZlZCBtZXNzYWdlIGZvciBjdXJyZW50IGNvbnZlcnNhdGlvbjonLCBtZXNzYWdlLl9pZCk7XG4gICAgICAgICAgICBoYW5kbGVycy5vbk1lc3NhZ2VDcmVhdGVkPy4obWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFNvY2tldCByZWNlaXZlZCBtZXNzYWdlIGZvciBkaWZmZXJlbnQgY29udmVyc2F0aW9uOicsIHBheWxvYWRDb252ZXJzYXRpb25JZCwgJ2N1cnJlbnQ6JywgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtZXNzYWdlVXBkYXRlZCA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIC8vIEhhbmRsZSBib3RoIGZvcm1hdHNcbiAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgIGxldCBwYXlsb2FkQ29udmVyc2F0aW9uSWQ7XG4gICAgICAgIGlmICgnY29udmVyc2F0aW9uSWQnIGluIHBheWxvYWQgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBwYXlsb2FkLm1lc3NhZ2U7XG4gICAgICAgICAgICBwYXlsb2FkQ29udmVyc2F0aW9uSWQgPSBwYXlsb2FkLmNvbnZlcnNhdGlvbklkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHBheWxvYWQ7XG4gICAgICAgICAgICBwYXlsb2FkQ29udmVyc2F0aW9uSWQgPSBTdHJpbmcobWVzc2FnZS5jb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBheWxvYWRDb252ZXJzYXRpb25JZCA9PT0gY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzLm9uTWVzc2FnZVVwZGF0ZWQ/LihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbWVzc2FnZURlbGV0ZWQgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgYm90aCBmb3JtYXRzXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHBheWxvYWQubWVzc2FnZUlkO1xuICAgICAgICBjb25zdCBwYXlsb2FkQ29udmVyc2F0aW9uSWQgPSBwYXlsb2FkLmNvbnZlcnNhdGlvbklkO1xuICAgICAgICBpZiAoIXBheWxvYWRDb252ZXJzYXRpb25JZCB8fCBwYXlsb2FkQ29udmVyc2F0aW9uSWQgPT09IGNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgICBoYW5kbGVycy5vbk1lc3NhZ2VEZWxldGVkPy4obWVzc2FnZUlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdHlwaW5nU3RhcnRlZCA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChwYXlsb2FkLmNvbnZlcnNhdGlvbklkID09PSBjb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgaGFuZGxlcnMub25UeXBpbmdTdGFydGVkPy4ocGF5bG9hZC51c2VySWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB0eXBpbmdTdG9wcGVkID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQuY29udmVyc2F0aW9uSWQgPT09IGNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgICBoYW5kbGVycy5vblR5cGluZ1N0b3BwZWQ/LihwYXlsb2FkLnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1lc3NhZ2VQaW5uZWQgPSAoZGF0YSkgPT4ge1xuICAgICAgICBoYW5kbGVycy5vbk1lc3NhZ2VQaW5uZWQ/LihkYXRhKTtcbiAgICB9O1xuICAgIGNvbnN0IG1lc3NhZ2VSZWFjdGlvbiA9IChkYXRhKSA9PiB7XG4gICAgICAgIGlmICghZGF0YT8ubWVzc2FnZUlkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBoYW5kbGVycy5vbk1lc3NhZ2VSZWFjdGlvbj8uKGRhdGEpO1xuICAgIH07XG4gICAgY29uc3QgbWVzc2FnZVJldm9rZWQgPSAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIWRhdGE/Lm1lc3NhZ2VJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGRhdGEuY29udmVyc2F0aW9uSWQgJiYgZGF0YS5jb252ZXJzYXRpb25JZCAhPT0gY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVycy5vbk1lc3NhZ2VSZXZva2VkPy4oZGF0YSk7XG4gICAgfTtcbiAgICBjb25zdCBtZXNzYWdlUmVhZCA9IChkYXRhKSA9PiB7XG4gICAgICAgIGlmICghZGF0YT8ubWVzc2FnZUlkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZGF0YS5jb252ZXJzYXRpb25JZCAmJiBkYXRhLmNvbnZlcnNhdGlvbklkICE9PSBjb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzLm9uTWVzc2FnZVJlYWQ/LihkYXRhKTtcbiAgICB9O1xuICAgIHNvY2tldC5vbignbWVzc2FnZTpuZXcnLCBtZXNzYWdlQ3JlYXRlZCk7XG4gICAgc29ja2V0Lm9uKCduZXdNZXNzYWdlJywgbWVzc2FnZUNyZWF0ZWQpO1xuICAgIHNvY2tldC5vbignY2hhdE1lc3NhZ2UnLCBtZXNzYWdlQ3JlYXRlZCk7XG4gICAgc29ja2V0Lm9uKCdtZXNzYWdlOnVwZGF0ZScsIG1lc3NhZ2VVcGRhdGVkKTtcbiAgICBzb2NrZXQub24oJ21lc3NhZ2U6ZWRpdGVkJywgbWVzc2FnZVVwZGF0ZWQpO1xuICAgIHNvY2tldC5vbignbWVzc2FnZTpkZWxldGUnLCBtZXNzYWdlRGVsZXRlZCk7XG4gICAgc29ja2V0Lm9uKCdtZXNzYWdlOmRlbGV0ZWQnLCBtZXNzYWdlRGVsZXRlZCk7XG4gICAgc29ja2V0Lm9uKCdtZXNzYWdlOnBpbm5lZCcsIG1lc3NhZ2VQaW5uZWQpO1xuICAgIHNvY2tldC5vbignbWVzc2FnZTpyZWFjdGlvbicsIG1lc3NhZ2VSZWFjdGlvbik7XG4gICAgc29ja2V0Lm9uKCdtZXNzYWdlOnJldm9rZWQnLCBtZXNzYWdlUmV2b2tlZCk7XG4gICAgc29ja2V0Lm9uKCdtZXNzYWdlOnJlYWQnLCBtZXNzYWdlUmVhZCk7XG4gICAgc29ja2V0Lm9uKCd0eXBpbmc6c3RhcnQnLCB0eXBpbmdTdGFydGVkKTtcbiAgICBzb2NrZXQub24oJ3R5cGluZzpzdG9wJywgdHlwaW5nU3RvcHBlZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc29ja2V0Lm9mZignbWVzc2FnZTpuZXcnLCBtZXNzYWdlQ3JlYXRlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ25ld01lc3NhZ2UnLCBtZXNzYWdlQ3JlYXRlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ2NoYXRNZXNzYWdlJywgbWVzc2FnZUNyZWF0ZWQpO1xuICAgICAgICBzb2NrZXQub2ZmKCdtZXNzYWdlOnVwZGF0ZScsIG1lc3NhZ2VVcGRhdGVkKTtcbiAgICAgICAgc29ja2V0Lm9mZignbWVzc2FnZTplZGl0ZWQnLCBtZXNzYWdlVXBkYXRlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6ZGVsZXRlJywgbWVzc2FnZURlbGV0ZWQpO1xuICAgICAgICBzb2NrZXQub2ZmKCdtZXNzYWdlOmRlbGV0ZWQnLCBtZXNzYWdlRGVsZXRlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6cGlubmVkJywgbWVzc2FnZVBpbm5lZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6cmVhY3Rpb24nLCBtZXNzYWdlUmVhY3Rpb24pO1xuICAgICAgICBzb2NrZXQub2ZmKCdtZXNzYWdlOnJldm9rZWQnLCBtZXNzYWdlUmV2b2tlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ21lc3NhZ2U6cmVhZCcsIG1lc3NhZ2VSZWFkKTtcbiAgICAgICAgc29ja2V0Lm9mZigndHlwaW5nOnN0YXJ0JywgdHlwaW5nU3RhcnRlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ3R5cGluZzpzdG9wJywgdHlwaW5nU3RvcHBlZCk7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJyZWdpc3RlckNoYXRTb2NrZXQiLCJzb2NrZXQiLCJjb252ZXJzYXRpb25JZCIsImhhbmRsZXJzIiwidW5kZWZpbmVkIiwibWVzc2FnZUNyZWF0ZWQiLCJwYXlsb2FkIiwibWVzc2FnZSIsInBheWxvYWRDb252ZXJzYXRpb25JZCIsIlN0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJfaWQiLCJvbk1lc3NhZ2VDcmVhdGVkIiwibWVzc2FnZVVwZGF0ZWQiLCJvbk1lc3NhZ2VVcGRhdGVkIiwibWVzc2FnZURlbGV0ZWQiLCJtZXNzYWdlSWQiLCJvbk1lc3NhZ2VEZWxldGVkIiwidHlwaW5nU3RhcnRlZCIsIm9uVHlwaW5nU3RhcnRlZCIsInVzZXJJZCIsInR5cGluZ1N0b3BwZWQiLCJvblR5cGluZ1N0b3BwZWQiLCJtZXNzYWdlUGlubmVkIiwiZGF0YSIsIm9uTWVzc2FnZVBpbm5lZCIsIm1lc3NhZ2VSZWFjdGlvbiIsIm9uTWVzc2FnZVJlYWN0aW9uIiwibWVzc2FnZVJldm9rZWQiLCJvbk1lc3NhZ2VSZXZva2VkIiwibWVzc2FnZVJlYWQiLCJvbk1lc3NhZ2VSZWFkIiwib24iLCJvZmYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/services/chatSocket.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/services/notificationService.js":
/*!**********************************************************!*\
  !*** ../../packages/app/services/notificationService.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestNotificationPermission: () => (/* binding */ requestNotificationPermission),\n/* harmony export */   showNotification: () => (/* binding */ showNotification)\n/* harmony export */ });\n// Notification service for Electron\n// electronAPI types are defined in types/electron.d.ts\nfunction showNotification(options) {\n    if (false) {}\n    // Fallback to browser notifications if Electron API not available\n    if (\"Notification\" in window && Notification.permission === \"granted\") {\n        const notification = new Notification(options.title || \"Tin nhn mi\", {\n            body: options.body,\n            icon: options.icon\n        });\n        if (options.conversationId) {\n            notification.onclick = ()=>{\n                window.focus();\n                // Navigate to conversation if needed\n                const event = new CustomEvent(\"navigate-to-conversation\", {\n                    detail: {\n                        conversationId: options.conversationId\n                    }\n                });\n                window.dispatchEvent(event);\n            };\n        }\n        return Promise.resolve(true);\n    }\n    return Promise.resolve(false);\n}\nasync function requestNotificationPermission() {\n    if (true) return false;\n    if (window.electronAPI) {\n        // Electron handles permissions automatically\n        return true;\n    }\n    if (\"Notification\" in window) {\n        if (Notification.permission === \"granted\") {\n            return true;\n        }\n        if (Notification.permission === \"default\") {\n            const permission = await Notification.requestPermission();\n            return permission === \"granted\";\n        }\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3NlcnZpY2VzL25vdGlmaWNhdGlvblNlcnZpY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxvQ0FBb0M7QUFDcEMsdURBQXVEO0FBQ2hELFNBQVNBLGlCQUFpQkMsT0FBTztJQUNwQyxJQUFJLEtBQXFFRCxFQUFFLEVBSzFFO0lBQ0Qsa0VBQWtFO0lBQ2xFLElBQUksa0JBQWtCRSxVQUFVSyxhQUFhQyxVQUFVLEtBQUssV0FBVztRQUNuRSxNQUFNQyxlQUFlLElBQUlGLGFBQWFOLFFBQVFTLEtBQUssSUFBSSxnQkFBZ0I7WUFDbkVDLE1BQU1WLFFBQVFVLElBQUk7WUFDbEJDLE1BQU1YLFFBQVFXLElBQUk7UUFDdEI7UUFDQSxJQUFJWCxRQUFRSSxjQUFjLEVBQUU7WUFDeEJJLGFBQWFJLE9BQU8sR0FBRztnQkFDbkJYLE9BQU9ZLEtBQUs7Z0JBQ1oscUNBQXFDO2dCQUNyQyxNQUFNQyxRQUFRLElBQUlDLFlBQVksNEJBQTRCO29CQUN0REMsUUFBUTt3QkFBRVosZ0JBQWdCSixRQUFRSSxjQUFjO29CQUFDO2dCQUNyRDtnQkFDQUgsT0FBT2dCLGFBQWEsQ0FBQ0g7WUFDekI7UUFDSjtRQUNBLE9BQU9JLFFBQVFDLE9BQU8sQ0FBQztJQUMzQjtJQUNBLE9BQU9ELFFBQVFDLE9BQU8sQ0FBQztBQUMzQjtBQUNPLGVBQWVDO0lBQ2xCLElBQUksSUFBa0IsRUFDbEIsT0FBTztJQUNYLElBQUluQixPQUFPQyxXQUFXLEVBQUU7UUFDcEIsNkNBQTZDO1FBQzdDLE9BQU87SUFDWDtJQUNBLElBQUksa0JBQWtCRCxRQUFRO1FBQzFCLElBQUlLLGFBQWFDLFVBQVUsS0FBSyxXQUFXO1lBQ3ZDLE9BQU87UUFDWDtRQUNBLElBQUlELGFBQWFDLFVBQVUsS0FBSyxXQUFXO1lBQ3ZDLE1BQU1BLGFBQWEsTUFBTUQsYUFBYWUsaUJBQWlCO1lBQ3ZELE9BQU9kLGVBQWU7UUFDMUI7SUFDSjtJQUNBLE9BQU87QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zZXJ2aWNlcy9ub3RpZmljYXRpb25TZXJ2aWNlLmpzPzkxZTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTm90aWZpY2F0aW9uIHNlcnZpY2UgZm9yIEVsZWN0cm9uXG4vLyBlbGVjdHJvbkFQSSB0eXBlcyBhcmUgZGVmaW5lZCBpbiB0eXBlcy9lbGVjdHJvbi5kLnRzXG5leHBvcnQgZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5lbGVjdHJvbkFQST8uc2hvd05vdGlmaWNhdGlvbikge1xuICAgICAgICByZXR1cm4gd2luZG93LmVsZWN0cm9uQVBJLnNob3dOb3RpZmljYXRpb24oe1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQgPyB7IGNvbnZlcnNhdGlvbklkOiBvcHRpb25zLmNvbnZlcnNhdGlvbklkIH0gOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBGYWxsYmFjayB0byBicm93c2VyIG5vdGlmaWNhdGlvbnMgaWYgRWxlY3Ryb24gQVBJIG5vdCBhdmFpbGFibGVcbiAgICBpZiAoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93ICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbihvcHRpb25zLnRpdGxlIHx8ICdUaW4gbmjhuq9uIG3hu5tpJywge1xuICAgICAgICAgICAgYm9keTogb3B0aW9ucy5ib2R5LFxuICAgICAgICAgICAgaWNvbjogb3B0aW9ucy5pY29uLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRlIHRvIGNvbnZlcnNhdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnbmF2aWdhdGUtdG8tY29udmVyc2F0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHsgY29udmVyc2F0aW9uSWQ6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh3aW5kb3cuZWxlY3Ryb25BUEkpIHtcbiAgICAgICAgLy8gRWxlY3Ryb24gaGFuZGxlcyBwZXJtaXNzaW9ucyBhdXRvbWF0aWNhbGx5XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSB7XG4gICAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvbiA9IGF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHBlcm1pc3Npb24gPT09ICdncmFudGVkJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iXSwibmFtZXMiOlsic2hvd05vdGlmaWNhdGlvbiIsIm9wdGlvbnMiLCJ3aW5kb3ciLCJlbGVjdHJvbkFQSSIsIm9uQ2xpY2siLCJjb252ZXJzYXRpb25JZCIsInVuZGVmaW5lZCIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJub3RpZmljYXRpb24iLCJ0aXRsZSIsImJvZHkiLCJpY29uIiwib25jbGljayIsImZvY3VzIiwiZXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImRpc3BhdGNoRXZlbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/services/notificationService.js\n");

/***/ }),

/***/ "(ssr)/../../packages/app/socket.js":
/*!************************************!*\
  !*** ../../packages/app/socket.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectSocket: () => (/* binding */ connectSocket),\n/* harmony export */   disconnectSocket: () => (/* binding */ disconnectSocket),\n/* harmony export */   getSocket: () => (/* binding */ getSocket),\n/* harmony export */   reconnectSocket: () => (/* binding */ reconnectSocket)\n/* harmony export */ });\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/../../../node_modules/socket.io-client/build/esm-debug/index.js\");\n\n// Simplified socket configuration - always use VPS server\nconst isWeb = \"undefined\" !== \"undefined\";\n// Check if using ngrok tunnel\nconst isNgrok = isWeb && window?.location?.hostname && window.location.hostname.includes(\"ngrok\");\n// Use HTTP for now since backend doesn't support HTTPS/WSS\nconst SOCKET_BASE_URL = \"https://backend36.dev\";\nconsole.log(\"\\uD83D\\uDD0D Platform detection:\", {\n    isWeb\n});\nconsole.log(\"\\uD83D\\uDD0D Socket URL:\", SOCKET_BASE_URL);\nconsole.log(\"\\uD83D\\uDD0D App Version: 1.1.0\");\nconsole.log(\"\\uD83D\\uDD0D Build Number: 017\");\nconsole.log(\"\\uD83D\\uDD0D Cache busting timestamp:\", Date.now());\nconsole.log(\"\\uD83D\\uDD0D Force refresh required - clear browser cache!\");\nconsole.log(\"\\uD83D\\uDD0D Current URL:\",  false ? 0 : \"N/A\");\nlet socket = null;\nlet isConnecting = false;\nlet connectionPromise = null;\n// \n// WEBSOCKET CONNECTION - TCP-based, Full-Duplex\n// \nconst connectSocket = (token)=>{\n    if (socket?.connected) {\n        console.log(\"\\uD83D\\uDD0D Socket already connected, returning existing socket\");\n        console.log(\"\\uD83D\\uDD0D Current socket ID:\", socket.id);\n        return socket;\n    }\n    if (isConnecting && connectionPromise) {\n        console.log(\"\\uD83D\\uDD0D Socket connection already in progress, waiting...\");\n        return connectionPromise;\n    }\n    // Clear any existing socket before creating new one\n    if (socket) {\n        console.log(\"\\uD83D\\uDD27 Clearing existing socket before creating new one\");\n        socket.disconnect();\n        socket = null;\n    }\n    isConnecting = true;\n    // Create connection promise to avoid multiple simultaneous connections\n    connectionPromise = new Promise(async (resolve)=>{\n        console.log(\"\\uD83D\\uDD0D Creating new socket connection to:\", SOCKET_BASE_URL || \"same-origin\");\n        console.log(\"\\uD83D\\uDD0D Using token:\", token ? \"Present\" : \"Missing\");\n        console.log(\"\\uD83D\\uDD0D Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        // Clear any existing socket first (both web and mobile)\n        if (socket) {\n            console.log(\"\\uD83D\\uDD27 Clearing existing socket before creating new connection\");\n            socket.disconnect();\n            socket = null;\n        }\n        // Try to connect with retry logic\n        let connectionAttempts = 0;\n        const maxAttempts = 3;\n        const tryConnect = (url)=>{\n            connectionAttempts++;\n            console.log(` Connection attempt ${connectionAttempts}/${maxAttempts} to:`, url);\n            //  SOCKET TO  Y - Ln th connect\n            return new Promise((resolve, reject)=>{\n                const testSocket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(url, {\n                    transports: isWeb ? [\n                        \"polling\"\n                    ] : [\n                        \"websocket\",\n                        \"polling\"\n                    ],\n                    upgrade: isWeb ? false : true,\n                    timeout: 10000,\n                    auth: {\n                        token\n                    },\n                    path: \"/socket.io\",\n                    // Add debug options\n                    forceNew: true,\n                    rememberUpgrade: false,\n                    // Add connection debugging\n                    autoConnect: true,\n                    withCredentials: true\n                });\n                // Add debug listeners to test socket\n                testSocket.on(\"connect\", ()=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket connected to:\", url);\n                });\n                testSocket.on(\"disconnect\", (reason)=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket disconnected from:\", url, \"reason:\", reason);\n                });\n                testSocket.on(\"connect_error\", (error)=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket connect error:\", url, error.message);\n                });\n                // Handle connection success\n                testSocket.on(\"connect\", ()=>{\n                    console.log(\" Connection successful to:\", url);\n                    // Don't disconnect the test socket - use it as the main socket\n                    resolve(testSocket);\n                });\n                // Handle connection error\n                testSocket.on(\"connect_error\", (error)=>{\n                    console.log(\" Connection failed to:\", url, error.message);\n                    testSocket.disconnect();\n                    reject(error);\n                });\n                // Timeout after 10 seconds - only if not connected\n                setTimeout(()=>{\n                    if (!testSocket.connected) {\n                        console.log(\" Connection timeout to:\", url);\n                        testSocket.disconnect();\n                        reject(new Error(\"Connection timeout\"));\n                    }\n                }, 10000);\n            });\n        };\n        // Simple connection to VPS server\n        const connectToServer = async ()=>{\n            try {\n                console.log(` Connecting to: ${SOCKET_BASE_URL}`);\n                socket = await tryConnect(SOCKET_BASE_URL);\n                console.log(\" Successfully connected to:\", SOCKET_BASE_URL);\n            } catch (error) {\n                console.error(\" Failed to connect to server:\", error);\n                console.error(\" Backend server may be down or unreachable\");\n                console.error(\" Please check if backend server is running\");\n                //  SOCKET TO  Y - Fallback khi tryConnect() fail\n                // Create a fallback socket with Netlify-compatible settings\n                socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, {\n                    transports: isWeb ? [\n                        \"polling\"\n                    ] : [\n                        \"websocket\",\n                        \"polling\"\n                    ],\n                    upgrade: isWeb ? false : true,\n                    timeout: 10000,\n                    auth: {\n                        token\n                    },\n                    path: \"/socket.io\",\n                    // Netlify-specific options\n                    forceNew: true,\n                    rememberUpgrade: false,\n                    autoConnect: true,\n                    withCredentials: true\n                });\n            }\n        };\n        // Try multiple connection strategies\n        const connectionOptions = {\n            // Use polling first for Netlify to avoid Mixed Content Error\n            transports: isWeb ? [\n                \"polling\"\n            ] : [\n                \"websocket\",\n                \"polling\"\n            ],\n            upgrade: isWeb ? false : true,\n            reconnection: true,\n            reconnectionAttempts: 15,\n            reconnectionDelay: 1000,\n            reconnectionDelayMax: 15000,\n            timeout: 30000,\n            withCredentials: true,\n            auth: {\n                token\n            },\n            path: \"/socket.io\",\n            // Add extra options for better connection\n            forceNew: true,\n            rememberUpgrade: false,\n            // Add extra options for better reliability\n            autoConnect: true,\n            reconnectionDelayFactor: 1.5,\n            maxReconnectionAttempts: 15\n        };\n        // Connect to VPS server\n        //  SOCKET TO  Y - Fallback nu khng c socket\n        connectToServer().then(()=>{\n            if (!socket) {\n                console.log(\"\\uD83D\\uDD27 Creating fallback socket connection\");\n                socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, connectionOptions);\n                // Add immediate debug listeners\n                socket.on(\"connect\", ()=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connected\");\n                });\n                socket.on(\"disconnect\", (reason)=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket disconnected:\", reason);\n                });\n                socket.on(\"connect_error\", (error)=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connect error:\", error.message);\n                });\n                setupSocketListeners(token);\n            } else {\n                console.log(\"\\uD83D\\uDD27 Socket already connected, setting up listeners\");\n                setupSocketListeners(token);\n            }\n            // Wait for socket to be fully connected\n            const waitForConnection = ()=>{\n                if (socket && socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Socket fully connected, resolving...\");\n                    isConnecting = false;\n                    resolve(socket);\n                } else {\n                    console.log(\"\\uD83D\\uDD27 Waiting for socket to be fully connected...\");\n                    setTimeout(waitForConnection, 100);\n                }\n            };\n            waitForConnection();\n        }).catch((error)=>{\n            console.log(\"\\uD83D\\uDD27 Connection failed, creating fallback socket\");\n            console.log(\"\\uD83D\\uDD27 Connection error:\", error);\n            socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, connectionOptions);\n            // Add immediate debug listeners for fallback\n            socket.on(\"connect\", ()=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket connected\");\n            });\n            socket.on(\"disconnect\", (reason)=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket disconnected:\", reason);\n            });\n            socket.on(\"connect_error\", (error)=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket connect error:\", error.message);\n            });\n            setupSocketListeners(token);\n            // Wait for fallback socket to be connected\n            const waitForFallback = ()=>{\n                if (socket && socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connected, resolving...\");\n                    isConnecting = false;\n                    resolve(socket);\n                } else {\n                    console.log(\"\\uD83D\\uDD27 Waiting for fallback socket to be connected...\");\n                    setTimeout(waitForFallback, 100);\n                }\n            };\n            waitForFallback();\n        });\n    });\n    return connectionPromise;\n};\n// Setup socket listeners\nconst setupSocketListeners = (token)=>{\n    if (!socket) return;\n    // Add debug logs\n    socket.on(\"connect\", ()=>{\n        console.log(\" WebSocket connected successfully\");\n        console.log(\"\\uD83D\\uDD0D Socket ID:\", socket?.id);\n        console.log(\"\\uD83D\\uDD0D Socket URL:\", SOCKET_BASE_URL);\n        console.log(\"\\uD83D\\uDD0D Socket transport:\", socket?.io?.engine?.transport?.name);\n        console.log(\"\\uD83D\\uDD0D Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        console.log(\"\\uD83D\\uDD0D Token present:\", !!token);\n        console.log(\"\\uD83D\\uDD0D Socket connected state:\", socket?.connected);\n        console.log(\"\\uD83D\\uDD0D Socket io engine:\", socket?.io?.engine?.readyState);\n        // Check JWT token expiration\n        if (token) {\n            try {\n                const payload = JSON.parse(atob(token.split(\".\")[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const exp = payload.exp;\n                console.log(\"\\uD83D\\uDD0D JWT Token expires at:\", new Date(exp * 1000));\n                console.log(\"\\uD83D\\uDD0D Current time:\", new Date(now * 1000));\n                console.log(\"\\uD83D\\uDD0D Token valid for:\", Math.floor((exp - now) / 60), \"minutes\");\n                if (exp < now) {\n                    console.error(\" JWT Token expired!\");\n                    socket?.disconnect();\n                    return;\n                }\n            } catch (error) {\n                console.error(\" JWT Token invalid:\", error);\n            }\n        }\n        // Emit a test event to verify connection\n        socket?.emit(\"test-connection\", {\n            platform: isWeb ? \"web\" : \"mobile\",\n            timestamp: Date.now()\n        });\n    // Don't auto-join conversation - let Chat component handle this\n    });\n    socket.on(\"disconnect\", (reason)=>{\n        console.log(\" WebSocket disconnected, reason:\", reason);\n        console.log(\" Socket ID before disconnect:\", socket?.id);\n        console.log(\" Socket connected state before disconnect:\", socket?.connected);\n        console.log(\" Socket transport before disconnect:\", socket?.io?.engine?.transport?.name);\n        // Don't auto-reconnect for client disconnect to avoid loops\n        if (reason === \"io client disconnect\") {\n            console.log(\"\\uD83D\\uDD0D Client initiated disconnect - not auto-reconnecting to avoid loops\");\n            return;\n        }\n        // Auto-reconnect for server disconnect\n        console.log(\"\\uD83D\\uDD27 Auto-reconnecting for server disconnect...\");\n        setTimeout(()=>{\n            if (socket && !socket.connected) {\n                console.log(\"\\uD83D\\uDD27 Attempting reconnection...\");\n                socket.connect();\n            }\n        }, 2000);\n    });\n    socket.on(\"connect_error\", (error)=>{\n        console.log(\" WebSocket connection error:\", error);\n        console.log(\" Error details:\", error.message);\n        console.log(\" Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        console.log(\" Transport:\", socket?.io?.engine?.transport?.name);\n        // Mobile-specific error handling\n        if (!isWeb) {\n            console.log(\"\\uD83D\\uDD27 Mobile: Attempting alternative connection...\");\n            // Try to reconnect with different options\n            setTimeout(()=>{\n                if (socket && !socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Mobile: Force reconnection...\");\n                    socket.connect();\n                }\n            }, 2000);\n        }\n    });\n    // Add periodic connection check\n    setInterval(()=>{\n        console.log(\"\\uD83D\\uDD0D Socket status check:\", {\n            connected: socket?.connected,\n            id: socket?.id,\n            transport: socket?.io?.engine?.transport?.name,\n            platform: isWeb ? \"Web\" : \"Mobile\"\n        });\n        // Mobile-specific: Force reconnection if disconnected\n        if (!isWeb && socket && !socket.connected) {\n            console.log(\"\\uD83D\\uDD27 Mobile: Socket disconnected, attempting reconnection...\");\n            socket.connect();\n        }\n        // Check token expiration and refresh if needed\n        if (token) {\n            try {\n                const payload = JSON.parse(atob(token.split(\".\")[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const exp = payload.exp;\n                // If token expires in less than 5 minutes, warn user\n                if (exp - now < 300) {\n                    console.warn(\" JWT Token expires soon:\", Math.floor((exp - now) / 60), \"minutes\");\n                    console.warn(\" Consider refreshing token to maintain connection\");\n                    // If token expires in less than 2 minutes, warn but don't disconnect\n                    if (exp - now < 120) {\n                        console.warn(\" Token expires very soon, but keeping connection alive\");\n                        console.warn(\" Consider refreshing token in the background\");\n                    }\n                }\n            } catch (error) {\n                console.error(\" JWT Token invalid:\", error);\n            }\n        }\n    }, 10000); // Check every 10 seconds\n    // Add event listener debug\n    const originalEmit = socket.emit;\n    socket.emit = function(event, ...args) {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Emitting event:\", event, args);\n        return originalEmit.call(this, event, ...args);\n    };\n    // Track disconnect calls\n    const originalDisconnect = socket.disconnect;\n    socket.disconnect = function() {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Disconnect called\");\n        console.trace(\"\\uD83D\\uDD0D [SOCKET] Disconnect call stack:\");\n        return originalDisconnect.call(this);\n    };\n    const originalOn = socket.on;\n    socket.on = function(event, listener) {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Setting up listener for event:\", event);\n        return originalOn.call(this, event, listener);\n    };\n    // Listen for any events to debug\n    socket.onAny((event, ...args)=>{\n        console.log(\"\\uD83D\\uDD0D Socket received event:\", event, args);\n    });\n    // Add more debug listeners\n    socket.on(\"connect_error\", (error)=>{\n        console.log(\" Socket connect_error:\", error);\n    });\n    socket.on(\"error\", (error)=>{\n        console.log(\" Socket error:\", error);\n    });\n    socket.on(\"reconnect\", (attemptNumber)=>{\n        console.log(\" Socket reconnected after\", attemptNumber, \"attempts\");\n    });\n    socket.on(\"reconnect_attempt\", (attemptNumber)=>{\n        console.log(\"\\uD83D\\uDD27 Socket reconnection attempt:\", attemptNumber);\n    });\n    socket.on(\"reconnect_error\", (error)=>{\n        console.log(\" Socket reconnection error:\", error);\n    });\n    socket.on(\"reconnect_failed\", ()=>{\n        console.log(\" Socket reconnection failed\");\n    });\n};\n// Lazy getter for socket - for web we create the connection on first use\nconst getSocket = ()=>{\n    if (socket) return socket;\n    if (!isWeb || \"undefined\" === \"undefined\") {\n        console.warn(\" getSocket called in non-web environment without existing socket\");\n        return socket;\n    }\n    // Try to read token from localStorage (kept in sync with api.ts)\n    let token = \"\";\n    try {\n        token = window.localStorage.getItem(\"auth_token\") || \"\";\n    } catch (err) {\n        console.warn(\" Unable to read auth_token from localStorage for socket auth\", err);\n    }\n    console.log(\"\\uD83D\\uDD27 Creating socket from getSocket()\", {\n        hasToken: !!token,\n        url: SOCKET_BASE_URL\n    });\n    // Simple, synchronous socket creation for web\n    socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, {\n        transports: [\n            \"polling\"\n        ],\n        upgrade: false,\n        timeout: 10000,\n        withCredentials: true,\n        auth: {\n            token\n        },\n        path: \"/socket.io\",\n        forceNew: true,\n        rememberUpgrade: false,\n        autoConnect: true\n    });\n    setupSocketListeners(token);\n    return socket;\n};\nconst disconnectSocket = ()=>{\n    if (socket) {\n        socket.disconnect();\n        socket = null;\n    }\n    isConnecting = false;\n};\nconst reconnectSocket = (token)=>{\n    console.log(\"\\uD83D\\uDD27 Force reconnecting socket with new token...\");\n    disconnectSocket();\n    return connectSocket(token);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0EseUVBQXlFO0FBQ2xFLE1BQU00RSxZQUFZO0lBQ3JCLElBQUl4RSxRQUNBLE9BQU9BO0lBQ1gsSUFBSSxDQUFDWixTQUFTLGdCQUFrQixhQUFhO1FBQ3pDTyxRQUFRa0UsSUFBSSxDQUFDO1FBQ2IsT0FBTzdEO0lBQ1g7SUFDQSxpRUFBaUU7SUFDakUsSUFBSUksUUFBUTtJQUNaLElBQUk7UUFDQUEsUUFBUWQsT0FBT21GLFlBQVksQ0FBQ0MsT0FBTyxDQUFDLGlCQUFpQjtJQUN6RCxFQUNBLE9BQU9DLEtBQUs7UUFDUmhGLFFBQVFrRSxJQUFJLENBQUMsa0VBQWtFYztJQUNuRjtJQUNBaEYsUUFBUUMsR0FBRyxDQUFDLGlEQUF1QztRQUMvQ2dGLFVBQVUsQ0FBQyxDQUFDeEU7UUFDWlMsS0FBS25CO0lBQ1Q7SUFDQSw4Q0FBOEM7SUFDOUNNLFNBQVNiLG9EQUFFQSxDQUFDTyxpQkFBaUI7UUFDekJzQixZQUFZO1lBQUM7U0FBVTtRQUN2QkMsU0FBUztRQUNUQyxTQUFTO1FBQ1RNLGlCQUFpQjtRQUNqQkwsTUFBTTtZQUFFZjtRQUFNO1FBQ2RnQixNQUFNO1FBQ05DLFVBQVU7UUFDVkMsaUJBQWlCO1FBQ2pCQyxhQUFhO0lBQ2pCO0lBQ0FpQixxQkFBcUJwQztJQUNyQixPQUFPSjtBQUNYLEVBQUU7QUFDSyxNQUFNNkUsbUJBQW1CO0lBQzVCLElBQUk3RSxRQUFRO1FBQ1JBLE9BQU9PLFVBQVU7UUFDakJQLFNBQVM7SUFDYjtJQUNBQyxlQUFlO0FBQ25CLEVBQUU7QUFDSyxNQUFNNkUsa0JBQWtCLENBQUMxRTtJQUM1QlQsUUFBUUMsR0FBRyxDQUFDO0lBQ1ppRjtJQUNBLE9BQU8xRSxjQUFjQztBQUN6QixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL3NvY2tldC5qcz9mMTg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlvIH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG4vLyBTaW1wbGlmaWVkIHNvY2tldCBjb25maWd1cmF0aW9uIC0gYWx3YXlzIHVzZSBWUFMgc2VydmVyXG5jb25zdCBpc1dlYiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuLy8gQ2hlY2sgaWYgdXNpbmcgbmdyb2sgdHVubmVsXG5jb25zdCBpc05ncm9rID0gaXNXZWIgJiYgd2luZG93Py5sb2NhdGlvbj8uaG9zdG5hbWUgJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluY2x1ZGVzKCduZ3JvaycpO1xuLy8gVXNlIEhUVFAgZm9yIG5vdyBzaW5jZSBiYWNrZW5kIGRvZXNuJ3Qgc3VwcG9ydCBIVFRQUy9XU1NcbmNvbnN0IFNPQ0tFVF9CQVNFX1VSTCA9ICdodHRwczovL2JhY2tlbmQzNi5kZXYnO1xuY29uc29sZS5sb2coJ/CflI0gUGxhdGZvcm0gZGV0ZWN0aW9uOicsIHsgaXNXZWIgfSk7XG5jb25zb2xlLmxvZygn8J+UjSBTb2NrZXQgVVJMOicsIFNPQ0tFVF9CQVNFX1VSTCk7XG5jb25zb2xlLmxvZygn8J+UjSBBcHAgVmVyc2lvbjogMS4xLjAnKTtcbmNvbnNvbGUubG9nKCfwn5SNIEJ1aWxkIE51bWJlcjogMDE3Jyk7XG5jb25zb2xlLmxvZygn8J+UjSBDYWNoZSBidXN0aW5nIHRpbWVzdGFtcDonLCBEYXRlLm5vdygpKTtcbmNvbnNvbGUubG9nKCfwn5SNIEZvcmNlIHJlZnJlc2ggcmVxdWlyZWQgLSBjbGVhciBicm93c2VyIGNhY2hlIScpO1xuY29uc29sZS5sb2coJ/CflI0gQ3VycmVudCBVUkw6JywgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Py5sb2NhdGlvbiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJ04vQScpO1xubGV0IHNvY2tldCA9IG51bGw7XG5sZXQgaXNDb25uZWN0aW5nID0gZmFsc2U7XG5sZXQgY29ubmVjdGlvblByb21pc2UgPSBudWxsO1xuLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4vLyBXRUJTT0NLRVQgQ09OTkVDVElPTiAtIFRDUC1iYXNlZCwgRnVsbC1EdXBsZXhcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuZXhwb3J0IGNvbnN0IGNvbm5lY3RTb2NrZXQgPSAodG9rZW4pID0+IHtcbiAgICBpZiAoc29ja2V0Py5jb25uZWN0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU29ja2V0IGFscmVhZHkgY29ubmVjdGVkLCByZXR1cm5pbmcgZXhpc3Rpbmcgc29ja2V0Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEN1cnJlbnQgc29ja2V0IElEOicsIHNvY2tldC5pZCk7XG4gICAgICAgIHJldHVybiBzb2NrZXQ7XG4gICAgfVxuICAgIGlmIChpc0Nvbm5lY3RpbmcgJiYgY29ubmVjdGlvblByb21pc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU29ja2V0IGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgd2FpdGluZy4uLicpO1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvblByb21pc2U7XG4gICAgfVxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBzb2NrZXQgYmVmb3JlIGNyZWF0aW5nIG5ldyBvbmVcbiAgICBpZiAoc29ja2V0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIENsZWFyaW5nIGV4aXN0aW5nIHNvY2tldCBiZWZvcmUgY3JlYXRpbmcgbmV3IG9uZScpO1xuICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICBzb2NrZXQgPSBudWxsO1xuICAgIH1cbiAgICBpc0Nvbm5lY3RpbmcgPSB0cnVlO1xuICAgIC8vIENyZWF0ZSBjb25uZWN0aW9uIHByb21pc2UgdG8gYXZvaWQgbXVsdGlwbGUgc2ltdWx0YW5lb3VzIGNvbm5lY3Rpb25zXG4gICAgY29ubmVjdGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBDcmVhdGluZyBuZXcgc29ja2V0IGNvbm5lY3Rpb24gdG86JywgU09DS0VUX0JBU0VfVVJMIHx8ICdzYW1lLW9yaWdpbicpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBVc2luZyB0b2tlbjonLCB0b2tlbiA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFBsYXRmb3JtOicsIGlzV2ViID8gJ1dlYicgOiAnTW9iaWxlJyk7XG4gICAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBzb2NrZXQgZmlyc3QgKGJvdGggd2ViIGFuZCBtb2JpbGUpXG4gICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIENsZWFyaW5nIGV4aXN0aW5nIHNvY2tldCBiZWZvcmUgY3JlYXRpbmcgbmV3IGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgIHNvY2tldC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBzb2NrZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyeSB0byBjb25uZWN0IHdpdGggcmV0cnkgbG9naWNcbiAgICAgICAgbGV0IGNvbm5lY3Rpb25BdHRlbXB0cyA9IDA7XG4gICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gMztcbiAgICAgICAgY29uc3QgdHJ5Q29ubmVjdCA9ICh1cmwpID0+IHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25BdHRlbXB0cysrO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflKcgQ29ubmVjdGlvbiBhdHRlbXB0ICR7Y29ubmVjdGlvbkF0dGVtcHRzfS8ke21heEF0dGVtcHRzfSB0bzpgLCB1cmwpO1xuICAgICAgICAgICAgLy8g8J+Pl++4jyBTT0NLRVQgVOG6oE8g4bueIMSQw4JZIC0gTOG6p24gdGjhu60gY29ubmVjdFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0U29ja2V0ID0gaW8odXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydHM6IGlzV2ViID8gWydwb2xsaW5nJ10gOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGU6IGlzV2ViID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgYXV0aDogeyB0b2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL3NvY2tldC5pbycsXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBkZWJ1ZyBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlTmV3OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZW1lbWJlclVwZ3JhZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgY29ubmVjdGlvbiBkZWJ1Z2dpbmdcbiAgICAgICAgICAgICAgICAgICAgYXV0b0Nvbm5lY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgZGVidWcgbGlzdGVuZXJzIHRvIHRlc3Qgc29ja2V0XG4gICAgICAgICAgICAgICAgdGVzdFNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgVGVzdCBzb2NrZXQgY29ubmVjdGVkIHRvOicsIHVybCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGVzdFNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgVGVzdCBzb2NrZXQgZGlzY29ubmVjdGVkIGZyb206JywgdXJsLCAncmVhc29uOicsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGVzdFNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBUZXN0IHNvY2tldCBjb25uZWN0IGVycm9yOicsIHVybCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGNvbm5lY3Rpb24gc3VjY2Vzc1xuICAgICAgICAgICAgICAgIHRlc3RTb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29ubmVjdGlvbiBzdWNjZXNzZnVsIHRvOicsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGRpc2Nvbm5lY3QgdGhlIHRlc3Qgc29ja2V0IC0gdXNlIGl0IGFzIHRoZSBtYWluIHNvY2tldFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRlc3RTb2NrZXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjb25uZWN0aW9uIGVycm9yXG4gICAgICAgICAgICAgICAgdGVzdFNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIENvbm5lY3Rpb24gZmFpbGVkIHRvOicsIHVybCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRlc3RTb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFRpbWVvdXQgYWZ0ZXIgMTAgc2Vjb25kcyAtIG9ubHkgaWYgbm90IGNvbm5lY3RlZFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRlc3RTb2NrZXQuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4o+wIENvbm5lY3Rpb24gdGltZW91dCB0bzonLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdFNvY2tldC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb25uZWN0aW9uIHRpbWVvdXQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2ltcGxlIGNvbm5lY3Rpb24gdG8gVlBTIHNlcnZlclxuICAgICAgICBjb25zdCBjb25uZWN0VG9TZXJ2ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SnIENvbm5lY3RpbmcgdG86ICR7U09DS0VUX0JBU0VfVVJMfWApO1xuICAgICAgICAgICAgICAgIHNvY2tldCA9IGF3YWl0IHRyeUNvbm5lY3QoU09DS0VUX0JBU0VfVVJMKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG86JywgU09DS0VUX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gY29ubmVjdCB0byBzZXJ2ZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCYWNrZW5kIHNlcnZlciBtYXkgYmUgZG93biBvciB1bnJlYWNoYWJsZScpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBQbGVhc2UgY2hlY2sgaWYgYmFja2VuZCBzZXJ2ZXIgaXMgcnVubmluZycpO1xuICAgICAgICAgICAgICAgIC8vIPCfj5fvuI8gU09DS0VUIFThuqBPIOG7niDEkMOCWSAtIEZhbGxiYWNrIGtoaSB0cnlDb25uZWN0KCkgZmFpbFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGZhbGxiYWNrIHNvY2tldCB3aXRoIE5ldGxpZnktY29tcGF0aWJsZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHNvY2tldCA9IGlvKFNPQ0tFVF9CQVNFX1VSTCwge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRzOiBpc1dlYiA/IFsncG9sbGluZyddIDogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlOiBpc1dlYiA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgICAgICAgICAgIGF1dGg6IHsgdG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9zb2NrZXQuaW8nLFxuICAgICAgICAgICAgICAgICAgICAvLyBOZXRsaWZ5LXNwZWNpZmljIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VOZXc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Db25uZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRyeSBtdWx0aXBsZSBjb25uZWN0aW9uIHN0cmF0ZWdpZXNcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLyBVc2UgcG9sbGluZyBmaXJzdCBmb3IgTmV0bGlmeSB0byBhdm9pZCBNaXhlZCBDb250ZW50IEVycm9yXG4gICAgICAgICAgICB0cmFuc3BvcnRzOiBpc1dlYiA/IFsncG9sbGluZyddIDogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuICAgICAgICAgICAgdXBncmFkZTogaXNXZWIgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICByZWNvbm5lY3Rpb246IHRydWUsXG4gICAgICAgICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogMTUsXG4gICAgICAgICAgICByZWNvbm5lY3Rpb25EZWxheTogMTAwMCxcbiAgICAgICAgICAgIHJlY29ubmVjdGlvbkRlbGF5TWF4OiAxNTAwMCxcbiAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgYXV0aDogeyB0b2tlbiB9LFxuICAgICAgICAgICAgcGF0aDogJy9zb2NrZXQuaW8nLFxuICAgICAgICAgICAgLy8gQWRkIGV4dHJhIG9wdGlvbnMgZm9yIGJldHRlciBjb25uZWN0aW9uXG4gICAgICAgICAgICBmb3JjZU5ldzogdHJ1ZSxcbiAgICAgICAgICAgIHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBBZGQgZXh0cmEgb3B0aW9ucyBmb3IgYmV0dGVyIHJlbGlhYmlsaXR5XG4gICAgICAgICAgICBhdXRvQ29ubmVjdDogdHJ1ZSxcbiAgICAgICAgICAgIHJlY29ubmVjdGlvbkRlbGF5RmFjdG9yOiAxLjUsXG4gICAgICAgICAgICBtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czogMTUsXG4gICAgICAgIH07XG4gICAgICAgIC8vIENvbm5lY3QgdG8gVlBTIHNlcnZlclxuICAgICAgICAvLyDwn4+X77iPIFNPQ0tFVCBU4bqgTyDhu54gxJDDglkgLSBGYWxsYmFjayBu4bq/dSBraMO0bmcgY8OzIHNvY2tldFxuICAgICAgICBjb25uZWN0VG9TZXJ2ZXIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgQ3JlYXRpbmcgZmFsbGJhY2sgc29ja2V0IGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQgPSBpbyhTT0NLRVRfQkFTRV9VUkwsIGNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgaW1tZWRpYXRlIGRlYnVnIGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgRmFsbGJhY2sgc29ja2V0IGNvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgRmFsbGJhY2sgc29ja2V0IGRpc2Nvbm5lY3RlZDonLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBGYWxsYmFjayBzb2NrZXQgY29ubmVjdCBlcnJvcjonLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXR1cFNvY2tldExpc3RlbmVycyh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQsIHNldHRpbmcgdXAgbGlzdGVuZXJzJyk7XG4gICAgICAgICAgICAgICAgc2V0dXBTb2NrZXRMaXN0ZW5lcnModG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2FpdCBmb3Igc29ja2V0IHRvIGJlIGZ1bGx5IGNvbm5lY3RlZFxuICAgICAgICAgICAgY29uc3Qgd2FpdEZvckNvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldCAmJiBzb2NrZXQuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIFNvY2tldCBmdWxseSBjb25uZWN0ZWQsIHJlc29sdmluZy4uLicpO1xuICAgICAgICAgICAgICAgICAgICBpc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzb2NrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgV2FpdGluZyBmb3Igc29ja2V0IHRvIGJlIGZ1bGx5IGNvbm5lY3RlZC4uLicpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHdhaXRGb3JDb25uZWN0aW9uLCAxMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3YWl0Rm9yQ29ubmVjdGlvbigpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIENvbm5lY3Rpb24gZmFpbGVkLCBjcmVhdGluZyBmYWxsYmFjayBzb2NrZXQnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIENvbm5lY3Rpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgc29ja2V0ID0gaW8oU09DS0VUX0JBU0VfVVJMLCBjb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBBZGQgaW1tZWRpYXRlIGRlYnVnIGxpc3RlbmVycyBmb3IgZmFsbGJhY2tcbiAgICAgICAgICAgIHNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBDYXRjaCBmYWxsYmFjayBzb2NrZXQgY29ubmVjdGVkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBDYXRjaCBmYWxsYmFjayBzb2NrZXQgZGlzY29ubmVjdGVkOicsIHJlYXNvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIENhdGNoIGZhbGxiYWNrIHNvY2tldCBjb25uZWN0IGVycm9yOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXR1cFNvY2tldExpc3RlbmVycyh0b2tlbik7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciBmYWxsYmFjayBzb2NrZXQgdG8gYmUgY29ubmVjdGVkXG4gICAgICAgICAgICBjb25zdCB3YWl0Rm9yRmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldCAmJiBzb2NrZXQuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEZhbGxiYWNrIHNvY2tldCBjb25uZWN0ZWQsIHJlc29sdmluZy4uLicpO1xuICAgICAgICAgICAgICAgICAgICBpc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzb2NrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgV2FpdGluZyBmb3IgZmFsbGJhY2sgc29ja2V0IHRvIGJlIGNvbm5lY3RlZC4uLicpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHdhaXRGb3JGYWxsYmFjaywgMTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2FpdEZvckZhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBjb25uZWN0aW9uUHJvbWlzZTtcbn07XG4vLyBTZXR1cCBzb2NrZXQgbGlzdGVuZXJzXG5jb25zdCBzZXR1cFNvY2tldExpc3RlbmVycyA9ICh0b2tlbikgPT4ge1xuICAgIGlmICghc29ja2V0KVxuICAgICAgICByZXR1cm47XG4gICAgLy8gQWRkIGRlYnVnIGxvZ3NcbiAgICBzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgV2ViU29ja2V0IGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU29ja2V0IElEOicsIHNvY2tldD8uaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBTb2NrZXQgVVJMOicsIFNPQ0tFVF9CQVNFX1VSTCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFNvY2tldCB0cmFuc3BvcnQ6Jywgc29ja2V0Py5pbz8uZW5naW5lPy50cmFuc3BvcnQ/Lm5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBQbGF0Zm9ybTonLCBpc1dlYiA/ICdXZWInIDogJ01vYmlsZScpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBUb2tlbiBwcmVzZW50OicsICEhdG9rZW4pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBTb2NrZXQgY29ubmVjdGVkIHN0YXRlOicsIHNvY2tldD8uY29ubmVjdGVkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU29ja2V0IGlvIGVuZ2luZTonLCBzb2NrZXQ/LmlvPy5lbmdpbmU/LnJlYWR5U3RhdGUpO1xuICAgICAgICAvLyBDaGVjayBKV1QgdG9rZW4gZXhwaXJhdGlvblxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwID0gcGF5bG9hZC5leHA7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gSldUIFRva2VuIGV4cGlyZXMgYXQ6JywgbmV3IERhdGUoZXhwICogMTAwMCkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEN1cnJlbnQgdGltZTonLCBuZXcgRGF0ZShub3cgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gVG9rZW4gdmFsaWQgZm9yOicsIE1hdGguZmxvb3IoKGV4cCAtIG5vdykgLyA2MCksICdtaW51dGVzJyk7XG4gICAgICAgICAgICAgICAgaWYgKGV4cCA8IG5vdykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgSldUIFRva2VuIGV4cGlyZWQhJyk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldD8uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEpXVCBUb2tlbiBpbnZhbGlkOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBFbWl0IGEgdGVzdCBldmVudCB0byB2ZXJpZnkgY29ubmVjdGlvblxuICAgICAgICBzb2NrZXQ/LmVtaXQoJ3Rlc3QtY29ubmVjdGlvbicsIHtcbiAgICAgICAgICAgIHBsYXRmb3JtOiBpc1dlYiA/ICd3ZWInIDogJ21vYmlsZScsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERvbid0IGF1dG8tam9pbiBjb252ZXJzYXRpb24gLSBsZXQgQ2hhdCBjb21wb25lbnQgaGFuZGxlIHRoaXNcbiAgICB9KTtcbiAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAocmVhc29uKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCwgcmVhc29uOicsIHJlYXNvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgU29ja2V0IElEIGJlZm9yZSBkaXNjb25uZWN0OicsIHNvY2tldD8uaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIFNvY2tldCBjb25uZWN0ZWQgc3RhdGUgYmVmb3JlIGRpc2Nvbm5lY3Q6Jywgc29ja2V0Py5jb25uZWN0ZWQpO1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIFNvY2tldCB0cmFuc3BvcnQgYmVmb3JlIGRpc2Nvbm5lY3Q6Jywgc29ja2V0Py5pbz8uZW5naW5lPy50cmFuc3BvcnQ/Lm5hbWUpO1xuICAgICAgICAvLyBEb24ndCBhdXRvLXJlY29ubmVjdCBmb3IgY2xpZW50IGRpc2Nvbm5lY3QgdG8gYXZvaWQgbG9vcHNcbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gJ2lvIGNsaWVudCBkaXNjb25uZWN0Jykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQ2xpZW50IGluaXRpYXRlZCBkaXNjb25uZWN0IC0gbm90IGF1dG8tcmVjb25uZWN0aW5nIHRvIGF2b2lkIGxvb3BzJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXV0by1yZWNvbm5lY3QgZm9yIHNlcnZlciBkaXNjb25uZWN0XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEF1dG8tcmVjb25uZWN0aW5nIGZvciBzZXJ2ZXIgZGlzY29ubmVjdC4uLicpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzb2NrZXQgJiYgIXNvY2tldC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UpyBBdHRlbXB0aW5nIHJlY29ubmVjdGlvbi4uLicpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5jb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMDApO1xuICAgIH0pO1xuICAgIHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIFdlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KdjCBFcnJvciBkZXRhaWxzOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIFBsYXRmb3JtOicsIGlzV2ViID8gJ1dlYicgOiAnTW9iaWxlJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgVHJhbnNwb3J0OicsIHNvY2tldD8uaW8/LmVuZ2luZT8udHJhbnNwb3J0Py5uYW1lKTtcbiAgICAgICAgLy8gTW9iaWxlLXNwZWNpZmljIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIGlmICghaXNXZWIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIE1vYmlsZTogQXR0ZW1wdGluZyBhbHRlcm5hdGl2ZSBjb25uZWN0aW9uLi4uJyk7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcmVjb25uZWN0IHdpdGggZGlmZmVyZW50IG9wdGlvbnNcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQgJiYgIXNvY2tldC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflKcgTW9iaWxlOiBGb3JjZSByZWNvbm5lY3Rpb24uLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEFkZCBwZXJpb2RpYyBjb25uZWN0aW9uIGNoZWNrXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBTb2NrZXQgc3RhdHVzIGNoZWNrOicsIHtcbiAgICAgICAgICAgIGNvbm5lY3RlZDogc29ja2V0Py5jb25uZWN0ZWQsXG4gICAgICAgICAgICBpZDogc29ja2V0Py5pZCxcbiAgICAgICAgICAgIHRyYW5zcG9ydDogc29ja2V0Py5pbz8uZW5naW5lPy50cmFuc3BvcnQ/Lm5hbWUsXG4gICAgICAgICAgICBwbGF0Zm9ybTogaXNXZWIgPyAnV2ViJyA6ICdNb2JpbGUnXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBNb2JpbGUtc3BlY2lmaWM6IEZvcmNlIHJlY29ubmVjdGlvbiBpZiBkaXNjb25uZWN0ZWRcbiAgICAgICAgaWYgKCFpc1dlYiAmJiBzb2NrZXQgJiYgIXNvY2tldC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIE1vYmlsZTogU29ja2V0IGRpc2Nvbm5lY3RlZCwgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uLi4nKTtcbiAgICAgICAgICAgIHNvY2tldC5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgdG9rZW4gZXhwaXJhdGlvbiBhbmQgcmVmcmVzaCBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKGF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cCA9IHBheWxvYWQuZXhwO1xuICAgICAgICAgICAgICAgIC8vIElmIHRva2VuIGV4cGlyZXMgaW4gbGVzcyB0aGFuIDUgbWludXRlcywgd2FybiB1c2VyXG4gICAgICAgICAgICAgICAgaWYgKGV4cCAtIG5vdyA8IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBKV1QgVG9rZW4gZXhwaXJlcyBzb29uOicsIE1hdGguZmxvb3IoKGV4cCAtIG5vdykgLyA2MCksICdtaW51dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvbnNpZGVyIHJlZnJlc2hpbmcgdG9rZW4gdG8gbWFpbnRhaW4gY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0b2tlbiBleHBpcmVzIGluIGxlc3MgdGhhbiAyIG1pbnV0ZXMsIHdhcm4gYnV0IGRvbid0IGRpc2Nvbm5lY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cCAtIG5vdyA8IDEyMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVG9rZW4gZXhwaXJlcyB2ZXJ5IHNvb24sIGJ1dCBrZWVwaW5nIGNvbm5lY3Rpb24gYWxpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvbnNpZGVyIHJlZnJlc2hpbmcgdG9rZW4gaW4gdGhlIGJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBKV1QgVG9rZW4gaW52YWxpZDonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCAxMDAwMCk7IC8vIENoZWNrIGV2ZXJ5IDEwIHNlY29uZHNcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZGVidWdcbiAgICBjb25zdCBvcmlnaW5hbEVtaXQgPSBzb2NrZXQuZW1pdDtcbiAgICBzb2NrZXQuZW1pdCA9IGZ1bmN0aW9uIChldmVudCwgLi4uYXJncykge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbU09DS0VUXSBFbWl0dGluZyBldmVudDonLCBldmVudCwgYXJncyk7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbEVtaXQuY2FsbCh0aGlzLCBldmVudCwgLi4uYXJncyk7XG4gICAgfTtcbiAgICAvLyBUcmFjayBkaXNjb25uZWN0IGNhbGxzXG4gICAgY29uc3Qgb3JpZ2luYWxEaXNjb25uZWN0ID0gc29ja2V0LmRpc2Nvbm5lY3Q7XG4gICAgc29ja2V0LmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtTT0NLRVRdIERpc2Nvbm5lY3QgY2FsbGVkJyk7XG4gICAgICAgIGNvbnNvbGUudHJhY2UoJ/CflI0gW1NPQ0tFVF0gRGlzY29ubmVjdCBjYWxsIHN0YWNrOicpO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxEaXNjb25uZWN0LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBjb25zdCBvcmlnaW5hbE9uID0gc29ja2V0Lm9uO1xuICAgIHNvY2tldC5vbiA9IGZ1bmN0aW9uIChldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW1NPQ0tFVF0gU2V0dGluZyB1cCBsaXN0ZW5lciBmb3IgZXZlbnQ6JywgZXZlbnQpO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxPbi5jYWxsKHRoaXMsIGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfTtcbiAgICAvLyBMaXN0ZW4gZm9yIGFueSBldmVudHMgdG8gZGVidWdcbiAgICBzb2NrZXQub25BbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFNvY2tldCByZWNlaXZlZCBldmVudDonLCBldmVudCwgYXJncyk7XG4gICAgfSk7XG4gICAgLy8gQWRkIG1vcmUgZGVidWcgbGlzdGVuZXJzXG4gICAgc29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgU29ja2V0IGNvbm5lY3RfZXJyb3I6JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHNvY2tldC5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KdjCBTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHNvY2tldC5vbigncmVjb25uZWN0JywgKGF0dGVtcHROdW1iZXIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBTb2NrZXQgcmVjb25uZWN0ZWQgYWZ0ZXInLCBhdHRlbXB0TnVtYmVyLCAnYXR0ZW1wdHMnKTtcbiAgICB9KTtcbiAgICBzb2NrZXQub24oJ3JlY29ubmVjdF9hdHRlbXB0JywgKGF0dGVtcHROdW1iZXIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflKcgU29ja2V0IHJlY29ubmVjdGlvbiBhdHRlbXB0OicsIGF0dGVtcHROdW1iZXIpO1xuICAgIH0pO1xuICAgIHNvY2tldC5vbigncmVjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgU29ja2V0IHJlY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgfSk7XG4gICAgc29ja2V0Lm9uKCdyZWNvbm5lY3RfZmFpbGVkJywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIFNvY2tldCByZWNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgfSk7XG59O1xuLy8gTGF6eSBnZXR0ZXIgZm9yIHNvY2tldCAtIGZvciB3ZWIgd2UgY3JlYXRlIHRoZSBjb25uZWN0aW9uIG9uIGZpcnN0IHVzZVxuZXhwb3J0IGNvbnN0IGdldFNvY2tldCA9ICgpID0+IHtcbiAgICBpZiAoc29ja2V0KVxuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgIGlmICghaXNXZWIgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gZ2V0U29ja2V0IGNhbGxlZCBpbiBub24td2ViIGVudmlyb25tZW50IHdpdGhvdXQgZXhpc3Rpbmcgc29ja2V0Jyk7XG4gICAgICAgIHJldHVybiBzb2NrZXQ7XG4gICAgfVxuICAgIC8vIFRyeSB0byByZWFkIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlIChrZXB0IGluIHN5bmMgd2l0aCBhcGkudHMpXG4gICAgbGV0IHRva2VuID0gJyc7XG4gICAgdHJ5IHtcbiAgICAgICAgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKSB8fCAnJztcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBVbmFibGUgdG8gcmVhZCBhdXRoX3Rva2VuIGZyb20gbG9jYWxTdG9yYWdlIGZvciBzb2NrZXQgYXV0aCcsIGVycik7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCfwn5SnIENyZWF0aW5nIHNvY2tldCBmcm9tIGdldFNvY2tldCgpJywge1xuICAgICAgICBoYXNUb2tlbjogISF0b2tlbixcbiAgICAgICAgdXJsOiBTT0NLRVRfQkFTRV9VUkwsXG4gICAgfSk7XG4gICAgLy8gU2ltcGxlLCBzeW5jaHJvbm91cyBzb2NrZXQgY3JlYXRpb24gZm9yIHdlYlxuICAgIHNvY2tldCA9IGlvKFNPQ0tFVF9CQVNFX1VSTCwge1xuICAgICAgICB0cmFuc3BvcnRzOiBbJ3BvbGxpbmcnXSxcbiAgICAgICAgdXBncmFkZTogZmFsc2UsXG4gICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgIGF1dGg6IHsgdG9rZW4gfSxcbiAgICAgICAgcGF0aDogJy9zb2NrZXQuaW8nLFxuICAgICAgICBmb3JjZU5ldzogdHJ1ZSxcbiAgICAgICAgcmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcbiAgICAgICAgYXV0b0Nvbm5lY3Q6IHRydWUsXG4gICAgfSk7XG4gICAgc2V0dXBTb2NrZXRMaXN0ZW5lcnModG9rZW4pO1xuICAgIHJldHVybiBzb2NrZXQ7XG59O1xuZXhwb3J0IGNvbnN0IGRpc2Nvbm5lY3RTb2NrZXQgPSAoKSA9PiB7XG4gICAgaWYgKHNvY2tldCkge1xuICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICBzb2NrZXQgPSBudWxsO1xuICAgIH1cbiAgICBpc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgcmVjb25uZWN0U29ja2V0ID0gKHRva2VuKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflKcgRm9yY2UgcmVjb25uZWN0aW5nIHNvY2tldCB3aXRoIG5ldyB0b2tlbi4uLicpO1xuICAgIGRpc2Nvbm5lY3RTb2NrZXQoKTtcbiAgICByZXR1cm4gY29ubmVjdFNvY2tldCh0b2tlbik7XG59O1xuIl0sIm5hbWVzIjpbImlvIiwiaXNXZWIiLCJpc05ncm9rIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImluY2x1ZGVzIiwiU09DS0VUX0JBU0VfVVJMIiwiY29uc29sZSIsImxvZyIsIkRhdGUiLCJub3ciLCJocmVmIiwic29ja2V0IiwiaXNDb25uZWN0aW5nIiwiY29ubmVjdGlvblByb21pc2UiLCJjb25uZWN0U29ja2V0IiwidG9rZW4iLCJjb25uZWN0ZWQiLCJpZCIsImRpc2Nvbm5lY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvbm5lY3Rpb25BdHRlbXB0cyIsIm1heEF0dGVtcHRzIiwidHJ5Q29ubmVjdCIsInVybCIsInJlamVjdCIsInRlc3RTb2NrZXQiLCJ0cmFuc3BvcnRzIiwidXBncmFkZSIsInRpbWVvdXQiLCJhdXRoIiwicGF0aCIsImZvcmNlTmV3IiwicmVtZW1iZXJVcGdyYWRlIiwiYXV0b0Nvbm5lY3QiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbiIsInJlYXNvbiIsImVycm9yIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJFcnJvciIsImNvbm5lY3RUb1NlcnZlciIsImNvbm5lY3Rpb25PcHRpb25zIiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJyZWNvbm5lY3Rpb25EZWxheSIsInJlY29ubmVjdGlvbkRlbGF5TWF4IiwicmVjb25uZWN0aW9uRGVsYXlGYWN0b3IiLCJtYXhSZWNvbm5lY3Rpb25BdHRlbXB0cyIsInRoZW4iLCJzZXR1cFNvY2tldExpc3RlbmVycyIsIndhaXRGb3JDb25uZWN0aW9uIiwiY2F0Y2giLCJ3YWl0Rm9yRmFsbGJhY2siLCJlbmdpbmUiLCJ0cmFuc3BvcnQiLCJuYW1lIiwicmVhZHlTdGF0ZSIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwic3BsaXQiLCJNYXRoIiwiZmxvb3IiLCJleHAiLCJlbWl0IiwicGxhdGZvcm0iLCJ0aW1lc3RhbXAiLCJjb25uZWN0Iiwic2V0SW50ZXJ2YWwiLCJ3YXJuIiwib3JpZ2luYWxFbWl0IiwiZXZlbnQiLCJhcmdzIiwiY2FsbCIsIm9yaWdpbmFsRGlzY29ubmVjdCIsInRyYWNlIiwib3JpZ2luYWxPbiIsImxpc3RlbmVyIiwib25BbnkiLCJhdHRlbXB0TnVtYmVyIiwiZ2V0U29ja2V0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImVyciIsImhhc1Rva2VuIiwiZGlzY29ubmVjdFNvY2tldCIsInJlY29ubmVjdFNvY2tldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/socket.js\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"485ed1fd4808\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uL2FwcC9nbG9iYWxzLmNzcz8yNDdlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNDg1ZWQxZmQ0ODA4XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/chat.css":
/*!******************************************!*\
  !*** ../../packages/app/styles/chat.css ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"ece049120aa0\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9jaGF0LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvY2hhdC5jc3M/MzJlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImVjZTA0OTEyMGFhMFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/chat.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/conversations.css":
/*!***************************************************!*\
  !*** ../../packages/app/styles/conversations.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"05ffc8b869c8\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9jb252ZXJzYXRpb25zLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvY29udmVyc2F0aW9ucy5jc3M/YzgxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjA1ZmZjOGI4NjljOFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/conversations.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/floating-chat.css":
/*!***************************************************!*\
  !*** ../../packages/app/styles/floating-chat.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"832a44a26200\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9mbG9hdGluZy1jaGF0LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvZmxvYXRpbmctY2hhdC5jc3M/ZmZlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjgzMmE0NGEyNjIwMFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/floating-chat.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/group-info-panel.css":
/*!******************************************************!*\
  !*** ../../packages/app/styles/group-info-panel.css ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"b938761cc081\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1pbmZvLXBhbmVsLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvZ3JvdXAtaW5mby1wYW5lbC5jc3M/MmU1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImI5Mzg3NjFjYzA4MVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/group-info-panel.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/group-modals.css":
/*!**************************************************!*\
  !*** ../../packages/app/styles/group-modals.css ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"23ef0f2d0e7b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1tb2RhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1tb2RhbHMuY3NzP2RiYzUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIyM2VmMGYyZDBlN2JcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/group-modals.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/new-conversation-modal.css":
/*!************************************************************!*\
  !*** ../../packages/app/styles/new-conversation-modal.css ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"f847b564377f\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9uZXctY29udmVyc2F0aW9uLW1vZGFsLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvbmV3LWNvbnZlcnNhdGlvbi1tb2RhbC5jc3M/MDNmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImY4NDdiNTY0Mzc3ZlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/new-conversation-modal.css\n");

/***/ }),

/***/ "(rsc)/./app/conversations/page.tsx":
/*!************************************!*\
  !*** ./app/conversations/page.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _zola_app_features_chat_Conversations_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zola/app/features/chat/Conversations.web */ \"(rsc)/../../packages/app/features/chat/Conversations.web.js\");\n\n\nfunction Page() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zola_app_features_chat_Conversations_web__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\conversations\\\\page.tsx\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvY29udmVyc2F0aW9ucy9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzRTtBQUV2RCxTQUFTQztJQUN0QixxQkFBTyw4REFBQ0QsaUZBQWFBOzs7OztBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4vYXBwL2NvbnZlcnNhdGlvbnMvcGFnZS50c3g/OGMxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29udmVyc2F0aW9ucyBmcm9tIFwiQHpvbGEvYXBwL2ZlYXR1cmVzL2NoYXQvQ29udmVyc2F0aW9ucy53ZWJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XHJcbiAgcmV0dXJuIDxDb252ZXJzYXRpb25zIC8+O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJDb252ZXJzYXRpb25zIiwiUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/conversations/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _zola_app_components_GlobalIncomingCall_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zola/app/components/GlobalIncomingCall.web */ \"(rsc)/../../packages/app/components/GlobalIncomingCall.web.js\");\n\n\n\nconst metadata = {\n    title: \"Zola Web\",\n    description: \"Next.js shell that consumes @zola/app\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zola_app_components_GlobalIncomingCall_web__WEBPACK_IMPORTED_MODULE_2__.GlobalIncomingCall, {}, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n                    lineNumber: 14,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n            lineNumber: 13,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3VCO0FBQzBEO0FBRTFFLE1BQU1DLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDOzs4QkFDQyw4REFBQ1IsMkZBQWtCQTs7Ozs7Z0JBQ2xCSzs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcclxuaW1wb3J0IHsgR2xvYmFsSW5jb21pbmdDYWxsIH0gZnJvbSBcIkB6b2xhL2FwcC9jb21wb25lbnRzL0dsb2JhbEluY29taW5nQ2FsbC53ZWJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcclxuICB0aXRsZTogXCJab2xhIFdlYlwiLFxyXG4gIGRlc2NyaXB0aW9uOiBcIk5leHQuanMgc2hlbGwgdGhhdCBjb25zdW1lcyBAem9sYS9hcHBcIlxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxyXG4gICAgICA8Ym9keT5cclxuICAgICAgICA8R2xvYmFsSW5jb21pbmdDYWxsIC8+XHJcbiAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICA8L2JvZHk+XHJcbiAgICA8L2h0bWw+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIkdsb2JhbEluY29taW5nQ2FsbCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/app/components/GlobalIncomingCall.web.js":
/*!***************************************************************!*\
  !*** ../../packages/app/components/GlobalIncomingCall.web.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalIncomingCall: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\components\GlobalIncomingCall.web.js`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\components\GlobalIncomingCall.web.js#GlobalIncomingCall`);


/***/ }),

/***/ "(rsc)/../../packages/app/features/chat/Conversations.web.js":
/*!*************************************************************!*\
  !*** ../../packages/app/features/chat/Conversations.web.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\features\chat\Conversations.web.js`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(ssr)/../../packages/app/package.json":
/*!***************************************!*\
  !*** ../../packages/app/package.json ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"@zola/app","version":"0.0.0","private":false,"main":"index.ts","types":"index.ts","scripts":{"typecheck":"tsc --noEmit"},"peerDependencies":{"react":"^18.2.0","react-native":">=0.73.0","react-native-web":"^0.19.11","solito":"^5.0.0"}}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6","vendor-chunks/engine.io-client","vendor-chunks/form-data","vendor-chunks/axios","vendor-chunks/socket.io-client","vendor-chunks/socket.io-parser","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/get-intrinsic","vendor-chunks/engine.io-parser","vendor-chunks/asynckit","vendor-chunks/ms","vendor-chunks/combined-stream","vendor-chunks/supports-color@8.1.1","vendor-chunks/proxy-from-env","vendor-chunks/@socket.io","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/@swc+helpers@0.5.2","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/has-flag@4.0.0","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fconversations%2Fpage&page=%2Fconversations%2Fpage&appPaths=%2Fconversations%2Fpage&pagePath=private-next-app-dir%2Fconversations%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();