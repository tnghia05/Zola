/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/call/page";
exports.ids = ["app/call/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?9990":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?425e":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcall%2Fpage&page=%2Fcall%2Fpage&appPaths=%2Fcall%2Fpage&pagePath=private-next-app-dir%2Fcall%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcall%2Fpage&page=%2Fcall%2Fpage&appPaths=%2Fcall%2Fpage&pagePath=private-next-app-dir%2Fcall%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?bc16\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'call',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/call/page.tsx */ \"(rsc)/./app/call/page.tsx\")), \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\call\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\call\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/call/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/call/page\",\n        pathname: \"/call\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGY2FsbCUyRnBhZ2UmcGFnZT0lMkZjYWxsJTJGcGFnZSZhcHBQYXRocz0lMkZjYWxsJTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmNhbGwlMkZwYWdlLnRzeCZhcHBEaXI9RSUzQSU1Q0NvZGUlNUNOb2RlanMlNUNab2xhJTVDYXBwcyU1Q25leHQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q2FwcHMlNUNuZXh0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixrSkFBNEY7QUFDbkg7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQXdGO0FBQ2pILG9CQUFvQix5U0FBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/ZTQ5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdjYWxsJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxhcHBzXFxcXG5leHRcXFxcYXBwXFxcXGNhbGxcXFxccGFnZS50c3hcIiksIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxhcHBzXFxcXG5leHRcXFxcYXBwXFxcXGNhbGxcXFxccGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcYXBwc1xcXFxuZXh0XFxcXGFwcFxcXFxsYXlvdXQudHN4XCIpLCBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcYXBwc1xcXFxuZXh0XFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXGFwcHNcXFxcbmV4dFxcXFxhcHBcXFxcY2FsbFxcXFxwYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2NhbGwvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9jYWxsL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2NhbGxcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcall%2Fpage&page=%2Fcall%2Fpage&appPaths=%2Fcall%2Fpage&pagePath=private-next-app-dir%2Fcall%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.tsx&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.tsx&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ../../packages/app/components/GlobalIncomingCall.web.tsx */ \"(ssr)/../../packages/app/components/GlobalIncomingCall.web.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q2FwcHMlNUNuZXh0JTVDYXBwJTVDZ2xvYmFscy5jc3MmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNwYWNrYWdlcyU1Q2FwcCU1Q2NvbXBvbmVudHMlNUNHbG9iYWxJbmNvbWluZ0NhbGwud2ViLnRzeCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/M2RjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxccGFja2FnZXNcXFxcYXBwXFxcXGNvbXBvbmVudHNcXFxcR2xvYmFsSW5jb21pbmdDYWxsLndlYi50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp%5Cglobals.css&modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Ccomponents%5CGlobalIncomingCall.web.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/app-router.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDYXBwLXJvdXRlci5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDZXJyb3ItYm91bmRhcnkuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfcmVhY3QtZG9tJTQwMTguMi4wX3JlYWN0JTQwMTguMi4wX19yZWFjdCU0MDE4LjIuMCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q2xheW91dC1yb3V0ZXIuanMmbW9kdWxlcz1FJTNBJTVDQ29kZSU1Q05vZGVqcyU1Q1pvbGElNUNub2RlX21vZHVsZXMlNUMucG5wbSU1Q25leHQlNDAxNC4wLjRfcmVhY3QtZG9tJTQwMTguMi4wX3JlYWN0JTQwMTguMi4wX19yZWFjdCU0MDE4LjIuMCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q25vdC1mb3VuZC1ib3VuZGFyeS5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyZtb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q25vZGVfbW9kdWxlcyU1Qy5wbnBtJTVDbmV4dCU0MDE0LjAuNF9yZWFjdC1kb20lNDAxOC4yLjBfcmVhY3QlNDAxOC4yLjBfX3JlYWN0JTQwMTguMi4wJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDc3RhdGljLWdlbmVyYXRpb24tc2VhcmNocGFyYW1zLWJhaWxvdXQtcHJvdmlkZXIuanMmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdZQUFzTTtBQUN0TSx3WUFBME07QUFDMU0sc1lBQXlNO0FBQ3pNLGdaQUE4TTtBQUM5TSxvYUFBd047QUFDeE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/NDJkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcbm9kZV9tb2R1bGVzXFxcXC5wbnBtXFxcXG5leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjBcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxhcHAtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFxuZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxcbm9kZV9tb2R1bGVzXFxcXC5wbnBtXFxcXG5leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjBcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxsYXlvdXQtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFxuZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxDb2RlXFxcXE5vZGVqc1xcXFxab2xhXFxcXG5vZGVfbW9kdWxlc1xcXFwucG5wbVxcXFxuZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxccmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcQ29kZVxcXFxOb2RlanNcXFxcWm9sYVxcXFxub2RlX21vZHVsZXNcXFxcLnBucG1cXFxcbmV4dEAxNC4wLjRfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjBfX3JlYWN0QDE4LjIuMFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXHN0YXRpYy1nZW5lcmF0aW9uLXNlYXJjaHBhcmFtcy1iYWlsb3V0LXByb3ZpZGVyLmpzXCIpIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=E%3A%5CCode%5CNodejs%5CZola%5Cnode_modules%5C.pnpm%5Cnext%4014.0.4_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Ccall%5Cscreens%5CCallScreen.web.tsx&server=true!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Ccall%5Cscreens%5CCallScreen.web.tsx&server=true! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ../../packages/app/features/call/screens/CallScreen.web.tsx */ \"(ssr)/../../packages/app/features/call/screens/CallScreen.web.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMC40X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPUUlM0ElNUNDb2RlJTVDTm9kZWpzJTVDWm9sYSU1Q3BhY2thZ2VzJTVDYXBwJTVDZmVhdHVyZXMlNUNjYWxsJTVDc2NyZWVucyU1Q0NhbGxTY3JlZW4ud2ViLnRzeCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8/NDRjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXENvZGVcXFxcTm9kZWpzXFxcXFpvbGFcXFxccGFja2FnZXNcXFxcYXBwXFxcXGZlYXR1cmVzXFxcXGNhbGxcXFxcc2NyZWVuc1xcXFxDYWxsU2NyZWVuLndlYi50c3hcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=E%3A%5CCode%5CNodejs%5CZola%5Cpackages%5Capp%5Cfeatures%5Ccall%5Cscreens%5CCallScreen.web.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/../../packages/app/api.ts":
/*!*********************************!*\
  !*** ../../packages/app/api.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_URL: () => (/* binding */ API_URL),\n/* harmony export */   acceptCall: () => (/* binding */ acceptCall),\n/* harmony export */   addGroupMembers: () => (/* binding */ addGroupMembers),\n/* harmony export */   addMembers: () => (/* binding */ addMembers),\n/* harmony export */   addReaction: () => (/* binding */ addReaction),\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   changePassword: () => (/* binding */ changePassword),\n/* harmony export */   checkPostLikedApi: () => (/* binding */ checkPostLikedApi),\n/* harmony export */   createCommentApi: () => (/* binding */ createCommentApi),\n/* harmony export */   createConversation: () => (/* binding */ createConversation),\n/* harmony export */   createConversationWithUser: () => (/* binding */ createConversationWithUser),\n/* harmony export */   createGroupConversation: () => (/* binding */ createGroupConversation),\n/* harmony export */   createInviteLink: () => (/* binding */ createInviteLink),\n/* harmony export */   createMessage: () => (/* binding */ createMessage),\n/* harmony export */   createMessageWithPayload: () => (/* binding */ createMessageWithPayload),\n/* harmony export */   createMessageWithReply: () => (/* binding */ createMessageWithReply),\n/* harmony export */   createPostApi: () => (/* binding */ createPostApi),\n/* harmony export */   createStoryApi: () => (/* binding */ createStoryApi),\n/* harmony export */   createStoryReplyApi: () => (/* binding */ createStoryReplyApi),\n/* harmony export */   deleteMessage: () => (/* binding */ deleteMessage),\n/* harmony export */   deleteStoryApi: () => (/* binding */ deleteStoryApi),\n/* harmony export */   editMessage: () => (/* binding */ editMessage),\n/* harmony export */   endCall: () => (/* binding */ endCall),\n/* harmony export */   getCall: () => (/* binding */ getCall),\n/* harmony export */   getConversations: () => (/* binding */ getConversations),\n/* harmony export */   getCurrentUserId: () => (/* binding */ getCurrentUserId),\n/* harmony export */   getCurrentUserProfile: () => (/* binding */ getCurrentUserProfile),\n/* harmony export */   getFeed: () => (/* binding */ getFeed),\n/* harmony export */   getFriendSuggestionsApi: () => (/* binding */ getFriendSuggestionsApi),\n/* harmony export */   getFriends: () => (/* binding */ getFriends),\n/* harmony export */   getLiveKitToken: () => (/* binding */ getLiveKitToken),\n/* harmony export */   getMessages: () => (/* binding */ getMessages),\n/* harmony export */   getNotificationsApi: () => (/* binding */ getNotificationsApi),\n/* harmony export */   getOnlineUsers: () => (/* binding */ getOnlineUsers),\n/* harmony export */   getOpponentInfo: () => (/* binding */ getOpponentInfo),\n/* harmony export */   getPostComments: () => (/* binding */ getPostComments),\n/* harmony export */   getSavedPostsApi: () => (/* binding */ getSavedPostsApi),\n/* harmony export */   getStoriesApi: () => (/* binding */ getStoriesApi),\n/* harmony export */   getStoryRepliesApi: () => (/* binding */ getStoryRepliesApi),\n/* harmony export */   getUnreadCount: () => (/* binding */ getUnreadCount),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserPostsApi: () => (/* binding */ getUserPostsApi),\n/* harmony export */   getUsersByIds: () => (/* binding */ getUsersByIds),\n/* harmony export */   initiateCall: () => (/* binding */ initiateCall),\n/* harmony export */   joinConversationByInvite: () => (/* binding */ joinConversationByInvite),\n/* harmony export */   leaveGroup: () => (/* binding */ leaveGroup),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   makeAdmin: () => (/* binding */ makeAdmin),\n/* harmony export */   makeGroupAdmin: () => (/* binding */ makeGroupAdmin),\n/* harmony export */   markAsRead: () => (/* binding */ markAsRead),\n/* harmony export */   markNotificationsReadApi: () => (/* binding */ markNotificationsReadApi),\n/* harmony export */   markStoryViewedApi: () => (/* binding */ markStoryViewedApi),\n/* harmony export */   pinMessage: () => (/* binding */ pinMessage),\n/* harmony export */   reactToPostApi: () => (/* binding */ reactToPostApi),\n/* harmony export */   reactToStoryApi: () => (/* binding */ reactToStoryApi),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   rejectCall: () => (/* binding */ rejectCall),\n/* harmony export */   removeAdmin: () => (/* binding */ removeAdmin),\n/* harmony export */   removeGroupAdmin: () => (/* binding */ removeGroupAdmin),\n/* harmony export */   removeGroupMember: () => (/* binding */ removeGroupMember),\n/* harmony export */   removeMember: () => (/* binding */ removeMember),\n/* harmony export */   removeReaction: () => (/* binding */ removeReaction),\n/* harmony export */   removeReactionApi: () => (/* binding */ removeReactionApi),\n/* harmony export */   removeStoryReactionApi: () => (/* binding */ removeStoryReactionApi),\n/* harmony export */   reportPostApi: () => (/* binding */ reportPostApi),\n/* harmony export */   resendOTP: () => (/* binding */ resendOTP),\n/* harmony export */   revokeMessage: () => (/* binding */ revokeMessage),\n/* harmony export */   savePostApi: () => (/* binding */ savePostApi),\n/* harmony export */   searchMessages: () => (/* binding */ searchMessages),\n/* harmony export */   searchMusicApi: () => (/* binding */ searchMusicApi),\n/* harmony export */   searchSocialApi: () => (/* binding */ searchSocialApi),\n/* harmony export */   searchUsers: () => (/* binding */ searchUsers),\n/* harmony export */   sendFriendRequestApi: () => (/* binding */ sendFriendRequestApi),\n/* harmony export */   sendOTP: () => (/* binding */ sendOTP),\n/* harmony export */   sendVerificationOTP: () => (/* binding */ sendVerificationOTP),\n/* harmony export */   setAuthToken: () => (/* binding */ setAuthToken),\n/* harmony export */   starMessage: () => (/* binding */ starMessage),\n/* harmony export */   trackEventApi: () => (/* binding */ trackEventApi),\n/* harmony export */   unpinMessage: () => (/* binding */ unpinMessage),\n/* harmony export */   unsavePostApi: () => (/* binding */ unsavePostApi),\n/* harmony export */   updateCurrentUserProfile: () => (/* binding */ updateCurrentUserProfile),\n/* harmony export */   updateGroupInfo: () => (/* binding */ updateGroupInfo),\n/* harmony export */   updateOnlineStatus: () => (/* binding */ updateOnlineStatus),\n/* harmony export */   updateUserAvatar: () => (/* binding */ updateUserAvatar),\n/* harmony export */   updateUserAvatarWithId: () => (/* binding */ updateUserAvatarWithId),\n/* harmony export */   updateUserInfo: () => (/* binding */ updateUserInfo),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile),\n/* harmony export */   updateUserProfileWithId: () => (/* binding */ updateUserProfileWithId),\n/* harmony export */   updateUsername: () => (/* binding */ updateUsername),\n/* harmony export */   uploadAvatarDirect: () => (/* binding */ uploadAvatarDirect),\n/* harmony export */   uploadChatFile: () => (/* binding */ uploadChatFile),\n/* harmony export */   uploadImageLocal: () => (/* binding */ uploadImageLocal),\n/* harmony export */   uploadImageLocalOld: () => (/* binding */ uploadImageLocalOld),\n/* harmony export */   uploadImageS3: () => (/* binding */ uploadImageS3),\n/* harmony export */   uploadMediaApi: () => (/* binding */ uploadMediaApi),\n/* harmony export */   verifyOTP: () => (/* binding */ verifyOTP)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/../../../../node_modules/axios/lib/axios.js\");\n\n// Use Vercel proxy for web to avoid CORS issues\n// Direct backend URL has CORS restrictions on Vercel domain\nconst DIRECT_BACKEND_URL = \"https://backend36.dev\";\nconst isWeb = \"undefined\" !== \"undefined\";\nconst isLocalhost = isWeb && window?.location?.hostname && /^(localhost|127\\.|192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))$/.test(window.location.hostname);\n// Force use proxy for LAN IPs to avoid CORS issues\nconst isLAN = isWeb && window?.location?.hostname && /^(192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))$/.test(window.location.hostname);\n// Check if using ngrok tunnel\nconst isNgrok = isWeb && window?.location?.hostname && window.location.hostname.includes(\"ngrok\");\n// Always use direct backend for development (proxy only works in production)\nconst isProduction = isWeb && window?.location?.hostname && !window.location.hostname.includes(\"localhost\") && !window.location.hostname.match(/^(192\\.168\\.|10\\.|172\\.(1[6-9]|2\\d|3[0-1]))/) && !isNgrok && !window.location.hostname.includes(\"ngrok\");\nconst API_URL = isWeb ? isProduction ? \"/api\" : DIRECT_BACKEND_URL : DIRECT_BACKEND_URL;\n// Debug logging\nif (isWeb && window?.location?.hostname) {\n    console.log(\"\\uD83C\\uDF10 Web environment detected\");\n    console.log(\"\\uD83D\\uDD0D window.location.hostname:\", window.location.hostname);\n    console.log(\"\\uD83D\\uDD0D isLocalhost:\", isLocalhost);\n    console.log(\"\\uD83D\\uDD0D isLAN:\", isLAN);\n    console.log(\"\\uD83D\\uDD0D isNgrok:\", isNgrok);\n    console.log(\"\\uD83D\\uDD0D isProduction:\", isProduction);\n    console.log(\"\\uD83D\\uDD0D API_URL:\", API_URL);\n}\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_URL,\n    withCredentials: true\n});\n// Rehydrate auth header from localStorage on web reload\nif (false) {}\n// Add request interceptor for debugging\napi.interceptors.request.use((config)=>{\n    // Ensure token is set from localStorage on each request\n    if (false) {}\n    const authHeader = typeof config.headers.Authorization === \"string\" ? config.headers.Authorization.substring(0, 30) + \"...\" : config.headers.Authorization ? String(config.headers.Authorization) : \"none\";\n    console.log(\"\\uD83D\\uDD0D API Request:\", {\n        method: config.method?.toUpperCase(),\n        url: config.url,\n        baseURL: config.baseURL,\n        hasAuth: !!config.headers.Authorization,\n        authHeader\n    });\n    return config;\n}, (error)=>{\n    console.error(\" Request Error:\", error);\n    return Promise.reject(error);\n});\n// Add response interceptor for debugging\napi.interceptors.response.use((response)=>{\n    console.log(\" API Response:\", {\n        status: response.status,\n        statusText: response.statusText,\n        data: response.data\n    });\n    return response;\n}, (error)=>{\n    console.error(\" Response Error:\", {\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        config: {\n            method: error.config?.method?.toUpperCase(),\n            url: error.config?.url,\n            data: error.config?.data\n        }\n    });\n    return Promise.reject(error);\n});\nconst setAuthToken = (token)=>{\n    if (token) {\n        api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    } else {\n        delete api.defaults.headers.common[\"Authorization\"];\n    }\n};\nconst login = async (email, password)=>{\n    const res = await api.post(\"/auth/login\", {\n        email,\n        password\n    });\n    return res.data;\n};\nconst getConversations = async ()=>{\n    const res = await api.get(\"/conversations\");\n    return res.data;\n};\nconst getMessages = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/messages`);\n    return res.data;\n};\nconst createMessage = async (conversationId, text)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, {\n        text\n    });\n    return res.data;\n};\nconst createMessageWithPayload = async (conversationId, payload)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, payload);\n    return res.data;\n};\nconst createConversation = async (userId, title)=>{\n    const res = await api.post(\"/conversations\", {\n        members: [\n            userId\n        ],\n        title: title || `Chat with ${userId}`\n    });\n    return res.data;\n};\n// Create a group conversation with multiple member IDs\nconst createGroupConversation = async (memberIds, title)=>{\n    const unique = Array.from(new Set(memberIds.filter(Boolean)));\n    const res = await api.post(\"/conversations\", {\n        members: unique,\n        isGroup: true,\n        title: title || `Group (${unique.length})`\n    });\n    return res.data;\n};\nconst initiateCall = async (conversationId, type, targetUserId)=>{\n    const payload = {\n        conversationId,\n        type\n    };\n    if (targetUserId) {\n        payload.targetUserId = targetUserId;\n    }\n    const res = await api.post(\"/calls/initiate\", payload);\n    return res.data;\n};\nconst getCall = async (callId)=>{\n    const res = await api.get(`/calls/${callId}`);\n    return res.data;\n};\nconst getLiveKitToken = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/livekit-token`);\n    return res.data;\n};\nconst endCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/end`);\n    return res.data;\n};\nconst acceptCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/accept`);\n    return res.data;\n};\nconst rejectCall = async (callId)=>{\n    const res = await api.post(`/calls/${callId}/reject`);\n    return res.data;\n};\n// \n// UPLOAD IMAGE LOCAL - CLIENT-SERVER (HTTP POST over TCP)\n// Multipart Form Data\n// \n// Upload image to local storage endpoint (updated to use correct endpoint)\nconst uploadImageLocalOld = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/files/image`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload to S3 if backend provides presigned handling (optional)\nconst uploadImageS3 = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/files/s3`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload to local storage\nconst uploadImageLocal = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"file\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    const res = await api.post(`/uploads/image`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\n// Upload media cho mng x hi (nh/video) - dng chung vi desktop\nconst uploadMediaApi = async (file)=>{\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await api.post(\"/uploads/s3/public\", formData, {\n    });\n    return {\n        url: res.data.url,\n        type: res.data.mime.startsWith(\"image/\") ? \"image\" : \"video\"\n    };\n};\n// Web helper: upload File object directly (chat attachments)\nconst uploadChatFile = async (file)=>{\n    const form = new FormData();\n    form.append(\"file\", file);\n    const res = await api.post(`/uploads/s3/public`, form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\nconst logout = async (token)=>{\n    const res = await api.post(\"/auth/logout\", {\n        token\n    });\n    return res.data;\n};\nconst register = async (email, password, name)=>{\n    const res = await api.post(\"/auth/register\", {\n        email,\n        password,\n        name\n    });\n    return res.data;\n};\nconst sendOTP = async (email)=>{\n    const res = await api.post(\"/auth/send-otp\", {\n        email\n    });\n    return res.data;\n};\nconst verifyOTP = async (email, otp)=>{\n    const res = await api.post(\"/auth/verify-otp\", {\n        email,\n        otp\n    });\n    return res.data;\n};\nconst resendOTP = async (email)=>{\n    const res = await api.post(\"/auth/resend-otp\", {\n        email\n    });\n    return res.data;\n};\nconst sendVerificationOTP = async (email)=>{\n    const res = await api.post(\"/auth/send-verification-otp\", {\n        email\n    });\n    return res.data;\n};\nconst updateUsername = async (username)=>{\n    const res = await api.patch(\"/users/username\", {\n        username\n    });\n    return res.data;\n};\nconst updateUserAvatar = async (avatarUrl)=>{\n    const res = await api.patch(\"/users/avatar\", {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Alternative avatar update endpoints to try\nconst updateUserProfile = async (data)=>{\n    const res = await api.patch(\"/users/profile\", data);\n    return res.data;\n};\nconst updateUserInfo = async (avatarUrl)=>{\n    const res = await api.put(\"/users/info\", {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Get current user ID  web version dng localStorage\nconst getCurrentUserId = async ()=>{\n    try {\n        if (true) return null;\n        const userId = window.localStorage.getItem(\"user_id\");\n        return userId;\n    } catch (error) {\n        console.error(\"Error getting user ID from localStorage:\", error);\n        return null;\n    }\n};\n// Bn b cho trang c nhn / friends page\nconst getFriends = async ()=>{\n    const res = await api.get(\"/social/friends\");\n    return res.data;\n};\n// Feed bi vit ca 1 user (trang profile)\nconst getUserPostsApi = async (userId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/users/${userId}/posts`, {\n        params\n    });\n    return res.data;\n};\nconst trackEventApi = async (eventType, metadata, sessionId)=>{\n    try {\n        await api.post(\"/analytics/track\", {\n            eventType,\n            metadata,\n            sessionId\n        });\n    } catch (error) {\n        console.error(\"[Analytics] Failed to track event:\", error);\n    }\n};\n// Update avatar with user ID\nconst updateUserAvatarWithId = async (userId, avatarUrl)=>{\n    const res = await api.patch(`/users/${userId}/avatar`, {\n        avatar: avatarUrl\n    });\n    return res.data;\n};\n// Update profile with user ID\nconst updateUserProfileWithId = async (userId, data)=>{\n    const res = await api.patch(`/users/${userId}/profile`, data);\n    return res.data;\n};\nconst changePassword = async (currentPassword, newPassword)=>{\n    const res = await api.post(\"/auth/change-password\", {\n        currentPassword,\n        newPassword\n    });\n    return res.data;\n};\n// Update current user profile (the correct way according to backend docs)\nconst updateCurrentUserProfile = async (data)=>{\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - request data:\", data);\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - method: PATCH\");\n    console.log(\"\\uD83D\\uDD0D updateCurrentUserProfile - auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.patch(\"/users/me\", data);\n    return res.data;\n};\n// Get current user profile\nconst getCurrentUserProfile = async ()=>{\n    const res = await api.get(\"/users/me\");\n    return res.data;\n};\n// Cch 1: Upload avatar trc tip (n gin nht)\nconst uploadAvatarDirect = async (file)=>{\n    const form = new FormData();\n    if (false) {} else {\n        // React Native\n        // @ts-ignore RN FormData file\n        form.append(\"avatar\", {\n            uri: file.uri,\n            name: file.name,\n            type: file.type\n        });\n    }\n    console.log(\"\\uD83D\\uDD0D uploadAvatarDirect - sending file:\", file.name);\n    console.log(\"\\uD83D\\uDD0D uploadAvatarDirect - auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.post(\"/users/avatar\", form, {\n        headers: {\n            \"Content-Type\": \"multipart/form-data\"\n        }\n    });\n    return res.data;\n};\nconst getUsersByIds = async (userIds)=>{\n    const res = await api.post(`/users/by-ids`, {\n        userIds\n    });\n    return res.data;\n};\nconst searchUsers = async (query, page = 1, limit = 20)=>{\n    console.log(\"\\uD83D\\uDD0D searchUsers called with:\", {\n        query,\n        page,\n        limit\n    });\n    console.log(\"\\uD83D\\uDD0D API base URL:\", api.defaults.baseURL);\n    console.log(\"\\uD83D\\uDD0D Auth header:\", api.defaults.headers.common[\"Authorization\"]);\n    const res = await api.get(\"/users/search\", {\n        params: {\n            q: query,\n            page,\n            limit\n        }\n    });\n    console.log(\"\\uD83D\\uDD0D searchUsers response:\", res.data);\n    return res.data;\n};\n// To conversation vi user\nconst createConversationWithUser = async (userId)=>{\n    const res = await api.post(\"/conversations\", {\n        members: [\n            userId\n        ]\n    });\n    return res.data;\n};\nconst getOpponentInfo = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/opponent`);\n    return res.data;\n};\n// Message Actions API\nconst editMessage = async (messageId, text)=>{\n    const res = await api.patch(`/conversations/messages/${messageId}`, {\n        text\n    });\n    return res.data;\n};\nconst deleteMessage = async (messageId)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}`);\n    return res.data;\n};\nconst addReaction = async (messageId, emoji)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/reactions`, {\n        emoji\n    });\n    return res.data;\n};\nconst removeReaction = async (messageId, emoji)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}/reactions/${encodeURIComponent(emoji)}`);\n    return res.data;\n};\nconst pinMessage = async (messageId)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/pin`);\n    return res.data;\n};\nconst unpinMessage = async (messageId)=>{\n    const res = await api.delete(`/conversations/messages/${messageId}/pin`);\n    return res.data;\n};\nconst starMessage = async (messageId)=>{\n    const res = await api.post(`/conversations/messages/${messageId}/star`);\n    return res.data;\n};\n// Revoke message for everyone\nconst revokeMessage = async (messageId)=>{\n    const res = await api.patch(`/conversations/messages/${messageId}/revoke`, {});\n    return res.data;\n};\nconst searchMessages = async (query, conversationId)=>{\n    const params = {\n        query\n    };\n    if (conversationId) {\n        params.conversationId = conversationId;\n    }\n    const res = await api.get(`/conversations/messages/search`, {\n        params\n    });\n    return res.data;\n};\nconst markAsRead = async (conversationId, messageId)=>{\n    const res = await api.post(`/conversations/${conversationId}/read`, {\n        messageId\n    });\n    return res.data;\n};\n// Group Management API\nconst addMembers = async (conversationId, userIds)=>{\n    const res = await api.post(`/conversations/${conversationId}/members`, {\n        userIds\n    });\n    return res.data;\n};\nconst removeMember = async (conversationId, userId)=>{\n    const res = await api.delete(`/conversations/${conversationId}/members/${userId}`);\n    return res.data;\n};\nconst updateGroupInfo = async (conversationId, data)=>{\n    const res = await api.patch(`/conversations/${conversationId}`, data);\n    return res.data;\n};\nconst createInviteLink = async (conversationId)=>{\n    const res = await api.post(`/conversations/${conversationId}/invite`);\n    return res.data;\n};\nconst joinConversationByInvite = async (inviteCode)=>{\n    const res = await api.post(`/conversations/join/invite`, {\n        inviteCode\n    });\n    return res.data;\n};\nconst makeAdmin = async (conversationId, userId)=>{\n    const res = await api.post(`/conversations/${conversationId}/admins/${userId}`);\n    return res.data;\n};\nconst removeAdmin = async (conversationId, userId)=>{\n    const res = await api.delete(`/conversations/${conversationId}/admins/${userId}`);\n    return res.data;\n};\n// Backwards-compatible aliases for desktop code\nconst addGroupMembers = addMembers;\nconst removeGroupMember = removeMember;\nconst makeGroupAdmin = makeAdmin;\nconst removeGroupAdmin = removeAdmin;\nconst leaveGroup = async (conversationId)=>{\n    const res = await api.post(`/conversations/${conversationId}/leave`);\n    return res.data;\n};\nconst getUnreadCount = async (conversationId)=>{\n    const res = await api.get(`/conversations/${conversationId}/unread`);\n    return res.data;\n};\n// Online Status API\nconst updateOnlineStatus = async (status)=>{\n    const res = await api.patch(`/users/me/status`, {\n        status\n    });\n    return res.data;\n};\nconst getOnlineUsers = async (userIds)=>{\n    const res = await api.post(`/users/online-status`, {\n        userIds\n    });\n    return res.data;\n};\n// Update createMessage to support replyTo\nconst createMessageWithReply = async (conversationId, text, replyTo)=>{\n    const res = await api.post(`/conversations/${conversationId}/messages`, {\n        text,\n        replyTo\n    });\n    return res.data;\n};\nconst getFeed = async (cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/posts/feed\", {\n        params\n    });\n    return res.data;\n};\nconst createPostApi = async (payload)=>{\n    const res = await api.post(\"/social/posts\", payload);\n    return res.data;\n};\nconst createCommentApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/comments`, payload);\n    return res.data;\n};\nconst getPostComments = async (postId, cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/posts/${postId}/comments`, {\n        params\n    });\n    return res.data;\n};\nconst createStoryApi = async (payload)=>{\n    const res = await api.post(\"/social/stories\", payload);\n    return res.data;\n};\nconst getStoriesApi = async ()=>{\n    const res = await api.get(\"/social/stories\");\n    return res.data;\n};\nconst markStoryViewedApi = async (storyId)=>{\n    const res = await api.post(`/social/stories/${storyId}/view`, {});\n    return res.data;\n};\nconst deleteStoryApi = async (storyId)=>{\n    const res = await api.delete(`/social/stories/${storyId}`);\n    return res.data;\n};\nconst savePostApi = async (postId)=>{\n    const res = await api.post(`/social/posts/${postId}/save`, {});\n    return res.data;\n};\nconst unsavePostApi = async (postId)=>{\n    const res = await api.delete(`/social/posts/${postId}/save`);\n    return res.data;\n};\nconst getSavedPostsApi = async (cursor)=>{\n    const params = {};\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/posts/saved\", {\n        params\n    });\n    return res.data;\n};\nconst reportPostApi = async (postId, payload)=>{\n    const res = await api.post(`/social/posts/${postId}/report`, payload);\n    return res.data;\n};\nconst getFriendSuggestionsApi = async (limit = 6)=>{\n    const res = await api.get(\"/social/friends/suggestions\", {\n        params: {\n            limit\n        }\n    });\n    return res.data;\n};\nconst sendFriendRequestApi = async (targetUserId)=>{\n    const res = await api.post(\"/social/friends/requests\", {\n        targetUserId\n    });\n    return res.data;\n};\nconst getNotificationsApi = async (cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(\"/social/notifications\", {\n        params\n    });\n    return res.data;\n};\nconst markNotificationsReadApi = async (ids)=>{\n    const res = await api.post(\"/social/notifications/read\", {\n        ids\n    });\n    return res.data;\n};\nconst getUserById = async (userId)=>{\n    const res = await api.get(`/users/${userId}`);\n    return res.data;\n};\nconst searchSocialApi = async (queryOrParams)=>{\n    const params = typeof queryOrParams === \"string\" ? {\n        q: queryOrParams\n    } : {\n        q: queryOrParams.q,\n        type: queryOrParams.type\n    };\n    const res = await api.get(\"/social/search\", {\n        params\n    });\n    return res.data;\n};\nconst checkPostLikedApi = async (postId)=>{\n    const res = await api.get(`/social/posts/${postId}/liked`);\n    return res.data;\n};\nconst reactToPostApi = async (postId, type)=>{\n    const res = await api.post(`/social/posts/${postId}/reactions`, {\n        type\n    });\n    return res.data;\n};\nconst removeReactionApi = async (postId)=>{\n    const res = await api.delete(`/social/posts/${postId}/reactions`);\n    return res.data;\n};\n// Story Reactions & Replies\nconst reactToStoryApi = async (storyId, type)=>{\n    const res = await api.post(`/social/stories/${storyId}/reactions`, {\n        type\n    });\n    return res.data;\n};\nconst removeStoryReactionApi = async (storyId)=>{\n    const res = await api.delete(`/social/stories/${storyId}/reactions`);\n    return res.data;\n};\nconst getStoryRepliesApi = async (storyId, cursor, limit = 20)=>{\n    const params = {\n        limit\n    };\n    if (cursor) params.cursor = cursor;\n    const res = await api.get(`/social/stories/${storyId}/replies`, {\n        params\n    });\n    return res.data;\n};\nconst createStoryReplyApi = async (storyId, content)=>{\n    const res = await api.post(`/social/stories/${storyId}/replies`, {\n        content\n    });\n    return res.data;\n};\n// Music Search\nconst searchMusicApi = async (query)=>{\n    try {\n        const response = await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(query)}&media=music&limit=20`);\n        const data = await response.json();\n        return data.results || [];\n    } catch (error) {\n        console.error(\"Failed to search music:\", error);\n        return [];\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2FwaS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUUxQixnREFBZ0Q7QUFDaEQsNERBQTREO0FBQzVELE1BQU1DLHFCQUFxQjtBQUMzQixNQUFNQyxRQUFRLGdCQUFrQjtBQUNoQyxNQUFNQyxjQUFjRCxTQUFTRSxRQUFRQyxVQUFVQyxZQUFZLCtEQUErREMsSUFBSSxDQUFDSCxPQUFPQyxRQUFRLENBQUNDLFFBQVE7QUFDdkosbURBQW1EO0FBQ25ELE1BQU1FLFFBQVFOLFNBQVNFLFFBQVFDLFVBQVVDLFlBQVksK0NBQStDQyxJQUFJLENBQUNILE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUTtBQUNqSSw4QkFBOEI7QUFDOUIsTUFBTUcsVUFBVVAsU0FBU0UsUUFBUUMsVUFBVUMsWUFBWUYsT0FBT0MsUUFBUSxDQUFDQyxRQUFRLENBQUNJLFFBQVEsQ0FBQztBQUN6Riw2RUFBNkU7QUFDN0UsTUFBTUMsZUFBZVQsU0FBU0UsUUFBUUMsVUFBVUMsWUFBWSxDQUFDRixPQUFPQyxRQUFRLENBQUNDLFFBQVEsQ0FBQ0ksUUFBUSxDQUFDLGdCQUFnQixDQUFDTixPQUFPQyxRQUFRLENBQUNDLFFBQVEsQ0FBQ00sS0FBSyxDQUFDLGtEQUFrRCxDQUFDSCxXQUFXLENBQUNMLE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDSSxRQUFRLENBQUM7QUFDek8sTUFBTUcsVUFBVVgsUUFBU1MsZUFBZSxTQUFTVixxQkFBc0JBLG1CQUFtQjtBQUVqRyxnQkFBZ0I7QUFDaEIsSUFBSUMsU0FBU0UsUUFBUUMsVUFBVUMsVUFBVTtJQUN4Q1EsUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQywwQ0FBZ0NYLE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUTtJQUNw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T0FDaENuQixTQUNBL0QsUUFDQUMsUUFBZ0IsRUFBRTtJQUVsQixNQUFNQyxTQUFjO1FBQUVEO0lBQU07SUFDNUIsSUFBSUQsUUFBUUUsT0FBT0YsTUFBTSxHQUFHQTtJQUM1QixNQUFNeEUsTUFBTSxNQUFNakMsSUFBSW9DLEdBQUcsQ0FBdUIsQ0FBQyxnQkFBZ0IsRUFBRW9JLFFBQVEsUUFBUSxDQUFDLEVBQUU7UUFDcEY3RDtJQUNGO0lBQ0EsT0FBTzFFLElBQUlMLElBQUk7QUFDakIsRUFBRTtBQUVLLE1BQU1nSyxzQkFBc0IsT0FBT3BCLFNBQWlCcUI7SUFDekQsTUFBTTVKLE1BQU0sTUFBTWpDLElBQUlrQyxJQUFJLENBQWEsQ0FBQyxnQkFBZ0IsRUFBRXNJLFFBQVEsUUFBUSxDQUFDLEVBQUU7UUFBRXFCO0lBQVE7SUFDdkYsT0FBTzVKLElBQUlMLElBQUk7QUFDakIsRUFBRTtBQUVGLGVBQWU7QUFDUixNQUFNa0ssaUJBQWlCLE9BQU9uRTtJQUNuQyxJQUFJO1FBQ0YsTUFBTWxHLFdBQVcsTUFBTThDLE1BQ3JCLENBQUMscUNBQXFDLEVBQUVnRSxtQkFBbUJaLE9BQU8scUJBQXFCLENBQUM7UUFFMUYsTUFBTS9GLE9BQU8sTUFBTUgsU0FBU3NLLElBQUk7UUFDaEMsT0FBT25LLEtBQUtvSyxPQUFPLElBQUksRUFBRTtJQUMzQixFQUFFLE9BQU8xSyxPQUFPO1FBQ2R4QixRQUFRd0IsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2FwaS50cz81NzM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vIFVzZSBWZXJjZWwgcHJveHkgZm9yIHdlYiB0byBhdm9pZCBDT1JTIGlzc3Vlc1xuLy8gRGlyZWN0IGJhY2tlbmQgVVJMIGhhcyBDT1JTIHJlc3RyaWN0aW9ucyBvbiBWZXJjZWwgZG9tYWluXG5jb25zdCBESVJFQ1RfQkFDS0VORF9VUkwgPSAnaHR0cHM6Ly9iYWNrZW5kMzYuZGV2JztcbmNvbnN0IGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBpc0xvY2FsaG9zdCA9IGlzV2ViICYmIHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lICYmIC9eKGxvY2FsaG9zdHwxMjdcXC58MTkyXFwuMTY4XFwufDEwXFwufDE3MlxcLigxWzYtOV18MlxcZHwzWzAtMV0pKSQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbi8vIEZvcmNlIHVzZSBwcm94eSBmb3IgTEFOIElQcyB0byBhdm9pZCBDT1JTIGlzc3Vlc1xuY29uc3QgaXNMQU4gPSBpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSAmJiAvXigxOTJcXC4xNjhcXC58MTBcXC58MTcyXFwuKDFbNi05XXwyXFxkfDNbMC0xXSkpJC8udGVzdCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuLy8gQ2hlY2sgaWYgdXNpbmcgbmdyb2sgdHVubmVsXG5jb25zdCBpc05ncm9rID0gaXNXZWIgJiYgd2luZG93Py5sb2NhdGlvbj8uaG9zdG5hbWUgJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluY2x1ZGVzKCduZ3JvaycpO1xuLy8gQWx3YXlzIHVzZSBkaXJlY3QgYmFja2VuZCBmb3IgZGV2ZWxvcG1lbnQgKHByb3h5IG9ubHkgd29ya3MgaW4gcHJvZHVjdGlvbilcbmNvbnN0IGlzUHJvZHVjdGlvbiA9IGlzV2ViICYmIHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUubWF0Y2goL14oMTkyXFwuMTY4XFwufDEwXFwufDE3MlxcLigxWzYtOV18MlxcZHwzWzAtMV0pKS8pICYmICFpc05ncm9rICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ25ncm9rJyk7XG5leHBvcnQgY29uc3QgQVBJX1VSTCA9IGlzV2ViID8gKGlzUHJvZHVjdGlvbiA/ICcvYXBpJyA6IERJUkVDVF9CQUNLRU5EX1VSTCkgOiBESVJFQ1RfQkFDS0VORF9VUkw7XG5cbi8vIERlYnVnIGxvZ2dpbmdcbmlmIChpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSkge1xuXHRjb25zb2xlLmxvZygn8J+MkCBXZWIgZW52aXJvbm1lbnQgZGV0ZWN0ZWQnKTtcblx0Y29uc29sZS5sb2coJ/CflI0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOicsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG5cdGNvbnNvbGUubG9nKCfwn5SNIGlzTG9jYWxob3N0OicsIGlzTG9jYWxob3N0KTtcblx0Y29uc29sZS5sb2coJ/CflI0gaXNMQU46JywgaXNMQU4pO1xuXHRjb25zb2xlLmxvZygn8J+UjSBpc05ncm9rOicsIGlzTmdyb2spO1xuXHRjb25zb2xlLmxvZygn8J+UjSBpc1Byb2R1Y3Rpb246JywgaXNQcm9kdWN0aW9uKTtcblx0Y29uc29sZS5sb2coJ/CflI0gQVBJX1VSTDonLCBBUElfVVJMKTtcbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG5cdGJhc2VVUkw6IEFQSV9VUkwsXG5cdHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbn0pO1xuXG4vLyBSZWh5ZHJhdGUgYXV0aCBoZWFkZXIgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gd2ViIHJlbG9hZFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0Y29uc3QgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuXHRpZiAodG9rZW4pIHtcblx0XHRhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3Rva2VufWA7XG5cdH1cbn1cblxuLy8gQWRkIHJlcXVlc3QgaW50ZXJjZXB0b3IgZm9yIGRlYnVnZ2luZ1xuYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcblx0KGNvbmZpZykgPT4ge1xuXHRcdC8vIEVuc3VyZSB0b2tlbiBpcyBzZXQgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gZWFjaCByZXF1ZXN0XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdGNvbnN0IHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF90b2tlblwiKTtcblx0XHRcdGlmICh0b2tlbiAmJiAhY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbikge1xuXHRcdFx0XHRjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IGF1dGhIZWFkZXIgPVxuICAgICAgdHlwZW9mIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uLnN1YnN0cmluZygwLCAzMCkgKyBcIi4uLlwiXG4gICAgICAgIDogY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvblxuICAgICAgICA/IFN0cmluZyhjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uKVxuICAgICAgICA6IFwibm9uZVwiO1xuXG4gICAgY29uc29sZS5sb2coJ/CflI0gQVBJIFJlcXVlc3Q6Jywge1xuXHRcdFx0bWV0aG9kOiBjb25maWcubWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxuXHRcdFx0dXJsOiBjb25maWcudXJsLFxuXHRcdFx0YmFzZVVSTDogY29uZmlnLmJhc2VVUkwsXG5cdFx0XHRoYXNBdXRoOiAhIWNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24sXG5cdFx0XHRhdXRoSGVhZGVyLFxuXHRcdH0pO1xuXHRcdHJldHVybiBjb25maWc7XG5cdH0sXG5cdChlcnJvcikgPT4ge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBSZXF1ZXN0IEVycm9yOicsIGVycm9yKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuXHR9XG4pO1xuXG4vLyBBZGQgcmVzcG9uc2UgaW50ZXJjZXB0b3IgZm9yIGRlYnVnZ2luZ1xuYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG5cdChyZXNwb25zZSkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCfinIUgQVBJIFJlc3BvbnNlOicsIHtcblx0XHRcdHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuXHRcdFx0c3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcblx0XHRcdGRhdGE6IHJlc3BvbnNlLmRhdGEsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHR9LFxuXHQoZXJyb3IpID0+IHtcblx0XHRjb25zb2xlLmVycm9yKCfinYwgUmVzcG9uc2UgRXJyb3I6Jywge1xuXHRcdFx0c3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuXHRcdFx0c3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG5cdFx0XHRkYXRhOiBlcnJvci5yZXNwb25zZT8uZGF0YSxcblx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRtZXRob2Q6IGVycm9yLmNvbmZpZz8ubWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxuXHRcdFx0XHR1cmw6IGVycm9yLmNvbmZpZz8udXJsLFxuXHRcdFx0XHRkYXRhOiBlcnJvci5jb25maWc/LmRhdGEsXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0fVxuKTtcblxuZXhwb3J0IGNvbnN0IHNldEF1dGhUb2tlbiA9ICh0b2tlbj86IHN0cmluZykgPT4ge1xuXHRpZiAodG9rZW4pIHtcblx0XHRhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuXHR9IGVsc2Uge1xuXHRcdGRlbGV0ZSBhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXTtcblx0fVxufTtcblxuZXhwb3J0IHR5cGUgTG9naW5SZXNwb25zZSA9IHtcblx0YWNjZXNzVG9rZW46IHN0cmluZztcblx0cmVmcmVzaFRva2VuOiBzdHJpbmc7XG5cdHVzZXI6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH07XG59O1xuXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxMb2dpblJlc3BvbnNlPignL2F1dGgvbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IHR5cGUgQ29udmVyc2F0aW9uID0ge1xuXHRfaWQ6IHN0cmluZztcblx0dGl0bGU/OiBzdHJpbmc7XG5cdG1lbWJlcnM6IHN0cmluZ1tdO1xuXHRpc0dyb3VwOiBib29sZWFuO1xuXHRsYXN0TWVzc2FnZUF0Pzogc3RyaW5nO1xuXHRjcmVhdGVkQXQ6IHN0cmluZztcblx0dXBkYXRlZEF0OiBzdHJpbmc7XG5cdF9fdj86IG51bWJlcjtcblx0bGFzdE1lc3NhZ2VTZW5kZXI/OiB7XG5cdFx0X2lkOiBzdHJpbmc7XG5cdFx0bmFtZTogc3RyaW5nO1xuXHRcdGF2YXRhcj86IHN0cmluZztcblx0fTtcblx0Ly8gTmV3IGZpZWxkc1xuXHR1bnJlYWRDb3VudD86IHsgW3VzZXJJZDogc3RyaW5nXTogbnVtYmVyIH07XG5cdHR5cGluZ1VzZXJzPzogQXJyYXk8e1xuXHRcdHVzZXJJZDogc3RyaW5nO1xuXHRcdHN0YXJ0ZWRBdDogc3RyaW5nO1xuXHR9Pjtcblx0YWRtaW5zPzogc3RyaW5nW107XG5cdGdyb3VwQXZhdGFyPzogc3RyaW5nO1xuXHRncm91cFNldHRpbmdzPzoge1xuXHRcdG9ubHlBZG1pbnNDYW5Qb3N0PzogYm9vbGVhbjtcblx0XHRhbGxvd01lbWJlckludml0ZXM/OiBib29sZWFuO1xuXHR9O1xuXHRwaW5uZWRNZXNzYWdlcz86IHN0cmluZ1tdO1xuXHRpbnZpdGVDb2RlPzogc3RyaW5nO1xuXHRpbnZpdGVDb2RlQ3JlYXRlZEF0Pzogc3RyaW5nO1xuXHRvcHBvbmVudD86IHtcblx0XHRfaWQ6IHN0cmluZztcblx0XHRuYW1lOiBzdHJpbmc7XG5cdFx0YXZhdGFyPzogc3RyaW5nO1xuXHR9O1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsbFJlY29yZCA9IHtcblx0X2lkOiBzdHJpbmc7XG5cdGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7XG5cdGluaXRpYXRvcklkOiBzdHJpbmc7XG5cdHBhcnRpY2lwYW50czogc3RyaW5nW107XG5cdHR5cGU6ICdhdWRpbycgfCAndmlkZW8nO1xuXHRjYWxsVHlwZTogJ3AycCcgfCAnc2Z1Jztcblx0c3RhdHVzOiBzdHJpbmc7XG5cdG1ldGFkYXRhPzoge1xuXHRcdHJvb21JZD86IHN0cmluZztcblx0XHRsaXZla2l0Um9vbU5hbWU/OiBzdHJpbmc7XG5cdH07XG5cdGxpdmVraXRSb29tTmFtZT86IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb252ZXJzYXRpb25zID0gYXN5bmMgKCkgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PENvbnZlcnNhdGlvbltdPignL2NvbnZlcnNhdGlvbnMnKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IHR5cGUgUmVhY3Rpb24gPSB7XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRlbW9qaTogc3RyaW5nO1xuXHRjcmVhdGVkQXQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFJlYWRSZWNlaXB0ID0ge1xuXHR1c2VySWQ6IHN0cmluZztcblx0cmVhZEF0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0ge1xuXHRfaWQ6IHN0cmluZztcblx0dGV4dD86IHN0cmluZztcbiAgdHlwZT86ICd0ZXh0JyB8ICdpbWFnZScgfCAnZmlsZSc7XG4gIGltYWdlVXJsPzogc3RyaW5nO1xuXHRjb252ZXJzYXRpb25JZDogc3RyaW5nO1xuXHRzZW5kZXJJZDogc3RyaW5nO1xuXHRjcmVhdGVkQXQ6IHN0cmluZztcblx0dXBkYXRlZEF0OiBzdHJpbmc7XG5cdF9fdj86IG51bWJlcjtcblx0Ly8gTmV3IGZpZWxkc1xuXHRyZXBseVRvPzogc3RyaW5nIHwgTWVzc2FnZTtcblx0cmVhY3Rpb25zPzogUmVhY3Rpb25bXTtcblx0aXNQaW5uZWQ/OiBib29sZWFuO1xuXHRpc1N0YXJyZWQ/OiBib29sZWFuO1xuXHRpc0VkaXRlZD86IGJvb2xlYW47XG5cdGRlbGV0ZWRBdD86IHN0cmluZyB8IG51bGw7XG5cdGlzUmV2b2tlZD86IGJvb2xlYW47XG5cdHJldm9rZWRBdD86IHN0cmluZyB8IG51bGw7XG5cdHJldm9rZWRCeT86IHN0cmluZyB8IG51bGw7XG5cdHJlYWRCeT86IFJlYWRSZWNlaXB0W107XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TWVzc2FnZXMgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PE1lc3NhZ2VbXT4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxNZXNzYWdlPihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vbWVzc2FnZXNgLCB7IHRleHQgfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCB0eXBlIENyZWF0ZU1lc3NhZ2VQYXlsb2FkID0ge1xuICB0ZXh0Pzogc3RyaW5nO1xuICB0eXBlPzogJ3RleHQnIHwgJ2ltYWdlJyB8ICdmaWxlJztcbiAgaW1hZ2VVcmw/OiBzdHJpbmc7XG4gIGZpbGU/OiB7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyBtaW1lPzogc3RyaW5nOyBzaXplPzogbnVtYmVyIH07XG4gIHJlcGx5VG8/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIHBheWxvYWQ6IENyZWF0ZU1lc3NhZ2VQYXlsb2FkKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PE1lc3NhZ2U+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9tZXNzYWdlc2AsIHBheWxvYWQpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29udmVyc2F0aW9uID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxDb252ZXJzYXRpb24+KCcvY29udmVyc2F0aW9ucycsIHsgXG5cdFx0bWVtYmVyczogW3VzZXJJZF0sXG5cdFx0dGl0bGU6IHRpdGxlIHx8IGBDaGF0IHdpdGggJHt1c2VySWR9YFxuXHR9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gQ3JlYXRlIGEgZ3JvdXAgY29udmVyc2F0aW9uIHdpdGggbXVsdGlwbGUgbWVtYmVyIElEc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uID0gYXN5bmMgKG1lbWJlcklkczogc3RyaW5nW10sIHRpdGxlPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHVuaXF1ZSA9IEFycmF5LmZyb20obmV3IFNldChtZW1iZXJJZHMuZmlsdGVyKEJvb2xlYW4pKSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PENvbnZlcnNhdGlvbj4oJy9jb252ZXJzYXRpb25zJywge1xuICAgIG1lbWJlcnM6IHVuaXF1ZSxcbiAgICBpc0dyb3VwOiB0cnVlLFxuICAgIHRpdGxlOiB0aXRsZSB8fCBgR3JvdXAgKCR7dW5pcXVlLmxlbmd0aH0pYFxuICB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IHR5cGUgSW5pdGlhdGVDYWxsUmVzcG9uc2UgPSB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGNhbGw/OiB7XG5cdFx0aWQ6IHN0cmluZztcblx0XHRyb29tSWQ/OiBzdHJpbmc7XG5cdFx0bGl2ZWtpdFJvb21OYW1lPzogc3RyaW5nO1xuXHRcdGNhbGxUeXBlPzogJ3AycCcgfCAnc2Z1Jztcblx0XHRzdGF0dXM6IHN0cmluZztcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZUNhbGwgPSBhc3luYyAoXG5cdGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG5cdHR5cGU6ICdhdWRpbycgfCAndmlkZW8nLFxuXHR0YXJnZXRVc2VySWQ/OiBzdHJpbmdcbikgPT4ge1xuXHRjb25zdCBwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0geyBjb252ZXJzYXRpb25JZCwgdHlwZSB9O1xuXHRpZiAodGFyZ2V0VXNlcklkKSB7XG5cdFx0cGF5bG9hZC50YXJnZXRVc2VySWQgPSB0YXJnZXRVc2VySWQ7XG5cdH1cblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8SW5pdGlhdGVDYWxsUmVzcG9uc2U+KCcvY2FsbHMvaW5pdGlhdGUnLCBwYXlsb2FkKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxDYWxsUmVjb3JkPihgL2NhbGxzLyR7Y2FsbElkfWApO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGl2ZUtpdFRva2VuID0gYXN5bmMgKGNhbGxJZDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgc3VjY2VzczogYm9vbGVhbjsgdG9rZW46IHN0cmluZzsgcm9vbU5hbWU6IHN0cmluZzsgdXJsOiBzdHJpbmcgfT4oXG5cdFx0YC9jYWxscy8ke2NhbGxJZH0vbGl2ZWtpdC10b2tlbmBcblx0KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuZENhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkdXJhdGlvbj86IG51bWJlciB9PihgL2NhbGxzLyR7Y2FsbElkfS9lbmRgKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGFjY2VwdENhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBzdWNjZXNzOiBib29sZWFuIH0+KGAvY2FsbHMvJHtjYWxsSWR9L2FjY2VwdGApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVqZWN0Q2FsbCA9IGFzeW5jIChjYWxsSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4oYC9jYWxscy8ke2NhbGxJZH0vcmVqZWN0YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbi8vIFVQTE9BRCBJTUFHRSBMT0NBTCAtIENMSUVOVC1TRVJWRVIgKEhUVFAgUE9TVCBvdmVyIFRDUClcbi8vIE11bHRpcGFydCBGb3JtIERhdGFcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuLy8gVXBsb2FkIGltYWdlIHRvIGxvY2FsIHN0b3JhZ2UgZW5kcG9pbnQgKHVwZGF0ZWQgdG8gdXNlIGNvcnJlY3QgZW5kcG9pbnQpXG5leHBvcnQgY29uc3QgdXBsb2FkSW1hZ2VMb2NhbE9sZCA9IGFzeW5jIChmaWxlOiB7IHVyaTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgY29uc3Qgd2ViRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHdlYkZpbGUpO1xuICB9IGVsc2Uge1xuICAgIC8vIFJlYWN0IE5hdGl2ZVxuICAgIC8vIEB0cy1pZ25vcmUgUk4gRm9ybURhdGEgZmlsZVxuICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgeyB1cmk6IGZpbGUudXJpLCBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgfVxuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyBzaXplPzogbnVtYmVyOyBtaW1lPzogc3RyaW5nIH0+KGAvZmlsZXMvaW1hZ2VgLCBmb3JtLCB7XG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sXG4gIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBVcGxvYWQgdG8gUzMgaWYgYmFja2VuZCBwcm92aWRlcyBwcmVzaWduZWQgaGFuZGxpbmcgKG9wdGlvbmFsKVxuZXhwb3J0IGNvbnN0IHVwbG9hZEltYWdlUzMgPSBhc3luYyAoZmlsZTogeyB1cmk6IHN0cmluZzsgbmFtZTogc3RyaW5nOyB0eXBlOiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBmZXRjaChmaWxlLnVyaSkudGhlbigocikgPT4gci5ibG9iKCkpO1xuICAgIGNvbnN0IHdlYkZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB3ZWJGaWxlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBSZWFjdCBOYXRpdmVcbiAgICAvLyBAdHMtaWdub3JlIFJOIEZvcm1EYXRhIGZpbGVcbiAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHsgdXJpOiBmaWxlLnVyaSwgbmFtZTogZmlsZS5uYW1lLCB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gIH1cbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBrZXk6IHN0cmluZzsgcHJlc2lnbmVkVXJsOiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHNpemU/OiBudW1iZXI7IG1pbWU/OiBzdHJpbmcgfT4oYC9maWxlcy9zM2AsIGZvcm0sIHtcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFVwbG9hZCB0byBsb2NhbCBzdG9yYWdlXG5leHBvcnQgY29uc3QgdXBsb2FkSW1hZ2VMb2NhbCA9IGFzeW5jIChmaWxlOiB7IHVyaTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKGZpbGUudXJpKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgY29uc3Qgd2ViRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHdlYkZpbGUpO1xuICB9IGVsc2Uge1xuICAgIC8vIFJlYWN0IE5hdGl2ZVxuICAgIC8vIEB0cy1pZ25vcmUgUk4gRm9ybURhdGEgZmlsZVxuICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgeyB1cmk6IGZpbGUudXJpLCBuYW1lOiBmaWxlLm5hbWUsIHR5cGU6IGZpbGUudHlwZSB9KTtcbiAgfVxuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHVybDogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyBzaXplPzogbnVtYmVyOyBtaW1lPzogc3RyaW5nIH0+KGAvdXBsb2Fkcy9pbWFnZWAsIGZvcm0sIHtcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFVwbG9hZCBtZWRpYSBjaG8gbeG6oW5nIHjDoyBo4buZaSAo4bqjbmgvdmlkZW8pIC0gZMO5bmcgY2h1bmcgduG7m2kgZGVza3RvcFxuZXhwb3J0IGNvbnN0IHVwbG9hZE1lZGlhQXBpID0gYXN5bmMgKGZpbGU6IEZpbGUpOiBQcm9taXNlPFBvc3RNZWRpYT4gPT4ge1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcblxuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBtaW1lOiBzdHJpbmc7XG4gIH0+KCcvdXBsb2Fkcy9zMy9wdWJsaWMnLCBmb3JtRGF0YSwge1xuICAgIC8vIMSQ4buDIGJyb3dzZXIgdOG7sSBzZXQgQ29udGVudC1UeXBlICsgYm91bmRhcnlcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICB1cmw6IHJlcy5kYXRhLnVybCxcbiAgICB0eXBlOiByZXMuZGF0YS5taW1lLnN0YXJ0c1dpdGgoJ2ltYWdlLycpID8gJ2ltYWdlJyA6ICd2aWRlbycsXG4gIH07XG59O1xuXG4vLyBXZWIgaGVscGVyOiB1cGxvYWQgRmlsZSBvYmplY3QgZGlyZWN0bHkgKGNoYXQgYXR0YWNobWVudHMpXG5leHBvcnQgY29uc3QgdXBsb2FkQ2hhdEZpbGUgPSBhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvcm0uYXBwZW5kKCdmaWxlJywgZmlsZSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgdXJsOiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHNpemU/OiBudW1iZXI7IG1pbWU/OiBzdHJpbmcgfT4oXG4gICAgYC91cGxvYWRzL3MzL3B1YmxpY2AsXG4gICAgZm9ybSxcbiAgICB7XG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgICB9LFxuICApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL2xvZ291dCcsIHsgdG9rZW4gfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuLy8gUkVHSVNUUkFUSU9OICYgT1RQIEFVVEhFTlRJQ0FUSU9OXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcblxuZXhwb3J0IHR5cGUgUmVnaXN0ZXJSZXNwb25zZSA9IHtcblx0dXNlcjoge1xuXHRcdF9pZDogc3RyaW5nO1xuXHRcdG5hbWU/OiBzdHJpbmc7XG5cdFx0ZW1haWw6IHN0cmluZztcblx0XHRyb2xlPzogc3RyaW5nO1xuXHRcdHVzZXJuYW1lPzogc3RyaW5nO1xuXHRcdGlzRW1haWxWZXJpZmllZDogYm9vbGVhbjtcblx0XHRhdmF0YXI/OiBzdHJpbmc7XG5cdFx0Y3JlYXRlZEF0Pzogc3RyaW5nO1xuXHRcdHVwZGF0ZWRBdD86IHN0cmluZztcblx0fTtcblx0YWNjZXNzVG9rZW46IHN0cmluZztcblx0cmVmcmVzaFRva2VuOiBzdHJpbmc7XG5cdG1lc3NhZ2U/OiBzdHJpbmc7XG5cdG90cD86IFNlbmRPVFBSZXNwb25zZTtcbn07XG5cbmV4cG9ydCB0eXBlIFNlbmRPVFBSZXNwb25zZSA9IHtcblx0bWVzc2FnZTogc3RyaW5nO1xuXHRlbWFpbD86IHN0cmluZztcdFxuXHRleHBpcmVzQXQ/OiBzdHJpbmc7XG5cdGVtYWlsU2VudD86IGJvb2xlYW47XG5cdG90cENyZWF0ZWQ/OiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcblx0ZXJyb3JDb2RlPzogc3RyaW5nO1xuXHR3YXJuaW5nPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFZlcmlmeU9UUFJlc3BvbnNlID0ge1xuXHRhY2Nlc3NUb2tlbjogc3RyaW5nO1xuXHRyZWZyZXNoVG9rZW46IHN0cmluZztcblx0dXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmcgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBuYW1lPzogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PFJlZ2lzdGVyUmVzcG9uc2U+KCcvYXV0aC9yZWdpc3RlcicsIHsgZW1haWwsIHBhc3N3b3JkLCBuYW1lIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VuZE9UUCA9IGFzeW5jIChlbWFpbDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PFNlbmRPVFBSZXNwb25zZT4oJy9hdXRoL3NlbmQtb3RwJywgeyBlbWFpbCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHZlcmlmeU9UUCA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBvdHA6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxWZXJpZnlPVFBSZXNwb25zZT4oJy9hdXRoL3ZlcmlmeS1vdHAnLCB7IGVtYWlsLCBvdHAgfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNlbmRPVFAgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxTZW5kT1RQUmVzcG9uc2U+KCcvYXV0aC9yZXNlbmQtb3RwJywgeyBlbWFpbCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRWZXJpZmljYXRpb25PVFAgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxTZW5kT1RQUmVzcG9uc2U+KCcvYXV0aC9zZW5kLXZlcmlmaWNhdGlvbi1vdHAnLCB7IGVtYWlsIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbi8vIFVTRVIgUFJPRklMRSBNQU5BR0VNRU5UXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcblxuZXhwb3J0IHR5cGUgVXBkYXRlVXNlcm5hbWVSZXNwb25zZSA9IHtcblx0dXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmcgfTtcblx0bWVzc2FnZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJuYW1lID0gYXN5bmMgKHVzZXJuYW1lOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPFVwZGF0ZVVzZXJuYW1lUmVzcG9uc2U+KCcvdXNlcnMvdXNlcm5hbWUnLCB7IHVzZXJuYW1lIH0pO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgdHlwZSBVcGRhdGVBdmF0YXJSZXNwb25zZSA9IHtcblx0dXNlcjogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmc7IGF2YXRhcj86IHN0cmluZyB9O1xuXHRtZXNzYWdlOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckF2YXRhciA9IGFzeW5jIChhdmF0YXJVcmw6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvYXZhdGFyJywgeyBhdmF0YXI6IGF2YXRhclVybCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gQWx0ZXJuYXRpdmUgYXZhdGFyIHVwZGF0ZSBlbmRwb2ludHMgdG8gdHJ5XG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSBhc3luYyAoZGF0YTogeyBhdmF0YXI/OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmc7IHVzZXJuYW1lPzogc3RyaW5nIH0pID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPFVwZGF0ZUF2YXRhclJlc3BvbnNlPignL3VzZXJzL3Byb2ZpbGUnLCBkYXRhKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJJbmZvID0gYXN5bmMgKGF2YXRhclVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wdXQ8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvaW5mbycsIHsgYXZhdGFyOiBhdmF0YXJVcmwgfSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIEdldCBjdXJyZW50IHVzZXIgSUQg4oCTIHdlYiB2ZXJzaW9uIGTDuW5nIGxvY2FsU3RvcmFnZVxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRVc2VySWQgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcblx0XHRjb25zdCB1c2VySWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcblx0XHRyZXR1cm4gdXNlcklkO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBJRCBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn07XG4vLyBC4bqhbiBiw6ggY2hvIHRyYW5nIGPDoSBuaMOibiAvIGZyaWVuZHMgcGFnZVxuZXhwb3J0IGNvbnN0IGdldEZyaWVuZHMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8eyBmcmllbmRJZHM6IHN0cmluZ1tdOyB0b3RhbDogbnVtYmVyIH0+KFwiL3NvY2lhbC9mcmllbmRzXCIpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBGZWVkIGLDoGkgdmnhur90IGPhu6dhIDEgdXNlciAodHJhbmcgcHJvZmlsZSlcbmV4cG9ydCBjb25zdCBnZXRVc2VyUG9zdHNBcGkgPSBhc3luYyAoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBjdXJzb3I/OiBzdHJpbmcsXG4gIGxpbWl0OiBudW1iZXIgPSAyMFxuKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0geyBsaW1pdCB9O1xuICBpZiAoY3Vyc29yKSBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8RmVlZFJlc3BvbnNlPihgL3NvY2lhbC91c2Vycy8ke3VzZXJJZH0vcG9zdHNgLCB7IHBhcmFtcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcbi8vIEFuYWx5dGljcyAoY2hvIHVzZUFuYWx5dGljcylcbmV4cG9ydCB0eXBlIEFuYWx5dGljc0V2ZW50VHlwZSA9XG4gIHwgXCJTVE9SWV9WSUVXXCJcbiAgfCBcIlNUT1JZX1JFQUNUSU9OXCJcbiAgfCBcIlNUT1JZX1JFUExZXCJcbiAgfCBcIlBPU1RfUkVBQ1RJT05cIlxuICB8IFwiUE9TVF9TQVZFXCJcbiAgfCBcIlBPU1RfUkVQT1JUXCJcbiAgfCBcIlNFQVJDSF9RVUVSWVwiXG4gIHwgXCJGUklFTkRfU1VHR0VTVElPTl9DTElDS1wiXG4gIHwgXCJGUklFTkRfUkVRVUVTVF9TRU5UXCJcbiAgfCBcIkZSSUVORF9SRVFVRVNUX0FDQ0VQVEVEXCJcbiAgfCBcIlBPU1RfQ1JFQVRFXCJcbiAgfCBcIlNUT1JZX0NSRUFURVwiXG4gIHwgXCJDT01NRU5UX0NSRUFURVwiO1xuXG5leHBvcnQgY29uc3QgdHJhY2tFdmVudEFwaSA9IGFzeW5jIChcbiAgZXZlbnRUeXBlOiBBbmFseXRpY3NFdmVudFR5cGUsXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PixcbiAgc2Vzc2lvbklkPzogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBhcGkucG9zdChcIi9hbmFseXRpY3MvdHJhY2tcIiwgeyBldmVudFR5cGUsIG1ldGFkYXRhLCBzZXNzaW9uSWQgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltBbmFseXRpY3NdIEZhaWxlZCB0byB0cmFjayBldmVudDpcIiwgZXJyb3IpO1xuICB9XG59O1xuXG4vLyBVcGRhdGUgYXZhdGFyIHdpdGggdXNlciBJRFxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJBdmF0YXJXaXRoSWQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGF2YXRhclVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaDxVcGRhdGVBdmF0YXJSZXNwb25zZT4oYC91c2Vycy8ke3VzZXJJZH0vYXZhdGFyYCwgeyBhdmF0YXI6IGF2YXRhclVybCB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gVXBkYXRlIHByb2ZpbGUgd2l0aCB1c2VyIElEXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGVXaXRoSWQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGRhdGE6IHsgYXZhdGFyPzogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyB1c2VybmFtZT86IHN0cmluZyB9KSA9PiB7XG5cdGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wYXRjaDxVcGRhdGVBdmF0YXJSZXNwb25zZT4oYC91c2Vycy8ke3VzZXJJZH0vcHJvZmlsZWAsIGRhdGEpO1xuXHRyZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBDaGFuZ2UgUGFzc3dvcmRcbmV4cG9ydCB0eXBlIENoYW5nZVBhc3N3b3JkUmVzcG9uc2UgPSB7XG5cdG1lc3NhZ2U6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBjaGFuZ2VQYXNzd29yZCA9IGFzeW5jIChjdXJyZW50UGFzc3dvcmQ6IHN0cmluZywgbmV3UGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxDaGFuZ2VQYXNzd29yZFJlc3BvbnNlPignL2F1dGgvY2hhbmdlLXBhc3N3b3JkJywge1xuXHRcdGN1cnJlbnRQYXNzd29yZCxcblx0XHRuZXdQYXNzd29yZCxcblx0fSk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFVwZGF0ZSBjdXJyZW50IHVzZXIgcHJvZmlsZSAodGhlIGNvcnJlY3Qgd2F5IGFjY29yZGluZyB0byBiYWNrZW5kIGRvY3MpXG5leHBvcnQgY29uc3QgdXBkYXRlQ3VycmVudFVzZXJQcm9maWxlID0gYXN5bmMgKGRhdGE6IHsgYXZhdGFyPzogc3RyaW5nOyBuYW1lPzogc3RyaW5nOyB1c2VybmFtZT86IHN0cmluZyB9KSA9PiB7XG5cdGNvbnNvbGUubG9nKCfwn5SNIHVwZGF0ZUN1cnJlbnRVc2VyUHJvZmlsZSAtIHJlcXVlc3QgZGF0YTonLCBkYXRhKTtcblx0Y29uc29sZS5sb2coJ/CflI0gdXBkYXRlQ3VycmVudFVzZXJQcm9maWxlIC0gbWV0aG9kOiBQQVRDSCcpO1xuXHRjb25zb2xlLmxvZygn8J+UjSB1cGRhdGVDdXJyZW50VXNlclByb2ZpbGUgLSBhdXRoIGhlYWRlcjonLCBhcGkuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSk7XG5cdFxuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvbWUnLCBkYXRhKTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gR2V0IGN1cnJlbnQgdXNlciBwcm9maWxlXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXJQcm9maWxlID0gYXN5bmMgKCkgPT4ge1xuXHRjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PFVwZGF0ZUF2YXRhclJlc3BvbnNlPignL3VzZXJzL21lJyk7XG5cdHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIEPDoWNoIDE6IFVwbG9hZCBhdmF0YXIgdHLhu7FjIHRp4bq/cCAoxJHGoW4gZ2nhuqNuIG5o4bqldClcbmV4cG9ydCBjb25zdCB1cGxvYWRBdmF0YXJEaXJlY3QgPSBhc3luYyAoZmlsZTogeyB1cmk6IHN0cmluZzsgbmFtZTogc3RyaW5nOyB0eXBlOiBzdHJpbmcgfSkgPT4ge1xuXHRjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGNvbnN0IGJsb2IgPSBhd2FpdCBmZXRjaChmaWxlLnVyaSkudGhlbigocikgPT4gci5ibG9iKCkpO1xuXHRcdGNvbnN0IHdlYkZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG5cdFx0Zm9ybS5hcHBlbmQoJ2F2YXRhcicsIHdlYkZpbGUpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFJlYWN0IE5hdGl2ZVxuXHRcdC8vIEB0cy1pZ25vcmUgUk4gRm9ybURhdGEgZmlsZVxuXHRcdGZvcm0uYXBwZW5kKCdhdmF0YXInLCB7IHVyaTogZmlsZS51cmksIG5hbWU6IGZpbGUubmFtZSwgdHlwZTogZmlsZS50eXBlIH0pO1xuXHR9XG5cdFxuXHRjb25zb2xlLmxvZygn8J+UjSB1cGxvYWRBdmF0YXJEaXJlY3QgLSBzZW5kaW5nIGZpbGU6JywgZmlsZS5uYW1lKTtcblx0Y29uc29sZS5sb2coJ/CflI0gdXBsb2FkQXZhdGFyRGlyZWN0IC0gYXV0aCBoZWFkZXI6JywgYXBpLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10pO1xuXHRcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8VXBkYXRlQXZhdGFyUmVzcG9uc2U+KCcvdXNlcnMvYXZhdGFyJywgZm9ybSwge1xuXHRcdGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9LFxuXHR9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gPT09PT0gVXNlciBoZWxwZXJzIHVzZWQgYnkgY2hhdCBzaWRlIHBhbmVsID09PT09XG5leHBvcnQgdHlwZSBVc2VyUHJvZmlsZSA9IHtcblx0X2lkOiBzdHJpbmc7XG5cdG5hbWU/OiBzdHJpbmc7XG5cdGVtYWlsPzogc3RyaW5nO1xuXHR1c2VybmFtZT86IHN0cmluZztcblx0YXZhdGFyPzogc3RyaW5nO1xuXHRvbmxpbmVTdGF0dXM/OiBzdHJpbmc7XG5cdGxhc3RTZWVuPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVzZXJzQnlJZHMgPSBhc3luYyAodXNlcklkczogc3RyaW5nW10pID0+IHtcblx0Y29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyB1c2VyczogVXNlclByb2ZpbGVbXSB9PihgL3VzZXJzL2J5LWlkc2AsIHsgdXNlcklkcyB9KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gVMOsbSBraeG6v20gdXNlcnNcbmV4cG9ydCB0eXBlIFNlYXJjaFVzZXJzUmVzcG9uc2UgPSB7XG4gIHVzZXJzOiBBcnJheTx7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICB9PjtcbiAgcGFnaW5hdGlvbjoge1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgICBsaW1pdDogbnVtYmVyO1xuICAgIHRvdGFsOiBudW1iZXI7XG4gICAgdG90YWxQYWdlczogbnVtYmVyO1xuICAgIGhhc05leHQ6IGJvb2xlYW47XG4gICAgaGFzUHJldjogYm9vbGVhbjtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hVc2VycyA9IGFzeW5jIChxdWVyeTogc3RyaW5nLCBwYWdlOiBudW1iZXIgPSAxLCBsaW1pdDogbnVtYmVyID0gMjApID0+IHtcbiAgY29uc29sZS5sb2coJ/CflI0gc2VhcmNoVXNlcnMgY2FsbGVkIHdpdGg6JywgeyBxdWVyeSwgcGFnZSwgbGltaXQgfSk7XG4gIGNvbnNvbGUubG9nKCfwn5SNIEFQSSBiYXNlIFVSTDonLCBhcGkuZGVmYXVsdHMuYmFzZVVSTCk7XG4gIGNvbnNvbGUubG9nKCfwn5SNIEF1dGggaGVhZGVyOicsIGFwaS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddKTtcbiAgXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8U2VhcmNoVXNlcnNSZXNwb25zZT4oJy91c2Vycy9zZWFyY2gnLCB7XG4gICAgcGFyYW1zOiB7IHE6IHF1ZXJ5LCBwYWdlLCBsaW1pdCB9XG4gIH0pO1xuICBcbiAgY29uc29sZS5sb2coJ/CflI0gc2VhcmNoVXNlcnMgcmVzcG9uc2U6JywgcmVzLmRhdGEpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBU4bqhbyBjb252ZXJzYXRpb24gduG7m2kgdXNlclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnZlcnNhdGlvbldpdGhVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PENvbnZlcnNhdGlvbj4oJy9jb252ZXJzYXRpb25zJywge1xuICAgIG1lbWJlcnM6IFt1c2VySWRdXG4gIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBM4bqleSB0aMO0bmcgdGluIG5nxrDhu51pIMSR4buRaSBkaeG7h24gdHJvbmcgY3Xhu5ljIHRyw7IgY2h1eeG7h25cbmV4cG9ydCB0eXBlIE9wcG9uZW50SW5mb1Jlc3BvbnNlID0ge1xuICB1c2VyOiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB9O1xuICBzdGF0dXM6IHtcbiAgICBpc09ubGluZTogYm9vbGVhbjtcbiAgICBsYXN0QWN0aXZlOiBzdHJpbmc7XG4gICAgbGFzdEFjdGl2ZVRleHQ6IHN0cmluZztcbiAgfTtcbiAgY29udmVyc2F0aW9uOiB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgaXNHcm91cDogYm9vbGVhbjtcbiAgICB0aXRsZT86IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgfTtcbiAgZW5jcnlwdGlvbjoge1xuICAgIGlzRW5kVG9FbmRFbmNyeXB0ZWQ6IGJvb2xlYW47XG4gICAgZW5jcnlwdGlvblN0YXR1czogc3RyaW5nO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9wcG9uZW50SW5mbyA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8T3Bwb25lbnRJbmZvUmVzcG9uc2U+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9vcHBvbmVudGApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBNZXNzYWdlIEFjdGlvbnMgQVBJXG5leHBvcnQgY29uc3QgZWRpdE1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHsgdGV4dCB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTx7IG1lc3NhZ2U6IHN0cmluZyB9PihgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRSZWFjdGlvbiA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxNZXNzYWdlPihgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9L3JlYWN0aW9uc2AsIHsgZW1vamkgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVSZWFjdGlvbiA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPE1lc3NhZ2U+KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcmVhY3Rpb25zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtb2ppKX1gKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHBpbk1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9waW5gKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVucGluTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPE1lc3NhZ2U+KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vcGluYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGFyTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxNZXNzYWdlPihgL2NvbnZlcnNhdGlvbnMvbWVzc2FnZXMvJHttZXNzYWdlSWR9L3N0YXJgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gUmV2b2tlIG1lc3NhZ2UgZm9yIGV2ZXJ5b25lXG5leHBvcnQgY29uc3QgcmV2b2tlTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucGF0Y2g8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zL21lc3NhZ2VzLyR7bWVzc2FnZUlkfS9yZXZva2VgLCB7fSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hNZXNzYWdlcyA9IGFzeW5jIChxdWVyeTogc3RyaW5nLCBjb252ZXJzYXRpb25JZD86IHN0cmluZykgPT4ge1xuICBjb25zdCBwYXJhbXM6IGFueSA9IHsgcXVlcnkgfTtcbiAgaWYgKGNvbnZlcnNhdGlvbklkKSB7XG4gICAgcGFyYW1zLmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQ7XG4gIH1cbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxNZXNzYWdlW10+KGAvY29udmVyc2F0aW9ucy9tZXNzYWdlcy9zZWFyY2hgLCB7IHBhcmFtcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hcmtBc1JlYWQgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgbWVzc2FnZUlkPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgc3VjY2VzczogYm9vbGVhbiB9PihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vcmVhZGAsIHsgbWVzc2FnZUlkIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyBHcm91cCBNYW5hZ2VtZW50IEFQSVxuZXhwb3J0IGNvbnN0IGFkZE1lbWJlcnMgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgdXNlcklkczogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8Q29udmVyc2F0aW9uPihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vbWVtYmVyc2AsIHsgdXNlcklkcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZU1lbWJlciA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPENvbnZlcnNhdGlvbj4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lbWJlcnMvJHt1c2VySWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVHcm91cEluZm8gPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgZGF0YTogeyB0aXRsZT86IHN0cmluZzsgYXZhdGFyPzogc3RyaW5nIH0pID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPENvbnZlcnNhdGlvbj4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9YCwgZGF0YSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCB0eXBlIEludml0ZUxpbmtSZXNwb25zZSA9IHtcbiAgaW52aXRlQ29kZTogc3RyaW5nO1xuICBzaGFyZVVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUludml0ZUxpbmsgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxJbnZpdGVMaW5rUmVzcG9uc2U+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9pbnZpdGVgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGpvaW5Db252ZXJzYXRpb25CeUludml0ZSA9IGFzeW5jIChpbnZpdGVDb2RlOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBjb252ZXJzYXRpb246IENvbnZlcnNhdGlvbiB9PihgL2NvbnZlcnNhdGlvbnMvam9pbi9pbnZpdGVgLCB7IGludml0ZUNvZGUgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYWtlQWRtaW4gPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8Q29udmVyc2F0aW9uPihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vYWRtaW5zLyR7dXNlcklkfWApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlQWRtaW4gPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmRlbGV0ZTxDb252ZXJzYXRpb24+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9hZG1pbnMvJHt1c2VySWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIGFsaWFzZXMgZm9yIGRlc2t0b3AgY29kZVxuZXhwb3J0IGNvbnN0IGFkZEdyb3VwTWVtYmVycyA9IGFkZE1lbWJlcnM7XG5leHBvcnQgY29uc3QgcmVtb3ZlR3JvdXBNZW1iZXIgPSByZW1vdmVNZW1iZXI7XG5leHBvcnQgY29uc3QgbWFrZUdyb3VwQWRtaW4gPSBtYWtlQWRtaW47XG5leHBvcnQgY29uc3QgcmVtb3ZlR3JvdXBBZG1pbiA9IHJlbW92ZUFkbWluO1xuXG5leHBvcnQgY29uc3QgbGVhdmVHcm91cCA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+KGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9sZWF2ZWApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VW5yZWFkQ291bnQgPSBhc3luYyAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PHsgdW5yZWFkQ291bnQ6IG51bWJlciB9PihgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vdW5yZWFkYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIE9ubGluZSBTdGF0dXMgQVBJXG5leHBvcnQgY29uc3QgdXBkYXRlT25saW5lU3RhdHVzID0gYXN5bmMgKHN0YXR1czogXCJvbmxpbmVcIiB8IFwib2ZmbGluZVwiIHwgXCJhd2F5XCIpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBhdGNoPHsgdXNlcjogYW55OyBzdGF0dXM6IHN0cmluZzsgbGFzdFNlZW4/OiBEYXRlIH0+KGAvdXNlcnMvbWUvc3RhdHVzYCwgeyBzdGF0dXMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPbmxpbmVVc2VycyA9IGFzeW5jICh1c2VySWRzOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IHN0YXR1c01hcDogeyBbdXNlcklkOiBzdHJpbmddOiB7IG9ubGluZVN0YXR1czogc3RyaW5nOyBsYXN0U2Vlbj86IERhdGUgfSB9IH0+KGAvdXNlcnMvb25saW5lLXN0YXR1c2AsIHsgdXNlcklkcyB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gVXBkYXRlIGNyZWF0ZU1lc3NhZ2UgdG8gc3VwcG9ydCByZXBseVRvXG5leHBvcnQgY29uc3QgY3JlYXRlTWVzc2FnZVdpdGhSZXBseSA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHJlcGx5VG8/OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8TWVzc2FnZT4oYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYCwgeyB0ZXh0LCByZXBseVRvIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuLy8gPT09PT0gU29jaWFsIChGZWVkKSBBUElzID09PT09XG5leHBvcnQgdHlwZSBSZWFjdGlvblR5cGUgPSBcIkxJS0VcIiB8IFwiTE9WRVwiIHwgXCJIQUhBXCIgfCBcIldPV1wiIHwgXCJTQURcIiB8IFwiQU5HUllcIjtcblxuZXhwb3J0IHR5cGUgUG9zdE1lZGlhID0ge1xuICB1cmw6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgUG9zdCA9IHtcbiAgX2lkOiBzdHJpbmc7XG4gIGF1dGhvcklkOiBzdHJpbmc7XG4gIGF1dGhvcj86IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICB9O1xuICBjb250ZW50OiBzdHJpbmc7XG4gIG1lZGlhPzogUG9zdE1lZGlhW107XG4gIHZpc2liaWxpdHk6IFwiUFVCTElDXCIgfCBcIkZSSUVORFNcIjtcbiAgbGlrZUNvdW50OiBudW1iZXI7XG4gIGNvbW1lbnRDb3VudDogbnVtYmVyO1xuICByZWFjdGlvbkNvdW50cz86IFBhcnRpYWw8UmVjb3JkPFJlYWN0aW9uVHlwZSwgbnVtYmVyPj47XG4gIGN1cnJlbnRVc2VyUmVhY3Rpb24/OiBSZWFjdGlvblR5cGUgfCBudWxsO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTdG9yeU1lZGlhID0ge1xuICB1cmw6IHN0cmluZztcbiAgdHlwZTogXCJpbWFnZVwiIHwgXCJ2aWRlb1wiO1xuICB0aHVtYm5haWw/OiBzdHJpbmc7XG4gIGR1cmF0aW9uTXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBTdG9yeUF1dGhvckdyb3VwID0ge1xuICBhdXRob3JJZDogc3RyaW5nO1xuICBhdXRob3I6IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICB9O1xuICBzdG9yaWVzOiBBcnJheTx7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbWVkaWE6IFN0b3J5TWVkaWFbXTtcbiAgICBjYXB0aW9uPzogc3RyaW5nO1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICAgIGV4cGlyZXNBdDogc3RyaW5nO1xuICAgIGlzU2Vlbj86IGJvb2xlYW47XG4gIH0+O1xufTtcblxuZXhwb3J0IHR5cGUgRmVlZFJlc3BvbnNlID0ge1xuICBpdGVtczogUG9zdFtdO1xuICBuZXh0Q3Vyc29yPzogc3RyaW5nIHwgbnVsbDtcbiAgaGFzTmV4dDogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIENvbW1lbnQgPSB7XG4gIF9pZDogc3RyaW5nO1xuICBwb3N0SWQ6IHN0cmluZztcbiAgYXV0aG9ySWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG4gIGF1dGhvcj86IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgQ29tbWVudHNSZXNwb25zZSA9IHtcbiAgaXRlbXM6IENvbW1lbnRbXTtcbiAgbmV4dEN1cnNvcj86IHN0cmluZyB8IG51bGw7XG4gIGhhc05leHQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBGcmllbmRTdWdnZXN0aW9uID0ge1xuICB1c2VyOiBVc2VyUHJvZmlsZSAmIHsgbmFtZTogc3RyaW5nIH07XG4gIG11dHVhbENvdW50OiBudW1iZXI7XG4gIG11dHVhbEZyaWVuZHM6IEFycmF5PHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICB9Pjtcbn07XG5cbmV4cG9ydCB0eXBlIE5vdGlmaWNhdGlvbnNSZXNwb25zZSA9IHtcbiAgaXRlbXM6IEFycmF5PHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICAgIGlzUmVhZDogYm9vbGVhbjtcbiAgICBkYXRhPzogYW55O1xuICB9PjtcbiAgbmV4dEN1cnNvcj86IHN0cmluZyB8IG51bGw7XG4gIGhhc05leHQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBTYXZlZFBvc3QgPSB7XG4gIF9pZDogc3RyaW5nO1xuICBwb3N0OiBQb3N0O1xuICBzYXZlZEF0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTb2NpYWxTZWFyY2hVc2VyID0ge1xuICBfaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBhdmF0YXI/OiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICB1c2VybmFtZT86IHN0cmluZztcbiAgc3RhdHVzTWVzc2FnZT86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFNlYXJjaFJlc3BvbnNlID0ge1xuICBwb3N0czogUG9zdFtdO1xuICB1c2VyczogU29jaWFsU2VhcmNoVXNlcltdO1xufTtcblxuZXhwb3J0IHR5cGUgU3RvcnlSZXNwb25zZSA9IHtcbiAgaXRlbXM6IFN0b3J5QXV0aG9yR3JvdXBbXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGZWVkID0gYXN5bmMgKGN1cnNvcj86IHN0cmluZykgPT4ge1xuICBjb25zdCBwYXJhbXM6IGFueSA9IHt9O1xuICBpZiAoY3Vyc29yKSBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PEZlZWRSZXNwb25zZT4oXCIvc29jaWFsL3Bvc3RzL2ZlZWRcIiwgeyBwYXJhbXMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQb3N0QXBpID0gYXN5bmMgKHBheWxvYWQ6IHtcbiAgY29udGVudDogc3RyaW5nO1xuICBtZWRpYT86IFBvc3RNZWRpYVtdO1xuICB2aXNpYmlsaXR5PzogXCJQVUJMSUNcIiB8IFwiRlJJRU5EU1wiO1xufSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxQb3N0PihcIi9zb2NpYWwvcG9zdHNcIiwgcGF5bG9hZCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb21tZW50QXBpID0gYXN5bmMgKHBvc3RJZDogc3RyaW5nLCBwYXlsb2FkOiB7IGNvbnRlbnQ6IHN0cmluZzsgcGFyZW50SWQ/OiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxDb21tZW50PihgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vY29tbWVudHNgLCBwYXlsb2FkKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBvc3RDb21tZW50cyA9IGFzeW5jIChwb3N0SWQ6IHN0cmluZywgY3Vyc29yPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0ge307XG4gIGlmIChjdXJzb3IpIHBhcmFtcy5jdXJzb3IgPSBjdXJzb3I7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8Q29tbWVudHNSZXNwb25zZT4oYC9zb2NpYWwvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRzYCwgeyBwYXJhbXMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdG9yeUFwaSA9IGFzeW5jIChwYXlsb2FkOiB7XG4gIG1lZGlhOiBTdG9yeU1lZGlhW107XG4gIGNhcHRpb24/OiBzdHJpbmc7XG4gIHZpc2liaWxpdHk/OiBcIkZSSUVORFNcIiB8IFwiUFVCTElDXCI7XG59KSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0KFwiL3NvY2lhbC9zdG9yaWVzXCIsIHBheWxvYWQpO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3Rvcmllc0FwaSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDxTdG9yeVJlc3BvbnNlPihcIi9zb2NpYWwvc3Rvcmllc1wiKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hcmtTdG9yeVZpZXdlZEFwaSA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3Q8eyBvazogYm9vbGVhbiB9PihgL3NvY2lhbC9zdG9yaWVzLyR7c3RvcnlJZH0vdmlld2AsIHt9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVN0b3J5QXBpID0gYXN5bmMgKHN0b3J5SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPHsgb2s6IGJvb2xlYW4gfT4oYC9zb2NpYWwvc3Rvcmllcy8ke3N0b3J5SWR9YCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlUG9zdEFwaSA9IGFzeW5jIChwb3N0SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IG9rOiBib29sZWFuIH0+KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9zYXZlYCwge30pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgdW5zYXZlUG9zdEFwaSA9IGFzeW5jIChwb3N0SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPHsgb2s6IGJvb2xlYW4gfT4oYC9zb2NpYWwvcG9zdHMvJHtwb3N0SWR9L3NhdmVgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNhdmVkUG9zdHNBcGkgPSBhc3luYyAoY3Vyc29yPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0ge307XG4gIGlmIChjdXJzb3IpIHBhcmFtcy5jdXJzb3IgPSBjdXJzb3I7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXQ8eyBpdGVtczogU2F2ZWRQb3N0W107IG5leHRDdXJzb3I/OiBzdHJpbmcgfCBudWxsOyBoYXNOZXh0OiBib29sZWFuIH0+KFxuICAgIFwiL3NvY2lhbC9wb3N0cy9zYXZlZFwiLFxuICAgIHsgcGFyYW1zIH1cbiAgKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlcG9ydFBvc3RBcGkgPSBhc3luYyAocG9zdElkOiBzdHJpbmcsIHBheWxvYWQ6IHsgcmVhc29uOiBzdHJpbmc7IGRldGFpbHM/OiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IG9rOiBib29sZWFuIH0+KGAvc29jaWFsL3Bvc3RzLyR7cG9zdElkfS9yZXBvcnRgLCBwYXlsb2FkKTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZyaWVuZFN1Z2dlc3Rpb25zQXBpID0gYXN5bmMgKGxpbWl0ID0gNikgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PHsgc3VnZ2VzdGlvbnM6IEZyaWVuZFN1Z2dlc3Rpb25bXSB9PihcIi9zb2NpYWwvZnJpZW5kcy9zdWdnZXN0aW9uc1wiLCB7XG4gICAgcGFyYW1zOiB7IGxpbWl0IH0sXG4gIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VuZEZyaWVuZFJlcXVlc3RBcGkgPSBhc3luYyAodGFyZ2V0VXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnBvc3QoXCIvc29jaWFsL2ZyaWVuZHMvcmVxdWVzdHNcIiwgeyB0YXJnZXRVc2VySWQgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROb3RpZmljYXRpb25zQXBpID0gYXN5bmMgKGN1cnNvcj86IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDIwKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0geyBsaW1pdCB9O1xuICBpZiAoY3Vyc29yKSBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PE5vdGlmaWNhdGlvbnNSZXNwb25zZT4oXCIvc29jaWFsL25vdGlmaWNhdGlvbnNcIiwgeyBwYXJhbXMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXJrTm90aWZpY2F0aW9uc1JlYWRBcGkgPSBhc3luYyAoaWRzOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDx7IG9rOiBib29sZWFuIH0+KFwiL3NvY2lhbC9ub3RpZmljYXRpb25zL3JlYWRcIiwgeyBpZHMgfSk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlJZCA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PFVzZXJQcm9maWxlPihgL3VzZXJzLyR7dXNlcklkfWApO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VhcmNoU29jaWFsQXBpID0gYXN5bmMgKFxuICBxdWVyeU9yUGFyYW1zOiBzdHJpbmcgfCB7IHE6IHN0cmluZzsgdHlwZT86IFwiYWxsXCIgfCBcInVzZXJzXCIgfCBcInBvc3RzXCIgfVxuKSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9XG4gICAgdHlwZW9mIHF1ZXJ5T3JQYXJhbXMgPT09IFwic3RyaW5nXCJcbiAgICAgID8geyBxOiBxdWVyeU9yUGFyYW1zIH1cbiAgICAgIDogeyBxOiBxdWVyeU9yUGFyYW1zLnEsIHR5cGU6IHF1ZXJ5T3JQYXJhbXMudHlwZSB9O1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PFNlYXJjaFJlc3BvbnNlPihcIi9zb2NpYWwvc2VhcmNoXCIsIHsgcGFyYW1zIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tQb3N0TGlrZWRBcGkgPSBhc3luYyAocG9zdElkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldDx7IGxpa2VkOiBib29sZWFuOyB0eXBlPzogUmVhY3Rpb25UeXBlIHwgbnVsbCB9PihcbiAgICBgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vbGlrZWRgXG4gICk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWFjdFRvUG9zdEFwaSA9IGFzeW5jIChwb3N0SWQ6IHN0cmluZywgdHlwZTogUmVhY3Rpb25UeXBlKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgb2s6IGJvb2xlYW4gfT4oYC9zb2NpYWwvcG9zdHMvJHtwb3N0SWR9L3JlYWN0aW9uc2AsIHsgdHlwZSB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZVJlYWN0aW9uQXBpID0gYXN5bmMgKHBvc3RJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5kZWxldGU8eyBvazogYm9vbGVhbiB9PihgL3NvY2lhbC9wb3N0cy8ke3Bvc3RJZH0vcmVhY3Rpb25zYCk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbi8vIFN0b3J5IE11c2ljIFR5cGVzXG5leHBvcnQgdHlwZSBTdG9yeU11c2ljID0ge1xuICB0aXRsZTogc3RyaW5nO1xuICBhcnRpc3Q6IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xuICB0aHVtYm5haWw/OiBzdHJpbmc7XG4gIGR1cmF0aW9uTXM/OiBudW1iZXI7XG4gIHNvdXJjZT86IFwieW91dHViZVwiIHwgXCJzcG90aWZ5XCIgfCBcImN1c3RvbVwiIHwgXCJpdHVuZXNcIjtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBTdGFydCB0aW1lIGluIHNlY29uZHMgZm9yIDMwcyBzZWdtZW50XG4gIGVuZFRpbWU/OiBudW1iZXI7IC8vIEVuZCB0aW1lIGluIHNlY29uZHMgZm9yIDMwcyBzZWdtZW50XG59O1xuXG5leHBvcnQgdHlwZSBpVHVuZXNUcmFjayA9IHtcbiAgdHJhY2tJZDogbnVtYmVyO1xuICB0cmFja05hbWU6IHN0cmluZztcbiAgYXJ0aXN0TmFtZTogc3RyaW5nO1xuICBwcmV2aWV3VXJsPzogc3RyaW5nO1xuICBhcnR3b3JrVXJsMTAwPzogc3RyaW5nO1xuICBhcnR3b3JrVXJsNjA/OiBzdHJpbmc7XG4gIGNvbGxlY3Rpb25OYW1lPzogc3RyaW5nO1xuICB0cmFja1RpbWVNaWxsaXM/OiBudW1iZXI7XG59O1xuXG4vLyBTdG9yeSBSZWFjdGlvbnMgJiBSZXBsaWVzXG5leHBvcnQgY29uc3QgcmVhY3RUb1N0b3J5QXBpID0gYXN5bmMgKHN0b3J5SWQ6IHN0cmluZywgdHlwZTogUmVhY3Rpb25UeXBlKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5wb3N0PHsgcmVhY3Rpb246IFJlYWN0aW9uVHlwZSB8IG51bGw7IHJlYWN0aW9uQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IH0+KFxuICAgIGAvc29jaWFsL3N0b3JpZXMvJHtzdG9yeUlkfS9yZWFjdGlvbnNgLFxuICAgIHsgdHlwZSB9XG4gICk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVTdG9yeVJlYWN0aW9uQXBpID0gYXN5bmMgKHN0b3J5SWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZGVsZXRlPHsgcmVhY3Rpb246IG51bGw7IHJlYWN0aW9uQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IH0+KFxuICAgIGAvc29jaWFsL3N0b3JpZXMvJHtzdG9yeUlkfS9yZWFjdGlvbnNgXG4gICk7XG4gIHJldHVybiByZXMuZGF0YTtcbn07XG5cbmV4cG9ydCB0eXBlIFN0b3J5UmVwbHkgPSB7XG4gIF9pZDogc3RyaW5nO1xuICBzdG9yeUlkOiBzdHJpbmc7XG4gIGF1dGhvcklkOiBzdHJpbmc7XG4gIGF1dGhvcj86IHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICB9O1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFN0b3J5UmVwbGllc1Jlc3BvbnNlID0ge1xuICBsaW1pdDogbnVtYmVyO1xuICBoYXNOZXh0OiBib29sZWFuO1xuICBuZXh0Q3Vyc29yOiBzdHJpbmcgfCBudWxsO1xuICBpdGVtczogU3RvcnlSZXBseVtdO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFN0b3J5UmVwbGllc0FwaSA9IGFzeW5jIChcbiAgc3RvcnlJZDogc3RyaW5nLFxuICBjdXJzb3I/OiBzdHJpbmcsXG4gIGxpbWl0OiBudW1iZXIgPSAyMFxuKSA9PiB7XG4gIGNvbnN0IHBhcmFtczogYW55ID0geyBsaW1pdCB9O1xuICBpZiAoY3Vyc29yKSBwYXJhbXMuY3Vyc29yID0gY3Vyc29yO1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkuZ2V0PFN0b3J5UmVwbGllc1Jlc3BvbnNlPihgL3NvY2lhbC9zdG9yaWVzLyR7c3RvcnlJZH0vcmVwbGllc2AsIHtcbiAgICBwYXJhbXMsXG4gIH0pO1xuICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3RvcnlSZXBseUFwaSA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdDxTdG9yeVJlcGx5PihgL3NvY2lhbC9zdG9yaWVzLyR7c3RvcnlJZH0vcmVwbGllc2AsIHsgY29udGVudCB9KTtcbiAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gTXVzaWMgU2VhcmNoXG5leHBvcnQgY29uc3Qgc2VhcmNoTXVzaWNBcGkgPSBhc3luYyAocXVlcnk6IHN0cmluZyk6IFByb21pc2U8aVR1bmVzVHJhY2tbXT4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3NlYXJjaD90ZXJtPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mbWVkaWE9bXVzaWMmbGltaXQ9MjBgXG4gICAgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhLnJlc3VsdHMgfHwgW107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZWFyY2ggbXVzaWM6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJESVJFQ1RfQkFDS0VORF9VUkwiLCJpc1dlYiIsImlzTG9jYWxob3N0Iiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsInRlc3QiLCJpc0xBTiIsImlzTmdyb2siLCJpbmNsdWRlcyIsImlzUHJvZHVjdGlvbiIsIm1hdGNoIiwiQVBJX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJhcGkiLCJjcmVhdGUiLCJiYXNlVVJMIiwid2l0aENyZWRlbnRpYWxzIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiaW50ZXJjZXB0b3JzIiwicmVxdWVzdCIsInVzZSIsImNvbmZpZyIsIkF1dGhvcml6YXRpb24iLCJhdXRoSGVhZGVyIiwic3Vic3RyaW5nIiwiU3RyaW5nIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJ1cmwiLCJoYXNBdXRoIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzcG9uc2UiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZGF0YSIsInNldEF1dGhUb2tlbiIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInJlcyIsInBvc3QiLCJnZXRDb252ZXJzYXRpb25zIiwiZ2V0IiwiZ2V0TWVzc2FnZXMiLCJjb252ZXJzYXRpb25JZCIsImNyZWF0ZU1lc3NhZ2UiLCJ0ZXh0IiwiY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkIiwicGF5bG9hZCIsImNyZWF0ZUNvbnZlcnNhdGlvbiIsInVzZXJJZCIsInRpdGxlIiwibWVtYmVycyIsImNyZWF0ZUdyb3VwQ29udmVyc2F0aW9uIiwibWVtYmVySWRzIiwidW5pcXVlIiwiQXJyYXkiLCJmcm9tIiwiU2V0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImlzR3JvdXAiLCJsZW5ndGgiLCJpbml0aWF0ZUNhbGwiLCJ0eXBlIiwidGFyZ2V0VXNlcklkIiwiZ2V0Q2FsbCIsImNhbGxJZCIsImdldExpdmVLaXRUb2tlbiIsImVuZENhbGwiLCJhY2NlcHRDYWxsIiwicmVqZWN0Q2FsbCIsInVwbG9hZEltYWdlTG9jYWxPbGQiLCJmaWxlIiwiZm9ybSIsIkZvcm1EYXRhIiwiYmxvYiIsImZldGNoIiwidXJpIiwidGhlbiIsInIiLCJ3ZWJGaWxlIiwiRmlsZSIsIm5hbWUiLCJhcHBlbmQiLCJ1cGxvYWRJbWFnZVMzIiwidXBsb2FkSW1hZ2VMb2NhbCIsInVwbG9hZE1lZGlhQXBpIiwiZm9ybURhdGEiLCJtaW1lIiwic3RhcnRzV2l0aCIsInVwbG9hZENoYXRGaWxlIiwibG9nb3V0IiwicmVnaXN0ZXIiLCJzZW5kT1RQIiwidmVyaWZ5T1RQIiwib3RwIiwicmVzZW5kT1RQIiwic2VuZFZlcmlmaWNhdGlvbk9UUCIsInVwZGF0ZVVzZXJuYW1lIiwidXNlcm5hbWUiLCJwYXRjaCIsInVwZGF0ZVVzZXJBdmF0YXIiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsInVwZGF0ZVVzZXJJbmZvIiwicHV0IiwiZ2V0Q3VycmVudFVzZXJJZCIsImdldEZyaWVuZHMiLCJnZXRVc2VyUG9zdHNBcGkiLCJjdXJzb3IiLCJsaW1pdCIsInBhcmFtcyIsInRyYWNrRXZlbnRBcGkiLCJldmVudFR5cGUiLCJtZXRhZGF0YSIsInNlc3Npb25JZCIsInVwZGF0ZVVzZXJBdmF0YXJXaXRoSWQiLCJ1cGRhdGVVc2VyUHJvZmlsZVdpdGhJZCIsImNoYW5nZVBhc3N3b3JkIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGVDdXJyZW50VXNlclByb2ZpbGUiLCJnZXRDdXJyZW50VXNlclByb2ZpbGUiLCJ1cGxvYWRBdmF0YXJEaXJlY3QiLCJnZXRVc2Vyc0J5SWRzIiwidXNlcklkcyIsInNlYXJjaFVzZXJzIiwicXVlcnkiLCJwYWdlIiwicSIsImNyZWF0ZUNvbnZlcnNhdGlvbldpdGhVc2VyIiwiZ2V0T3Bwb25lbnRJbmZvIiwiZWRpdE1lc3NhZ2UiLCJtZXNzYWdlSWQiLCJkZWxldGVNZXNzYWdlIiwiZGVsZXRlIiwiYWRkUmVhY3Rpb24iLCJlbW9qaSIsInJlbW92ZVJlYWN0aW9uIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGluTWVzc2FnZSIsInVucGluTWVzc2FnZSIsInN0YXJNZXNzYWdlIiwicmV2b2tlTWVzc2FnZSIsInNlYXJjaE1lc3NhZ2VzIiwibWFya0FzUmVhZCIsImFkZE1lbWJlcnMiLCJyZW1vdmVNZW1iZXIiLCJ1cGRhdGVHcm91cEluZm8iLCJjcmVhdGVJbnZpdGVMaW5rIiwiam9pbkNvbnZlcnNhdGlvbkJ5SW52aXRlIiwiaW52aXRlQ29kZSIsIm1ha2VBZG1pbiIsInJlbW92ZUFkbWluIiwiYWRkR3JvdXBNZW1iZXJzIiwicmVtb3ZlR3JvdXBNZW1iZXIiLCJtYWtlR3JvdXBBZG1pbiIsInJlbW92ZUdyb3VwQWRtaW4iLCJsZWF2ZUdyb3VwIiwiZ2V0VW5yZWFkQ291bnQiLCJ1cGRhdGVPbmxpbmVTdGF0dXMiLCJnZXRPbmxpbmVVc2VycyIsImNyZWF0ZU1lc3NhZ2VXaXRoUmVwbHkiLCJyZXBseVRvIiwiZ2V0RmVlZCIsImNyZWF0ZVBvc3RBcGkiLCJjcmVhdGVDb21tZW50QXBpIiwicG9zdElkIiwiZ2V0UG9zdENvbW1lbnRzIiwiY3JlYXRlU3RvcnlBcGkiLCJnZXRTdG9yaWVzQXBpIiwibWFya1N0b3J5Vmlld2VkQXBpIiwic3RvcnlJZCIsImRlbGV0ZVN0b3J5QXBpIiwic2F2ZVBvc3RBcGkiLCJ1bnNhdmVQb3N0QXBpIiwiZ2V0U2F2ZWRQb3N0c0FwaSIsInJlcG9ydFBvc3RBcGkiLCJnZXRGcmllbmRTdWdnZXN0aW9uc0FwaSIsInNlbmRGcmllbmRSZXF1ZXN0QXBpIiwiZ2V0Tm90aWZpY2F0aW9uc0FwaSIsIm1hcmtOb3RpZmljYXRpb25zUmVhZEFwaSIsImlkcyIsImdldFVzZXJCeUlkIiwic2VhcmNoU29jaWFsQXBpIiwicXVlcnlPclBhcmFtcyIsImNoZWNrUG9zdExpa2VkQXBpIiwicmVhY3RUb1Bvc3RBcGkiLCJyZW1vdmVSZWFjdGlvbkFwaSIsInJlYWN0VG9TdG9yeUFwaSIsInJlbW92ZVN0b3J5UmVhY3Rpb25BcGkiLCJnZXRTdG9yeVJlcGxpZXNBcGkiLCJjcmVhdGVTdG9yeVJlcGx5QXBpIiwiY29udGVudCIsInNlYXJjaE11c2ljQXBpIiwianNvbiIsInJlc3VsdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/api.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/GlobalIncomingCall.web.tsx":
/*!****************************************************************!*\
  !*** ../../packages/app/components/GlobalIncomingCall.web.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalIncomingCall: () => (/* binding */ GlobalIncomingCall)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.ts\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.ts\");\n/* __next_internal_client_entry_do_not_use__ GlobalIncomingCall auto */ \n\n\n\nfunction GlobalIncomingCall() {\n    const [incomingCall, setIncomingCall] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callerName, setCallerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Ai \\xf3\");\n    const [callerAvatar, setCallerAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Listen for socket events globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_2__.getSocket)();\n        if (!socket) {\n            console.warn(\"[GlobalIncomingCall] Socket not available\");\n            return;\n        }\n        const handleIncomingCall = (data)=>{\n            console.log(\"[GlobalIncomingCall] Received call:incoming\", data);\n            const currentUserId =  false ? 0 : null;\n            // B qua cuc gi do chnh mnh to\n            if (currentUserId && data.initiatorId === currentUserId) {\n                console.log(\"[GlobalIncomingCall] Skip own outgoing call\");\n                return;\n            }\n            // Nu ang x l cuc gi khc th b qua\n            if (incomingCall || isProcessing) {\n                console.log(\"[GlobalIncomingCall] Already handling a call, ignoring new one\");\n                return;\n            }\n            setIncomingCall(data);\n        };\n        console.log(\"[GlobalIncomingCall] Subscribing to call:incoming\");\n        socket.on(\"call:incoming\", handleIncomingCall);\n        return ()=>{\n            console.log(\"[GlobalIncomingCall] Cleanup call:incoming listener\");\n            socket.off(\"call:incoming\", handleIncomingCall);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        incomingCall,\n        isProcessing\n    ]);\n    // Load caller info\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!incomingCall) return;\n        let cancelled = false;\n        const loadInfo = async ()=>{\n            try {\n                const info = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(incomingCall.conversationId);\n                if (cancelled) return;\n                setCallerName(info?.user?.name || info?.user?.email || \"Ai \\xf3\");\n                setCallerAvatar(info?.user?.avatar || null);\n            } catch (err) {\n                console.error(\"[GlobalIncomingCall] Failed to load caller info\", err);\n                if (!cancelled) {\n                    setCallerName(\"Ai \\xf3\");\n                    setCallerAvatar(null);\n                }\n            }\n        };\n        loadInfo();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        incomingCall\n    ]);\n    const clearState = ()=>{\n        setIncomingCall(null);\n        setIsProcessing(false);\n    };\n    const handleAccept = async ()=>{\n        if (!incomingCall || isProcessing) return;\n        setIsProcessing(true);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.acceptCall)(incomingCall.callId);\n        } catch (err) {\n            console.error(\"[GlobalIncomingCall] Error accepting call (will still navigate)\", err);\n        }\n        // iu hng sang mn hnh call ca web\n        if (false) {}\n        clearState();\n    };\n    const handleReject = async ()=>{\n        if (!incomingCall || isProcessing) return;\n        setIsProcessing(true);\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_3__.rejectCall)(incomingCall.callId);\n        } catch (err) {\n            console.error(\"[GlobalIncomingCall] Error rejecting call\", err);\n        }\n        clearState();\n    };\n    // Auto dismiss after 30s\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!incomingCall) return;\n        const timer = setTimeout(()=>{\n            console.log(\"[GlobalIncomingCall] Auto dismiss incoming call toast\");\n            clearState();\n        }, 30000);\n        return ()=>clearTimeout(timer);\n    }, [\n        incomingCall\n    ]);\n    if (!incomingCall) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"global-incoming-call-overlay\",\n        onClick: (e)=>{\n            // chn click xuyn qua\n            e.stopPropagation();\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"global-incoming-call-card\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"global-incoming-call-header\",\n                    children: \"Cuc gi n\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                    lineNumber: 146,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"global-incoming-call-body\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"global-incoming-call-avatar\",\n                            children: callerAvatar ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: callerAvatar,\n                                alt: callerName\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                lineNumber: 151,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"global-incoming-call-avatar-fallback\",\n                                children: callerName.charAt(0).toUpperCase()\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                lineNumber: 153,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"global-incoming-call-info\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"global-incoming-call-name\",\n                                    children: callerName\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                    lineNumber: 159,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"global-incoming-call-type\",\n                                    children: incomingCall.type === \"video\" ? \"Gi video\" : \"Gi thoi\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                                    lineNumber: 160,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 158,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"global-incoming-call-actions\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"global-incoming-call-btn global-incoming-call-btn--reject\",\n                            onClick: handleReject,\n                            disabled: isProcessing,\n                            children: \"Kt th\\xfac\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"global-incoming-call-btn global-incoming-call-btn--accept\",\n                            onClick: handleAccept,\n                            disabled: isProcessing,\n                            children: \"Tr li\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n                    lineNumber: 165,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n            lineNumber: 145,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\GlobalIncomingCall.web.tsx\",\n        lineNumber: 138,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvR2xvYmFsSW5jb21pbmdDYWxsLndlYi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFNEM7QUFDTjtBQUMyQjtBQVUxRCxTQUFTTTtJQUNkLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdQLCtDQUFRQSxDQUEwQjtJQUMxRSxNQUFNLENBQUNRLFlBQVlDLGNBQWMsR0FBR1QsK0NBQVFBLENBQVM7SUFDckQsTUFBTSxDQUFDVSxjQUFjQyxnQkFBZ0IsR0FBR1gsK0NBQVFBLENBQWdCO0lBQ2hFLE1BQU0sQ0FBQ1ksY0FBY0MsZ0JBQWdCLEdBQUdiLCtDQUFRQSxDQUFDO0lBRWpELG9DQUFvQztJQUNwQ0QsZ0RBQVNBLENBQUM7UUFDUixNQUFNZSxTQUFTYixrREFBU0E7UUFDeEIsSUFBSSxDQUFDYSxRQUFRO1lBQ1hDLFFBQVFDLElBQUksQ0FBQztZQUNiO1FBQ0Y7UUFFQSxNQUFNQyxxQkFBcUIsQ0FBQ0M7WUFDMUJILFFBQVFJLEdBQUcsQ0FBQywrQ0FBK0NEO1lBQzNELE1BQU1FLGdCQUFnQixNQUE2QixHQUFHQyxDQUFzQyxHQUFHO1lBRS9GLG9DQUFvQztZQUNwQyxJQUFJRCxpQkFBaUJGLEtBQUtNLFdBQVcsS0FBS0osZUFBZTtnQkFDdkRMLFFBQVFJLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1lBRUEsMENBQTBDO1lBQzFDLElBQUliLGdCQUFnQk0sY0FBYztnQkFDaENHLFFBQVFJLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1lBRUFaLGdCQUFnQlc7UUFDbEI7UUFFQUgsUUFBUUksR0FBRyxDQUFDO1FBQ1pMLE9BQU9XLEVBQUUsQ0FBQyxpQkFBaUJSO1FBRTNCLE9BQU87WUFDTEYsUUFBUUksR0FBRyxDQUFDO1lBQ1pMLE9BQU9ZLEdBQUcsQ0FBQyxpQkFBaUJUO1FBQzlCO0lBQ0EsdURBQXVEO0lBQ3pELEdBQUc7UUFBQ1g7UUFBY007S0FBYTtJQUUvQixtQkFBbUI7SUFDbkJiLGdE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b25lbnRzL0dsb2JhbEluY29taW5nQ2FsbC53ZWIudHN4PzVmNTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gXCIuLi9zb2NrZXRcIjtcclxuaW1wb3J0IHsgYWNjZXB0Q2FsbCwgcmVqZWN0Q2FsbCwgZ2V0T3Bwb25lbnRJbmZvIH0gZnJvbSBcIi4uL2FwaVwiO1xyXG5cclxudHlwZSBJbmNvbWluZ0NhbGxEYXRhID0ge1xyXG4gIGNhbGxJZDogc3RyaW5nO1xyXG4gIGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7XHJcbiAgaW5pdGlhdG9ySWQ6IHN0cmluZztcclxuICB0eXBlOiBcInZpZGVvXCIgfCBcImF1ZGlvXCI7XHJcbiAgcm9vbUlkPzogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdsb2JhbEluY29taW5nQ2FsbCgpIHtcclxuICBjb25zdCBbaW5jb21pbmdDYWxsLCBzZXRJbmNvbWluZ0NhbGxdID0gdXNlU3RhdGU8SW5jb21pbmdDYWxsRGF0YSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjYWxsZXJOYW1lLCBzZXRDYWxsZXJOYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJBaSDEkcOzXCIpO1xyXG4gIGNvbnN0IFtjYWxsZXJBdmF0YXIsIHNldENhbGxlckF2YXRhcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBMaXN0ZW4gZm9yIHNvY2tldCBldmVudHMgZ2xvYmFsbHlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XHJcbiAgICBpZiAoIXNvY2tldCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBTb2NrZXQgbm90IGF2YWlsYWJsZVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUluY29taW5nQ2FsbCA9IChkYXRhOiBJbmNvbWluZ0NhbGxEYXRhKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gUmVjZWl2ZWQgY2FsbDppbmNvbWluZ1wiLCBkYXRhKTtcclxuICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyX2lkXCIpIDogbnVsbDtcclxuXHJcbiAgICAgIC8vIELhu48gcXVhIGN14buZYyBn4buNaSBkbyBjaMOtbmggbcOsbmggdOG6oW9cclxuICAgICAgaWYgKGN1cnJlbnRVc2VySWQgJiYgZGF0YS5pbml0aWF0b3JJZCA9PT0gY3VycmVudFVzZXJJZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gU2tpcCBvd24gb3V0Z29pbmcgY2FsbFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE7hur91IMSRYW5nIHjhu60gbMO9IGN14buZYyBn4buNaSBraMOhYyB0aMOsIGLhu48gcXVhXHJcbiAgICAgIGlmIChpbmNvbWluZ0NhbGwgfHwgaXNQcm9jZXNzaW5nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBBbHJlYWR5IGhhbmRsaW5nIGEgY2FsbCwgaWdub3JpbmcgbmV3IG9uZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEluY29taW5nQ2FsbChkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJbR2xvYmFsSW5jb21pbmdDYWxsXSBTdWJzY3JpYmluZyB0byBjYWxsOmluY29taW5nXCIpO1xyXG4gICAgc29ja2V0Lm9uKFwiY2FsbDppbmNvbWluZ1wiLCBoYW5kbGVJbmNvbWluZ0NhbGwpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gQ2xlYW51cCBjYWxsOmluY29taW5nIGxpc3RlbmVyXCIpO1xyXG4gICAgICBzb2NrZXQub2ZmKFwiY2FsbDppbmNvbWluZ1wiLCBoYW5kbGVJbmNvbWluZ0NhbGwpO1xyXG4gICAgfTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcclxuICB9LCBbaW5jb21pbmdDYWxsLCBpc1Byb2Nlc3NpbmddKTtcclxuXHJcbiAgLy8gTG9hZCBjYWxsZXIgaW5mb1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWluY29taW5nQ2FsbCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBsb2FkSW5mbyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgZ2V0T3Bwb25lbnRJbmZvKGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZCk7XHJcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xyXG4gICAgICAgIHNldENhbGxlck5hbWUoaW5mbz8udXNlcj8ubmFtZSB8fCBpbmZvPy51c2VyPy5lbWFpbCB8fCBcIkFpIMSRw7NcIik7XHJcbiAgICAgICAgc2V0Q2FsbGVyQXZhdGFyKGluZm8/LnVzZXI/LmF2YXRhciB8fCBudWxsKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltHbG9iYWxJbmNvbWluZ0NhbGxdIEZhaWxlZCB0byBsb2FkIGNhbGxlciBpbmZvXCIsIGVycik7XHJcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcclxuICAgICAgICAgIHNldENhbGxlck5hbWUoXCJBaSDEkcOzXCIpO1xyXG4gICAgICAgICAgc2V0Q2FsbGVyQXZhdGFyKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsb2FkSW5mbygpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gIH0sIFtpbmNvbWluZ0NhbGxdKTtcclxuXHJcbiAgY29uc3QgY2xlYXJTdGF0ZSA9ICgpID0+IHtcclxuICAgIHNldEluY29taW5nQ2FsbChudWxsKTtcclxuICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFpbmNvbWluZ0NhbGwgfHwgaXNQcm9jZXNzaW5nKSByZXR1cm47XHJcbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYWNjZXB0Q2FsbChpbmNvbWluZ0NhbGwuY2FsbElkKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gRXJyb3IgYWNjZXB0aW5nIGNhbGwgKHdpbGwgc3RpbGwgbmF2aWdhdGUpXCIsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gxJBp4buBdSBoxrDhu5tuZyBzYW5nIG3DoG4gaMOsbmggY2FsbCBj4bunYSB3ZWJcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGNvbnN0IHVybCA9IGAvY2FsbD9jYWxsSWQ9JHtlbmNvZGVVUklDb21wb25lbnQoaW5jb21pbmdDYWxsLmNhbGxJZCl9JmNvbnZlcnNhdGlvbklkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICAgIGluY29taW5nQ2FsbC5jb252ZXJzYXRpb25JZFxyXG4gICAgICApfSZhY2NlcHRlZEZyb21Nb2RhbD10cnVlYDtcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTdGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlamVjdCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghaW5jb21pbmdDYWxsIHx8IGlzUHJvY2Vzc2luZykgcmV0dXJuO1xyXG4gICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHJlamVjdENhbGwoaW5jb21pbmdDYWxsLmNhbGxJZCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltHbG9iYWxJbmNvbWluZ0NhbGxdIEVycm9yIHJlamVjdGluZyBjYWxsXCIsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTdGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIC8vIEF1dG8gZGlzbWlzcyBhZnRlciAzMHNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpbmNvbWluZ0NhbGwpIHJldHVybjtcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0dsb2JhbEluY29taW5nQ2FsbF0gQXV0byBkaXNtaXNzIGluY29taW5nIGNhbGwgdG9hc3RcIik7XHJcbiAgICAgIGNsZWFyU3RhdGUoKTtcclxuICAgIH0sIDMwMDAwKTtcclxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gIH0sIFtpbmNvbWluZ0NhbGxdKTtcclxuXHJcbiAgaWYgKCFpbmNvbWluZ0NhbGwpIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1vdmVybGF5XCJcclxuICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAvLyBjaOG6t24gY2xpY2sgeHV5w6puIHF1YVxyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsLWluY29taW5nLWNhbGwtY2FyZFwiIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWhlYWRlclwiPkN14buZYyBn4buNaSDEkeG6v248L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWJvZHlcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsLWluY29taW5nLWNhbGwtYXZhdGFyXCI+XHJcbiAgICAgICAgICAgIHtjYWxsZXJBdmF0YXIgPyAoXHJcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcclxuICAgICAgICAgICAgICA8aW1nIHNyYz17Y2FsbGVyQXZhdGFyfSBhbHQ9e2NhbGxlck5hbWV9IC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1hdmF0YXItZmFsbGJhY2tcIj5cclxuICAgICAgICAgICAgICAgIHtjYWxsZXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWluZm9cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1uYW1lXCI+e2NhbGxlck5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsLWluY29taW5nLWNhbGwtdHlwZVwiPlxyXG4gICAgICAgICAgICAgIHtpbmNvbWluZ0NhbGwudHlwZSA9PT0gXCJ2aWRlb1wiID8gXCJH4buNaSB2aWRlb1wiIDogXCJH4buNaSB0aG/huqFpXCJ9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsb2JhbC1pbmNvbWluZy1jYWxsLWJ0biBnbG9iYWwtaW5jb21pbmctY2FsbC1idG4tLXJlamVjdFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlamVjdH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZ31cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgS+G6v3QgdGjDumNcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJnbG9iYWwtaW5jb21pbmctY2FsbC1idG4gZ2xvYmFsLWluY29taW5nLWNhbGwtYnRuLS1hY2NlcHRcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBY2NlcHR9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1Byb2Nlc3Npbmd9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIFRy4bqjIGzhu51pXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZ2V0U29ja2V0IiwiYWNjZXB0Q2FsbCIsInJlamVjdENhbGwiLCJnZXRPcHBvbmVudEluZm8iLCJHbG9iYWxJbmNvbWluZ0NhbGwiLCJpbmNvbWluZ0NhbGwiLCJzZXRJbmNvbWluZ0NhbGwiLCJjYWxsZXJOYW1lIiwic2V0Q2FsbGVyTmFtZSIsImNhbGxlckF2YXRhciIsInNldENhbGxlckF2YXRhciIsImlzUHJvY2Vzc2luZyIsInNldElzUHJvY2Vzc2luZyIsInNvY2tldCIsImNvbnNvbGUiLCJ3YXJuIiwiaGFuZGxlSW5jb21pbmdDYWxsIiwiZGF0YSIsImxvZyIsImN1cnJlbnRVc2VySWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaW5pdGlhdG9ySWQiLCJvbiIsIm9mZiIsImNhbmNlbGxlZCIsImxvYWRJbmZvIiwiaW5mbyIsImNvbnZlcnNhdGlvbklkIiwidXNlciIsIm5hbWUiLCJlbWFpbCIsImF2YXRhciIsImVyciIsImVycm9yIiwiY2xlYXJTdGF0ZSIsImhhbmRsZUFjY2VwdCIsImNhbGxJZCIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaHJlZiIsImhhbmRsZVJlamVjdCIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiaW1nIiwic3JjIiwiYWx0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJ0eXBlIiwiYnV0dG9uIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/GlobalIncomingCall.web.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/components/call/GroupCallGrid.tsx":
/*!************************************************************!*\
  !*** ../../packages/app/components/call/GroupCallGrid.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupCallGrid: () => (/* binding */ GroupCallGrid)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_group_call_grid_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styles/group-call-grid.css */ \"(ssr)/../../packages/app/styles/group-call-grid.css\");\n\n\n\nfunction ParticipantVideoTile({ participant }) {\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (videoRef.current && participant.stream) {\n            videoRef.current.srcObject = participant.stream;\n        }\n    }, [\n        participant.stream\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"participant-video-tile\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                autoPlay: true,\n                playsInline: true,\n                muted: participant.isLocal,\n                className: \"participant-video\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"participant-info\",\n                children: [\n                    participant.avatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: participant.avatar,\n                        alt: participant.name || participant.participantId,\n                        className: \"participant-avatar\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"participant-avatar-placeholder\",\n                        children: (participant.name || participant.participantId).charAt(0).toUpperCase()\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n                        lineNumber: 37,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"participant-name\",\n                        children: participant.isLocal ? \"Bn\" : participant.name || participant.participantId\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n                        lineNumber: 41,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, this);\n}\nfunction GroupCallGrid({ participants, localStream, localParticipantId }) {\n    const allParticipants = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{\n        const result = [];\n        // Thm local stream nu c\n        if (localStream) {\n            result.push({\n                participantId: localParticipantId,\n                stream: localStream,\n                isLocal: true\n            });\n        }\n        // Thm remote participants\n        participants.forEach((p)=>{\n            if (p.participantId !== localParticipantId) {\n                result.push({\n                    ...p,\n                    isLocal: false\n                });\n            }\n        });\n        return result;\n    }, [\n        participants,\n        localStream,\n        localParticipantId\n    ]);\n    const gridClass = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{\n        const count = allParticipants.length;\n        if (count === 1) return \"grid-1\";\n        if (count === 2) return \"grid-2\";\n        if (count === 3) return \"grid-3\";\n        if (count === 4) return \"grid-4\";\n        if (count === 5) return \"grid-5\";\n        return \"grid-6\";\n    }, [\n        allParticipants.length\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `group-call-grid ${gridClass}`,\n        children: allParticipants.map((participant)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ParticipantVideoTile, {\n                participant: participant\n            }, participant.participantId, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n                lineNumber: 94,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\call\\\\GroupCallGrid.tsx\",\n        lineNumber: 92,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2FsbC9Hcm91cENhbGxHcmlkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEO0FBQ1A7QUFhMUMsU0FBU0cscUJBQXFCLEVBQUVDLFdBQVcsRUFBNkI7SUFDdEUsTUFBTUMsV0FBV0gsNkNBQU1BLENBQW1CO0lBRTFDRCxnREFBU0EsQ0FBQztRQUNSLElBQUlJLFNBQVNDLE9BQU8sSUFBSUYsWUFBWUcsTUFBTSxFQUFFO1lBQzFDRixTQUFTQyxPQUFPLENBQUNFLFNBQVMsR0FBR0osWUFBWUcsTUFBTTtRQUNqRDtJQUNGLEdBQUc7UUFBQ0gsWUFBWUcsTUFBTTtLQUFDO0lBRXZCLHFCQUNFLDhEQUFDRTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0M7Z0JBQ0NDLEtBQUtQO2dCQUNMUSxRQUFRO2dCQUNSQyxXQUFXO2dCQUNYQyxPQUFPWCxZQUFZWSxPQUFPO2dCQUMxQk4sV0FBVTs7Ozs7OzBCQUVaLDhEQUFDRDtnQkFBSUMsV0FBVTs7b0JBQ1pOLFlBQVlhLE1BQU0saUJBQ2pCLDhEQUFDQzt3QkFBSUMsS0FBS2YsWUFBWWEsTUFBTTt3QkFBRUcsS0FBS2hCLFlBQVlpQixJQUFJLElBQUlqQixZQUFZa0IsYUFBYTt3QkFBRVosV0FBVTs7Ozs7NkNBRTVGLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FDWixDQUFDTixZQUFZaUIsSUFBSSxJQUFJakIsWUFBWWtCLGFBQWEsRUFBRUMsTUFBTSxDQUFDLEdBQUdDLFdBQVc7Ozs7OztrQ0FHMUUsOERBQUNDO3dCQUFLZixXQUFVO2tDQUNiTixZQUFZWSxPQUFPLEdBQUcsUUFBU1osWUFBWWlCLElBQUksSUFBSWpCLFlBQVlrQixhQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdkY7QUFRTyxTQUFTSSxjQUFjLEVBQUVDLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxrQkFBa0IsRUFBc0I7SUFDakcsTUFBTUMsa0JBQWtCOUIsb0RBQWEsQ0FBQztRQUNwQyxNQUFNZ0MsU0FBeUQsRUFBRTtRQUVqRSwyQkFBMkI7UUFDM0IsSUFBSUosYUFBYTtZQUNmSSxPQUFPQyxJQUFJLENBQUM7Z0JBQ1ZYLGVBQWVPO2dCQUNmdEIsUUFBUXFCO2dCQUNSWixTQUFTO1lBQ1g7UUFDRjtRQUVBLDJCQUEyQjtRQUMzQlcsYUFBYU8sT0FBTyxDQUFDQyxDQUFBQTtZQUNuQixJQUFJQSxFQUFFYixhQUFhLEtBQUtPLG9CQUFvQjtnQkFDMUNHLE9BQU9DLElBQUksQ0FBQztvQkFDVixHQUFHRSxDQUFDO29CQUNKbkIsU0FBUztnQkFDWDtZQUNGO1FBQ0Y7UUFFQSxPQUFPZ0I7SUFDVCxHQUFHO1FBQUNMO1FBQWNDO1FBQWFDO0tBQW1CO0lBRWxELE1BQU1PLFlBQVlwQyxvREFBYSxDQUFDO1FBQzlCLE1BQU1xQyxRQUFRUCxnQkFBZ0JRLE1BQU07UUFDcEMsSUFBSUQsVUFBVSxHQUFHLE9BQU87UUFDeEIsSUFBSUEsVUFBVSxHQUFHLE9BQU87UUFDeEIsSUFBSUEsVUFBVSxHQUFHLE9BQU87UUFDeEIsSUFBSUEsVUFBVSxHQUFHLE9BQU87UUFDeEIsSUFBSUEsVUFBVSxHQUFHLE9BQU87UUFDeEIsT0FBTztJQUNULEdBQUc7UUFBQ1AsZ0JBQWdCUSxNQUFNO0tBQUM7SUFFM0IscUJBQ0UsOERBQUM3QjtRQUFJQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUwQixVQUFVLENBQUM7a0JBQzNDTixnQkFBZ0JTLEdBQUcsQ0FBQyxDQUFDbkMsNEJBQ3BCLDhEQUFDRDtnQkFBcURDLGFBQWFBO2VBQXhDQSxZQUFZa0IsYUFBYTs7Ozs7Ozs7OztBQUk1RCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL2NhbGwvR3JvdXBDYWxsR3JpZC50c3g/MzAyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2dyb3VwLWNhbGwtZ3JpZC5jc3MnO1xyXG5cclxuaW50ZXJmYWNlIFBhcnRpY2lwYW50VmlkZW8ge1xyXG4gIHBhcnRpY2lwYW50SWQ6IHN0cmluZztcclxuICBzdHJlYW06IE1lZGlhU3RyZWFtO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgYXZhdGFyPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUGFydGljaXBhbnRWaWRlb1RpbGVQcm9wcyB7XHJcbiAgcGFydGljaXBhbnQ6IFBhcnRpY2lwYW50VmlkZW8gJiB7IGlzTG9jYWw6IGJvb2xlYW4gfTtcclxufVxyXG5cclxuZnVuY3Rpb24gUGFydGljaXBhbnRWaWRlb1RpbGUoeyBwYXJ0aWNpcGFudCB9OiBQYXJ0aWNpcGFudFZpZGVvVGlsZVByb3BzKSB7XHJcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCAmJiBwYXJ0aWNpcGFudC5zdHJlYW0pIHtcclxuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBwYXJ0aWNpcGFudC5zdHJlYW07XHJcbiAgICB9XHJcbiAgfSwgW3BhcnRpY2lwYW50LnN0cmVhbV0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudC12aWRlby10aWxlXCI+XHJcbiAgICAgIDx2aWRlb1xyXG4gICAgICAgIHJlZj17dmlkZW9SZWZ9XHJcbiAgICAgICAgYXV0b1BsYXlcclxuICAgICAgICBwbGF5c0lubGluZVxyXG4gICAgICAgIG11dGVkPXtwYXJ0aWNpcGFudC5pc0xvY2FsfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cInBhcnRpY2lwYW50LXZpZGVvXCJcclxuICAgICAgLz5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudC1pbmZvXCI+XHJcbiAgICAgICAge3BhcnRpY2lwYW50LmF2YXRhciA/IChcclxuICAgICAgICAgIDxpbWcgc3JjPXtwYXJ0aWNpcGFudC5hdmF0YXJ9IGFsdD17cGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudElkfSBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudC1hdmF0YXJcIiAvPlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnRpY2lwYW50LWF2YXRhci1wbGFjZWhvbGRlclwiPlxyXG4gICAgICAgICAgICB7KHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQucGFydGljaXBhbnRJZCkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInBhcnRpY2lwYW50LW5hbWVcIj5cclxuICAgICAgICAgIHtwYXJ0aWNpcGFudC5pc0xvY2FsID8gJ0LhuqFuJyA6IChwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnBhcnRpY2lwYW50SWQpfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgR3JvdXBDYWxsR3JpZFByb3BzIHtcclxuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50VmlkZW9bXTtcclxuICBsb2NhbFN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsO1xyXG4gIGxvY2FsUGFydGljaXBhbnRJZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR3JvdXBDYWxsR3JpZCh7IHBhcnRpY2lwYW50cywgbG9jYWxTdHJlYW0sIGxvY2FsUGFydGljaXBhbnRJZCB9OiBHcm91cENhbGxHcmlkUHJvcHMpIHtcclxuICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdDogQXJyYXk8UGFydGljaXBhbnRWaWRlbyAmIHsgaXNMb2NhbDogYm9vbGVhbiB9PiA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBUaMOqbSBsb2NhbCBzdHJlYW0gbuG6v3UgY8OzXHJcbiAgICBpZiAobG9jYWxTdHJlYW0pIHtcclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgIHBhcnRpY2lwYW50SWQ6IGxvY2FsUGFydGljaXBhbnRJZCxcclxuICAgICAgICBzdHJlYW06IGxvY2FsU3RyZWFtLFxyXG4gICAgICAgIGlzTG9jYWw6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBUaMOqbSByZW1vdGUgcGFydGljaXBhbnRzXHJcbiAgICBwYXJ0aWNpcGFudHMuZm9yRWFjaChwID0+IHtcclxuICAgICAgaWYgKHAucGFydGljaXBhbnRJZCAhPT0gbG9jYWxQYXJ0aWNpcGFudElkKSB7XHJcbiAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgLi4ucCxcclxuICAgICAgICAgIGlzTG9jYWw6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LCBbcGFydGljaXBhbnRzLCBsb2NhbFN0cmVhbSwgbG9jYWxQYXJ0aWNpcGFudElkXSk7XHJcblxyXG4gIGNvbnN0IGdyaWRDbGFzcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgY291bnQgPSBhbGxQYXJ0aWNpcGFudHMubGVuZ3RoO1xyXG4gICAgaWYgKGNvdW50ID09PSAxKSByZXR1cm4gJ2dyaWQtMSc7XHJcbiAgICBpZiAoY291bnQgPT09IDIpIHJldHVybiAnZ3JpZC0yJztcclxuICAgIGlmIChjb3VudCA9PT0gMykgcmV0dXJuICdncmlkLTMnO1xyXG4gICAgaWYgKGNvdW50ID09PSA0KSByZXR1cm4gJ2dyaWQtNCc7XHJcbiAgICBpZiAoY291bnQgPT09IDUpIHJldHVybiAnZ3JpZC01JztcclxuICAgIHJldHVybiAnZ3JpZC02JztcclxuICB9LCBbYWxsUGFydGljaXBhbnRzLmxlbmd0aF0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2Bncm91cC1jYWxsLWdyaWQgJHtncmlkQ2xhc3N9YH0+XHJcbiAgICAgIHthbGxQYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4gKFxyXG4gICAgICAgIDxQYXJ0aWNpcGFudFZpZGVvVGlsZSBrZXk9e3BhcnRpY2lwYW50LnBhcnRpY2lwYW50SWR9IHBhcnRpY2lwYW50PXtwYXJ0aWNpcGFudH0gLz5cclxuICAgICAgKSl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJQYXJ0aWNpcGFudFZpZGVvVGlsZSIsInBhcnRpY2lwYW50IiwidmlkZW9SZWYiLCJjdXJyZW50Iiwic3RyZWFtIiwic3JjT2JqZWN0IiwiZGl2IiwiY2xhc3NOYW1lIiwidmlkZW8iLCJyZWYiLCJhdXRvUGxheSIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJpc0xvY2FsIiwiYXZhdGFyIiwiaW1nIiwic3JjIiwiYWx0IiwibmFtZSIsInBhcnRpY2lwYW50SWQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNwYW4iLCJHcm91cENhbGxHcmlkIiwicGFydGljaXBhbnRzIiwibG9jYWxTdHJlYW0iLCJsb2NhbFBhcnRpY2lwYW50SWQiLCJhbGxQYXJ0aWNpcGFudHMiLCJ1c2VNZW1vIiwicmVzdWx0IiwicHVzaCIsImZvckVhY2giLCJwIiwiZ3JpZENsYXNzIiwiY291bnQiLCJsZW5ndGgiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/components/call/GroupCallGrid.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/features/call/screens/CallScreen.web.tsx":
/*!*******************************************************************!*\
  !*** ../../packages/app/features/call/screens/CallScreen.web.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useWebRTC__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useWebRTC */ \"(ssr)/../../packages/app/hooks/useWebRTC.ts\");\n/* harmony import */ var _hooks_useLiveKit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLiveKit */ \"(ssr)/../../packages/app/hooks/useLiveKit.ts\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../api */ \"(ssr)/../../packages/app/api.ts\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../socket */ \"(ssr)/../../packages/app/socket.ts\");\n/* harmony import */ var _hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useOpponentInfo */ \"(ssr)/../../packages/app/hooks/useOpponentInfo.ts\");\n/* harmony import */ var _components_call_GroupCallGrid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/call/GroupCallGrid */ \"(ssr)/../../packages/app/components/call/GroupCallGrid.tsx\");\n/* harmony import */ var _styles_call_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../styles/call.css */ \"(ssr)/../../packages/app/styles/call.css\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction CallScreen() {\n    const [callId, setCallId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callInfo, setCallInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isInitiator, setIsInitiator] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [localUserId, setLocalUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [acceptedFromModal, setAcceptedFromModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Read user id & URL params on client\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) return;\n        try {\n            const uid = window.localStorage.getItem(\"user_id\");\n            setLocalUserId(uid);\n        } catch (err) {\n            console.warn(\"[CallScreen] Unable to read user_id from localStorage\", err);\n        }\n        const search = new URLSearchParams(window.location.search);\n        const urlCallId = search.get(\"callId\");\n        const urlConversationId = search.get(\"conversationId\");\n        console.log(\"[CallScreen] Parsed URL params:\", {\n            urlCallId,\n            urlConversationId\n        });\n        if (urlCallId) {\n            setCallId(urlCallId);\n        }\n        if (urlConversationId) {\n            setCallInfo((prev)=>prev ? {\n                    ...prev,\n                    conversationId: urlConversationId\n                } : {\n                    conversationId: urlConversationId,\n                    initiatorId: localUserId || \"\",\n                    remoteUserId: \"\",\n                    type: \"video\"\n                });\n        }\n    }, [\n        localUserId\n    ]);\n    // Log component lifecycle\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[CallScreen] Component mounted, callId:\", callId);\n        return ()=>{\n            console.log(\"[CallScreen] Component unmounting, callId:\", callId);\n        };\n    }, [\n        callId\n    ]);\n    const [callDuration, setCallDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [callStartTime, setCallStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const durationIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { info: opponentInfo } = (0,_hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_6__.useOpponentInfo)(callInfo?.conversationId || \"\");\n    const filterOptions = [\n        {\n            id: \"none\",\n            label: \"Gc\",\n            emoji: \"\\uD83D\\uDE42\"\n        },\n        {\n            id: \"beauty\",\n            label: \"Mn\",\n            emoji: \"\"\n        },\n        {\n            id: \"warm\",\n            label: \"m\",\n            emoji: \"\\uD83C\\uDF05\"\n        },\n        {\n            id: \"cool\",\n            label: \"M\\xe1t\",\n            emoji: \"\"\n        },\n        {\n            id: \"party\",\n            label: \"Party\",\n            emoji: \"\\uD83C\\uDF89\"\n        },\n        {\n            id: \"birthday\",\n            label: \"Sinh nht\",\n            emoji: \"\\uD83C\\uDF82\"\n        }\n    ];\n    const [showFilterPanel, setShowFilterPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // LiveKit state\n    const [liveKitToken, setLiveKitToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [liveKitUrl, setLiveKitUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Ch s dng useWebRTC cho P2P calls\n    const isP2PCall = !callInfo?.callType || callInfo.callType === \"p2p\";\n    // Lun gi useWebRTC  m bo hooks order khng i\n    const { localStream: p2pLocalStream, remoteStream: p2pRemoteStream, isConnected: p2pIsConnected, error: p2pError, startCall, endCall: endWebRTC, toggleVideo: p2pToggleVideo, toggleAudio: p2pToggleAudio, isVideoEnabled: p2pIsVideoEnabled, isAudioEnabled: p2pIsAudioEnabled, applyFilter, currentFilter, startScreenShare, stopScreenShare, isScreenSharing, localVideoRef, remoteVideoRef } = (0,_hooks_useWebRTC__WEBPACK_IMPORTED_MODULE_2__.useWebRTC)({\n        callId: callId || \"\",\n        conversationId: callInfo?.conversationId || \"\",\n        isInitiator: isInitiator,\n        localUserId: localUserId || \"\",\n        remoteUserId: callInfo?.remoteUserId || \"\"\n    });\n    // Lun gi useLiveKit  m bo hooks order khng i\n    const { localStream: liveKitLocalStream, remoteStreams: liveKitRemoteStreams, isConnected: liveKitIsConnected, error: liveKitError, connect: connectLiveKit, disconnect: disconnectLiveKit, toggleVideo: liveKitToggleVideo, toggleAudio: liveKitToggleAudio, isVideoEnabled: liveKitIsVideoEnabled, isAudioEnabled: liveKitIsAudioEnabled } = (0,_hooks_useLiveKit__WEBPACK_IMPORTED_MODULE_3__.useLiveKit)({\n        roomName: callInfo?.livekitRoomName || \"\",\n        token: liveKitToken || \"\",\n        url: liveKitUrl\n    });\n    // Chn stream v controls da trn call type\n    const localStream = isP2PCall ? p2pLocalStream : liveKitLocalStream;\n    const remoteStream = isP2PCall ? p2pRemoteStream : null;\n    const isConnected = isP2PCall ? p2pIsConnected : liveKitIsConnected;\n    const error = isP2PCall ? p2pError : liveKitError;\n    const toggleVideo = isP2PCall ? p2pToggleVideo : liveKitToggleVideo;\n    const toggleAudio = isP2PCall ? p2pToggleAudio : liveKitToggleAudio;\n    const isVideoEnabled = isP2PCall ? p2pIsVideoEnabled : liveKitIsVideoEnabled;\n    const isAudioEnabled = isP2PCall ? p2pIsAudioEnabled : liveKitIsAudioEnabled;\n    const canUseEnhancements = isP2PCall && callInfo?.type === \"video\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canUseEnhancements) {\n            setShowFilterPanel(false);\n        }\n    }, [\n        canUseEnhancements\n    ]);\n    const handleToggleFilterPanel = ()=>{\n        if (!canUseEnhancements) return;\n        setShowFilterPanel((prev)=>!prev);\n    };\n    // Ref to track if we've already auto-started\n    const hasAutoStartedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Ref to store latest startCall function to avoid re-triggering\n    const startCallRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(startCall);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        startCallRef.current = startCall;\n    }, [\n        startCall\n    ]);\n    // Calculate call duration\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected && callStartTime) {\n            durationIntervalRef.current = setInterval(()=>{\n                const now = new Date();\n                const diff = Math.floor((now.getTime() - callStartTime.getTime()) / 1000);\n                setCallDuration(diff);\n            }, 1000);\n        } else {\n            if (durationIntervalRef.current) {\n                clearInterval(durationIntervalRef.current);\n                durationIntervalRef.current = null;\n            }\n        }\n        return ()=>{\n            if (durationIntervalRef.current) {\n                clearInterval(durationIntervalRef.current);\n            }\n        };\n    }, [\n        isConnected,\n        callStartTime\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected && !callStartTime) {\n            setCallStartTime(new Date());\n        }\n    }, [\n        isConnected,\n        callStartTime\n    ]);\n    // Format duration as MM:SS or HH:MM:SS\n    const formatDuration = (seconds)=>{\n        const hours = Math.floor(seconds / 3600);\n        const minutes = Math.floor(seconds % 3600 / 60);\n        const secs = seconds % 60;\n        if (hours > 0) {\n            return `${hours.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n        }\n        return `${minutes.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!callId || !localUserId) return;\n        const loadCallInfo = async ()=>{\n            try {\n                console.log(\"[CallScreen] Loading call info for callId:\", callId);\n                const call = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.getCall)(callId);\n                console.log(\"[CallScreen] Call info loaded:\", call);\n                const remoteUserId = call.participants.find((id)=>String(id) !== localUserId) || \"\";\n                const isInit = String(call.initiatorId) === localUserId;\n                const callType = call.callType || \"p2p\";\n                setCallInfo({\n                    conversationId: String(call.conversationId),\n                    initiatorId: String(call.initiatorId),\n                    remoteUserId: String(remoteUserId),\n                    type: call.type,\n                    callType: callType,\n                    livekitRoomName: call.metadata?.livekitRoomName,\n                    participants: call.participants.map((p)=>String(p))\n                });\n                setIsInitiator(isInit);\n                // Nu l cuc gi nhm, ly LiveKit token\n                if (callType === \"sfu\" && call.metadata?.livekitRoomName) {\n                    try {\n                        const tokenData = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.getLiveKitToken)(callId);\n                        setLiveKitToken(tokenData.token);\n                        setLiveKitUrl(tokenData.url);\n                        console.log(\"[CallScreen] LiveKit token obtained\");\n                    } catch (err) {\n                        console.error(\"[CallScreen] Error getting LiveKit token:\", err);\n                    }\n                }\n            } catch (error) {\n                console.error(\"[CallScreen] Error loading call info:\", error);\n                // If call not found, try to get info from socket or use fallback\n                if (error.response?.status === 404) {\n                    console.warn(\"[CallScreen] Call not found (404), trying socket events...\");\n                    // Try to get info from socket events instead\n                    const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_5__.getSocket)();\n                    if (socket) {\n                        // Listen for call info from socket\n                        socket.once(\"call:info\", (data)=>{\n                            if (data.callId === callId) {\n                                console.log(\"[CallScreen] Got call info from socket:\", data);\n                                setCallInfo({\n                                    conversationId: data.conversationId,\n                                    initiatorId: data.initiatorId,\n                                    remoteUserId: data.remoteUserId || data.initiatorId,\n                                    type: data.type || \"video\"\n                                });\n                                setIsInitiator(String(data.initiatorId) === localUserId);\n                            }\n                        });\n                        // Also listen for incoming call event\n                        socket.once(\"call:incoming\", (data)=>{\n                            if (data.callId === callId) {\n                                console.log(\"[CallScreen] Got call info from call:incoming:\", data);\n                                setCallInfo({\n                                    conversationId: data.conversationId,\n                                    initiatorId: data.initiatorId,\n                                    remoteUserId: data.initiatorId,\n                                    type: data.type || \"video\"\n                                });\n                                setIsInitiator(false);\n                            }\n                        });\n                    }\n                }\n            }\n        };\n        loadCallInfo();\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_5__.getSocket)();\n        if (socket) {\n            const handleCallIncoming = async (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:incoming event:\", data);\n                setCallInfo({\n                    conversationId: data.conversationId,\n                    initiatorId: data.initiatorId,\n                    remoteUserId: data.remoteUserId || data.initiatorId,\n                    type: data.type,\n                    callType: data.callType || \"p2p\",\n                    livekitRoomName: data.livekitRoomName,\n                    participants: data.participants\n                });\n                setIsInitiator(false);\n                // Nu l cuc gi nhm, ly LiveKit token\n                if (data.callType === \"sfu\" && data.livekitRoomName) {\n                    try {\n                        const tokenData = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.getLiveKitToken)(callId);\n                        setLiveKitToken(tokenData.token);\n                        setLiveKitUrl(tokenData.url);\n                        console.log(\"[CallScreen] LiveKit token obtained from incoming call\");\n                    } catch (err) {\n                        console.error(\"[CallScreen] Error getting LiveKit token:\", err);\n                    }\n                }\n            };\n            const handleCallInfo = (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:info event:\", data);\n                const remoteUserId = data.participants.find((id)=>String(id) !== localUserId) || \"\";\n                const isInit = String(data.initiatorId) === localUserId;\n                setCallInfo({\n                    conversationId: data.conversationId,\n                    initiatorId: String(data.initiatorId),\n                    remoteUserId: String(remoteUserId),\n                    type: data.type\n                });\n                setIsInitiator(isInit);\n            };\n            const handleCallAccepted = (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:accepted event:\", data);\n                // Update call info if provided\n                if (data.conversationId) {\n                    const remoteUserId = data.participants ? data.participants.find((id)=>String(id) !== localUserId) || \"\" : data.remoteUserId || \"\";\n                    setCallInfo((prev)=>prev ? {\n                            ...prev,\n                            conversationId: data.conversationId,\n                            remoteUserId: remoteUserId || prev.remoteUserId,\n                            type: data.type || prev.type\n                        } : {\n                            conversationId: data.conversationId,\n                            initiatorId: data.initiatorId || localUserId,\n                            remoteUserId: remoteUserId,\n                            type: data.type || \"video\"\n                        });\n                }\n                // If we're the initiator and call is accepted, auto-start the call\n                // Only auto-start once\n                if (isInitiator && !isConnected && !hasAutoStartedRef.current && callInfo) {\n                    console.log(\"[CallScreen] Call accepted, auto-starting call...\");\n                    console.log(\"[CallScreen] CallInfo available:\", callInfo);\n                    hasAutoStartedRef.current = true;\n                    setTimeout(async ()=>{\n                        console.log(\"[CallScreen] Attempting to start call as initiator...\");\n                        if (callInfo.callType === \"sfu\" && liveKitToken) {\n                            // Start LiveKit connection\n                            await connectLiveKit();\n                        } else {\n                            // Use ref to call latest startCall without triggering re-runs\n                            startCallRef.current().then(()=>{\n                                console.log(\"[CallScreen] Call started successfully as initiator\");\n                            }).catch((err)=>{\n                                console.error(\"[CallScreen] Error auto-starting call:\", err);\n                                hasAutoStartedRef.current = false; // Reset on error\n                            });\n                        }\n                    }, 1000);\n                }\n            };\n            const handleCallActive = (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:active event:\", data);\n            // Call is now active, ensure we're connected\n            };\n            socket.on(\"call:incoming\", handleCallIncoming);\n            socket.on(\"call:info\", handleCallInfo);\n            socket.on(\"call:accepted\", handleCallAccepted);\n            socket.on(\"call:active\", handleCallActive);\n            return ()=>{\n                socket.off(\"call:incoming\", handleCallIncoming);\n                socket.off(\"call:info\", handleCallInfo);\n                socket.off(\"call:accepted\", handleCallAccepted);\n                socket.off(\"call:active\", handleCallActive);\n            };\n        }\n    }, [\n        callId,\n        localUserId\n    ]);\n    // Reset auto-start flag when call connects\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected) {\n            hasAutoStartedRef.current = false;\n        }\n    }, [\n        isConnected\n    ]);\n    // Auto-start call for initiator when callInfo is ready\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Initiator: auto-start immediately when callInfo is ready\n        if (isInitiator && !isConnected && callInfo && callInfo.conversationId) {\n            console.log(\"[CallScreen] Auto-start effect triggered for initiator:\", {\n                isInitiator,\n                isConnected,\n                callInfo\n            });\n            if (!hasAutoStartedRef.current) {\n                hasAutoStartedRef.current = true;\n                console.log(\"[CallScreen] Starting call as initiator from auto-start effect...\");\n                console.log(\"[CallScreen] CallInfo for initiator:\", {\n                    conversationId: callInfo.conversationId,\n                    callType: callInfo.callType,\n                    livekitRoomName: callInfo.livekitRoomName\n                });\n                setTimeout(async ()=>{\n                    if (callInfo.callType === \"sfu\") {\n                        // Vi SFU, i token nu cha c\n                        if (!liveKitToken) {\n                            console.log(\"[CallScreen] Waiting for LiveKit token...\");\n                            // i ti a 5 giy cho token - check state mi mi ln\n                            let attempts = 0;\n                            let currentToken = liveKitToken;\n                            while(!currentToken && attempts < 10){\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                                // Re-check token t state (cn get t closure hoc ref)\n                                attempts++;\n                            // Note: Trong thc t, token s c set qua setLiveKitToken trong useEffect khc\n                            // Nu sau 5 giy vn cha c, s th connect anyway\n                            }\n                        // Nu vn cha c token sau khi i, c th token ang c fetch\n                        // Th connect vi token hin ti (c th null, hook s x l)\n                        }\n                        if (liveKitToken || callInfo.livekitRoomName) {\n                            console.log(\"[CallScreen] Connecting to LiveKit...\", {\n                                hasToken: !!liveKitToken\n                            });\n                            try {\n                                await connectLiveKit();\n                            } catch (err) {\n                                console.error(\"[CallScreen] Error connecting to LiveKit:\", err);\n                            }\n                        } else {\n                            console.error(\"[CallScreen] LiveKit token and room name not available\");\n                        }\n                    } else if (callInfo.remoteUserId) {\n                        // Use ref to call latest startCall without triggering re-runs\n                        startCallRef.current().then(()=>{\n                            console.log(\"[CallScreen]  Call started as initiator from auto-start effect\");\n                        }).catch((err)=>{\n                            console.error(\"[CallScreen]  Error starting call as initiator:\", err);\n                            hasAutoStartedRef.current = false;\n                        });\n                    }\n                }, 1000);\n            }\n        } else if (acceptedFromModal && !isInitiator && !isConnected && callInfo && callInfo.conversationId) {\n            console.log(\"[CallScreen] Auto-start effect triggered for non-initiator:\", {\n                acceptedFromModal,\n                isInitiator,\n                isConnected,\n                callInfo\n            });\n            if (!hasAutoStartedRef.current) {\n                hasAutoStartedRef.current = true;\n                console.log(\"[CallScreen] Starting call from auto-start effect...\");\n                setTimeout(async ()=>{\n                    if (callInfo.callType === \"sfu\") {\n                        // Vi SFU, i token nu cha c\n                        if (!liveKitToken) {\n                            console.log(\"[CallScreen] Waiting for LiveKit token...\");\n                            // i ti a 5 giy cho token - check state mi mi ln\n                            let attempts = 0;\n                            let currentToken = liveKitToken;\n                            while(!currentToken && attempts < 10){\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                                // Re-check token t state (cn get t closure hoc ref)\n                                attempts++;\n                            // Note: Trong thc t, token s c set qua setLiveKitToken trong useEffect khc\n                            // Nu sau 5 giy vn cha c, s th connect anyway\n                            }\n                        // Nu vn cha c token sau khi i, c th token ang c fetch\n                        // Th connect vi token hin ti (c th null, hook s x l)\n                        }\n                        if (liveKitToken || callInfo.livekitRoomName) {\n                            console.log(\"[CallScreen] Connecting to LiveKit...\", {\n                                hasToken: !!liveKitToken\n                            });\n                            try {\n                                await connectLiveKit();\n                            } catch (err) {\n                                console.error(\"[CallScreen] Error connecting to LiveKit:\", err);\n                            }\n                        } else {\n                            console.error(\"[CallScreen] LiveKit token and room name not available\");\n                        }\n                    } else if (callInfo.remoteUserId) {\n                        // Use ref to call latest startCall without triggering re-runs\n                        startCallRef.current().then(()=>{\n                            console.log(\"[CallScreen]  Call started from auto-start effect\");\n                        }).catch((err)=>{\n                            console.error(\"[CallScreen]  Error starting call from auto-start effect:\", err);\n                            hasAutoStartedRef.current = false;\n                        });\n                    }\n                }, 1000);\n            }\n        }\n    // Remove startCall from deps to prevent re-triggering\n    }, [\n        acceptedFromModal,\n        isInitiator,\n        isConnected,\n        callInfo,\n        liveKitToken,\n        connectLiveKit\n    ]);\n    const handleAccept = async ()=>{\n        if (!callId) return;\n        try {\n            console.log(\"[CallScreen] Accepting call:\", callId);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_4__.acceptCall)(callId);\n            console.log(\"[CallScreen] Call accepted, starting call...\");\n            // Start the call immediately after accepting\n            if (callInfo?.callType === \"sfu\" && liveKitToken) {\n                await connectLiveKit();\n            } else {\n                await startCall();\n            }\n            console.log(\"[CallScreen] Call started successfully\");\n        } catch (err) {\n            console.error(\"[CallScreen] Error accepting call:\", err);\n            // Try to start call anyway if accept succeeded but startCall failed\n            try {\n                if (callInfo?.callType === \"sfu\" && liveKitToken) {\n                    await connectLiveKit();\n                } else {\n                    await startCall();\n                }\n            } catch (startErr) {\n                console.error(\"[CallScreen] Error starting call after accept:\", startErr);\n            }\n        }\n    };\n    const handleReject = async ()=>{\n        if (!callId) return;\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_4__.rejectCall)(callId);\n            if (false) {}\n        } catch (err) {\n            console.error(\"Error rejecting call:\", err);\n        }\n    };\n    const handleEndCall = async ()=>{\n        if (!callId) return;\n        try {\n            if (isP2PCall) {\n                endWebRTC();\n            } else {\n                disconnectLiveKit();\n            }\n            await (0,_api__WEBPACK_IMPORTED_MODULE_4__.endCall)(callId);\n            if (false) {}\n        } catch (err) {\n            console.error(\"Error ending call:\", err);\n            if (false) {}\n        }\n    };\n    const handleFilterSelect = async (filter)=>{\n        try {\n            await applyFilter(filter);\n            setShowFilterPanel(false);\n        } catch (error) {\n            console.error(\"[CallScreen] Error applying filter:\", error);\n        }\n    };\n    const handleScreenShareToggle = async ()=>{\n        try {\n            if (isScreenSharing) {\n                await stopScreenShare();\n            } else {\n                await startScreenShare();\n            }\n        } catch (error) {\n            console.error(\"[CallScreen] Screen share error:\", error);\n        }\n    };\n    // Chuyn i LiveKit remoteStreams thnh format cho GroupCallGrid\n    // PHI t trc early returns  tun th Rules of Hooks\n    const groupCallParticipants = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{\n        if (isP2PCall) return [];\n        const participants = [];\n        liveKitRemoteStreams.forEach((stream, participantId)=>{\n            participants.push({\n                participantId,\n                stream\n            });\n        });\n        return participants;\n    }, [\n        liveKitRemoteStreams,\n        isP2PCall\n    ]);\n    const opponentName = opponentInfo?.name || \"Unknown\";\n    const opponentAvatar = opponentInfo?.avatar;\n    if (!callId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"call-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-loading\",\n                children: \"Invalid call ID\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 650,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n            lineNumber: 649,\n            columnNumber: 7\n        }, this);\n    }\n    // Show loading only if we don't have callInfo yet\n    if (!callInfo) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"call-screen\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"call-loading\",\n                    children: \"Loading call...\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                    lineNumber: 659,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        position: \"absolute\",\n                        bottom: \"20px\",\n                        left: \"50%\",\n                        transform: \"translateX(-50%)\",\n                        color: \"rgba(255, 255, 255, 0.5)\",\n                        fontSize: \"14px\"\n                    },\n                    children: [\n                        \"Call ID: \",\n                        callId\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                    lineNumber: 660,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        position: \"absolute\",\n                        bottom: \"60px\",\n                        left: \"50%\",\n                        transform: \"translateX(-50%)\",\n                        color: \"rgba(255, 255, 255, 0.3)\",\n                        fontSize: \"12px\",\n                        textAlign: \"center\",\n                        maxWidth: \"400px\"\n                    },\n                    children: \"Nu call kh\\xf4ng t\\xecm thy, c\\xf3 th \\xe3 b kt th\\xfac hoc backend cha c\\xf3 endpoint GET /calls/:callId\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                    lineNumber: 670,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n            lineNumber: 658,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"call-screen\",\n        children: [\n            !isP2PCall && callInfo.callType === \"sfu\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-main-video\",\n                style: {\n                    width: \"100%\",\n                    height: \"100%\",\n                    background: \"#000\"\n                },\n                children: isConnected && (localStream || groupCallParticipants.length > 0) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_call_GroupCallGrid__WEBPACK_IMPORTED_MODULE_7__.GroupCallGrid, {\n                    participants: groupCallParticipants,\n                    localStream: localStream,\n                    localParticipantId: localUserId || \"\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                    lineNumber: 692,\n                    columnNumber: 13\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        height: \"100%\",\n                        color: \"#fff\"\n                    },\n                    children: [\n                        !liveKitToken ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"18px\",\n                                        marginBottom: \"10px\"\n                                    },\n                                    children: \"ang ly token...\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 708,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"rgba(255,255,255,0.6)\"\n                                    },\n                                    children: \"Vui l\\xf2ng i\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 709,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : !isConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"18px\",\n                                        marginBottom: \"10px\"\n                                    },\n                                    children: \"ang kt ni...\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 713,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"rgba(255,255,255,0.6)\"\n                                    },\n                                    children: \"ang tham gia cuc gi nh\\xf3m\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 714,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"18px\",\n                                        marginBottom: \"10px\"\n                                    },\n                                    children: \"ang ti video...\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 718,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"rgba(255,255,255,0.6)\"\n                                    },\n                                    children: \"Vui l\\xf2ng i\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 719,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginTop: \"20px\",\n                                padding: \"10px 20px\",\n                                background: \"rgba(255,0,0,0.2)\",\n                                borderRadius: \"8px\",\n                                color: \"#ff6b6b\"\n                            },\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                            lineNumber: 723,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                    lineNumber: 698,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 690,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-main-video\",\n                        children: remoteStream ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: remoteVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            className: \"call-video-remote\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                            lineNumber: 741,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"call-avatar-container\",\n                            children: [\n                                opponentAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: opponentAvatar,\n                                    alt: opponentName,\n                                    className: \"call-avatar\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 750,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"call-avatar-placeholder\",\n                                    children: opponentName.charAt(0).toUpperCase()\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 752,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"call-name\",\n                                    children: opponentName\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 756,\n                                    columnNumber: 17\n                                }, this),\n                                !isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"call-status\",\n                                    children: isInitiator ? \"ang gi...\" : \"Cuc gi n...\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 758,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                            lineNumber: 748,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 739,\n                        columnNumber: 11\n                    }, this),\n                    callInfo.type === \"video\" && localStream && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-self-view\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: localVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            muted: true,\n                            className: \"call-video-local\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                            lineNumber: 769,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 768,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true),\n            isConnected && callDuration > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-duration\",\n                children: formatDuration(callDuration)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 783,\n                columnNumber: 9\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-error-banner\",\n                children: error\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 790,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-controls\",\n                children: [\n                    !isInitiator && !isConnected && !acceptedFromModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-incoming-controls\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"call-control-btn call-control-accept\",\n                                onClick: handleAccept,\n                                title: \"Chp nhn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M20 6L9 17L4 12\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                        lineNumber: 805,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 804,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 799,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"call-control-btn call-control-reject\",\n                                onClick: handleReject,\n                                title: \"T chi\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M18 6L6 18M6 6L18 18\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                        lineNumber: 814,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 813,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 808,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 798,\n                        columnNumber: 11\n                    }, this),\n                    isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-active-controls\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"call-control-btn call-control-secondary\",\n                                onClick: ()=>{\n                                    if (false) {}\n                                },\n                                title: \"Tin nhn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                        lineNumber: 835,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 834,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 825,\n                                columnNumber: 13\n                            }, this),\n                            canUseEnhancements && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `call-control-btn call-control-secondary ${showFilterPanel || currentFilter !== \"none\" ? \"call-control-active\" : \"\"}`,\n                                title: \"B lc l\\xe0m p\",\n                                onClick: handleToggleFilterPanel,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"22\",\n                                    height: \"22\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M12 3L13.5 7.5L18 9L13.5 10.5L12 15L10.5 10.5L6 9L10.5 7.5L12 3Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 847,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M5 16H9\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 848,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M15 16H19\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 849,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 846,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 841,\n                                columnNumber: 15\n                            }, this),\n                            canUseEnhancements && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `call-control-btn call-control-secondary ${isScreenSharing ? \"call-control-active\" : \"\"}`,\n                                title: isScreenSharing ? \"Dng chia s m\\xe0n h\\xecnh\" : \"Chia s m\\xe0n h\\xecnh\",\n                                onClick: handleScreenShareToggle,\n                                children: isScreenSharing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M4 5H20C21.1046 5 22 5.89543 22 7V15C22 16.1046 21.1046 17 20 17H4C2.89543 17 2 16.1046 2 15V7C2 5.89543 2.89543 5 4 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 863,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M12 21V17\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 864,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M8 21H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 865,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M8 9L12 13L16 9\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 866,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 862,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M4 5H20C21.1046 5 22 5.89543 22 7V14C22 15.1046 21.1046 16 20 16H4C2.89543 16 2 15.1046 2 14V7C2 5.89543 2.89543 5 4 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 870,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M12 20V16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 871,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M8 20H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 872,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 869,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 856,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `call-control-btn ${!isAudioEnabled ? \"call-control-muted\" : \"\"}`,\n                                onClick: toggleAudio,\n                                title: isAudioEnabled ? \"Tt mic\" : \"Bt mic\",\n                                children: isAudioEnabled ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M12 1C10.34 1 9 2.34 9 4V12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12V4C15 2.34 13.66 1 12 1Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 886,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M19 10V12C19 15.87 15.87 19 12 19C8.13 19 5 15.87 5 12V10\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 887,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M12 19V23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 888,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M8 23H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 889,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 885,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M1 1L23 23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 893,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M9 9V12C9 13.66 10.34 15 12 15C12.41 15 12.81 14.92 13.17 14.77\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 894,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M5 10V12C5 15.87 8.13 19 12 19C12.69 19 13.35 18.89 13.97 18.7\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 895,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M9 1V4\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 896,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M15 1V4\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 897,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M12 19V23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 898,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M8 23H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 899,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 892,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 879,\n                                columnNumber: 13\n                            }, this),\n                            callInfo.type === \"video\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: `call-control-btn ${!isVideoEnabled ? \"call-control-muted\" : \"\"}`,\n                                onClick: toggleVideo,\n                                title: isVideoEnabled ? \"Tt camera\" : \"Bt camera\",\n                                children: isVideoEnabled ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M23 7L16 12L23 17V7Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 913,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 914,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 912,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M1 1L23 23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 918,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M16 12L23 7V17L16 12Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 919,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                            lineNumber: 920,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 917,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 906,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"call-control-btn call-control-end\",\n                                onClick: handleEndCall,\n                                title: \"Kt th\\xfac cuc gi\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M3 5C3 3.89543 3.89543 3 5 3H8.27924C8.70967 3 9.09181 3.27543 9.22792 3.68377L10.7257 8.17721C10.8831 8.64932 10.6694 9.16531 10.2243 9.38787L7.96701 10.5165C9.06925 12.9612 11.0388 14.9308 13.4835 16.033L14.6121 13.7757C14.8347 13.3306 15.3507 13.1169 15.8228 13.2743L20.3162 14.7721C20.7246 14.9082 21 15.2903 21 15.7208V19C21 20.1046 20.1046 21 19 21H18C9.71573 21 3 14.2843 3 6V5Z\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                        lineNumber: 933,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                    lineNumber: 932,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 927,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 823,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 796,\n                columnNumber: 7\n            }, this),\n            canUseEnhancements && isScreenSharing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-screen-share-indicator\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"ang chia s m\\xe0n h\\xecnh\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 941,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: handleScreenShareToggle,\n                        children: \"Dng chia s\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 942,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 940,\n                columnNumber: 9\n            }, this),\n            canUseEnhancements && showFilterPanel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"call-filter-panel\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-filter-panel__header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"B lc & hiu ng\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 951,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setShowFilterPanel(false),\n                                \"aria-label\": \"\\xf3ng\",\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 952,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 950,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-filter-panel__list\",\n                        children: filterOptions.map((option)=>{\n                            const active = currentFilter === option.id;\n                            const disabled = isScreenSharing;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: `filter-option ${active ? \"active\" : \"\"} ${disabled ? \"disabled\" : \"\"}`,\n                                onClick: ()=>!disabled && handleFilterSelect(option.id),\n                                disabled: disabled,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"filter-option__emoji\",\n                                        children: option.emoji\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                        lineNumber: 966,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"filter-option__label\",\n                                        children: option.label\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                        lineNumber: 967,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, option.id, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                                lineNumber: 959,\n                                columnNumber: 17\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 954,\n                        columnNumber: 11\n                    }, this),\n                    isScreenSharing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"call-filter-panel__notice\",\n                        children: \"Tt chia s m\\xe0n h\\xecnh  s dng b lc.\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                        lineNumber: 973,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n                lineNumber: 949,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\features\\\\call\\\\screens\\\\CallScreen.web.tsx\",\n        lineNumber: 687,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2ZlYXR1cmVzL2NhbGwvc2NyZWVucy9DYWxsU2NyZWVuLndlYi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUUyRDtBQUNNO0FBQ1Y7QUFPakM7QUFDc0I7QUFDcUI7QUFDTTtBQUNyQztBQUVuQixTQUFTZTtJQUN0QixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR2YsK0NBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQ2dCLFVBQVVDLFlBQVksR0FBR2pCLCtDQUFRQSxDQVE5QjtJQUNWLE1BQU0sQ0FBQ2tCLGFBQWFDLGVBQWUsR0FBR25CLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ29CLGFBQWFDLGVBQWUsR0FBR3JCLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUNzQixtQkFBbUJDLHFCQUFxQixHQUFHdkIsK0NBQVFBLENBQUM7SUFFM0Qsc0NBQXNDO0lBQ3RDRCxnREFBU0EsQ0FBQztRQUNSLElBQUksSUFBa0IsRUFBYTtRQUVuQyxJQUFJO1lBQ0YsTUFBTXlCLE1BQU1DLE9BQU9DLFlBQVksQ0FBQ0MsT0FBTyxDQUFDO1lBQ3hDTixlQUFlRztRQUNqQixFQUFFLE9BQU9JLEtBQUs7WUFDWkMsUUFBUUMsSUFBSSxDQUFDLHlEQUF5REY7UUFDeEU7UUFFQSxNQUFNRyxTQUFTLElBQUlDLGdCQUFnQlAsT0FBT1EsUUFBUSxDQUFDRixNQUFNO1FBQ3pELE1BQU1HLFlBQVlILE9BQU9JLEdBQUcsQ0FBQztRQUM3QixNQUFNQyxvQkFBb0JMLE9BQU9JLEdBQUcsQ0FBQztRQUNyQ04sUUFBUVEsR0FBRyxDQUFDLG1DQUFtQztZQUFFSDtZQUFXRTtRQUFrQjtRQUM5RSxJQUFJRixXQUFXO1lBQ2JuQixVQUFVbUI7UUFDWjtRQUNBLElBQUlFLG1CQUFtQjtZQUNyQm5CLFlBQVksQ0FBQ3FCLE9BQ1hBLE9BQ0k7b0JBQUUsR0FBR0EsSUFBSTtvQkFBRUMsZ0JBQWdCSDtnQkFBa0IsSUFDN0M7b0JB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LHFCQUNFLDhEQUFDMEg7Z0NBRUNwSyxNQUFLO2dDQUNMbUksV0FBVyxDQUFDLGNBQWMsRUFBRWlELFNBQVMsV0FBVyxHQUFHLENBQUMsRUFBRUMsV0FBVyxhQUFhLEdBQUcsQ0FBQztnQ0FDbEZoQixTQUFTLElBQU0sQ0FBQ2dCLFlBQVloRSxtQkFBbUI4RCxPQUFPMUssRUFBRTtnQ0FDeEQ0SyxVQUFVQTs7a0RBRVYsOERBQUNKO3dDQUFLOUMsV0FBVTtrREFBd0JnRCxPQUFPeEssS0FBSzs7Ozs7O2tEQUNwRCw4REFBQ3NLO3dDQUFLOUMsV0FBVTtrREFBd0JnRCxPQUFPekssS0FBSzs7Ozs7OzsrQkFQL0N5SyxPQUFPMUssRUFBRTs7Ozs7d0JBVXBCOzs7Ozs7b0JBRURpQyxpQ0FDQyw4REFBQ3dGO3dCQUFJQyxXQUFVO2tDQUE0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL2ZlYXR1cmVzL2NhbGwvc2NyZWVucy9DYWxsU2NyZWVuLndlYi50c3g/YTlmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVdlYlJUQywgRmlsdGVyVHlwZSB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVdlYlJUQyc7XG5pbXBvcnQgeyB1c2VMaXZlS2l0IH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlTGl2ZUtpdCc7XG5pbXBvcnQge1xuICBnZXRDYWxsLFxuICBlbmRDYWxsIGFzIGVuZENhbGxBUEksXG4gIGFjY2VwdENhbGwsXG4gIHJlamVjdENhbGwsXG4gIGdldExpdmVLaXRUb2tlbixcbn0gZnJvbSAnLi4vLi4vLi4vYXBpJztcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gJy4uLy4uLy4uL3NvY2tldCc7XG5pbXBvcnQgeyB1c2VPcHBvbmVudEluZm8gfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VPcHBvbmVudEluZm8nO1xuaW1wb3J0IHsgR3JvdXBDYWxsR3JpZCB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY2FsbC9Hcm91cENhbGxHcmlkJztcbmltcG9ydCAnLi4vLi4vLi4vc3R5bGVzL2NhbGwuY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FsbFNjcmVlbigpIHtcbiAgY29uc3QgW2NhbGxJZCwgc2V0Q2FsbElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY2FsbEluZm8sIHNldENhbGxJbmZvXSA9IHVzZVN0YXRlPHtcbiAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nO1xuICAgIGluaXRpYXRvcklkOiBzdHJpbmc7XG4gICAgcmVtb3RlVXNlcklkOiBzdHJpbmc7XG4gICAgdHlwZTogJ3ZpZGVvJyB8ICdhdWRpbyc7XG4gICAgY2FsbFR5cGU/OiAncDJwJyB8ICdzZnUnO1xuICAgIGxpdmVraXRSb29tTmFtZT86IHN0cmluZztcbiAgICBwYXJ0aWNpcGFudHM/OiBzdHJpbmdbXTtcbiAgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNJbml0aWF0b3IsIHNldElzSW5pdGlhdG9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvY2FsVXNlcklkLCBzZXRMb2NhbFVzZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2FjY2VwdGVkRnJvbU1vZGFsLCBzZXRBY2NlcHRlZEZyb21Nb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUmVhZCB1c2VyIGlkICYgVVJMIHBhcmFtcyBvbiBjbGllbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1aWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcbiAgICAgIHNldExvY2FsVXNlcklkKHVpZCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tDYWxsU2NyZWVuXSBVbmFibGUgdG8gcmVhZCB1c2VyX2lkIGZyb20gbG9jYWxTdG9yYWdlJywgZXJyKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGNvbnN0IHVybENhbGxJZCA9IHNlYXJjaC5nZXQoJ2NhbGxJZCcpO1xuICAgIGNvbnN0IHVybENvbnZlcnNhdGlvbklkID0gc2VhcmNoLmdldCgnY29udmVyc2F0aW9uSWQnKTtcbiAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFBhcnNlZCBVUkwgcGFyYW1zOicsIHsgdXJsQ2FsbElkLCB1cmxDb252ZXJzYXRpb25JZCB9KTtcbiAgICBpZiAodXJsQ2FsbElkKSB7XG4gICAgICBzZXRDYWxsSWQodXJsQ2FsbElkKTtcbiAgICB9XG4gICAgaWYgKHVybENvbnZlcnNhdGlvbklkKSB7XG4gICAgICBzZXRDYWxsSW5mbygocHJldikgPT5cbiAgICAgICAgcHJldlxuICAgICAgICAgID8geyAuLi5wcmV2LCBjb252ZXJzYXRpb25JZDogdXJsQ29udmVyc2F0aW9uSWQgfVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogdXJsQ29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgIGluaXRpYXRvcklkOiBsb2NhbFVzZXJJZCB8fCAnJyxcbiAgICAgICAgICAgICAgcmVtb3RlVXNlcklkOiAnJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9LCBbbG9jYWxVc2VySWRdKTtcblxuICAvLyBMb2cgY29tcG9uZW50IGxpZmVjeWNsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ29tcG9uZW50IG1vdW50ZWQsIGNhbGxJZDonLCBjYWxsSWQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENvbXBvbmVudCB1bm1vdW50aW5nLCBjYWxsSWQ6JywgY2FsbElkKTtcbiAgICB9O1xuICB9LCBbY2FsbElkXSk7XG4gIGNvbnN0IFtjYWxsRHVyYXRpb24sIHNldENhbGxEdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2NhbGxTdGFydFRpbWUsIHNldENhbGxTdGFydFRpbWVdID0gdXNlU3RhdGU8RGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkdXJhdGlvbkludGVydmFsUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgeyBpbmZvOiBvcHBvbmVudEluZm8gfSA9IHVzZU9wcG9uZW50SW5mbyhjYWxsSW5mbz8uY29udmVyc2F0aW9uSWQgfHwgJycpO1xuXG4gIGNvbnN0IGZpbHRlck9wdGlvbnM6IEFycmF5PHsgaWQ6IEZpbHRlclR5cGU7IGxhYmVsOiBzdHJpbmc7IGVtb2ppOiBzdHJpbmcgfT4gPSBbXG4gICAgeyBpZDogJ25vbmUnLCBsYWJlbDogJ0fhu5FjJywgZW1vamk6ICfwn5mCJyB9LFxuICAgIHsgaWQ6ICdiZWF1dHknLCBsYWJlbDogJ03hu4tuJywgZW1vamk6ICfinKgnIH0sXG4gICAgeyBpZDogJ3dhcm0nLCBsYWJlbDogJ+G6pG0nLCBlbW9qaTogJ/CfjIUnIH0sXG4gICAgeyBpZDogJ2Nvb2wnLCBsYWJlbDogJ03DoXQnLCBlbW9qaTogJ+KdhO+4jycgfSxcbiAgICB7IGlkOiAncGFydHknLCBsYWJlbDogJ1BhcnR5JywgZW1vamk6ICfwn46JJyB9LFxuICAgIHsgaWQ6ICdiaXJ0aGRheScsIGxhYmVsOiAnU2luaCBuaOG6rXQnLCBlbW9qaTogJ/CfjoInIH0sXG4gIF07XG4gIGNvbnN0IFtzaG93RmlsdGVyUGFuZWwsIHNldFNob3dGaWx0ZXJQYW5lbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gTGl2ZUtpdCBzdGF0ZVxuICBjb25zdCBbbGl2ZUtpdFRva2VuLCBzZXRMaXZlS2l0VG9rZW5dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsaXZlS2l0VXJsLCBzZXRMaXZlS2l0VXJsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuXG4gIC8vIENo4buJIHPhu60gZOG7pW5nIHVzZVdlYlJUQyBjaG8gUDJQIGNhbGxzXG4gIGNvbnN0IGlzUDJQQ2FsbCA9ICFjYWxsSW5mbz8uY2FsbFR5cGUgfHwgY2FsbEluZm8uY2FsbFR5cGUgPT09ICdwMnAnO1xuICBcbiAgLy8gTHXDtG4gZ+G7jWkgdXNlV2ViUlRDIMSR4buDIMSR4bqjbSBi4bqjbyBob29rcyBvcmRlciBraMO0bmcgxJHhu5VpXG4gIGNvbnN0IHtcbiAgICBsb2NhbFN0cmVhbTogcDJwTG9jYWxTdHJlYW0sXG4gICAgcmVtb3RlU3RyZWFtOiBwMnBSZW1vdGVTdHJlYW0sXG4gICAgaXNDb25uZWN0ZWQ6IHAycElzQ29ubmVjdGVkLFxuICAgIGVycm9yOiBwMnBFcnJvcixcbiAgICBzdGFydENhbGwsXG4gICAgZW5kQ2FsbDogZW5kV2ViUlRDLFxuICAgIHRvZ2dsZVZpZGVvOiBwMnBUb2dnbGVWaWRlbyxcbiAgICB0b2dnbGVBdWRpbzogcDJwVG9nZ2xlQXVkaW8sXG4gICAgaXNWaWRlb0VuYWJsZWQ6IHAycElzVmlkZW9FbmFibGVkLFxuICAgIGlzQXVkaW9FbmFibGVkOiBwMnBJc0F1ZGlvRW5hYmxlZCxcbiAgICBhcHBseUZpbHRlcixcbiAgICBjdXJyZW50RmlsdGVyLFxuICAgIHN0YXJ0U2NyZWVuU2hhcmUsXG4gICAgc3RvcFNjcmVlblNoYXJlLFxuICAgIGlzU2NyZWVuU2hhcmluZyxcbiAgICBsb2NhbFZpZGVvUmVmLFxuICAgIHJlbW90ZVZpZGVvUmVmLFxuICB9ID0gdXNlV2ViUlRDKHtcbiAgICBjYWxsSWQ6IGNhbGxJZCB8fCAnJyxcbiAgICBjb252ZXJzYXRpb25JZDogY2FsbEluZm8/LmNvbnZlcnNhdGlvbklkIHx8ICcnLFxuICAgIGlzSW5pdGlhdG9yOiBpc0luaXRpYXRvcixcbiAgICBsb2NhbFVzZXJJZDogbG9jYWxVc2VySWQgfHwgJycsXG4gICAgcmVtb3RlVXNlcklkOiBjYWxsSW5mbz8ucmVtb3RlVXNlcklkIHx8ICcnLFxuICB9KTtcblxuICAvLyBMdcO0biBn4buNaSB1c2VMaXZlS2l0IMSR4buDIMSR4bqjbSBi4bqjbyBob29rcyBvcmRlciBraMO0bmcgxJHhu5VpXG4gIGNvbnN0IHtcbiAgICBsb2NhbFN0cmVhbTogbGl2ZUtpdExvY2FsU3RyZWFtLFxuICAgIHJlbW90ZVN0cmVhbXM6IGxpdmVLaXRSZW1vdGVTdHJlYW1zLFxuICAgIGlzQ29ubmVjdGVkOiBsaXZlS2l0SXNDb25uZWN0ZWQsXG4gICAgZXJyb3I6IGxpdmVLaXRFcnJvcixcbiAgICBjb25uZWN0OiBjb25uZWN0TGl2ZUtpdCxcbiAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0TGl2ZUtpdCxcbiAgICB0b2dnbGVWaWRlbzogbGl2ZUtpdFRvZ2dsZVZpZGVvLFxuICAgIHRvZ2dsZUF1ZGlvOiBsaXZlS2l0VG9nZ2xlQXVkaW8sXG4gICAgaXNWaWRlb0VuYWJsZWQ6IGxpdmVLaXRJc1ZpZGVvRW5hYmxlZCxcbiAgICBpc0F1ZGlvRW5hYmxlZDogbGl2ZUtpdElzQXVkaW9FbmFibGVkLFxuICB9ID0gdXNlTGl2ZUtpdCh7XG4gICAgcm9vbU5hbWU6IGNhbGxJbmZvPy5saXZla2l0Um9vbU5hbWUgfHwgJycsXG4gICAgdG9rZW46IGxpdmVLaXRUb2tlbiB8fCAnJyxcbiAgICB1cmw6IGxpdmVLaXRVcmwsXG4gIH0pO1xuXG4gIC8vIENo4buNbiBzdHJlYW0gdsOgIGNvbnRyb2xzIGThu7FhIHRyw6puIGNhbGwgdHlwZVxuICBjb25zdCBsb2NhbFN0cmVhbSA9IGlzUDJQQ2FsbCA/IHAycExvY2FsU3RyZWFtIDogbGl2ZUtpdExvY2FsU3RyZWFtO1xuICBjb25zdCByZW1vdGVTdHJlYW0gPSBpc1AyUENhbGwgPyBwMnBSZW1vdGVTdHJlYW0gOiBudWxsO1xuICBjb25zdCBpc0Nvbm5lY3RlZCA9IGlzUDJQQ2FsbCA/IHAycElzQ29ubmVjdGVkIDogbGl2ZUtpdElzQ29ubmVjdGVkO1xuICBjb25zdCBlcnJvciA9IGlzUDJQQ2FsbCA/IHAycEVycm9yIDogbGl2ZUtpdEVycm9yO1xuICBjb25zdCB0b2dnbGVWaWRlbyA9IGlzUDJQQ2FsbCA/IHAycFRvZ2dsZVZpZGVvIDogbGl2ZUtpdFRvZ2dsZVZpZGVvO1xuICBjb25zdCB0b2dnbGVBdWRpbyA9IGlzUDJQQ2FsbCA/IHAycFRvZ2dsZUF1ZGlvIDogbGl2ZUtpdFRvZ2dsZUF1ZGlvO1xuICBjb25zdCBpc1ZpZGVvRW5hYmxlZCA9IGlzUDJQQ2FsbCA/IHAycElzVmlkZW9FbmFibGVkIDogbGl2ZUtpdElzVmlkZW9FbmFibGVkO1xuICBjb25zdCBpc0F1ZGlvRW5hYmxlZCA9IGlzUDJQQ2FsbCA/IHAycElzQXVkaW9FbmFibGVkIDogbGl2ZUtpdElzQXVkaW9FbmFibGVkO1xuICBjb25zdCBjYW5Vc2VFbmhhbmNlbWVudHMgPSBpc1AyUENhbGwgJiYgKGNhbGxJbmZvPy50eXBlID09PSAndmlkZW8nKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FuVXNlRW5oYW5jZW1lbnRzKSB7XG4gICAgICBzZXRTaG93RmlsdGVyUGFuZWwoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NhblVzZUVuaGFuY2VtZW50c10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUZpbHRlclBhbmVsID0gKCkgPT4ge1xuICAgIGlmICghY2FuVXNlRW5oYW5jZW1lbnRzKSByZXR1cm47XG4gICAgc2V0U2hvd0ZpbHRlclBhbmVsKChwcmV2KSA9PiAhcHJldik7XG4gIH07XG5cbiAgLy8gUmVmIHRvIHRyYWNrIGlmIHdlJ3ZlIGFscmVhZHkgYXV0by1zdGFydGVkXG4gIGNvbnN0IGhhc0F1dG9TdGFydGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgLy8gUmVmIHRvIHN0b3JlIGxhdGVzdCBzdGFydENhbGwgZnVuY3Rpb24gdG8gYXZvaWQgcmUtdHJpZ2dlcmluZ1xuICBjb25zdCBzdGFydENhbGxSZWYgPSB1c2VSZWYoc3RhcnRDYWxsKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzdGFydENhbGxSZWYuY3VycmVudCA9IHN0YXJ0Q2FsbDtcbiAgfSwgW3N0YXJ0Q2FsbF0pO1xuXG4gIC8vIENhbGN1bGF0ZSBjYWxsIGR1cmF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQ29ubmVjdGVkICYmIGNhbGxTdGFydFRpbWUpIHtcbiAgICAgIGR1cmF0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBjYWxsU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwKTtcbiAgICAgICAgc2V0Q2FsbER1cmF0aW9uKGRpZmYpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkdXJhdGlvbkludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChkdXJhdGlvbkludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICBkdXJhdGlvbkludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZHVyYXRpb25JbnRlcnZhbFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZHVyYXRpb25JbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbaXNDb25uZWN0ZWQsIGNhbGxTdGFydFRpbWVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0Nvbm5lY3RlZCAmJiAhY2FsbFN0YXJ0VGltZSkge1xuICAgICAgc2V0Q2FsbFN0YXJ0VGltZShuZXcgRGF0ZSgpKTtcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RlZCwgY2FsbFN0YXJ0VGltZV0pO1xuXG4gIC8vIEZvcm1hdCBkdXJhdGlvbiBhcyBNTTpTUyBvciBISDpNTTpTU1xuICBjb25zdCBmb3JtYXREdXJhdGlvbiA9IChzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gMzYwMCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHNlY29uZHMgJSAzNjAwKSAvIDYwKTtcbiAgICBjb25zdCBzZWNzID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgaWYgKGhvdXJzID4gMCkge1xuICAgICAgcmV0dXJuIGAke2hvdXJzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FsbElkIHx8ICFsb2NhbFVzZXJJZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbG9hZENhbGxJbmZvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBMb2FkaW5nIGNhbGwgaW5mbyBmb3IgY2FsbElkOicsIGNhbGxJZCk7XG4gICAgICAgIGNvbnN0IGNhbGwgPSBhd2FpdCBnZXRDYWxsKGNhbGxJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ2FsbCBpbmZvIGxvYWRlZDonLCBjYWxsKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlbW90ZVVzZXJJZCA9IGNhbGwucGFydGljaXBhbnRzLmZpbmQoKGlkKSA9PiBTdHJpbmcoaWQpICE9PSBsb2NhbFVzZXJJZCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGlzSW5pdCA9IFN0cmluZyhjYWxsLmluaXRpYXRvcklkKSA9PT0gbG9jYWxVc2VySWQ7XG4gICAgICAgIGNvbnN0IGNhbGxUeXBlID0gY2FsbC5jYWxsVHlwZSB8fCAncDJwJztcblxuICAgICAgICBzZXRDYWxsSW5mbyh7XG4gICAgICAgICAgY29udmVyc2F0aW9uSWQ6IFN0cmluZyhjYWxsLmNvbnZlcnNhdGlvbklkKSxcbiAgICAgICAgICBpbml0aWF0b3JJZDogU3RyaW5nKGNhbGwuaW5pdGlhdG9ySWQpLFxuICAgICAgICAgIHJlbW90ZVVzZXJJZDogU3RyaW5nKHJlbW90ZVVzZXJJZCksXG4gICAgICAgICAgdHlwZTogY2FsbC50eXBlLFxuICAgICAgICAgIGNhbGxUeXBlOiBjYWxsVHlwZSxcbiAgICAgICAgICBsaXZla2l0Um9vbU5hbWU6IGNhbGwubWV0YWRhdGE/LmxpdmVraXRSb29tTmFtZSxcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IGNhbGwucGFydGljaXBhbnRzLm1hcChwID0+IFN0cmluZyhwKSksXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRJc0luaXRpYXRvcihpc0luaXQpO1xuXG4gICAgICAgIC8vIE7hur91IGzDoCBjdeG7mWMgZ+G7jWkgbmjDs20sIGzhuqV5IExpdmVLaXQgdG9rZW5cbiAgICAgICAgaWYgKGNhbGxUeXBlID09PSAnc2Z1JyAmJiBjYWxsLm1ldGFkYXRhPy5saXZla2l0Um9vbU5hbWUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gYXdhaXQgZ2V0TGl2ZUtpdFRva2VuKGNhbGxJZCk7XG4gICAgICAgICAgICBzZXRMaXZlS2l0VG9rZW4odG9rZW5EYXRhLnRva2VuKTtcbiAgICAgICAgICAgIHNldExpdmVLaXRVcmwodG9rZW5EYXRhLnVybCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIExpdmVLaXQgdG9rZW4gb2J0YWluZWQnKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBnZXR0aW5nIExpdmVLaXQgdG9rZW46JywgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIEVycm9yIGxvYWRpbmcgY2FsbCBpbmZvOicsIGVycm9yKTtcbiAgICAgICAgLy8gSWYgY2FsbCBub3QgZm91bmQsIHRyeSB0byBnZXQgaW5mbyBmcm9tIHNvY2tldCBvciB1c2UgZmFsbGJhY2tcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignW0NhbGxTY3JlZW5dIENhbGwgbm90IGZvdW5kICg0MDQpLCB0cnlpbmcgc29ja2V0IGV2ZW50cy4uLicpO1xuICAgICAgICAgIC8vIFRyeSB0byBnZXQgaW5mbyBmcm9tIHNvY2tldCBldmVudHMgaW5zdGVhZFxuICAgICAgICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xuICAgICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgY2FsbCBpbmZvIGZyb20gc29ja2V0XG4gICAgICAgICAgICBzb2NrZXQub25jZSgnY2FsbDppbmZvJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZGF0YS5jYWxsSWQgPT09IGNhbGxJZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gR290IGNhbGwgaW5mbyBmcm9tIHNvY2tldDonLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBzZXRDYWxsSW5mbyh7XG4gICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogZGF0YS5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgIGluaXRpYXRvcklkOiBkYXRhLmluaXRpYXRvcklkLFxuICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlcklkOiBkYXRhLnJlbW90ZVVzZXJJZCB8fCBkYXRhLmluaXRpYXRvcklkLFxuICAgICAgICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlIHx8ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0SXNJbml0aWF0b3IoU3RyaW5nKGRhdGEuaW5pdGlhdG9ySWQpID09PSBsb2NhbFVzZXJJZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBbHNvIGxpc3RlbiBmb3IgaW5jb21pbmcgY2FsbCBldmVudFxuICAgICAgICAgICAgc29ja2V0Lm9uY2UoJ2NhbGw6aW5jb21pbmcnLCAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxJZCA9PT0gY2FsbElkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBHb3QgY2FsbCBpbmZvIGZyb20gY2FsbDppbmNvbWluZzonLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBzZXRDYWxsSW5mbyh7XG4gICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogZGF0YS5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgIGluaXRpYXRvcklkOiBkYXRhLmluaXRpYXRvcklkLFxuICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlcklkOiBkYXRhLmluaXRpYXRvcklkLCAvLyBGb3IgaW5jb21pbmcsIGluaXRpYXRvciBpcyB0aGUgcmVtb3RlIHVzZXJcbiAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSB8fCAndmlkZW8nLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldElzSW5pdGlhdG9yKGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRDYWxsSW5mbygpO1xuXG4gICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XG4gICAgaWYgKHNvY2tldCkge1xuICAgICAgY29uc3QgaGFuZGxlQ2FsbEluY29taW5nID0gYXN5bmMgKGRhdGE6IHtcbiAgICAgICAgY2FsbElkOiBzdHJpbmc7XG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7XG4gICAgICAgIGluaXRpYXRvcklkOiBzdHJpbmc7XG4gICAgICAgIHR5cGU6ICd2aWRlbycgfCAnYXVkaW8nO1xuICAgICAgICBjYWxsVHlwZT86ICdwMnAnIHwgJ3NmdSc7XG4gICAgICAgIGxpdmVraXRSb29tTmFtZT86IHN0cmluZztcbiAgICAgICAgcGFydGljaXBhbnRzPzogc3RyaW5nW107XG4gICAgICAgIHJlbW90ZVVzZXJJZD86IHN0cmluZztcbiAgICAgIH0pID0+IHtcbiAgICAgICAgaWYgKGRhdGEuY2FsbElkICE9PSBjYWxsSWQpIHJldHVybjtcblxuICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFJlY2VpdmVkIGNhbGw6aW5jb21pbmcgZXZlbnQ6JywgZGF0YSk7XG4gICAgICAgIHNldENhbGxJbmZvKHtcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogZGF0YS5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICBpbml0aWF0b3JJZDogZGF0YS5pbml0aWF0b3JJZCxcbiAgICAgICAgICByZW1vdGVVc2VySWQ6IGRhdGEucmVtb3RlVXNlcklkIHx8IGRhdGEuaW5pdGlhdG9ySWQsXG4gICAgICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgICAgIGNhbGxUeXBlOiBkYXRhLmNhbGxUeXBlIHx8ICdwMnAnLFxuICAgICAgICAgIGxpdmVraXRSb29tTmFtZTogZGF0YS5saXZla2l0Um9vbU5hbWUsXG4gICAgICAgICAgcGFydGljaXBhbnRzOiBkYXRhLnBhcnRpY2lwYW50cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldElzSW5pdGlhdG9yKGZhbHNlKTtcblxuICAgICAgICAvLyBO4bq/dSBsw6AgY3Xhu5ljIGfhu41pIG5ow7NtLCBs4bqleSBMaXZlS2l0IHRva2VuXG4gICAgICAgIGlmIChkYXRhLmNhbGxUeXBlID09PSAnc2Z1JyAmJiBkYXRhLmxpdmVraXRSb29tTmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBhd2FpdCBnZXRMaXZlS2l0VG9rZW4oY2FsbElkKTtcbiAgICAgICAgICAgIHNldExpdmVLaXRUb2tlbih0b2tlbkRhdGEudG9rZW4pO1xuICAgICAgICAgICAgc2V0TGl2ZUtpdFVybCh0b2tlbkRhdGEudXJsKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gTGl2ZUtpdCB0b2tlbiBvYnRhaW5lZCBmcm9tIGluY29taW5nIGNhbGwnKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBnZXR0aW5nIExpdmVLaXQgdG9rZW46JywgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGhhbmRsZUNhbGxJbmZvID0gKGRhdGE6IHtcbiAgICAgICAgY2FsbElkOiBzdHJpbmc7XG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmc7XG4gICAgICAgIGluaXRpYXRvcklkOiBzdHJpbmc7XG4gICAgICAgIHBhcnRpY2lwYW50czogc3RyaW5nW107XG4gICAgICAgIHR5cGU6ICd2aWRlbycgfCAnYXVkaW8nO1xuICAgICAgfSkgPT4ge1xuICAgICAgICBpZiAoZGF0YS5jYWxsSWQgIT09IGNhbGxJZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gUmVjZWl2ZWQgY2FsbDppbmZvIGV2ZW50OicsIGRhdGEpO1xuICAgICAgICBjb25zdCByZW1vdGVVc2VySWQgPSBkYXRhLnBhcnRpY2lwYW50cy5maW5kKChpZCkgPT4gU3RyaW5nKGlkKSAhPT0gbG9jYWxVc2VySWQpIHx8ICcnO1xuICAgICAgICBjb25zdCBpc0luaXQgPSBTdHJpbmcoZGF0YS5pbml0aWF0b3JJZCkgPT09IGxvY2FsVXNlcklkO1xuXG4gICAgICAgIHNldENhbGxJbmZvKHtcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogZGF0YS5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICBpbml0aWF0b3JJZDogU3RyaW5nKGRhdGEuaW5pdGlhdG9ySWQpLFxuICAgICAgICAgIHJlbW90ZVVzZXJJZDogU3RyaW5nKHJlbW90ZVVzZXJJZCksXG4gICAgICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0SXNJbml0aWF0b3IoaXNJbml0KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGhhbmRsZUNhbGxBY2NlcHRlZCA9IChkYXRhOiB7XG4gICAgICAgIGNhbGxJZDogc3RyaW5nO1xuICAgICAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZztcbiAgICAgICAgaW5pdGlhdG9ySWQ/OiBzdHJpbmc7XG4gICAgICAgIHJlbW90ZVVzZXJJZD86IHN0cmluZztcbiAgICAgICAgdHlwZT86ICd2aWRlbycgfCAnYXVkaW8nO1xuICAgICAgICBwYXJ0aWNpcGFudHM/OiBzdHJpbmdbXTtcbiAgICAgIH0pID0+IHtcbiAgICAgICAgaWYgKGRhdGEuY2FsbElkICE9PSBjYWxsSWQpIHJldHVybjtcblxuICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFJlY2VpdmVkIGNhbGw6YWNjZXB0ZWQgZXZlbnQ6JywgZGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgY2FsbCBpbmZvIGlmIHByb3ZpZGVkXG4gICAgICAgIGlmIChkYXRhLmNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgY29uc3QgcmVtb3RlVXNlcklkID0gZGF0YS5wYXJ0aWNpcGFudHMgXG4gICAgICAgICAgICA/IGRhdGEucGFydGljaXBhbnRzLmZpbmQoKGlkKSA9PiBTdHJpbmcoaWQpICE9PSBsb2NhbFVzZXJJZCkgfHwgJydcbiAgICAgICAgICAgIDogZGF0YS5yZW1vdGVVc2VySWQgfHwgJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0Q2FsbEluZm8ocHJldiA9PiBwcmV2ID8ge1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBkYXRhLmNvbnZlcnNhdGlvbklkISxcbiAgICAgICAgICAgIHJlbW90ZVVzZXJJZDogcmVtb3RlVXNlcklkIHx8IHByZXYucmVtb3RlVXNlcklkLFxuICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlIHx8IHByZXYudHlwZSxcbiAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGRhdGEuY29udmVyc2F0aW9uSWQhLFxuICAgICAgICAgICAgaW5pdGlhdG9ySWQ6IGRhdGEuaW5pdGlhdG9ySWQgfHwgbG9jYWxVc2VySWQsXG4gICAgICAgICAgICByZW1vdGVVc2VySWQ6IHJlbW90ZVVzZXJJZCxcbiAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSB8fCAndmlkZW8nLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB3ZSdyZSB0aGUgaW5pdGlhdG9yIGFuZCBjYWxsIGlzIGFjY2VwdGVkLCBhdXRvLXN0YXJ0IHRoZSBjYWxsXG4gICAgICAgIC8vIE9ubHkgYXV0by1zdGFydCBvbmNlXG4gICAgICAgIGlmIChpc0luaXRpYXRvciAmJiAhaXNDb25uZWN0ZWQgJiYgIWhhc0F1dG9TdGFydGVkUmVmLmN1cnJlbnQgJiYgY2FsbEluZm8pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENhbGwgYWNjZXB0ZWQsIGF1dG8tc3RhcnRpbmcgY2FsbC4uLicpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ2FsbEluZm8gYXZhaWxhYmxlOicsIGNhbGxJbmZvKTtcbiAgICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQXR0ZW1wdGluZyB0byBzdGFydCBjYWxsIGFzIGluaXRpYXRvci4uLicpO1xuICAgICAgICAgICAgaWYgKGNhbGxJbmZvLmNhbGxUeXBlID09PSAnc2Z1JyAmJiBsaXZlS2l0VG9rZW4pIHtcbiAgICAgICAgICAgICAgLy8gU3RhcnQgTGl2ZUtpdCBjb25uZWN0aW9uXG4gICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RMaXZlS2l0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBVc2UgcmVmIHRvIGNhbGwgbGF0ZXN0IHN0YXJ0Q2FsbCB3aXRob3V0IHRyaWdnZXJpbmcgcmUtcnVuc1xuICAgICAgICAgICAgICBzdGFydENhbGxSZWYuY3VycmVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ2FsbCBzdGFydGVkIHN1Y2Nlc3NmdWxseSBhcyBpbml0aWF0b3InKTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3IgYXV0by1zdGFydGluZyBjYWxsOicsIGVycik7XG4gICAgICAgICAgICAgICAgaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlOyAvLyBSZXNldCBvbiBlcnJvclxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaGFuZGxlQ2FsbEFjdGl2ZSA9IChkYXRhOiB7XG4gICAgICAgIGNhbGxJZDogc3RyaW5nO1xuICAgICAgICBzdGF0dXM/OiBzdHJpbmc7XG4gICAgICB9KSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmNhbGxJZCAhPT0gY2FsbElkKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gUmVjZWl2ZWQgY2FsbDphY3RpdmUgZXZlbnQ6JywgZGF0YSk7XG4gICAgICAgIC8vIENhbGwgaXMgbm93IGFjdGl2ZSwgZW5zdXJlIHdlJ3JlIGNvbm5lY3RlZFxuICAgICAgfTtcblxuICAgICAgc29ja2V0Lm9uKCdjYWxsOmluY29taW5nJywgaGFuZGxlQ2FsbEluY29taW5nKTtcbiAgICAgIHNvY2tldC5vbignY2FsbDppbmZvJywgaGFuZGxlQ2FsbEluZm8pO1xuICAgICAgc29ja2V0Lm9uKCdjYWxsOmFjY2VwdGVkJywgaGFuZGxlQ2FsbEFjY2VwdGVkKTtcbiAgICAgIHNvY2tldC5vbignY2FsbDphY3RpdmUnLCBoYW5kbGVDYWxsQWN0aXZlKTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc29ja2V0Lm9mZignY2FsbDppbmNvbWluZycsIGhhbmRsZUNhbGxJbmNvbWluZyk7XG4gICAgICAgIHNvY2tldC5vZmYoJ2NhbGw6aW5mbycsIGhhbmRsZUNhbGxJbmZvKTtcbiAgICAgICAgc29ja2V0Lm9mZignY2FsbDphY2NlcHRlZCcsIGhhbmRsZUNhbGxBY2NlcHRlZCk7XG4gICAgICAgIHNvY2tldC5vZmYoJ2NhbGw6YWN0aXZlJywgaGFuZGxlQ2FsbEFjdGl2ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2NhbGxJZCwgbG9jYWxVc2VySWRdKTtcbiAgXG4gIC8vIFJlc2V0IGF1dG8tc3RhcnQgZmxhZyB3aGVuIGNhbGwgY29ubmVjdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgIGhhc0F1dG9TdGFydGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RlZF0pO1xuXG4gIC8vIEF1dG8tc3RhcnQgY2FsbCBmb3IgaW5pdGlhdG9yIHdoZW4gY2FsbEluZm8gaXMgcmVhZHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJbml0aWF0b3I6IGF1dG8tc3RhcnQgaW1tZWRpYXRlbHkgd2hlbiBjYWxsSW5mbyBpcyByZWFkeVxuICAgIGlmIChpc0luaXRpYXRvciAmJiAhaXNDb25uZWN0ZWQgJiYgY2FsbEluZm8gJiYgY2FsbEluZm8uY29udmVyc2F0aW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQXV0by1zdGFydCBlZmZlY3QgdHJpZ2dlcmVkIGZvciBpbml0aWF0b3I6Jywge1xuICAgICAgICBpc0luaXRpYXRvcixcbiAgICAgICAgaXNDb25uZWN0ZWQsXG4gICAgICAgIGNhbGxJbmZvLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCkge1xuICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBTdGFydGluZyBjYWxsIGFzIGluaXRpYXRvciBmcm9tIGF1dG8tc3RhcnQgZWZmZWN0Li4uJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ2FsbEluZm8gZm9yIGluaXRpYXRvcjonLCB7XG4gICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGNhbGxJbmZvLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgIGNhbGxUeXBlOiBjYWxsSW5mby5jYWxsVHlwZSxcbiAgICAgICAgICBsaXZla2l0Um9vbU5hbWU6IGNhbGxJbmZvLmxpdmVraXRSb29tTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKGNhbGxJbmZvLmNhbGxUeXBlID09PSAnc2Z1Jykge1xuICAgICAgICAgICAgLy8gVuG7m2kgU0ZVLCDEkeG7o2kgdG9rZW4gbuG6v3UgY2jGsGEgY8OzXG4gICAgICAgICAgICBpZiAoIWxpdmVLaXRUb2tlbikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFdhaXRpbmcgZm9yIExpdmVLaXQgdG9rZW4uLi4nKTtcbiAgICAgICAgICAgICAgLy8gxJDhu6NpIHThu5FpIMSRYSA1IGdpw6J5IGNobyB0b2tlbiAtIGNoZWNrIHN0YXRlIG3hu5tpIG3hu5dpIGzhuqduXG4gICAgICAgICAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICAgIGxldCBjdXJyZW50VG9rZW4gPSBsaXZlS2l0VG9rZW47XG4gICAgICAgICAgICAgIHdoaWxlICghY3VycmVudFRva2VuICYmIGF0dGVtcHRzIDwgMTApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgLy8gUmUtY2hlY2sgdG9rZW4gdOG7qyBzdGF0ZSAoY+G6p24gZ2V0IHThu6sgY2xvc3VyZSBob+G6t2MgcmVmKVxuICAgICAgICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVHJvbmcgdGjhu7FjIHThur8sIHRva2VuIHPhur0gxJHGsOG7o2Mgc2V0IHF1YSBzZXRMaXZlS2l0VG9rZW4gdHJvbmcgdXNlRWZmZWN0IGtow6FjXG4gICAgICAgICAgICAgICAgLy8gTuG6v3Ugc2F1IDUgZ2nDonkgduG6q24gY2jGsGEgY8OzLCBz4bq9IHRo4butIGNvbm5lY3QgYW55d2F5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gTuG6v3UgduG6q24gY2jGsGEgY8OzIHRva2VuIHNhdSBraGkgxJHhu6NpLCBjw7MgdGjhu4MgdG9rZW4gxJFhbmcgxJHGsOG7o2MgZmV0Y2hcbiAgICAgICAgICAgICAgLy8gVGjhu60gY29ubmVjdCB24bubaSB0b2tlbiBoaeG7h24gdOG6oWkgKGPDsyB0aOG7gyBudWxsLCBob29rIHPhur0geOG7rSBsw70pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGl2ZUtpdFRva2VuIHx8IGNhbGxJbmZvLmxpdmVraXRSb29tTmFtZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENvbm5lY3RpbmcgdG8gTGl2ZUtpdC4uLicsIHsgaGFzVG9rZW46ICEhbGl2ZUtpdFRva2VuIH0pO1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RMaXZlS2l0KCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBjb25uZWN0aW5nIHRvIExpdmVLaXQ6JywgZXJyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIExpdmVLaXQgdG9rZW4gYW5kIHJvb20gbmFtZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjYWxsSW5mby5yZW1vdGVVc2VySWQpIHtcbiAgICAgICAgICAgIC8vIFVzZSByZWYgdG8gY2FsbCBsYXRlc3Qgc3RhcnRDYWxsIHdpdGhvdXQgdHJpZ2dlcmluZyByZS1ydW5zXG4gICAgICAgICAgICBzdGFydENhbGxSZWYuY3VycmVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIOKchSBDYWxsIHN0YXJ0ZWQgYXMgaW5pdGlhdG9yIGZyb20gYXV0by1zdGFydCBlZmZlY3QnKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSDinYwgRXJyb3Igc3RhcnRpbmcgY2FsbCBhcyBpbml0aWF0b3I6JywgZXJyKTtcbiAgICAgICAgICAgICAgaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTm9uLWluaXRpYXRvcjogYXV0by1zdGFydCB3aGVuIGFjY2VwdGVkIGZyb20gbW9kYWxcbiAgICBlbHNlIGlmIChhY2NlcHRlZEZyb21Nb2RhbCAmJiAhaXNJbml0aWF0b3IgJiYgIWlzQ29ubmVjdGVkICYmIGNhbGxJbmZvICYmIGNhbGxJbmZvLmNvbnZlcnNhdGlvbklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIEF1dG8tc3RhcnQgZWZmZWN0IHRyaWdnZXJlZCBmb3Igbm9uLWluaXRpYXRvcjonLCB7XG4gICAgICAgIGFjY2VwdGVkRnJvbU1vZGFsLFxuICAgICAgICBpc0luaXRpYXRvcixcbiAgICAgICAgaXNDb25uZWN0ZWQsXG4gICAgICAgIGNhbGxJbmZvLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCkge1xuICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBTdGFydGluZyBjYWxsIGZyb20gYXV0by1zdGFydCBlZmZlY3QuLi4nKTtcbiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKGNhbGxJbmZvLmNhbGxUeXBlID09PSAnc2Z1Jykge1xuICAgICAgICAgICAgLy8gVuG7m2kgU0ZVLCDEkeG7o2kgdG9rZW4gbuG6v3UgY2jGsGEgY8OzXG4gICAgICAgICAgICBpZiAoIWxpdmVLaXRUb2tlbikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFdhaXRpbmcgZm9yIExpdmVLaXQgdG9rZW4uLi4nKTtcbiAgICAgICAgICAgICAgLy8gxJDhu6NpIHThu5FpIMSRYSA1IGdpw6J5IGNobyB0b2tlbiAtIGNoZWNrIHN0YXRlIG3hu5tpIG3hu5dpIGzhuqduXG4gICAgICAgICAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICAgIGxldCBjdXJyZW50VG9rZW4gPSBsaXZlS2l0VG9rZW47XG4gICAgICAgICAgICAgIHdoaWxlICghY3VycmVudFRva2VuICYmIGF0dGVtcHRzIDwgMTApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgLy8gUmUtY2hlY2sgdG9rZW4gdOG7qyBzdGF0ZSAoY+G6p24gZ2V0IHThu6sgY2xvc3VyZSBob+G6t2MgcmVmKVxuICAgICAgICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVHJvbmcgdGjhu7FjIHThur8sIHRva2VuIHPhur0gxJHGsOG7o2Mgc2V0IHF1YSBzZXRMaXZlS2l0VG9rZW4gdHJvbmcgdXNlRWZmZWN0IGtow6FjXG4gICAgICAgICAgICAgICAgLy8gTuG6v3Ugc2F1IDUgZ2nDonkgduG6q24gY2jGsGEgY8OzLCBz4bq9IHRo4butIGNvbm5lY3QgYW55d2F5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gTuG6v3UgduG6q24gY2jGsGEgY8OzIHRva2VuIHNhdSBraGkgxJHhu6NpLCBjw7MgdGjhu4MgdG9rZW4gxJFhbmcgxJHGsOG7o2MgZmV0Y2hcbiAgICAgICAgICAgICAgLy8gVGjhu60gY29ubmVjdCB24bubaSB0b2tlbiBoaeG7h24gdOG6oWkgKGPDsyB0aOG7gyBudWxsLCBob29rIHPhur0geOG7rSBsw70pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGl2ZUtpdFRva2VuIHx8IGNhbGxJbmZvLmxpdmVraXRSb29tTmFtZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENvbm5lY3RpbmcgdG8gTGl2ZUtpdC4uLicsIHsgaGFzVG9rZW46ICEhbGl2ZUtpdFRva2VuIH0pO1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RMaXZlS2l0KCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBjb25uZWN0aW5nIHRvIExpdmVLaXQ6JywgZXJyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIExpdmVLaXQgdG9rZW4gYW5kIHJvb20gbmFtZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjYWxsSW5mby5yZW1vdGVVc2VySWQpIHtcbiAgICAgICAgICAgIC8vIFVzZSByZWYgdG8gY2FsbCBsYXRlc3Qgc3RhcnRDYWxsIHdpdGhvdXQgdHJpZ2dlcmluZyByZS1ydW5zXG4gICAgICAgICAgICBzdGFydENhbGxSZWYuY3VycmVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIOKchSBDYWxsIHN0YXJ0ZWQgZnJvbSBhdXRvLXN0YXJ0IGVmZmVjdCcpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIOKdjCBFcnJvciBzdGFydGluZyBjYWxsIGZyb20gYXV0by1zdGFydCBlZmZlY3Q6JywgZXJyKTtcbiAgICAgICAgICAgICAgaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVtb3ZlIHN0YXJ0Q2FsbCBmcm9tIGRlcHMgdG8gcHJldmVudCByZS10cmlnZ2VyaW5nXG4gIH0sIFthY2NlcHRlZEZyb21Nb2RhbCwgaXNJbml0aWF0b3IsIGlzQ29ubmVjdGVkLCBjYWxsSW5mbywgbGl2ZUtpdFRva2VuLCBjb25uZWN0TGl2ZUtpdF0pO1xuXG4gIGNvbnN0IGhhbmRsZUFjY2VwdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNhbGxJZCkgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIEFjY2VwdGluZyBjYWxsOicsIGNhbGxJZCk7XG4gICAgICBhd2FpdCBhY2NlcHRDYWxsKGNhbGxJZCk7XG4gICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENhbGwgYWNjZXB0ZWQsIHN0YXJ0aW5nIGNhbGwuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gU3RhcnQgdGhlIGNhbGwgaW1tZWRpYXRlbHkgYWZ0ZXIgYWNjZXB0aW5nXG4gICAgICBpZiAoY2FsbEluZm8/LmNhbGxUeXBlID09PSAnc2Z1JyAmJiBsaXZlS2l0VG9rZW4pIHtcbiAgICAgICAgYXdhaXQgY29ubmVjdExpdmVLaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHN0YXJ0Q2FsbCgpO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBDYWxsIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3IgYWNjZXB0aW5nIGNhbGw6JywgZXJyKTtcbiAgICAgIC8vIFRyeSB0byBzdGFydCBjYWxsIGFueXdheSBpZiBhY2NlcHQgc3VjY2VlZGVkIGJ1dCBzdGFydENhbGwgZmFpbGVkXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoY2FsbEluZm8/LmNhbGxUeXBlID09PSAnc2Z1JyAmJiBsaXZlS2l0VG9rZW4pIHtcbiAgICAgICAgICBhd2FpdCBjb25uZWN0TGl2ZUtpdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IHN0YXJ0Q2FsbCgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzdGFydEVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3Igc3RhcnRpbmcgY2FsbCBhZnRlciBhY2NlcHQ6Jywgc3RhcnRFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZWplY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjYWxsSWQpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcmVqZWN0Q2FsbChjYWxsSWQpO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlamVjdGluZyBjYWxsOicsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVuZENhbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjYWxsSWQpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzUDJQQ2FsbCkge1xuICAgICAgICBlbmRXZWJSVEMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc2Nvbm5lY3RMaXZlS2l0KCk7XG4gICAgICB9XG4gICAgICBhd2FpdCBlbmRDYWxsQVBJKGNhbGxJZCk7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5kaW5nIGNhbGw6JywgZXJyKTtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbHRlclNlbGVjdCA9IGFzeW5jIChmaWx0ZXI6IEZpbHRlclR5cGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXBwbHlGaWx0ZXIoZmlsdGVyKTtcbiAgICAgIHNldFNob3dGaWx0ZXJQYW5lbChmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBhcHBseWluZyBmaWx0ZXI6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTY3JlZW5TaGFyZVRvZ2dsZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzU2NyZWVuU2hhcmluZykge1xuICAgICAgICBhd2FpdCBzdG9wU2NyZWVuU2hhcmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHN0YXJ0U2NyZWVuU2hhcmUoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIFNjcmVlbiBzaGFyZSBlcnJvcjonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIENodXnhu4NuIMSR4buVaSBMaXZlS2l0IHJlbW90ZVN0cmVhbXMgdGjDoG5oIGZvcm1hdCBjaG8gR3JvdXBDYWxsR3JpZFxuICAvLyBQSOG6okkgxJHhurd0IHRyxrDhu5tjIGVhcmx5IHJldHVybnMgxJHhu4MgdHXDom4gdGjhu6cgUnVsZXMgb2YgSG9va3NcbiAgY29uc3QgZ3JvdXBDYWxsUGFydGljaXBhbnRzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGlzUDJQQ2FsbCkgcmV0dXJuIFtdO1xuICAgIFxuICAgIGNvbnN0IHBhcnRpY2lwYW50czogQXJyYXk8eyBwYXJ0aWNpcGFudElkOiBzdHJpbmc7IHN0cmVhbTogTWVkaWFTdHJlYW07IG5hbWU/OiBzdHJpbmc7IGF2YXRhcj86IHN0cmluZyB9PiA9IFtdO1xuICAgIGxpdmVLaXRSZW1vdGVTdHJlYW1zLmZvckVhY2goKHN0cmVhbSwgcGFydGljaXBhbnRJZCkgPT4ge1xuICAgICAgcGFydGljaXBhbnRzLnB1c2goe1xuICAgICAgICBwYXJ0aWNpcGFudElkLFxuICAgICAgICBzdHJlYW0sXG4gICAgICAgIC8vIFRPRE86IEzhuqV5IG5hbWUgdsOgIGF2YXRhciB04burIHBhcnRpY2lwYW50IGluZm9cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XG4gIH0sIFtsaXZlS2l0UmVtb3RlU3RyZWFtcywgaXNQMlBDYWxsXSk7XG5cbiAgY29uc3Qgb3Bwb25lbnROYW1lID0gb3Bwb25lbnRJbmZvPy5uYW1lIHx8ICdVbmtub3duJztcbiAgY29uc3Qgb3Bwb25lbnRBdmF0YXIgPSBvcHBvbmVudEluZm8/LmF2YXRhcjtcblxuICBpZiAoIWNhbGxJZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtc2NyZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1sb2FkaW5nXCI+SW52YWxpZCBjYWxsIElEPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gU2hvdyBsb2FkaW5nIG9ubHkgaWYgd2UgZG9uJ3QgaGF2ZSBjYWxsSW5mbyB5ZXRcbiAgaWYgKCFjYWxsSW5mbykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtc2NyZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1sb2FkaW5nXCI+TG9hZGluZyBjYWxsLi4uPC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIFxuICAgICAgICAgIGJvdHRvbTogJzIwcHgnLCBcbiAgICAgICAgICBsZWZ0OiAnNTAlJywgXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXG4gICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgICAgICAgIGZvbnRTaXplOiAnMTRweCdcbiAgICAgICAgfX0+XG4gICAgICAgICAgQ2FsbCBJRDoge2NhbGxJZH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIFxuICAgICAgICAgIGJvdHRvbTogJzYwcHgnLCBcbiAgICAgICAgICBsZWZ0OiAnNTAlJywgXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXG4gICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICBtYXhXaWR0aDogJzQwMHB4J1xuICAgICAgICB9fT5cbiAgICAgICAgICBO4bq/dSBjYWxsIGtow7RuZyB0w6xtIHRo4bqleSwgY8OzIHRo4buDIMSRw6MgYuG7iyBr4bq/dCB0aMO6YyBob+G6t2MgYmFja2VuZCBjaMawYSBjw7MgZW5kcG9pbnQgR0VUIC9jYWxscy86Y2FsbElkXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYWxsLXNjcmVlblwiPlxuICAgICAgey8qIEdyb3VwIGNhbGwgVUkgKi99XG4gICAgICB7IWlzUDJQQ2FsbCAmJiBjYWxsSW5mby5jYWxsVHlwZSA9PT0gJ3NmdScgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1tYWluLXZpZGVvXCIgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIGJhY2tncm91bmQ6ICcjMDAwJyB9fT5cbiAgICAgICAgICB7aXNDb25uZWN0ZWQgJiYgKGxvY2FsU3RyZWFtIHx8IGdyb3VwQ2FsbFBhcnRpY2lwYW50cy5sZW5ndGggPiAwKSA/IChcbiAgICAgICAgICAgIDxHcm91cENhbGxHcmlkXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50cz17Z3JvdXBDYWxsUGFydGljaXBhbnRzfVxuICAgICAgICAgICAgICBsb2NhbFN0cmVhbT17bG9jYWxTdHJlYW19XG4gICAgICAgICAgICAgIGxvY2FsUGFydGljaXBhbnRJZD17bG9jYWxVc2VySWQgfHwgJyd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsIFxuICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLCBcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBcbiAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZidcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICB7IWxpdmVLaXRUb2tlbiA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzE4cHgnLCBtYXJnaW5Cb3R0b206ICcxMHB4JyB9fT7EkGFuZyBs4bqleSB0b2tlbi4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC42KScgfX0+VnVpIGzDsm5nIMSR4bujaTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogIWlzQ29ubmVjdGVkID8gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMThweCcsIG1hcmdpbkJvdHRvbTogJzEwcHgnIH19PsSQYW5nIGvhur90IG7hu5FpLi4uPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjYpJyB9fT7EkGFuZyB0aGFtIGdpYSBjdeG7mWMgZ+G7jWkgbmjDs208L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzE4cHgnLCBtYXJnaW5Cb3R0b206ICcxMHB4JyB9fT7EkGFuZyB04bqjaSB2aWRlby4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC42KScgfX0+VnVpIGzDsm5nIMSR4bujaTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcyMHB4JywgXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JywgXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsMCwwLDAuMiknLCBcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZjZiNmInXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgey8qIE1haW4gdmlkZW8gYXJlYSAtIHJlbW90ZSB2aWRlbyBvciBhdmF0YXIgKFAyUCkgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYWxsLW1haW4tdmlkZW9cIj5cbiAgICAgICAgICAgIHtyZW1vdGVTdHJlYW0gPyAoXG4gICAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgIHJlZj17cmVtb3RlVmlkZW9SZWZ9XG4gICAgICAgICAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbGwtdmlkZW8tcmVtb3RlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1hdmF0YXItY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAge29wcG9uZW50QXZhdGFyID8gKFxuICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e29wcG9uZW50QXZhdGFyfSBhbHQ9e29wcG9uZW50TmFtZX0gY2xhc3NOYW1lPVwiY2FsbC1hdmF0YXJcIiAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtYXZhdGFyLXBsYWNlaG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHtvcHBvbmVudE5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1uYW1lXCI+e29wcG9uZW50TmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICB7IWlzQ29ubmVjdGVkICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1zdGF0dXNcIj5cbiAgICAgICAgICAgICAgICAgICAge2lzSW5pdGlhdG9yID8gJ8SQYW5nIGfhu41pLi4uJyA6ICdDdeG7mWMgZ+G7jWkgxJHhur9uLi4uJ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBTZWxmLXZpZXcgdmlkZW8gKHNtYWxsLCBib3R0b20gcmlnaHQpIC0gb25seSBzaG93IGlmIHZpZGVvIGNhbGwgYW5kIGhhcyBsb2NhbCBzdHJlYW0gKi99XG4gICAgICAgICAge2NhbGxJbmZvLnR5cGUgPT09ICd2aWRlbycgJiYgbG9jYWxTdHJlYW0gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYWxsLXNlbGYtdmlld1wiPlxuICAgICAgICAgICAgICA8dmlkZW9cbiAgICAgICAgICAgICAgICByZWY9e2xvY2FsVmlkZW9SZWZ9XG4gICAgICAgICAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgICAgICAgIG11dGVkXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FsbC12aWRlby1sb2NhbFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8Lz5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBDYWxsIGR1cmF0aW9uIChib3R0b20gbGVmdCkgKi99XG4gICAgICB7aXNDb25uZWN0ZWQgJiYgY2FsbER1cmF0aW9uID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1kdXJhdGlvblwiPlxuICAgICAgICAgIHtmb3JtYXREdXJhdGlvbihjYWxsRHVyYXRpb24pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBFcnJvciBtZXNzYWdlICovfVxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYWxsLWVycm9yLWJhbm5lclwiPlxuICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogQ2FsbCBjb250cm9scyAoYm90dG9tIGNlbnRlcikgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtY29udHJvbHNcIj5cbiAgICAgICAgeyFpc0luaXRpYXRvciAmJiAhaXNDb25uZWN0ZWQgJiYgIWFjY2VwdGVkRnJvbU1vZGFsICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtaW5jb21pbmctY29udHJvbHNcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FsbC1jb250cm9sLWJ0biBjYWxsLWNvbnRyb2wtYWNjZXB0XCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWNjZXB0fVxuICAgICAgICAgICAgICB0aXRsZT1cIkNo4bqlcCBuaOG6rW5cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjAgNkw5IDE3TDQgMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYWxsLWNvbnRyb2wtYnRuIGNhbGwtY29udHJvbC1yZWplY3RcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWplY3R9XG4gICAgICAgICAgICAgIHRpdGxlPVwiVOG7qyBjaOG7kWlcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTggNkw2IDE4TTYgNkwxOCAxOFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFJlbW92ZWQgXCJTdGFydCBjYWxsXCIgYnV0dG9uIC0gY2FsbCBhdXRvLXN0YXJ0cyB3aGVuIGluaXRpYXRvciBjcmVhdGVzIGl0ICovfVxuXG4gICAgICAgIHtpc0Nvbm5lY3RlZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYWxsLWFjdGl2ZS1jb250cm9sc1wiPlxuICAgICAgICAgICAgey8qIE1lc3NhZ2UgYnV0dG9uICovfVxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYWxsLWNvbnRyb2wtYnRuIGNhbGwtY29udHJvbC1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGNhbGxJbmZvPy5jb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2NoYXQvJHtjYWxsSW5mby5jb252ZXJzYXRpb25JZH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdGl0bGU9XCJUaW4gbmjhuq9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIxIDE1QzIxIDE1LjUzMDQgMjAuNzg5MyAxNi4wMzkxIDIwLjQxNDIgMTYuNDE0MkMyMC4wMzkxIDE2Ljc4OTMgMTkuNTMwNCAxNyAxOSAxN0g3TDMgMjFWNUMzIDQuNDY5NTcgMy4yMTA3MSAzLjk2MDg2IDMuNTg1NzkgMy41ODU3OUMzLjk2MDg2IDMuMjEwNzEgNC40Njk1NyAzIDUgM0gxOUMxOS41MzA0IDMgMjAuMDM5MSAzLjIxMDcxIDIwLjQxNDIgMy41ODU3OUMyMC43ODkzIDMuOTYwODYgMjEgNC40Njk1NyAyMSA1VjE1WlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIHsvKiBGaWx0ZXIgcGFuZWwgdG9nZ2xlICovfVxuICAgICAgICAgICAge2NhblVzZUVuaGFuY2VtZW50cyAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYWxsLWNvbnRyb2wtYnRuIGNhbGwtY29udHJvbC1zZWNvbmRhcnkgJHtzaG93RmlsdGVyUGFuZWwgfHwgY3VycmVudEZpbHRlciAhPT0gJ25vbmUnID8gJ2NhbGwtY29udHJvbC1hY3RpdmUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIkLhu5kgbOG7jWMgbMOgbSDEkeG6uXBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUZpbHRlclBhbmVsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjIyXCIgaGVpZ2h0PVwiMjJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgM0wxMy41IDcuNUwxOCA5TDEzLjUgMTAuNUwxMiAxNUwxMC41IDEwLjVMNiA5TDEwLjUgNy41TDEyIDNaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIxLjZcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk01IDE2SDlcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjEuNlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTUgMTZIMTlcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjEuNlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogU2NyZWVuIHNoYXJlICovfVxuICAgICAgICAgICAge2NhblVzZUVuaGFuY2VtZW50cyAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYWxsLWNvbnRyb2wtYnRuIGNhbGwtY29udHJvbC1zZWNvbmRhcnkgJHtpc1NjcmVlblNoYXJpbmcgPyAnY2FsbC1jb250cm9sLWFjdGl2ZScgOiAnJ31gfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtpc1NjcmVlblNoYXJpbmcgPyAnROG7q25nIGNoaWEgc+G6uyBtw6BuIGjDrG5oJyA6ICdDaGlhIHPhursgbcOgbiBow6xuaCd9XG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2NyZWVuU2hhcmVUb2dnbGV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNTY3JlZW5TaGFyaW5nID8gKFxuICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk00IDVIMjBDMjEuMTA0NiA1IDIyIDUuODk1NDMgMjIgN1YxNUMyMiAxNi4xMDQ2IDIxLjEwNDYgMTcgMjAgMTdINEMyLjg5NTQzIDE3IDIgMTYuMTA0NiAyIDE1VjdDMiA1Ljg5NTQzIDIuODk1NDMgNSA0IDVaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIxLjhcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDIxVjE3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIxLjhcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOCAyMUgxNlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMS44XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTggOUwxMiAxM0wxNiA5XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIxLjhcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNCA1SDIwQzIxLjEwNDYgNSAyMiA1Ljg5NTQzIDIyIDdWMTRDMjIgMTUuMTA0NiAyMS4xMDQ2IDE2IDIwIDE2SDRDMi44OTU0MyAxNiAyIDE1LjEwNDYgMiAxNFY3QzIgNS44OTU0MyAyLjg5NTQzIDUgNCA1WlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMS42XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiAyMFYxNlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMS42XCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTggMjBIMTZcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjEuNlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFRvZ2dsZSBtaWNyb3Bob25lICovfVxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYWxsLWNvbnRyb2wtYnRuICR7IWlzQXVkaW9FbmFibGVkID8gJ2NhbGwtY29udHJvbC1tdXRlZCcgOiAnJ31gfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVBdWRpb31cbiAgICAgICAgICAgICAgdGl0bGU9e2lzQXVkaW9FbmFibGVkID8gJ1Thuq90IG1pYycgOiAnQuG6rXQgbWljJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzQXVkaW9FbmFibGVkID8gKFxuICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDFDMTAuMzQgMSA5IDIuMzQgOSA0VjEyQzkgMTMuNjYgMTAuMzQgMTUgMTIgMTVDMTMuNjYgMTUgMTUgMTMuNjYgMTUgMTJWNEMxNSAyLjM0IDEzLjY2IDEgMTIgMVpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xOSAxMFYxMkMxOSAxNS44NyAxNS44NyAxOSAxMiAxOUM4LjEzIDE5IDUgMTUuODcgNSAxMlYxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDE5VjIzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOCAyM0gxNlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMSAxTDIzIDIzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOSA5VjEyQzkgMTMuNjYgMTAuMzQgMTUgMTIgMTVDMTIuNDEgMTUgMTIuODEgMTQuOTIgMTMuMTcgMTQuNzdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk01IDEwVjEyQzUgMTUuODcgOC4xMyAxOSAxMiAxOUMxMi42OSAxOSAxMy4zNSAxOC44OSAxMy45NyAxOC43XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOSAxVjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNSAxVjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiAxOVYyM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTggMjNIMTZcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIHsvKiBUb2dnbGUgY2FtZXJhIChvbmx5IGZvciB2aWRlbyBjYWxscykgKi99XG4gICAgICAgICAgICB7Y2FsbEluZm8udHlwZSA9PT0gJ3ZpZGVvJyAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYWxsLWNvbnRyb2wtYnRuICR7IWlzVmlkZW9FbmFibGVkID8gJ2NhbGwtY29udHJvbC1tdXRlZCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVZpZGVvfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtpc1ZpZGVvRW5hYmxlZCA/ICdU4bqvdCBjYW1lcmEnIDogJ0Lhuq10IGNhbWVyYSd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNWaWRlb0VuYWJsZWQgPyAoXG4gICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIzIDdMMTYgMTJMMjMgMTdWN1pcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE0IDVIM0MxLjg5NTQzIDUgMSA1Ljg5NTQzIDEgN1YxN0MxIDE4LjEwNDYgMS44OTU0MyAxOSAzIDE5SDE0QzE1LjEwNDYgMTkgMTYgMTguMTA0NiAxNiAxN1Y3QzE2IDUuODk1NDMgMTUuMTA0NiA1IDE0IDVaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEgMUwyMyAyM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTYgMTJMMjMgN1YxN0wxNiAxMlpcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE0IDVIM0MxLjg5NTQzIDUgMSA1Ljg5NTQzIDEgN1YxN0MxIDE4LjEwNDYgMS44OTU0MyAxOSAzIDE5SDE0QzE1LjEwNDYgMTkgMTYgMTguMTA0NiAxNiAxN1Y3QzE2IDUuODk1NDMgMTUuMTA0NiA1IDE0IDVaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEVuZCBjYWxsIGJ1dHRvbiAqL31cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FsbC1jb250cm9sLWJ0biBjYWxsLWNvbnRyb2wtZW5kXCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRW5kQ2FsbH1cbiAgICAgICAgICAgICAgdGl0bGU9XCJL4bq/dCB0aMO6YyBjdeG7mWMgZ+G7jWlcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA1QzMgMy44OTU0MyAzLjg5NTQzIDMgNSAzSDguMjc5MjRDOC43MDk2NyAzIDkuMDkxODEgMy4yNzU0MyA5LjIyNzkyIDMuNjgzNzdMMTAuNzI1NyA4LjE3NzIxQzEwLjg4MzEgOC42NDkzMiAxMC42Njk0IDkuMTY1MzEgMTAuMjI0MyA5LjM4Nzg3TDcuOTY3MDEgMTAuNTE2NUM5LjA2OTI1IDEyLjk2MTIgMTEuMDM4OCAxNC45MzA4IDEzLjQ4MzUgMTYuMDMzTDE0LjYxMjEgMTMuNzc1N0MxNC44MzQ3IDEzLjMzMDYgMTUuMzUwNyAxMy4xMTY5IDE1LjgyMjggMTMuMjc0M0wyMC4zMTYyIDE0Ljc3MjFDMjAuNzI0NiAxNC45MDgyIDIxIDE1LjI5MDMgMjEgMTUuNzIwOFYxOUMyMSAyMC4xMDQ2IDIwLjEwNDYgMjEgMTkgMjFIMThDOS43MTU3MyAyMSAzIDE0LjI4NDMgMyA2VjVaXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAge2NhblVzZUVuaGFuY2VtZW50cyAmJiBpc1NjcmVlblNoYXJpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtc2NyZWVuLXNoYXJlLWluZGljYXRvclwiPlxuICAgICAgICAgIDxzcGFuPsSQYW5nIGNoaWEgc+G6uyBtw6BuIGjDrG5oPC9zcGFuPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e2hhbmRsZVNjcmVlblNoYXJlVG9nZ2xlfT5cbiAgICAgICAgICAgIEThu6tuZyBjaGlhIHPhurtcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7Y2FuVXNlRW5oYW5jZW1lbnRzICYmIHNob3dGaWx0ZXJQYW5lbCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FsbC1maWx0ZXItcGFuZWxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtZmlsdGVyLXBhbmVsX19oZWFkZXJcIj5cbiAgICAgICAgICAgIDxzcGFuPkLhu5kgbOG7jWMgJiBoaeG7h3Ug4bupbmc8L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RmlsdGVyUGFuZWwoZmFsc2UpfSBhcmlhLWxhYmVsPVwixJDDs25nXCI+w5c8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtZmlsdGVyLXBhbmVsX19saXN0XCI+XG4gICAgICAgICAgICB7ZmlsdGVyT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBjdXJyZW50RmlsdGVyID09PSBvcHRpb24uaWQ7XG4gICAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNTY3JlZW5TaGFyaW5nO1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17b3B0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmaWx0ZXItb3B0aW9uICR7YWN0aXZlID8gJ2FjdGl2ZScgOiAnJ30gJHtkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gIWRpc2FibGVkICYmIGhhbmRsZUZpbHRlclNlbGVjdChvcHRpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZpbHRlci1vcHRpb25fX2Vtb2ppXCI+e29wdGlvbi5lbW9qaX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmaWx0ZXItb3B0aW9uX19sYWJlbFwiPntvcHRpb24ubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2lzU2NyZWVuU2hhcmluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGwtZmlsdGVyLXBhbmVsX19ub3RpY2VcIj5cbiAgICAgICAgICAgICAgVOG6r3QgY2hpYSBz4bq7IG3DoG4gaMOsbmggxJHhu4Mgc+G7rSBk4bulbmcgYuG7mSBs4buNYy5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VXZWJSVEMiLCJ1c2VMaXZlS2l0IiwiZ2V0Q2FsbCIsImVuZENhbGwiLCJlbmRDYWxsQVBJIiwiYWNjZXB0Q2FsbCIsInJlamVjdENhbGwiLCJnZXRMaXZlS2l0VG9rZW4iLCJnZXRTb2NrZXQiLCJ1c2VPcHBvbmVudEluZm8iLCJHcm91cENhbGxHcmlkIiwiQ2FsbFNjcmVlbiIsImNhbGxJZCIsInNldENhbGxJZCIsImNhbGxJbmZvIiwic2V0Q2FsbEluZm8iLCJpc0luaXRpYXRvciIsInNldElzSW5pdGlhdG9yIiwibG9jYWxVc2VySWQiLCJzZXRMb2NhbFVzZXJJZCIsImFjY2VwdGVkRnJvbU1vZGFsIiwic2V0QWNjZXB0ZWRGcm9tTW9kYWwiLCJ1aWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJzZWFyY2giLCJVUkxTZWFyY2hQYXJhbXMiLCJsb2NhdGlvbiIsInVybENhbGxJZCIsImdldCIsInVybENvbnZlcnNhdGlvbklkIiwibG9nIiwicHJldiIsImNvbnZlcnNhdGlvbklkIiwiaW5pdGlhdG9ySWQiLCJyZW1vdGVVc2VySWQiLCJ0eXBlIiwiY2FsbER1cmF0aW9uIiwic2V0Q2FsbER1cmF0aW9uIiwiY2FsbFN0YXJ0VGltZSIsInNldENhbGxTdGFydFRpbWUiLCJkdXJhdGlvbkludGVydmFsUmVmIiwiaW5mbyIsIm9wcG9uZW50SW5mbyIsImZpbHRlck9wdGlvbnMiLCJpZCIsImxhYmVsIiwiZW1vamkiLCJzaG93RmlsdGVyUGFuZWwiLCJzZXRTaG93RmlsdGVyUGFuZWwiLCJsaXZlS2l0VG9rZW4iLCJzZXRMaXZlS2l0VG9rZW4iLCJsaXZlS2l0VXJsIiwic2V0TGl2ZUtpdFVybCIsImlzUDJQQ2FsbCIsImNhbGxUeXBlIiwibG9jYWxTdHJlYW0iLCJwMnBMb2NhbFN0cmVhbSIsInJlbW90ZVN0cmVhbSIsInAycFJlbW90ZVN0cmVhbSIsImlzQ29ubmVjdGVkIiwicDJwSXNDb25uZWN0ZWQiLCJlcnJvciIsInAycEVycm9yIiwic3RhcnRDYWxsIiwiZW5kV2ViUlRDIiwidG9nZ2xlVmlkZW8iLCJwMnBUb2dnbGVWaWRlbyIsInRvZ2dsZUF1ZGlvIiwicDJwVG9nZ2xlQXVkaW8iLCJpc1ZpZGVvRW5hYmxlZCIsInAycElzVmlkZW9FbmFibGVkIiwiaXNBdWRpb0VuYWJsZWQiLCJwMnBJc0F1ZGlvRW5hYmxlZCIsImFwcGx5RmlsdGVyIiwiY3VycmVudEZpbHRlciIsInN0YXJ0U2NyZWVuU2hhcmUiLCJzdG9wU2NyZWVuU2hhcmUiLCJpc1NjcmVlblNoYXJpbmciLCJsb2NhbFZpZGVvUmVmIiwicmVtb3RlVmlkZW9SZWYiLCJsaXZlS2l0TG9jYWxTdHJlYW0iLCJyZW1vdGVTdHJlYW1zIiwibGl2ZUtpdFJlbW90ZVN0cmVhbXMiLCJsaXZlS2l0SXNDb25uZWN0ZWQiLCJsaXZlS2l0RXJyb3IiLCJjb25uZWN0IiwiY29ubmVjdExpdmVLaXQiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdExpdmVLaXQiLCJsaXZlS2l0VG9nZ2xlVmlkZW8iLCJsaXZlS2l0VG9nZ2xlQXVkaW8iLCJsaXZlS2l0SXNWaWRlb0VuYWJsZWQiLCJsaXZlS2l0SXNBdWRpb0VuYWJsZWQiLCJyb29tTmFtZSIsImxpdmVraXRSb29tTmFtZSIsInRva2VuIiwidXJsIiwiY2FuVXNlRW5oYW5jZW1lbnRzIiwiaGFuZGxlVG9nZ2xlRmlsdGVyUGFuZWwiLCJoYXNBdXRvU3RhcnRlZFJlZiIsInN0YXJ0Q2FsbFJlZiIsImN1cnJlbnQiLCJzZXRJbnRlcnZhbCIsIm5vdyIsIkRhdGUiLCJkaWZmIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsImNsZWFySW50ZXJ2YWwiLCJmb3JtYXREdXJhdGlvbiIsInNlY29uZHMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImxvYWRDYWxsSW5mbyIsImNhbGwiLCJwYXJ0aWNpcGFudHMiLCJmaW5kIiwiU3RyaW5nIiwiaXNJbml0IiwibWV0YWRhdGEiLCJtYXAiLCJwIiwidG9rZW5EYXRhIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJzb2NrZXQiLCJvbmNlIiwiZGF0YSIsImhhbmRsZUNhbGxJbmNvbWluZyIsImhhbmRsZUNhbGxJbmZvIiwiaGFuZGxlQ2FsbEFjY2VwdGVkIiwic2V0VGltZW91dCIsInRoZW4iLCJjYXRjaCIsImhhbmRsZUNhbGxBY3RpdmUiLCJvbiIsIm9mZiIsImF0dGVtcHRzIiwiY3VycmVudFRva2VuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJoYXNUb2tlbiIsImhhbmRsZUFjY2VwdCIsInN0YXJ0RXJyIiwiaGFuZGxlUmVqZWN0IiwiaGlzdG9yeSIsImJhY2siLCJoYW5kbGVFbmRDYWxsIiwiaGFuZGxlRmlsdGVyU2VsZWN0IiwiZmlsdGVyIiwiaGFuZGxlU2NyZWVuU2hhcmVUb2dnbGUiLCJncm91cENhbGxQYXJ0aWNpcGFudHMiLCJ1c2VNZW1vIiwiZm9yRWFjaCIsInN0cmVhbSIsInBhcnRpY2lwYW50SWQiLCJwdXNoIiwib3Bwb25lbnROYW1lIiwibmFtZSIsIm9wcG9uZW50QXZhdGFyIiwiYXZhdGFyIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJwb3NpdGlvbiIsImJvdHRvbSIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJjb2xvciIsImZvbnRTaXplIiwidGV4dEFsaWduIiwibWF4V2lkdGgiLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmQiLCJsZW5ndGgiLCJsb2NhbFBhcnRpY2lwYW50SWQiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpblRvcCIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJ2aWRlbyIsInJlZiIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJpbWciLCJzcmMiLCJhbHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsIm11dGVkIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwic3ZnIiwidmlld0JveCIsImZpbGwiLCJwYXRoIiwiZCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwiaHJlZiIsInNwYW4iLCJhcmlhLWxhYmVsIiwib3B0aW9uIiwiYWN0aXZlIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/features/call/screens/CallScreen.web.tsx\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useLiveKit.ts":
/*!**********************************************!*\
  !*** ../../packages/app/hooks/useLiveKit.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLiveKit: () => (/* binding */ useLiveKit)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/../../node_modules/.pnpm/livekit-client@2.16.0_@types+dom-mediacapture-record@1.0.22/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\n\nfunction useLiveKit({ roomName, token, url, autoSubscribe = true }) {\n    const [room, setRoom] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [localStream, setLocalStream] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [remoteStreams, setRemoteStreams] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map());\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isVideoEnabled, setIsVideoEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [isAudioEnabled, setIsAudioEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const roomRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const connectPromiseRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const latestOptionsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n        roomName,\n        token,\n        url\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        latestOptionsRef.current = {\n            roomName,\n            token,\n            url\n        };\n    }, [\n        roomName,\n        token,\n        url\n    ]);\n    const buildMediaStreamFromLocal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((currentRoom)=>{\n        try {\n            const publications = Array.from(currentRoom.localParticipant.trackPublications.values());\n            const tracks = [];\n            publications.forEach((pub)=>{\n                const lkTrack = pub.track;\n                if (lkTrack && (lkTrack instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalVideoTrack || lkTrack instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalAudioTrack)) {\n                    const mediaTrack = lkTrack.mediaStreamTrack;\n                    if (mediaTrack) {\n                        tracks.push(mediaTrack);\n                    }\n                }\n            });\n            if (tracks.length > 0) {\n                const stream = new MediaStream(tracks);\n                setLocalStream(stream);\n            }\n        } catch (err) {\n            console.warn(\"[LiveKit] Failed to build local stream:\", err);\n        }\n    }, []);\n    const addRemoteTrack = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((participantId, mediaTrack)=>{\n        setRemoteStreams((prev)=>{\n            const next = new Map(prev);\n            const existing = next.get(participantId) ?? new MediaStream();\n            if (!existing.getTracks().some((t)=>t.id === mediaTrack.id)) {\n                existing.addTrack(mediaTrack);\n            }\n            next.set(participantId, existing);\n            return next;\n        });\n    }, []);\n    const removeRemoteTrack = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((participantId, mediaTrack)=>{\n        setRemoteStreams((prev)=>{\n            const next = new Map(prev);\n            const existing = next.get(participantId);\n            if (!existing) return prev;\n            if (mediaTrack) {\n                existing.removeTrack(mediaTrack);\n            }\n            if (existing.getTracks().length === 0) {\n                next.delete(participantId);\n            } else {\n                next.set(participantId, existing);\n            }\n            return next;\n        });\n    }, []);\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (roomRef.current) {\n            roomRef.current.disconnect();\n            roomRef.current = null;\n        }\n        connectPromiseRef.current = null;\n        setRoom(null);\n        setIsConnected(false);\n        setLocalStream(null);\n        setRemoteStreams(new Map());\n        setError(null);\n    }, []);\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { roomName: currentRoomName, token: currentToken, url: currentUrl } = latestOptionsRef.current;\n        if (!currentRoomName || !currentToken || !currentUrl) {\n            setError(\"Thiu th\\xf4ng tin LiveKit (room/token/url)\");\n            return;\n        }\n        if (roomRef.current && roomRef.current.state === \"connected\") {\n            return;\n        }\n        if (connectPromiseRef.current) {\n            return connectPromiseRef.current;\n        }\n        const promise = (async ()=>{\n            try {\n                setError(null);\n                const newRoom = new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Room({\n                    adaptiveStream: true,\n                    dynacast: true\n                });\n                roomRef.current = newRoom;\n                setRoom(newRoom);\n                newRoom.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Connected, ()=>{\n                    setIsConnected(true);\n                });\n                newRoom.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Disconnected, ()=>{\n                    setIsConnected(false);\n                    setLocalStream(null);\n                    setRemoteStreams(new Map());\n                });\n                newRoom.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.TrackSubscribed, (track, publication, participant)=>{\n                    if (track instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrack) {\n                        const mediaTrack = track.mediaStreamTrack;\n                        if (mediaTrack) {\n                            addRemoteTrack(participant.identity, mediaTrack);\n                        }\n                    }\n                });\n                newRoom.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.TrackUnsubscribed, (track, publication, participant)=>{\n                    if (track instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrack) {\n                        const mediaTrack = track.mediaStreamTrack;\n                        removeRemoteTrack(participant.identity, mediaTrack);\n                    }\n                });\n                newRoom.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.ParticipantDisconnected, (participant)=>{\n                    setRemoteStreams((prev)=>{\n                        const next = new Map(prev);\n                        next.delete(participant.identity);\n                        return next;\n                    });\n                });\n                await newRoom.connect(currentUrl, currentToken);\n                await newRoom.localParticipant.enableCameraAndMicrophone();\n                buildMediaStreamFromLocal(newRoom);\n            } catch (err) {\n                console.error(\"[LiveKit] Error connecting:\", err);\n                setError(err?.message || \"Kh\\xf4ng th kt ni LiveKit\");\n                disconnect();\n            } finally{\n                connectPromiseRef.current = null;\n            }\n        })();\n        connectPromiseRef.current = promise;\n        return promise;\n    }, [\n        addRemoteTrack,\n        autoSubscribe,\n        buildMediaStreamFromLocal,\n        disconnect,\n        removeRemoteTrack\n    ]);\n    const toggleVideo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!roomRef.current) return;\n        const enabled = !isVideoEnabled;\n        roomRef.current.localParticipant.setCameraEnabled(enabled);\n        setIsVideoEnabled(enabled);\n    }, [\n        isVideoEnabled\n    ]);\n    const toggleAudio = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!roomRef.current) return;\n        const enabled = !isAudioEnabled;\n        roomRef.current.localParticipant.setMicrophoneEnabled(enabled);\n        setIsAudioEnabled(enabled);\n    }, [\n        isAudioEnabled\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            disconnect();\n        };\n    }, [\n        disconnect\n    ]);\n    return {\n        room,\n        localStream,\n        remoteStreams,\n        isConnected,\n        error,\n        connect,\n        disconnect,\n        toggleVideo,\n        toggleAudio,\n        isVideoEnabled,\n        isAudioEnabled\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZUxpdmVLaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRTtBQUMrQjtBQTJCekYsU0FBU1MsV0FBVyxFQUN6QkMsUUFBUSxFQUNSQyxLQUFLLEVBQ0xDLEdBQUcsRUFDSEMsZ0JBQWdCLElBQUksRUFDRjtJQUNsQixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR1osK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDYSxhQUFhQyxlQUFlLEdBQUdkLCtDQUFRQSxDQUFxQjtJQUNuRSxNQUFNLENBQUNlLGVBQWVDLGlCQUFpQixHQUFHaEIsK0NBQVFBLENBQTJCLElBQUlpQjtJQUNqRixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR25CLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ29CLE9BQU9DLFNBQVMsR0FBR3JCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUNzQixnQkFBZ0JDLGtCQUFrQixHQUFHdkIsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDd0IsZ0JBQWdCQyxrQkFBa0IsR0FBR3pCLCtDQUFRQSxDQUFDO0lBRXJELE1BQU0wQixVQUFVM0IsNkNBQU1BLENBQWM7SUFDcEMsTUFBTTRCLG9CQUFvQjVCLDZDQUFNQSxDQUF1QjtJQUN2RCxNQUFNNkIsbUJBQW1CN0IsNkNBQU1BLENBQUM7UUFBRVE7UUFBVUM7UUFBT0M7SUFBSTtJQUV2RFgsZ0RBQVNBLENBQUM7UUFDUjhCLGlCQUFpQkMsT0FBTyxHQUFHO1lBQUV0QjtZQUFVQztZQUFPQztRQUFJO0lBQ3BELEdBQUc7UUFBQ0Y7UUFBVUM7UUFBT0M7S0FBSTtJQUV6QixNQUFNcUIsNEJBQTRCakMsa0RBQVdBLENBQUMsQ0FBQ2tDO1FBQzdDLElBQUk7WUFDRixNQUFNQyxlQUFlQyxNQUFNQyxJQUFJLENBQUNILFlBQVlJLGdCQUFnQixDQUFDQyxpQkFBaUIsQ0FBQ0MsTUFBTTtZQUNyRixNQUFNQyxTQUE2QixFQUFFO1lBQ3JD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WUFDRixTQUFVO2dCQUNSeEMsa0JBQWtCRSxPQUFPLEdBQUc7WUFDOUI7UUFDRjtRQUVBRixrQkFBa0JFLE9BQU8sR0FBRzRDO1FBQzVCLE9BQU9BO0lBQ1QsR0FBRztRQUFDckI7UUFBZ0IxQztRQUFlb0I7UUFBMkJxQztRQUFZSDtLQUFrQjtJQUU1RixNQUFNd0IsY0FBYzNGLGtEQUFXQSxDQUFDO1FBQzlCLElBQUksQ0FBQzZCLFFBQVFHLE9BQU8sRUFBRTtRQUN0QixNQUFNNEQsVUFBVSxDQUFDbkU7UUFDakJJLFFBQVFHLE9BQU8sQ0FBQ00sZ0JBQWdCLENBQUN1RCxnQkFBZ0IsQ0FBQ0Q7UUFDbERsRSxrQkFBa0JrRTtJQUNwQixHQUFHO1FBQUNuRTtLQUFlO0lBRW5CLE1BQU1xRSxjQUFjOUYsa0RBQVdBLENBQUM7UUFDOUIsSUFBSSxDQUFDNkIsUUFBUUcsT0FBTyxFQUFFO1FBQ3RCLE1BQU00RCxVQUFVLENBQUNqRTtRQUNqQkUsUUFBUUcsT0FBTyxDQUFDTSxnQkFBZ0IsQ0FBQ3lELG9CQUFvQixDQUFDSDtRQUN0RGhFLGtCQUFrQmdFO0lBQ3BCLEdBQUc7UUFBQ2pFO0tBQWU7SUFFbkIxQixnREFBU0EsQ0FBQztRQUNSLE9BQU87WUFDTHFFO1FBQ0Y7SUFDRixHQUFHO1FBQUNBO0tBQVc7SUFFZixPQUFPO1FBQ0x4RDtRQUNBRTtRQUNBRTtRQUNBRztRQUNBRTtRQUNBZ0Q7UUFDQUQ7UUFDQXFCO1FBQ0FHO1FBQ0FyRTtRQUNBRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlTGl2ZUtpdC50cz8xZTIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb29tLCBSb29tRXZlbnQsIFJlbW90ZVRyYWNrLCBMb2NhbFZpZGVvVHJhY2ssIExvY2FsQXVkaW9UcmFjayB9IGZyb20gJ2xpdmVraXQtY2xpZW50JztcblxuLy8gTk9URTogVGhpcyBob29rIGlzIG5vdyB3ZWItZmlyc3QuIFJlYWN0IE5hdGl2ZSBnbG9iYWxzIHJlZ2lzdHJhdGlvbiBoYXMgYmVlblxuLy8gcmVtb3ZlZCB0byBhdm9pZCBidW5kbGluZyAncmVhY3QtbmF0aXZlJyBpbiBOZXh0LmpzLiBJZiB5b3UgbmVlZCBuYXRpdmVcbi8vIHN1cHBvcnQgbGF0ZXIsIGNyZWF0ZSBhIHNlcGFyYXRlICd1c2VMaXZlS2l0Lm5hdGl2ZS50cycgaW1wbGVtZW50YXRpb24uXG5cbmludGVyZmFjZSBVc2VMaXZlS2l0T3B0aW9ucyB7XG4gIHJvb21OYW1lPzogc3RyaW5nO1xuICB0b2tlbj86IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xuICBhdXRvU3Vic2NyaWJlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXZlS2l0UmVzdWx0IHtcbiAgcm9vbTogUm9vbSB8IG51bGw7XG4gIGxvY2FsU3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGw7XG4gIHJlbW90ZVN0cmVhbXM6IE1hcDxzdHJpbmcsIE1lZGlhU3RyZWFtPjtcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBjb25uZWN0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBkaXNjb25uZWN0OiAoKSA9PiB2b2lkO1xuICB0b2dnbGVWaWRlbzogKCkgPT4gdm9pZDtcbiAgdG9nZ2xlQXVkaW86ICgpID0+IHZvaWQ7XG4gIGlzVmlkZW9FbmFibGVkOiBib29sZWFuO1xuICBpc0F1ZGlvRW5hYmxlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUxpdmVLaXQoe1xuICByb29tTmFtZSxcbiAgdG9rZW4sXG4gIHVybCxcbiAgYXV0b1N1YnNjcmliZSA9IHRydWUsXG59OiBVc2VMaXZlS2l0T3B0aW9ucyk6IFVzZUxpdmVLaXRSZXN1bHQge1xuICBjb25zdCBbcm9vbSwgc2V0Um9vbV0gPSB1c2VTdGF0ZTxSb29tIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2NhbFN0cmVhbSwgc2V0TG9jYWxTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlbW90ZVN0cmVhbXMsIHNldFJlbW90ZVN0cmVhbXNdID0gdXNlU3RhdGU8TWFwPHN0cmluZywgTWVkaWFTdHJlYW0+PihuZXcgTWFwKCkpO1xuICBjb25zdCBbaXNDb25uZWN0ZWQsIHNldElzQ29ubmVjdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzVmlkZW9FbmFibGVkLCBzZXRJc1ZpZGVvRW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzQXVkaW9FbmFibGVkLCBzZXRJc0F1ZGlvRW5hYmxlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICBjb25zdCByb29tUmVmID0gdXNlUmVmPFJvb20gfCBudWxsPihudWxsKTtcbiAgY29uc3QgY29ubmVjdFByb21pc2VSZWYgPSB1c2VSZWY8UHJvbWlzZTx2b2lkPiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsYXRlc3RPcHRpb25zUmVmID0gdXNlUmVmKHsgcm9vbU5hbWUsIHRva2VuLCB1cmwgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsYXRlc3RPcHRpb25zUmVmLmN1cnJlbnQgPSB7IHJvb21OYW1lLCB0b2tlbiwgdXJsIH07XG4gIH0sIFtyb29tTmFtZSwgdG9rZW4sIHVybF0pO1xuXG4gIGNvbnN0IGJ1aWxkTWVkaWFTdHJlYW1Gcm9tTG9jYWwgPSB1c2VDYWxsYmFjaygoY3VycmVudFJvb206IFJvb20pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHVibGljYXRpb25zID0gQXJyYXkuZnJvbShjdXJyZW50Um9vbS5sb2NhbFBhcnRpY2lwYW50LnRyYWNrUHVibGljYXRpb25zLnZhbHVlcygpKTtcbiAgICAgIGNvbnN0IHRyYWNrczogTWVkaWFTdHJlYW1UcmFja1tdID0gW107XG4gICAgICBwdWJsaWNhdGlvbnMuZm9yRWFjaCgocHViKSA9PiB7XG4gICAgICAgIGNvbnN0IGxrVHJhY2sgPSBwdWIudHJhY2s7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBsa1RyYWNrICYmXG4gICAgICAgICAgKGxrVHJhY2sgaW5zdGFuY2VvZiBMb2NhbFZpZGVvVHJhY2sgfHwgbGtUcmFjayBpbnN0YW5jZW9mIExvY2FsQXVkaW9UcmFjaylcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbWVkaWFUcmFjayA9IChsa1RyYWNrIGFzIGFueSkubWVkaWFTdHJlYW1UcmFjayBhcyBNZWRpYVN0cmVhbVRyYWNrIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChtZWRpYVRyYWNrKSB7XG4gICAgICAgICAgICB0cmFja3MucHVzaChtZWRpYVRyYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHRyYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSh0cmFja3MpO1xuICAgICAgICBzZXRMb2NhbFN0cmVhbShzdHJlYW0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdbTGl2ZUtpdF0gRmFpbGVkIHRvIGJ1aWxkIGxvY2FsIHN0cmVhbTonLCBlcnIpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGFkZFJlbW90ZVRyYWNrID0gdXNlQ2FsbGJhY2soKHBhcnRpY2lwYW50SWQ6IHN0cmluZywgbWVkaWFUcmFjazogTWVkaWFTdHJlYW1UcmFjaykgPT4ge1xuICAgIHNldFJlbW90ZVN0cmVhbXMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBuZXh0LmdldChwYXJ0aWNpcGFudElkKSA/PyBuZXcgTWVkaWFTdHJlYW0oKTtcbiAgICAgIGlmICghZXhpc3RpbmcuZ2V0VHJhY2tzKCkuc29tZSgodCkgPT4gdC5pZCA9PT0gbWVkaWFUcmFjay5pZCkpIHtcbiAgICAgICAgZXhpc3RpbmcuYWRkVHJhY2sobWVkaWFUcmFjayk7XG4gICAgICB9XG4gICAgICBuZXh0LnNldChwYXJ0aWNpcGFudElkLCBleGlzdGluZyk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHJlbW92ZVJlbW90ZVRyYWNrID0gdXNlQ2FsbGJhY2soKHBhcnRpY2lwYW50SWQ6IHN0cmluZywgbWVkaWFUcmFjaz86IE1lZGlhU3RyZWFtVHJhY2spID0+IHtcbiAgICBzZXRSZW1vdGVTdHJlYW1zKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0gbmV3IE1hcChwcmV2KTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gbmV4dC5nZXQocGFydGljaXBhbnRJZCk7XG4gICAgICBpZiAoIWV4aXN0aW5nKSByZXR1cm4gcHJldjtcbiAgICAgIGlmIChtZWRpYVRyYWNrKSB7XG4gICAgICAgIGV4aXN0aW5nLnJlbW92ZVRyYWNrKG1lZGlhVHJhY2spO1xuICAgICAgfVxuICAgICAgaWYgKGV4aXN0aW5nLmdldFRyYWNrcygpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXh0LmRlbGV0ZShwYXJ0aWNpcGFudElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQuc2V0KHBhcnRpY2lwYW50SWQsIGV4aXN0aW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgZGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAocm9vbVJlZi5jdXJyZW50KSB7XG4gICAgICByb29tUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuICAgICAgcm9vbVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29ubmVjdFByb21pc2VSZWYuY3VycmVudCA9IG51bGw7XG4gICAgc2V0Um9vbShudWxsKTtcbiAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgc2V0TG9jYWxTdHJlYW0obnVsbCk7XG4gICAgc2V0UmVtb3RlU3RyZWFtcyhuZXcgTWFwKCkpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY29ubmVjdCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJvb21OYW1lOiBjdXJyZW50Um9vbU5hbWUsIHRva2VuOiBjdXJyZW50VG9rZW4sIHVybDogY3VycmVudFVybCB9ID1cbiAgICAgIGxhdGVzdE9wdGlvbnNSZWYuY3VycmVudDtcblxuICAgIGlmICghY3VycmVudFJvb21OYW1lIHx8ICFjdXJyZW50VG9rZW4gfHwgIWN1cnJlbnRVcmwpIHtcbiAgICAgIHNldEVycm9yKCdUaGnhur91IHRow7RuZyB0aW4gTGl2ZUtpdCAocm9vbS90b2tlbi91cmwpJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJvb21SZWYuY3VycmVudCAmJiByb29tUmVmLmN1cnJlbnQuc3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3RQcm9taXNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBjb25uZWN0UHJvbWlzZVJlZi5jdXJyZW50O1xuICAgIH1cblxuICAgIGNvbnN0IHByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIGNvbnN0IG5ld1Jvb20gPSBuZXcgUm9vbSh7XG4gICAgICAgICAgYWRhcHRpdmVTdHJlYW06IHRydWUsXG4gICAgICAgICAgZHluYWNhc3Q6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJvb21SZWYuY3VycmVudCA9IG5ld1Jvb207XG4gICAgICAgIHNldFJvb20obmV3Um9vbSk7XG5cbiAgICAgICAgbmV3Um9vbS5vbihSb29tRXZlbnQuQ29ubmVjdGVkLCAoKSA9PiB7XG4gICAgICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld1Jvb20ub24oUm9vbUV2ZW50LkRpc2Nvbm5lY3RlZCwgKCkgPT4ge1xuICAgICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgICBzZXRMb2NhbFN0cmVhbShudWxsKTtcbiAgICAgICAgICBzZXRSZW1vdGVTdHJlYW1zKG5ldyBNYXAoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld1Jvb20ub24oUm9vbUV2ZW50LlRyYWNrU3Vic2NyaWJlZCwgKHRyYWNrLCBwdWJsaWNhdGlvbiwgcGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICBpZiAodHJhY2sgaW5zdGFuY2VvZiBSZW1vdGVUcmFjaykge1xuICAgICAgICAgICAgY29uc3QgbWVkaWFUcmFjayA9ICh0cmFjayBhcyBhbnkpLm1lZGlhU3RyZWFtVHJhY2sgYXMgTWVkaWFTdHJlYW1UcmFjayB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChtZWRpYVRyYWNrKSB7XG4gICAgICAgICAgICAgIGFkZFJlbW90ZVRyYWNrKHBhcnRpY2lwYW50LmlkZW50aXR5LCBtZWRpYVRyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld1Jvb20ub24oUm9vbUV2ZW50LlRyYWNrVW5zdWJzY3JpYmVkLCAodHJhY2ssIHB1YmxpY2F0aW9uLCBwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICAgIGlmICh0cmFjayBpbnN0YW5jZW9mIFJlbW90ZVRyYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBtZWRpYVRyYWNrID0gKHRyYWNrIGFzIGFueSkubWVkaWFTdHJlYW1UcmFjayBhcyBNZWRpYVN0cmVhbVRyYWNrIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmVtb3ZlUmVtb3RlVHJhY2socGFydGljaXBhbnQuaWRlbnRpdHksIG1lZGlhVHJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3Um9vbS5vbihSb29tRXZlbnQuUGFydGljaXBhbnREaXNjb25uZWN0ZWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICAgIHNldFJlbW90ZVN0cmVhbXMoKHByZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgICAgICAgbmV4dC5kZWxldGUocGFydGljaXBhbnQuaWRlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IG5ld1Jvb20uY29ubmVjdChjdXJyZW50VXJsLCBjdXJyZW50VG9rZW4pO1xuICAgICAgICBhd2FpdCBuZXdSb29tLmxvY2FsUGFydGljaXBhbnQuZW5hYmxlQ2FtZXJhQW5kTWljcm9waG9uZSgpO1xuICAgICAgICBidWlsZE1lZGlhU3RyZWFtRnJvbUxvY2FsKG5ld1Jvb20pO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0xpdmVLaXRdIEVycm9yIGNvbm5lY3Rpbmc6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyPy5tZXNzYWdlIHx8ICdLaMO0bmcgdGjhu4Mga+G6v3QgbuG7kWkgTGl2ZUtpdCcpO1xuICAgICAgICBkaXNjb25uZWN0KCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjb25uZWN0UHJvbWlzZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgY29ubmVjdFByb21pc2VSZWYuY3VycmVudCA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0sIFthZGRSZW1vdGVUcmFjaywgYXV0b1N1YnNjcmliZSwgYnVpbGRNZWRpYVN0cmVhbUZyb21Mb2NhbCwgZGlzY29ubmVjdCwgcmVtb3ZlUmVtb3RlVHJhY2tdKTtcblxuICBjb25zdCB0b2dnbGVWaWRlbyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXJvb21SZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IGVuYWJsZWQgPSAhaXNWaWRlb0VuYWJsZWQ7XG4gICAgcm9vbVJlZi5jdXJyZW50LmxvY2FsUGFydGljaXBhbnQuc2V0Q2FtZXJhRW5hYmxlZChlbmFibGVkKTtcbiAgICBzZXRJc1ZpZGVvRW5hYmxlZChlbmFibGVkKTtcbiAgfSwgW2lzVmlkZW9FbmFibGVkXSk7XG5cbiAgY29uc3QgdG9nZ2xlQXVkaW8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFyb29tUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCBlbmFibGVkID0gIWlzQXVkaW9FbmFibGVkO1xuICAgIHJvb21SZWYuY3VycmVudC5sb2NhbFBhcnRpY2lwYW50LnNldE1pY3JvcGhvbmVFbmFibGVkKGVuYWJsZWQpO1xuICAgIHNldElzQXVkaW9FbmFibGVkKGVuYWJsZWQpO1xuICB9LCBbaXNBdWRpb0VuYWJsZWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW2Rpc2Nvbm5lY3RdKTtcblxuICByZXR1cm4ge1xuICAgIHJvb20sXG4gICAgbG9jYWxTdHJlYW0sXG4gICAgcmVtb3RlU3RyZWFtcyxcbiAgICBpc0Nvbm5lY3RlZCxcbiAgICBlcnJvcixcbiAgICBjb25uZWN0LFxuICAgIGRpc2Nvbm5lY3QsXG4gICAgdG9nZ2xlVmlkZW8sXG4gICAgdG9nZ2xlQXVkaW8sXG4gICAgaXNWaWRlb0VuYWJsZWQsXG4gICAgaXNBdWRpb0VuYWJsZWQsXG4gIH07XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiUm9vbSIsIlJvb21FdmVudCIsIlJlbW90ZVRyYWNrIiwiTG9jYWxWaWRlb1RyYWNrIiwiTG9jYWxBdWRpb1RyYWNrIiwidXNlTGl2ZUtpdCIsInJvb21OYW1lIiwidG9rZW4iLCJ1cmwiLCJhdXRvU3Vic2NyaWJlIiwicm9vbSIsInNldFJvb20iLCJsb2NhbFN0cmVhbSIsInNldExvY2FsU3RyZWFtIiwicmVtb3RlU3RyZWFtcyIsInNldFJlbW90ZVN0cmVhbXMiLCJNYXAiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwiZXJyb3IiLCJzZXRFcnJvciIsImlzVmlkZW9FbmFibGVkIiwic2V0SXNWaWRlb0VuYWJsZWQiLCJpc0F1ZGlvRW5hYmxlZCIsInNldElzQXVkaW9FbmFibGVkIiwicm9vbVJlZiIsImNvbm5lY3RQcm9taXNlUmVmIiwibGF0ZXN0T3B0aW9uc1JlZiIsImN1cnJlbnQiLCJidWlsZE1lZGlhU3RyZWFtRnJvbUxvY2FsIiwiY3VycmVudFJvb20iLCJwdWJsaWNhdGlvbnMiLCJBcnJheSIsImZyb20iLCJsb2NhbFBhcnRpY2lwYW50IiwidHJhY2tQdWJsaWNhdGlvbnMiLCJ2YWx1ZXMiLCJ0cmFja3MiLCJmb3JFYWNoIiwicHViIiwibGtUcmFjayIsInRyYWNrIiwibWVkaWFUcmFjayIsIm1lZGlhU3RyZWFtVHJhY2siLCJwdXNoIiwibGVuZ3RoIiwic3RyZWFtIiwiTWVkaWFTdHJlYW0iLCJlcnIiLCJjb25zb2xlIiwid2FybiIsImFkZFJlbW90ZVRyYWNrIiwicGFydGljaXBhbnRJZCIsInByZXYiLCJuZXh0IiwiZXhpc3RpbmciLCJnZXQiLCJnZXRUcmFja3MiLCJzb21lIiwidCIsImlkIiwiYWRkVHJhY2siLCJzZXQiLCJyZW1vdmVSZW1vdGVUcmFjayIsInJlbW92ZVRyYWNrIiwiZGVsZXRlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJjdXJyZW50Um9vbU5hbWUiLCJjdXJyZW50VG9rZW4iLCJjdXJyZW50VXJsIiwic3RhdGUiLCJwcm9taXNlIiwibmV3Um9vbSIsImFkYXB0aXZlU3RyZWFtIiwiZHluYWNhc3QiLCJvbiIsIkNvbm5lY3RlZCIsIkRpc2Nvbm5lY3RlZCIsIlRyYWNrU3Vic2NyaWJlZCIsInB1YmxpY2F0aW9uIiwicGFydGljaXBhbnQiLCJpZGVudGl0eSIsIlRyYWNrVW5zdWJzY3JpYmVkIiwiUGFydGljaXBhbnREaXNjb25uZWN0ZWQiLCJlbmFibGVDYW1lcmFBbmRNaWNyb3Bob25lIiwibWVzc2FnZSIsInRvZ2dsZVZpZGVvIiwiZW5hYmxlZCIsInNldENhbWVyYUVuYWJsZWQiLCJ0b2dnbGVBdWRpbyIsInNldE1pY3JvcGhvbmVFbmFibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useLiveKit.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useOpponentInfo.ts":
/*!***************************************************!*\
  !*** ../../packages/app/hooks/useOpponentInfo.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useOpponentInfo: () => (/* binding */ useOpponentInfo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api */ \"(ssr)/../../packages/app/api.ts\");\n\n\nfunction useOpponentInfo(conversationId) {\n    const [info, setInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const load = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!conversationId) {\n            setInfo(null);\n            return;\n        }\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getOpponentInfo)(conversationId);\n            setInfo({\n                conversationId,\n                userId: response.user?._id,\n                name: response.user?.name ?? \"Ngi d\\xf9ng\",\n                avatar: response.user?.avatar ?? undefined,\n                status: response.status?.isOnline ? \"online\" : \"offline\",\n                lastSeen: response.status?.lastActive\n            });\n        } catch (err) {\n            console.error(\" Failed to load opponent info:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to load opponent info\");\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        conversationId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        load();\n    }, [\n        load\n    ]);\n    return {\n        info,\n        loading,\n        error,\n        reload: load\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZU9wcG9uZW50SW5mby50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ2hCO0FBVWxDLFNBQVNJLGdCQUFnQkMsY0FBdUI7SUFDckQsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdMLCtDQUFRQSxDQUFzQjtJQUN0RCxNQUFNLENBQUNNLFNBQVNDLFdBQVcsR0FBR1AsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDUSxPQUFPQyxTQUFTLEdBQUdULCtDQUFRQSxDQUFnQjtJQUVsRCxNQUFNVSxPQUFPWixrREFBV0EsQ0FBQztRQUN2QixJQUFJLENBQUNLLGdCQUFnQjtZQUNuQkUsUUFBUTtZQUNSO1FBQ0Y7UUFFQSxJQUFJO1lBQ0ZFLFdBQVc7WUFDWEUsU0FBUztZQUNULE1BQU1FLFdBQVcsTUFBTVYscURBQWVBLENBQUNFO1lBQ3ZDRSxRQUFRO2dCQUNORjtnQkFDQVMsUUFBUUQsU0FBU0UsSUFBSSxFQUFFQztnQkFDdkJDLE1BQU1KLFNBQVNFLElBQUksRUFBRUUsUUFBUTtnQkFDN0JDLFFBQVFMLFNBQVNFLElBQUksRUFBRUcsVUFBVUM7Z0JBQ2pDQyxRQUFRUCxTQUFTTyxNQUFNLEVBQUVDLFdBQVcsV0FBVztnQkFDL0NDLFVBQVVULFNBQVNPLE1BQU0sRUFBRUc7WUFDN0I7UUFDRixFQUFFLE9BQU9DLEtBQUs7WUFDWkMsUUFBUWYsS0FBSyxDQUFDLG1DQUFtQ2M7WUFDakRiLFNBQVNhLGVBQWVFLFFBQVFGLElBQUlHLE9BQU8sR0FBRztRQUNoRCxTQUFVO1lBQ1JsQixXQUFXO1FBQ2I7SUFDRixHQUFHO1FBQUNKO0tBQWU7SUFFbkJKLGdEQUFTQSxDQUFDO1FBQ1JXO0lBQ0YsR0FBRztRQUFDQTtLQUFLO0lBRVQsT0FBTztRQUFFTjtRQUFNRTtRQUFTRTtRQUFPa0IsUUFBUWhCO0lBQUs7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uLi8uLi9wYWNrYWdlcy9hcHAvaG9va3MvdXNlT3Bwb25lbnRJbmZvLnRzP2Y4N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGdldE9wcG9uZW50SW5mbyB9IGZyb20gJy4uL2FwaSc7XHJcbmltcG9ydCB7IE9wcG9uZW50SW5mbyB9IGZyb20gJy4uL3R5cGVzL2NoYXQnO1xyXG5cclxuaW50ZXJmYWNlIFVzZU9wcG9uZW50SW5mb1Jlc3VsdCB7XHJcbiAgaW5mbzogT3Bwb25lbnRJbmZvIHwgbnVsbDtcclxuICBsb2FkaW5nOiBib29sZWFuO1xyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xyXG4gIHJlbG9hZDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZU9wcG9uZW50SW5mbyhjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IFVzZU9wcG9uZW50SW5mb1Jlc3VsdCB7XHJcbiAgY29uc3QgW2luZm8sIHNldEluZm9dID0gdXNlU3RhdGU8T3Bwb25lbnRJbmZvIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IGxvYWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSB7XHJcbiAgICAgIHNldEluZm8obnVsbCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRPcHBvbmVudEluZm8oY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICBzZXRJbmZvKHtcclxuICAgICAgICBjb252ZXJzYXRpb25JZCxcclxuICAgICAgICB1c2VySWQ6IHJlc3BvbnNlLnVzZXI/Ll9pZCxcclxuICAgICAgICBuYW1lOiByZXNwb25zZS51c2VyPy5uYW1lID8/ICdOZ8aw4budaSBkw7luZycsXHJcbiAgICAgICAgYXZhdGFyOiByZXNwb25zZS51c2VyPy5hdmF0YXIgPz8gdW5kZWZpbmVkLFxyXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzPy5pc09ubGluZSA/ICdvbmxpbmUnIDogJ29mZmxpbmUnLFxyXG4gICAgICAgIGxhc3RTZWVuOiByZXNwb25zZS5zdGF0dXM/Lmxhc3RBY3RpdmUsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbG9hZCBvcHBvbmVudCBpbmZvOicsIGVycik7XHJcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGxvYWQgb3Bwb25lbnQgaW5mbycpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsb2FkKCk7XHJcbiAgfSwgW2xvYWRdKTtcclxuXHJcbiAgcmV0dXJuIHsgaW5mbywgbG9hZGluZywgZXJyb3IsIHJlbG9hZDogbG9hZCB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZ2V0T3Bwb25lbnRJbmZvIiwidXNlT3Bwb25lbnRJbmZvIiwiY29udmVyc2F0aW9uSWQiLCJpbmZvIiwic2V0SW5mbyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImxvYWQiLCJyZXNwb25zZSIsInVzZXJJZCIsInVzZXIiLCJfaWQiLCJuYW1lIiwiYXZhdGFyIiwidW5kZWZpbmVkIiwic3RhdHVzIiwiaXNPbmxpbmUiLCJsYXN0U2VlbiIsImxhc3RBY3RpdmUiLCJlcnIiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwicmVsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useOpponentInfo.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/hooks/useWebRTC.ts":
/*!*********************************************!*\
  !*** ../../packages/app/hooks/useWebRTC.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWebRTC: () => (/* binding */ useWebRTC)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../socket */ \"(ssr)/../../packages/app/socket.ts\");\n\n\nconst FILTER_CONFIG = {\n    none: {\n        label: \"Gc\",\n        emoji: \"\\uD83D\\uDE42\"\n    },\n    beauty: {\n        label: \"Mn\",\n        emoji: \"\",\n        cssFilter: \"brightness(1.08) contrast(1.05) saturate(1.25)\"\n    },\n    warm: {\n        label: \"m\",\n        emoji: \"\\uD83C\\uDF05\",\n        cssFilter: \"brightness(1.05) saturate(1.25) hue-rotate(-5deg)\"\n    },\n    cool: {\n        label: \"M\\xe1t\",\n        emoji: \"\",\n        cssFilter: \"brightness(1.08) saturate(1.15) hue-rotate(185deg)\"\n    },\n    party: {\n        label: \"Party\",\n        emoji: \"\\uD83C\\uDF89\",\n        cssFilter: \"brightness(1.05) saturate(1.25)\",\n        overlay: (ctx, width, height, time)=>{\n            ctx.save();\n            ctx.globalAlpha = 0.35;\n            for(let i = 0; i < 20; i += 1){\n                const x = (i * 73 + time / 12 % width) % width;\n                const y = (i * 41 + time / 18 % height) % height;\n                const size = 12 + i % 5 * 3;\n                ctx.fillStyle = [\n                    \"#ff6b6b\",\n                    \"#ffd93d\",\n                    \"#6bc2ff\",\n                    \"#b070ff\"\n                ][i % 4];\n                ctx.beginPath();\n                ctx.arc(x, y, size, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            ctx.restore();\n        }\n    },\n    birthday: {\n        label: \"Sinh nht\",\n        emoji: \"\\uD83C\\uDF82\",\n        cssFilter: \"brightness(1.05) saturate(1.15)\",\n        overlay: (ctx, width, height)=>{\n            ctx.save();\n            // Balloons\n            const balloonColors = [\n                \"#ff7eb6\",\n                \"#7dbbff\",\n                \"#ffd966\"\n            ];\n            balloonColors.forEach((color, index)=>{\n                const bx = index === 0 ? width * 0.15 : index === 1 ? width * 0.85 : width * 0.5;\n                const by = index === 2 ? height * 0.2 : height * 0.15;\n                const radius = index === 2 ? 80 : 70;\n                const gradient = ctx.createRadialGradient(bx - 20, by - 30, 20, bx, by, radius);\n                gradient.addColorStop(0, \"#ffffff\");\n                gradient.addColorStop(0.2, \"#ffffff\");\n                gradient.addColorStop(1, color);\n                ctx.fillStyle = gradient;\n                ctx.beginPath();\n                ctx.ellipse(bx, by, radius * 0.75, radius, 0, 0, Math.PI * 2);\n                ctx.fill();\n                ctx.strokeStyle = \"#ffffff\";\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.moveTo(bx, by + radius);\n                ctx.quadraticCurveTo(bx - 10, by + radius + 60, bx, by + radius + 110);\n                ctx.stroke();\n            });\n            // Party hat\n            ctx.fillStyle = \"#ff8ce6\";\n            ctx.beginPath();\n            ctx.moveTo(width / 2, height * 0.02);\n            ctx.lineTo(width / 2 - 80, height * 0.28);\n            ctx.lineTo(width / 2 + 80, height * 0.28);\n            ctx.closePath();\n            ctx.fill();\n            ctx.fillStyle = \"rgba(255,255,255,0.45)\";\n            for(let i = -60; i <= 60; i += 30){\n                ctx.beginPath();\n                ctx.arc(width / 2 + i, height * 0.18, 18, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            // Cake base\n            const cakeHeight = 90;\n            ctx.fillStyle = \"#ffd1dc\";\n            ctx.fillRect(width * 0.2, height - cakeHeight - 20, width * 0.6, cakeHeight);\n            ctx.fillStyle = \"#ff9ebe\";\n            ctx.fillRect(width * 0.2, height - cakeHeight - 20, width * 0.6, 25);\n            // Candles\n            for(let i = -1; i <= 1; i++){\n                const cx = width / 2 + i * 35;\n                ctx.fillStyle = \"#5dade2\";\n                ctx.fillRect(cx - 6, height - cakeHeight - 60, 12, 40);\n                ctx.fillStyle = \"#ffd966\";\n                ctx.beginPath();\n                ctx.ellipse(cx, height - cakeHeight - 68, 7, 10, 0, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            ctx.restore();\n        }\n    }\n};\nconst ICE_SERVERS = [\n    {\n        urls: \"stun:stun.l.google.com:19302\"\n    },\n    {\n        urls: \"stun:stun1.l.google.com:19302\"\n    }\n];\nfunction useWebRTC({ callId, conversationId: _conversationId, isInitiator, localUserId: _localUserId, remoteUserId, videoDeviceId, audioDeviceId }) {\n    const [localStream, setLocalStream] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [remoteStream, setRemoteStream] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isVideoEnabled, setIsVideoEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [isAudioEnabled, setIsAudioEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [currentFilter, setCurrentFilter] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"none\");\n    const [isScreenSharing, setIsScreenSharing] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const peerConnectionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const socketRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_socket__WEBPACK_IMPORTED_MODULE_1__.getSocket)());\n    const localVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const remoteVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Queue for ICE candidates received before remote description is set\n    const iceCandidateQueueRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const hasReceivedOfferRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const offerRetryTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const rawCameraStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const screenShareStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const processedFilterStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const filterCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const filterVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const filterAnimationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const currentFilterRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(\"none\");\n    // Refs to store latest functions for use in socket handlers (will be set after functions are defined)\n    const initPeerConnectionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const getUserMediaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        currentFilterRef.current = currentFilter;\n    }, [\n        currentFilter\n    ]);\n    const replaceVideoTrack = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (track)=>{\n        if (!track) return;\n        const pc = peerConnectionRef.current;\n        if (!pc) return;\n        const sender = pc.getSenders().find((s)=>s.track && s.track.kind === \"video\");\n        if (sender) {\n            await sender.replaceTrack(track);\n        }\n    }, []);\n    const stopFilterProcessing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (filterAnimationFrameRef.current) {\n            cancelAnimationFrame(filterAnimationFrameRef.current);\n            filterAnimationFrameRef.current = null;\n        }\n        if (processedFilterStreamRef.current) {\n            processedFilterStreamRef.current.getTracks().forEach((track)=>track.stop());\n            processedFilterStreamRef.current = null;\n        }\n        if (filterVideoRef.current) {\n            try {\n                filterVideoRef.current.pause();\n            } catch (err) {\n            // ignore\n            }\n            filterVideoRef.current.srcObject = null;\n            filterVideoRef.current = null;\n        }\n        filterCanvasRef.current = null;\n    }, []);\n    const startFilterProcessing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((filter)=>{\n        const rawStream = rawCameraStreamRef.current;\n        if (!rawStream) return;\n        stopFilterProcessing();\n        const videoEl = document.createElement(\"video\");\n        videoEl.srcObject = rawStream;\n        videoEl.muted = true;\n        videoEl.playsInline = true;\n        videoEl.autoplay = true;\n        videoEl.play().catch(()=>{});\n        filterVideoRef.current = videoEl;\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            console.error(\"[Filter] Canvas context unavailable\");\n            return;\n        }\n        filterCanvasRef.current = canvas;\n        const render = ()=>{\n            if (!filterVideoRef.current) {\n                return;\n            }\n            const video = filterVideoRef.current;\n            const width = video.videoWidth || 640;\n            const height = video.videoHeight || 480;\n            if (width === 0 || height === 0) {\n                filterAnimationFrameRef.current = requestAnimationFrame(render);\n                return;\n            }\n            if (canvas.width !== width || canvas.height !== height) {\n                canvas.width = width;\n                canvas.height = height;\n            }\n            ctx.clearRect(0, 0, width, height);\n            const config = FILTER_CONFIG[filter];\n            ctx.filter = config.cssFilter || \"none\";\n            ctx.drawImage(video, 0, 0, width, height);\n            ctx.filter = \"none\";\n            if (config.overlay) {\n                config.overlay(ctx, width, height, performance.now());\n            }\n            filterAnimationFrameRef.current = requestAnimationFrame(render);\n        };\n        render();\n        const processedStream = canvas.captureStream(30);\n        processedFilterStreamRef.current = processedStream;\n        const processedTrack = processedStream.getVideoTracks()[0];\n        replaceVideoTrack(processedTrack);\n        setLocalStream(processedStream);\n    }, [\n        replaceVideoTrack,\n        stopFilterProcessing\n    ]);\n    const stopScreenShare = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!screenShareStreamRef.current) return;\n        screenShareStreamRef.current.getTracks().forEach((track)=>track.stop());\n        screenShareStreamRef.current = null;\n        setIsScreenSharing(false);\n        const cameraStream = rawCameraStreamRef.current;\n        if (!cameraStream) return;\n        if (currentFilterRef.current !== \"none\") {\n            startFilterProcessing(currentFilterRef.current);\n        } else {\n            const cameraTrack = cameraStream.getVideoTracks()[0];\n            await replaceVideoTrack(cameraTrack);\n            setLocalStream(cameraStream);\n        }\n    }, [\n        replaceVideoTrack,\n        startFilterProcessing\n    ]);\n    const startScreenShare = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (isScreenSharing) return;\n        try {\n            const electronAPI =  false ? 0 : undefined;\n            let shareStream = null;\n            if (electronAPI?.selectScreenSource) {\n                const sourceId = await electronAPI.selectScreenSource();\n                if (!sourceId) {\n                    setError(\"Kh\\xf4ng t\\xecm thy m\\xe0n h\\xecnh  chia s.\");\n                    return;\n                }\n                const electronConstraints = {\n                    audio: false,\n                    video: {\n                        mandatory: {\n                            chromeMediaSource: \"desktop\",\n                            chromeMediaSourceId: sourceId,\n                            maxFrameRate: 30,\n                            minFrameRate: 5\n                        }\n                    }\n                };\n                shareStream = await navigator.mediaDevices.getUserMedia(electronConstraints);\n            } else if (navigator.mediaDevices?.getDisplayMedia) {\n                shareStream = await navigator.mediaDevices.getDisplayMedia({\n                    video: {\n                        frameRate: 30,\n                        width: {\n                            ideal: 1920\n                        },\n                        height: {\n                            ideal: 1080\n                        },\n                        displaySurface: \"monitor\"\n                    },\n                    audio: false\n                });\n            } else {\n                throw new Error(\"SCREEN_SHARE_NOT_SUPPORTED\");\n            }\n            screenShareStreamRef.current = shareStream;\n            const track = shareStream.getVideoTracks()[0];\n            track.onended = ()=>{\n                stopScreenShare().catch(()=>{});\n            };\n            stopFilterProcessing();\n            setLocalStream(shareStream);\n            await replaceVideoTrack(track);\n            setIsScreenSharing(true);\n        } catch (err) {\n            console.error(\"[ScreenShare] Error starting screen share:\", err);\n            if (err?.name === \"NotAllowedError\") {\n                setError(\"Bn \\xe3 t chi quyn chia s m\\xe0n h\\xecnh.\");\n            } else if (err?.name === \"NotFoundError\") {\n                setError(\"Kh\\xf4ng t\\xecm thy m\\xe0n h\\xecnh ph\\xf9 hp  chia s.\");\n            } else {\n                setError(\"Chia s m\\xe0n h\\xecnh cha c h tr trong m\\xf4i trng n\\xe0y.\");\n            }\n            throw err;\n        }\n    }, [\n        isScreenSharing,\n        replaceVideoTrack,\n        stopFilterProcessing,\n        stopScreenShare\n    ]);\n    const applyFilter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (filter)=>{\n        setCurrentFilter(filter);\n        if (isScreenSharing) {\n            console.warn(\"[Filter] Cannot apply filter while sharing screen\");\n            return;\n        }\n        if (!rawCameraStreamRef.current) return;\n        if (filter === \"none\") {\n            stopFilterProcessing();\n            const cameraTrack = rawCameraStreamRef.current.getVideoTracks()[0];\n            await replaceVideoTrack(cameraTrack);\n            setLocalStream(rawCameraStreamRef.current);\n            return;\n        }\n        startFilterProcessing(filter);\n    }, [\n        isScreenSharing,\n        replaceVideoTrack,\n        startFilterProcessing,\n        stopFilterProcessing\n    ]);\n    // ============================================================================\n    // ERROR HANDLING HELPERS\n    // ============================================================================\n    const handleGetUserMediaError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((err)=>{\n        const timestamp = new Date().toISOString();\n        console.error(`[getUserMedia ERROR] ${timestamp}`);\n        console.error(`[getUserMedia ERROR] Error name: ${err.name}`);\n        console.error(`[getUserMedia ERROR] Error message: ${err.message}`);\n        console.error(`[getUserMedia ERROR] Full error:`, err);\n        switch(err.name){\n            case \"NotAllowedError\":\n                console.error(\"[getUserMedia ERROR] NotAllowedError: Permission denied by user or system\");\n                return \"Camera/microphone permission denied. Please allow access in Windows Settings (Privacy  Camera/Microphone).\";\n            case \"NotFoundError\":\n                console.error(\"[getUserMedia ERROR] NotFoundError: No media device found\");\n                return \"No camera/microphone found. Please connect a device.\";\n            case \"NotReadableError\":\n                console.error(\"[getUserMedia ERROR] NotReadableError: Device is already in use\");\n                return \"Camera/microphone is already in use by another application.\";\n            case \"OverconstrainedError\":\n                console.error(\"[getUserMedia ERROR] OverconstrainedError: Constraints cannot be satisfied\");\n                return \"Camera/microphone constraints cannot be satisfied. Please try different settings.\";\n            case \"SecurityError\":\n                console.error(\"[getUserMedia ERROR] SecurityError: Not in secure context\");\n                return \"Security error: App must run in secure context.\";\n            case \"TypeError\":\n                console.error(\"[getUserMedia ERROR] TypeError: Invalid constraints or API not available\");\n                return \"Invalid media constraints or API not available.\";\n            default:\n                console.error(`[getUserMedia ERROR] Unknown error: ${err.name}`);\n                return err.message || \"Failed to access camera/microphone.\";\n        }\n    }, []);\n    // ============================================================================\n    // GET USER MEDIA WITH DETAILED ERROR HANDLING\n    // ============================================================================\n    const getUserMedia = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (video, audio)=>{\n        const timestamp = new Date().toISOString();\n        console.log(`[getUserMedia] ${timestamp} - Starting request`);\n        console.log(`[getUserMedia] Video: ${video}, Audio: ${audio}`);\n        // Check if mediaDevices API is available\n        if (!navigator.mediaDevices) {\n            const errorMsg = \"MediaDevices API is not available in this browser.\";\n            console.error(`[getUserMedia ERROR] ${errorMsg}`);\n            throw new Error(errorMsg);\n        }\n        if (!navigator.mediaDevices.getUserMedia) {\n            const errorMsg = \"getUserMedia is not supported in this browser.\";\n            console.error(`[getUserMedia ERROR] ${errorMsg}`);\n            throw new Error(errorMsg);\n        }\n        // Log environment info\n        console.log(`[getUserMedia] Environment info:`);\n        console.log(`[getUserMedia] Origin: ${window.location.origin}`);\n        console.log(`[getUserMedia] URL: ${window.location.href}`);\n        console.log(`[getUserMedia] Is secure context: ${window.isSecureContext}`);\n        console.log(`[getUserMedia] MediaDevices available: ${!!navigator.mediaDevices}`);\n        // Prepare constraints with device selection\n        const constraints = {\n            video: video ? videoDeviceId ? {\n                deviceId: {\n                    exact: videoDeviceId\n                },\n                width: {\n                    ideal: 1280\n                },\n                height: {\n                    ideal: 720\n                }\n            } : {\n                width: {\n                    ideal: 1280\n                },\n                height: {\n                    ideal: 720\n                },\n                facingMode: \"user\"\n            } : false,\n            audio: audio ? audioDeviceId ? {\n                deviceId: {\n                    exact: audioDeviceId\n                },\n                echoCancellation: true,\n                noiseSuppression: true,\n                autoGainControl: true\n            } : {\n                echoCancellation: true,\n                noiseSuppression: true,\n                autoGainControl: true\n            } : false\n        };\n        if (videoDeviceId) {\n            console.log(`[getUserMedia] Using selected video device: ${videoDeviceId}`);\n        }\n        if (audioDeviceId) {\n            console.log(`[getUserMedia] Using selected audio device: ${audioDeviceId}`);\n        }\n        console.log(`[getUserMedia] Constraints:`, JSON.stringify(constraints, null, 2));\n        try {\n            console.log(`[getUserMedia] Calling navigator.mediaDevices.getUserMedia...`);\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            console.log(`[getUserMedia]  Success! Stream obtained`);\n            console.log(`[getUserMedia] Stream ID: ${stream.id}`);\n            console.log(`[getUserMedia] Stream active: ${stream.active}`);\n            console.log(`[getUserMedia] Tracks:`, stream.getTracks().map((track)=>({\n                    kind: track.kind,\n                    id: track.id,\n                    label: track.label,\n                    enabled: track.enabled,\n                    muted: track.muted,\n                    readyState: track.readyState\n                })));\n            if (rawCameraStreamRef.current && rawCameraStreamRef.current !== stream) {\n                rawCameraStreamRef.current.getTracks().forEach((track)=>track.stop());\n            }\n            rawCameraStreamRef.current = stream;\n            if (!isScreenSharing && currentFilterRef.current === \"none\") {\n                setLocalStream(stream);\n            }\n            setError(null);\n            // Add tracks to peer connection if it exists\n            if (peerConnectionRef.current) {\n                stream.getTracks().forEach((track)=>{\n                    console.log(`[getUserMedia] Adding ${track.kind} track to peer connection`);\n                    peerConnectionRef.current?.addTrack(track, stream);\n                });\n            }\n            if (!isScreenSharing && currentFilterRef.current !== \"none\") {\n                startFilterProcessing(currentFilterRef.current);\n            }\n            return stream;\n        } catch (err) {\n            const errorMessage = handleGetUserMediaError(err);\n            setError(errorMessage);\n            throw err;\n        }\n    }, [\n        handleGetUserMediaError,\n        isScreenSharing,\n        startFilterProcessing\n    ]);\n    // Update getUserMedia ref\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        getUserMediaRef.current = getUserMedia;\n    }, [\n        getUserMedia\n    ]);\n    // ============================================================================\n    // INITIALIZE PEER CONNECTION\n    // ============================================================================\n    const initPeerConnection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        console.log(\"[PeerConnection] Initializing...\");\n        if (peerConnectionRef.current) {\n            console.log(\"[PeerConnection] Closing existing connection\");\n            peerConnectionRef.current.close();\n        }\n        const pc = new RTCPeerConnection({\n            iceServers: ICE_SERVERS\n        });\n        console.log(\"[PeerConnection] Created new RTCPeerConnection\");\n        // Handle ICE candidates\n        pc.onicecandidate = (event)=>{\n            if (event.candidate) {\n                console.log(\"[PeerConnection] ICE candidate:\", event.candidate);\n                const socket = socketRef.current;\n                if (socket) {\n                    socket.emit(\"webrtc:ice-candidate\", {\n                        callId,\n                        candidate: event.candidate,\n                        targetUserId: remoteUserId\n                    });\n                }\n            } else {\n                console.log(\"[PeerConnection] ICE gathering complete\");\n            }\n        };\n        // Handle connection state changes\n        pc.onconnectionstatechange = ()=>{\n            const state = pc.connectionState;\n            console.log(`[PeerConnection] Connection state: ${state}`);\n            if (state === \"connected\") {\n                setIsConnected(true);\n                setError(null);\n            } else if (state === \"disconnected\" || state === \"failed\" || state === \"closed\") {\n                setIsConnected(false);\n            }\n        };\n        // Handle remote stream\n        pc.ontrack = (event)=>{\n            console.log(\"[PeerConnection] Received remote track:\", event.track.kind);\n            if (event.streams && event.streams[0]) {\n                console.log(\"[PeerConnection] Setting remote stream\");\n                setRemoteStream(event.streams[0]);\n            }\n        };\n        // Handle ICE connection state\n        pc.oniceconnectionstatechange = ()=>{\n            const state = pc.iceConnectionState;\n            console.log(`[PeerConnection] ICE connection state: ${state}`);\n            if (state === \"failed\") {\n                console.error(\"[PeerConnection] ICE connection failed\");\n                setError(\"Connection failed. Please try again.\");\n            }\n        };\n        peerConnectionRef.current = pc;\n        return pc;\n    }, [\n        callId,\n        remoteUserId\n    ]);\n    // Update initPeerConnection ref\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        initPeerConnectionRef.current = initPeerConnection;\n    }, [\n        initPeerConnection\n    ]);\n    const requestOffer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((reason)=>{\n        const socket = socketRef.current;\n        if (!socket) {\n            console.warn(\"[Socket] Cannot request offer - socket not available\");\n            return;\n        }\n        console.log(`[Socket] Requesting offer (${reason}) for callId ${callId}`);\n        socket.emit(\"webrtc:request-offer\", {\n            callId,\n            fromUserId: _localUserId,\n            targetUserId: remoteUserId\n        });\n    }, [\n        callId,\n        _localUserId,\n        remoteUserId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            if (offerRetryTimerRef.current) {\n                clearInterval(offerRetryTimerRef.current);\n                offerRetryTimerRef.current = null;\n            }\n        };\n    }, []);\n    // ============================================================================\n    // START CALL\n    // ============================================================================\n    const startCall = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const timestamp = new Date().toISOString();\n        console.log(`[startCall] ${timestamp} - Starting call`);\n        console.log(`[startCall] Call ID: ${callId}`);\n        console.log(`[startCall] Is initiator: ${isInitiator}`);\n        try {\n            setError(null);\n            const socket = socketRef.current;\n            if (!socket) {\n                throw new Error(\"Socket not connected\");\n            }\n            // Initialize peer connection\n            const pc = initPeerConnection();\n            // Get user media (both initiator and non-initiator need this)\n            console.log(\"[startCall] Requesting user media...\");\n            await getUserMedia(isVideoEnabled, isAudioEnabled);\n            if (isInitiator) {\n                // Initiator: Create and send offer\n                console.log(\"[startCall] Creating offer...\");\n                console.log(\"[startCall] Initiator details:\", {\n                    callId,\n                    remoteUserId,\n                    socketConnected: socket.connected,\n                    socketId: socket.id\n                });\n                const offer = await pc.createOffer();\n                console.log(\"[startCall] Offer created:\", {\n                    type: offer.type,\n                    sdpLength: offer.sdp?.length\n                });\n                await pc.setLocalDescription(offer);\n                console.log(\"[startCall] Local description set, signalingState:\", pc.signalingState);\n                // Send offer\n                console.log(\"[startCall] Sending offer via socket...\");\n                const offerData = {\n                    callId,\n                    offer: offer,\n                    targetUserId: remoteUserId\n                };\n                console.log(\"[startCall] Offer data to send:\", {\n                    callId: offerData.callId,\n                    targetUserId: offerData.targetUserId,\n                    offerType: offerData.offer.type\n                });\n                socket.emit(\"webrtc:offer\", offerData);\n                console.log(\"[startCall]  Offer emitted to socket\");\n                // Verify socket is connected\n                if (!socket.connected) {\n                    console.error(\"[startCall]  Socket not connected when sending offer!\");\n                }\n            } else {\n                // Non-initiator: Just setup peer connection and wait for offer\n                // The offer handler will create answer when offer is received\n                console.log(\"[startCall] Non-initiator: Peer connection ready, waiting for offer...\");\n                console.log(\"[startCall] Socket listeners should be set up to receive offer\");\n                hasReceivedOfferRef.current = false;\n                requestOffer(\"start\");\n                if (offerRetryTimerRef.current) {\n                    clearInterval(offerRetryTimerRef.current);\n                }\n                offerRetryTimerRef.current = setInterval(()=>{\n                    if (hasReceivedOfferRef.current) {\n                        if (offerRetryTimerRef.current) {\n                            clearInterval(offerRetryTimerRef.current);\n                            offerRetryTimerRef.current = null;\n                        }\n                        return;\n                    }\n                    requestOffer(\"retry\");\n                }, 2000);\n            }\n        } catch (err) {\n            console.error(\"[startCall] Error:\", err);\n            const errorMessage = err.message || \"Failed to start call\";\n            setError(errorMessage);\n        }\n    }, [\n        callId,\n        isInitiator,\n        remoteUserId,\n        isVideoEnabled,\n        isAudioEnabled,\n        initPeerConnection,\n        getUserMedia,\n        requestOffer\n    ]);\n    // ============================================================================\n    // END CALL\n    // ============================================================================\n    const endCall = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        console.log(\"[endCall] Ending call...\");\n        stopFilterProcessing();\n        stopScreenShare().catch(()=>{});\n        // Stop local stream tracks\n        if (localStream) {\n            console.log(\"[endCall] Stopping local stream tracks\");\n            localStream.getTracks().forEach((track)=>{\n                track.stop();\n                console.log(`[endCall] Stopped ${track.kind} track`);\n            });\n            setLocalStream(null);\n        }\n        if (rawCameraStreamRef.current) {\n            rawCameraStreamRef.current.getTracks().forEach((track)=>track.stop());\n            rawCameraStreamRef.current = null;\n        }\n        // Stop remote stream tracks\n        if (remoteStream) {\n            console.log(\"[endCall] Stopping remote stream tracks\");\n            remoteStream.getTracks().forEach((track)=>{\n                track.stop();\n            });\n            setRemoteStream(null);\n        }\n        // Close peer connection\n        if (peerConnectionRef.current) {\n            console.log(\"[endCall] Closing peer connection\");\n            peerConnectionRef.current.close();\n            peerConnectionRef.current = null;\n        }\n        setIsConnected(false);\n        setError(null);\n        console.log(\"[endCall] Call ended\");\n    }, [\n        localStream,\n        remoteStream,\n        stopFilterProcessing,\n        stopScreenShare\n    ]);\n    // ============================================================================\n    // TOGGLE VIDEO/AUDIO\n    // ============================================================================\n    const toggleVideo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        console.log(`[toggleVideo] Current state: ${isVideoEnabled}, toggling...`);\n        setIsVideoEnabled(!isVideoEnabled);\n        if (localStream) {\n            const videoTracks = localStream.getVideoTracks();\n            videoTracks.forEach((track)=>{\n                track.enabled = !isVideoEnabled;\n                console.log(`[toggleVideo] Video track ${track.id} enabled: ${track.enabled}`);\n            });\n        }\n    }, [\n        isVideoEnabled,\n        localStream\n    ]);\n    const toggleAudio = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        console.log(`[toggleAudio] Current state: ${isAudioEnabled}, toggling...`);\n        setIsAudioEnabled(!isAudioEnabled);\n        if (localStream) {\n            const audioTracks = localStream.getAudioTracks();\n            audioTracks.forEach((track)=>{\n                track.enabled = !isAudioEnabled;\n                console.log(`[toggleAudio] Audio track ${track.id} enabled: ${track.enabled}`);\n            });\n        }\n    }, [\n        isAudioEnabled,\n        localStream\n    ]);\n    // ============================================================================\n    // SETUP SOCKET LISTENERS\n    // ============================================================================\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const socket = socketRef.current;\n        if (!socket) {\n            console.log(\"[Socket] Socket not available, skipping listener setup\");\n            return;\n        }\n        // Setup listeners even if peer connection not ready yet\n        // Peer connection will be created in startCall()\n        console.log(\"[Socket] Setting up WebRTC listeners for callId:\", callId);\n        const handleOffer = async (data)=>{\n            console.log(\"[Socket] ===== OFFER RECEIVED =====\");\n            console.log(\"[Socket] Offer data:\", {\n                callId: data.callId,\n                expectedCallId: callId,\n                fromUserId: data.fromUserId,\n                offerType: data.offer?.type,\n                offerSdpLength: data.offer?.sdp?.length\n            });\n            hasReceivedOfferRef.current = true;\n            if (offerRetryTimerRef.current) {\n                clearInterval(offerRetryTimerRef.current);\n                offerRetryTimerRef.current = null;\n            }\n            if (data.callId !== callId) {\n                console.log(\"[Socket]  Offer callId mismatch:\", data.callId, \"expected:\", callId);\n                return;\n            }\n            console.log(\"[Socket]  Offer callId matches, processing...\");\n            try {\n                let pc = peerConnectionRef.current;\n                // If peer connection doesn't exist or is closed, create a new one\n                const isClosed = !pc || pc.signalingState === \"closed\" || pc.connectionState === \"closed\";\n                if (isClosed) {\n                    console.log(\"[Socket] Peer connection not found or closed, creating new one...\");\n                    if (!initPeerConnectionRef.current) {\n                        console.error(\"[Socket] initPeerConnection not available\");\n                        return;\n                    }\n                    pc = initPeerConnectionRef.current();\n                    // Get user media if not already obtained\n                    if (!localStream) {\n                        console.log(\"[Socket] Getting user media for answer...\");\n                        if (!getUserMediaRef.current) {\n                            console.error(\"[Socket] getUserMedia not available\");\n                            return;\n                        }\n                        await getUserMediaRef.current(isVideoEnabled, isAudioEnabled);\n                    }\n                    // Double check after creating - if still closed, something went wrong\n                    if (pc.signalingState === \"closed\" || pc.connectionState === \"closed\") {\n                        console.error(\"[Socket] Peer connection was closed immediately after creation\");\n                        return;\n                    }\n                }\n                // Final check - ensure pc is not null\n                if (!pc) {\n                    console.error(\"[Socket] Peer connection is null after creation\");\n                    return;\n                }\n                // Final check signaling state before setting remote description\n                if (pc.signalingState === \"closed\" || pc.connectionState === \"closed\") {\n                    console.error(\"[Socket] Cannot set remote description: peer connection is closed\");\n                    console.error(\"[Socket] Signaling state:\", pc.signalingState, \"Connection state:\", pc.connectionState);\n                    return;\n                }\n                await pc.setRemoteDescription(new RTCSessionDescription(data.offer));\n                console.log(\"[Socket] Remote description set\");\n                // Process queued ICE candidates now that remote description is set\n                if (iceCandidateQueueRef.current.length > 0) {\n                    console.log(`[Socket] Processing ${iceCandidateQueueRef.current.length} queued ICE candidates`);\n                    for (const candidate of iceCandidateQueueRef.current){\n                        try {\n                            await pc.addIceCandidate(new RTCIceCandidate(candidate));\n                            console.log(\"[Socket] Queued ICE candidate added\");\n                        } catch (err) {\n                            console.error(\"[Socket] Error adding queued ICE candidate:\", err);\n                        }\n                    }\n                    iceCandidateQueueRef.current = [];\n                }\n                const answer = await pc.createAnswer();\n                await pc.setLocalDescription(answer);\n                console.log(\"[Socket] Answer created and set, signalingState:\", pc.signalingState);\n                const answerData = {\n                    callId,\n                    answer: answer,\n                    targetUserId: data.fromUserId\n                };\n                console.log(\"[Socket] Sending answer:\", {\n                    callId: answerData.callId,\n                    targetUserId: answerData.targetUserId,\n                    answerType: answerData.answer.type,\n                    socketConnected: socket.connected,\n                    socketId: socket.id\n                });\n                socket.emit(\"webrtc:answer\", answerData);\n                console.log(\"[Socket]  Answer emitted to socket\");\n                // Verify socket is connected\n                if (!socket.connected) {\n                    console.error(\"[Socket]  Socket not connected when sending answer!\");\n                }\n            } catch (err) {\n                console.error(\"[Socket] Error handling offer:\", err);\n                setError(\"Failed to handle incoming call\");\n            }\n        };\n        const handleAnswer = async (data)=>{\n            console.log(\"[Socket] ===== ANSWER RECEIVED =====\");\n            console.log(\"[Socket] Answer data:\", {\n                callId: data.callId,\n                expectedCallId: callId,\n                fromUserId: data.fromUserId,\n                answerType: data.answer?.type,\n                answerSdpLength: data.answer?.sdp?.length\n            });\n            if (data.callId !== callId) {\n                console.log(\"[Socket]  Answer callId mismatch:\", data.callId, \"expected:\", callId);\n                return;\n            }\n            console.log(\"[Socket]  Answer callId matches, processing...\");\n            try {\n                const pc = peerConnectionRef.current;\n                if (!pc) return;\n                await pc.setRemoteDescription(new RTCSessionDescription(data.answer));\n                console.log(\"[Socket] Remote description set from answer\");\n                // Process queued ICE candidates now that remote description is set\n                if (iceCandidateQueueRef.current.length > 0) {\n                    console.log(`[Socket] Processing ${iceCandidateQueueRef.current.length} queued ICE candidates`);\n                    for (const candidate of iceCandidateQueueRef.current){\n                        try {\n                            await pc.addIceCandidate(new RTCIceCandidate(candidate));\n                            console.log(\"[Socket] Queued ICE candidate added\");\n                        } catch (err) {\n                            console.error(\"[Socket] Error adding queued ICE candidate:\", err);\n                        }\n                    }\n                    iceCandidateQueueRef.current = [];\n                }\n            } catch (err) {\n                console.error(\"[Socket] Error handling answer:\", err);\n                setError(\"Failed to handle call answer\");\n            }\n        };\n        const handleIceCandidate = async (data)=>{\n            if (data.callId !== callId) return;\n            console.log(\"[Socket] Received ICE candidate:\", data);\n            try {\n                const pc = peerConnectionRef.current;\n                if (!pc) {\n                    console.log(\"[Socket] Peer connection not ready, queueing ICE candidate\");\n                    iceCandidateQueueRef.current.push(data.candidate);\n                    return;\n                }\n                // Check if remote description is set\n                if (!pc.remoteDescription) {\n                    console.log(\"[Socket] Remote description not set yet, queueing ICE candidate\");\n                    iceCandidateQueueRef.current.push(data.candidate);\n                    return;\n                }\n                await pc.addIceCandidate(new RTCIceCandidate(data.candidate));\n                console.log(\"[Socket] ICE candidate added\");\n            } catch (err) {\n                // If error is because remote description is null, queue it\n                if (err instanceof Error && err.message.includes(\"remote description\")) {\n                    console.log(\"[Socket] Remote description not set, queueing ICE candidate\");\n                    iceCandidateQueueRef.current.push(data.candidate);\n                } else {\n                    console.error(\"[Socket] Error handling ICE candidate:\", err);\n                }\n            }\n        };\n        socket.on(\"webrtc:offer\", handleOffer);\n        socket.on(\"webrtc:answer\", handleAnswer);\n        socket.on(\"webrtc:ice-candidate\", handleIceCandidate);\n        return ()=>{\n            console.log(\"[Socket] Cleaning up WebRTC listeners\");\n            socket.off(\"webrtc:offer\", handleOffer);\n            socket.off(\"webrtc:answer\", handleAnswer);\n            socket.off(\"webrtc:ice-candidate\", handleIceCandidate);\n        };\n    // Note: We intentionally don't include initPeerConnection, getUserMedia, etc. in deps\n    // to avoid re-setting up listeners. These functions are stable (useCallback).\n    // The handlers use refs/current values when needed.\n    }, [\n        callId\n    ]);\n    // ============================================================================\n    // ATTACH STREAMS TO VIDEO ELEMENTS\n    // ============================================================================\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (localVideoRef.current && localStream) {\n            console.log(\"[Video] Attaching local stream to video element\");\n            localVideoRef.current.srcObject = localStream;\n        }\n    }, [\n        localStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (remoteVideoRef.current && remoteStream) {\n            console.log(\"[Video] Attaching remote stream to video element\");\n            remoteVideoRef.current.srcObject = remoteStream;\n        }\n    }, [\n        remoteStream\n    ]);\n    // ============================================================================\n    // CLEANUP ON UNMOUNT\n    // ============================================================================\n    // Use ref to store latest endCall function to avoid cleanup re-running\n    const endCallRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(endCall);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        endCallRef.current = endCall;\n    }, [\n        endCall\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            console.log(\"[Cleanup] Component unmounting, cleaning up...\");\n            // Use ref to call latest endCall without triggering re-runs\n            endCallRef.current();\n        };\n    // Empty deps - only run on unmount\n    }, []);\n    return {\n        localStream,\n        remoteStream,\n        isConnected,\n        error,\n        startCall,\n        endCall,\n        toggleVideo,\n        toggleAudio,\n        isVideoEnabled,\n        isAudioEnabled,\n        applyFilter,\n        currentFilter,\n        startScreenShare,\n        stopScreenShare,\n        isScreenSharing,\n        localVideoRef,\n        remoteVideoRef\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL2hvb2tzL3VzZVdlYlJUQy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlFO0FBQzNCO0FBaUJ0QyxNQUFNSyxnQkFBa0Q7SUFDdERDLE1BQU07UUFBRUMsT0FBTztRQUFPQyxPQUFPO0lBQUs7SUFDbENDLFFBQVE7UUFDTkYsT0FBTztRQUNQQyxPQUFPO1FBQ1BFLFdBQVc7SUFDYjtJQUNBQyxNQUFNO1FBQ0pKLE9BQU87UUFDUEMsT0FBTztRQUNQRSxXQUFXO0lBQ2I7SUFDQUUsTUFBTTtRQUNKTCxPQUFPO1FBQ1BDLE9BQU87UUFDUEUsV0FBVztJQUNiO0lBQ0FHLE9BQU87UUFDTE4sT0FBTztRQUNQQyxPQUFPO1FBQ1BFLFdBQVc7UUFDWEksU0FBUyxDQUFDQyxLQUFLQyxPQUFPQyxRQUFRQztZQUM1QkgsSUFBSUksSUFBSTtZQUNSSixJQUFJSyxXQUFXLEdBQUc7WUFDbEIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUksSUFBSUEsS0FBSyxFQUFHO2dCQUM5QixNQUFNQyxJQUFJLENBQUNELElBQUksS0FBSyxPQUFRLEtBQU1MLEtBQUksSUFBS0E7Z0JBQzNDLE1BQU1PLElBQUksQ0FBQ0YsSUFBSSxLQUFLLE9BQVEsS0FBTUosTUFBSyxJQUFLQTtnQkFDNUMsTUFBTU8sT0FBTyxLQUFLLElBQUssSUFBSztnQkFDNUJULElBQUlVLFNBQVMsR0FBRztvQkFBQztvQkFBVztvQkFBVztvQkFBVztpQkFBVSxDQUFDSixJQUFJLEVBQUU7Z0JBQ25FTixJQUFJVyxTQUFTO2dCQUNiWCxJQUFJWSxHQUFHLENBQUNMLEdBQUdDLEdBQUdDLE1BQU0sR0FBR0ksS0FBS0MsRUFBRSxHQUFHO2dCQUNqQ2QsSUFBSWUsSUFBSTtZQUNWO1lBQ0FmLElBQUlnQixPQUFPO1FBQ2I7SUFDRjtJQUNBQyxVQUFVO1FBQ1J6QixPQUFPO1FBQ1BDLE9BQU87UUFDUEUsV0FBVztRQUNYSSxTQUFTLENBQUNDLEtBQUtDLE9BQU9DO1lBQ3BC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LEdBQUc7UUFBQ0E7S0FBYTtJQUVqQiwrRUFBK0U7SUFDL0UscUJBQXFCO0lBQ3JCLCtFQUErRTtJQUMvRSx1RUFBdUU7SUFDdkUsTUFBTW1NLGFBQWF0USw2Q0FBTUEsQ0FBQzJPO0lBQzFCNU8sZ0RBQVNBLENBQUM7UUFDUnVRLFdBQVdySyxPQUFPLEdBQUcwSTtJQUN2QixHQUFHO1FBQUNBO0tBQVE7SUFFWjVPLGdEQUFTQSxDQUFDO1FBQ1IsT0FBTztZQUNMZ0ksUUFBUWlELEdBQUcsQ0FBQztZQUNaLDREQUE0RDtZQUM1RHNGLFdBQVdySyxPQUFPO1FBQ3BCO0lBQ0EsbUNBQW1DO0lBQ3JDLEdBQUcsRUFBRTtJQUVMLE9BQU87UUFDTGhDO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FxSjtRQUNBZTtRQUNBQztRQUNBRTtRQUNBcks7UUFDQUU7UUFDQThGO1FBQ0E1RjtRQUNBb0U7UUFDQUg7UUFDQS9EO1FBQ0FJO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9ob29rcy91c2VXZWJSVEMudHM/OTg3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0U29ja2V0IH0gZnJvbSAnLi4vc29ja2V0JztcblxuZXhwb3J0IHR5cGUgRmlsdGVyVHlwZSA9XG4gIHwgJ25vbmUnXG4gIHwgJ2JlYXV0eSdcbiAgfCAnd2FybSdcbiAgfCAnY29vbCdcbiAgfCAncGFydHknXG4gIHwgJ2JpcnRoZGF5JztcblxudHlwZSBGaWx0ZXJDb25maWcgPSB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGVtb2ppOiBzdHJpbmc7XG4gIGNzc0ZpbHRlcj86IHN0cmluZztcbiAgb3ZlcmxheT86IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHRpbWU6IG51bWJlcikgPT4gdm9pZDtcbn07XG5cbmNvbnN0IEZJTFRFUl9DT05GSUc6IFJlY29yZDxGaWx0ZXJUeXBlLCBGaWx0ZXJDb25maWc+ID0ge1xuICBub25lOiB7IGxhYmVsOiAnR+G7kWMnLCBlbW9qaTogJ/CfmYInIH0sXG4gIGJlYXV0eToge1xuICAgIGxhYmVsOiAnTeG7i24nLFxuICAgIGVtb2ppOiAn4pyoJyxcbiAgICBjc3NGaWx0ZXI6ICdicmlnaHRuZXNzKDEuMDgpIGNvbnRyYXN0KDEuMDUpIHNhdHVyYXRlKDEuMjUpJyxcbiAgfSxcbiAgd2FybToge1xuICAgIGxhYmVsOiAn4bqkbScsXG4gICAgZW1vamk6ICfwn4yFJyxcbiAgICBjc3NGaWx0ZXI6ICdicmlnaHRuZXNzKDEuMDUpIHNhdHVyYXRlKDEuMjUpIGh1ZS1yb3RhdGUoLTVkZWcpJyxcbiAgfSxcbiAgY29vbDoge1xuICAgIGxhYmVsOiAnTcOhdCcsXG4gICAgZW1vamk6ICfinYTvuI8nLFxuICAgIGNzc0ZpbHRlcjogJ2JyaWdodG5lc3MoMS4wOCkgc2F0dXJhdGUoMS4xNSkgaHVlLXJvdGF0ZSgxODVkZWcpJyxcbiAgfSxcbiAgcGFydHk6IHtcbiAgICBsYWJlbDogJ1BhcnR5JyxcbiAgICBlbW9qaTogJ/CfjoknLFxuICAgIGNzc0ZpbHRlcjogJ2JyaWdodG5lc3MoMS4wNSkgc2F0dXJhdGUoMS4yNSknLFxuICAgIG92ZXJsYXk6IChjdHgsIHdpZHRoLCBoZWlnaHQsIHRpbWUpID0+IHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjM1O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IHggPSAoaSAqIDczICsgKHRpbWUgLyAxMikgJSB3aWR0aCkgJSB3aWR0aDtcbiAgICAgICAgY29uc3QgeSA9IChpICogNDEgKyAodGltZSAvIDE4KSAlIGhlaWdodCkgJSBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNpemUgPSAxMiArIChpICUgNSkgKiAzO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gWycjZmY2YjZiJywgJyNmZmQ5M2QnLCAnIzZiYzJmZicsICcjYjA3MGZmJ11baSAlIDRdO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMoeCwgeSwgc2l6ZSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuICB9LFxuICBiaXJ0aGRheToge1xuICAgIGxhYmVsOiAnU2luaCBuaOG6rXQnLFxuICAgIGVtb2ppOiAn8J+OgicsXG4gICAgY3NzRmlsdGVyOiAnYnJpZ2h0bmVzcygxLjA1KSBzYXR1cmF0ZSgxLjE1KScsXG4gICAgb3ZlcmxheTogKGN0eCwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIFxuICAgICAgLy8gQmFsbG9vbnNcbiAgICAgIGNvbnN0IGJhbGxvb25Db2xvcnMgPSBbJyNmZjdlYjYnLCAnIzdkYmJmZicsICcjZmZkOTY2J107XG4gICAgICBiYWxsb29uQ29sb3JzLmZvckVhY2goKGNvbG9yLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBieCA9IGluZGV4ID09PSAwID8gd2lkdGggKiAwLjE1IDogaW5kZXggPT09IDEgPyB3aWR0aCAqIDAuODUgOiB3aWR0aCAqIDAuNTtcbiAgICAgICAgY29uc3QgYnkgPSBpbmRleCA9PT0gMiA/IGhlaWdodCAqIDAuMiA6IGhlaWdodCAqIDAuMTU7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGluZGV4ID09PSAyID8gODAgOiA3MDtcbiAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoYnggLSAyMCwgYnkgLSAzMCwgMjAsIGJ4LCBieSwgcmFkaXVzKTtcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICcjZmZmZmZmJyk7XG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLjIsICcjZmZmZmZmJyk7XG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBjb2xvcik7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZWxsaXBzZShieCwgYnksIHJhZGl1cyAqIDAuNzUsIHJhZGl1cywgMCwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ZmZmZmZic7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oYngsIGJ5ICsgcmFkaXVzKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oYnggLSAxMCwgYnkgKyByYWRpdXMgKyA2MCwgYngsIGJ5ICsgcmFkaXVzICsgMTEwKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFBhcnR5IGhhdFxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmY4Y2U2JztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8od2lkdGggLyAyLCBoZWlnaHQgKiAwLjAyKTtcbiAgICAgIGN0eC5saW5lVG8od2lkdGggLyAyIC0gODAsIGhlaWdodCAqIDAuMjgpO1xuICAgICAgY3R4LmxpbmVUbyh3aWR0aCAvIDIgKyA4MCwgaGVpZ2h0ICogMC4yOCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNDUpJztcbiAgICAgIGZvciAobGV0IGkgPSAtNjA7IGkgPD0gNjA7IGkgKz0gMzApIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHdpZHRoIC8gMiArIGksIGhlaWdodCAqIDAuMTgsIDE4LCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENha2UgYmFzZVxuICAgICAgY29uc3QgY2FrZUhlaWdodCA9IDkwO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZkMWRjJztcbiAgICAgIGN0eC5maWxsUmVjdCh3aWR0aCAqIDAuMiwgaGVpZ2h0IC0gY2FrZUhlaWdodCAtIDIwLCB3aWR0aCAqIDAuNiwgY2FrZUhlaWdodCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNmZjllYmUnO1xuICAgICAgY3R4LmZpbGxSZWN0KHdpZHRoICogMC4yLCBoZWlnaHQgLSBjYWtlSGVpZ2h0IC0gMjAsIHdpZHRoICogMC42LCAyNSk7XG5cbiAgICAgIC8vIENhbmRsZXNcbiAgICAgIGZvciAobGV0IGkgPSAtMTsgaSA8PSAxOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3ggPSB3aWR0aCAvIDIgKyBpICogMzU7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzVkYWRlMic7XG4gICAgICAgIGN0eC5maWxsUmVjdChjeCAtIDYsIGhlaWdodCAtIGNha2VIZWlnaHQgLSA2MCwgMTIsIDQwKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZkOTY2JztcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZWxsaXBzZShjeCwgaGVpZ2h0IC0gY2FrZUhlaWdodCAtIDY4LCA3LCAxMCwgMCwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfVxuXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG4gIH0sXG59O1xuXG5pbnRlcmZhY2UgVXNlV2ViUlRDT3B0aW9ucyB7XG4gIGNhbGxJZDogc3RyaW5nO1xuICBjb252ZXJzYXRpb25JZDogc3RyaW5nO1xuICBpc0luaXRpYXRvcjogYm9vbGVhbjtcbiAgbG9jYWxVc2VySWQ6IHN0cmluZztcbiAgcmVtb3RlVXNlcklkOiBzdHJpbmc7XG4gIHZpZGVvRGV2aWNlSWQ/OiBzdHJpbmc7XG4gIGF1ZGlvRGV2aWNlSWQ/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBVc2VXZWJSVENSZXN1bHQge1xuICBsb2NhbFN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsO1xuICByZW1vdGVTdHJlYW06IE1lZGlhU3RyZWFtIHwgbnVsbDtcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBzdGFydENhbGw6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGVuZENhbGw6ICgpID0+IHZvaWQ7XG4gIHRvZ2dsZVZpZGVvOiAoKSA9PiB2b2lkO1xuICB0b2dnbGVBdWRpbzogKCkgPT4gdm9pZDtcbiAgaXNWaWRlb0VuYWJsZWQ6IGJvb2xlYW47XG4gIGlzQXVkaW9FbmFibGVkOiBib29sZWFuO1xuICBhcHBseUZpbHRlcjogKGZpbHRlcjogRmlsdGVyVHlwZSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgY3VycmVudEZpbHRlcjogRmlsdGVyVHlwZTtcbiAgc3RhcnRTY3JlZW5TaGFyZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3RvcFNjcmVlblNoYXJlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBpc1NjcmVlblNoYXJpbmc6IGJvb2xlYW47XG4gIGxvY2FsVmlkZW9SZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MVmlkZW9FbGVtZW50IHwgbnVsbD47XG4gIHJlbW90ZVZpZGVvUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTFZpZGVvRWxlbWVudCB8IG51bGw+O1xufVxuXG5jb25zdCBJQ0VfU0VSVkVSUyA9IFtcbiAgeyB1cmxzOiAnc3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMicgfSxcbiAgeyB1cmxzOiAnc3R1bjpzdHVuMS5sLmdvb2dsZS5jb206MTkzMDInIH0sXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlV2ViUlRDKHtcbiAgY2FsbElkLFxuICBjb252ZXJzYXRpb25JZDogX2NvbnZlcnNhdGlvbklkLFxuICBpc0luaXRpYXRvcixcbiAgbG9jYWxVc2VySWQ6IF9sb2NhbFVzZXJJZCxcbiAgcmVtb3RlVXNlcklkLFxuICB2aWRlb0RldmljZUlkLFxuICBhdWRpb0RldmljZUlkLFxufTogVXNlV2ViUlRDT3B0aW9ucyk6IFVzZVdlYlJUQ1Jlc3VsdCB7XG4gIGNvbnN0IFtsb2NhbFN0cmVhbSwgc2V0TG9jYWxTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlbW90ZVN0cmVhbSwgc2V0UmVtb3RlU3RyZWFtXSA9IHVzZVN0YXRlPE1lZGlhU3RyZWFtIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNWaWRlb0VuYWJsZWQsIHNldElzVmlkZW9FbmFibGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbaXNBdWRpb0VuYWJsZWQsIHNldElzQXVkaW9FbmFibGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbY3VycmVudEZpbHRlciwgc2V0Q3VycmVudEZpbHRlcl0gPSB1c2VTdGF0ZTxGaWx0ZXJUeXBlPignbm9uZScpO1xuICBjb25zdCBbaXNTY3JlZW5TaGFyaW5nLCBzZXRJc1NjcmVlblNoYXJpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IHBlZXJDb25uZWN0aW9uUmVmID0gdXNlUmVmPFJUQ1BlZXJDb25uZWN0aW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNvY2tldFJlZiA9IHVzZVJlZihnZXRTb2NrZXQoKSk7XG4gIGNvbnN0IGxvY2FsVmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCByZW1vdGVWaWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBRdWV1ZSBmb3IgSUNFIGNhbmRpZGF0ZXMgcmVjZWl2ZWQgYmVmb3JlIHJlbW90ZSBkZXNjcmlwdGlvbiBpcyBzZXRcbiAgY29uc3QgaWNlQ2FuZGlkYXRlUXVldWVSZWYgPSB1c2VSZWY8UlRDSWNlQ2FuZGlkYXRlSW5pdFtdPihbXSk7XG4gIGNvbnN0IGhhc1JlY2VpdmVkT2ZmZXJSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBvZmZlclJldHJ5VGltZXJSZWYgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0SW50ZXJ2YWw+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHJhd0NhbWVyYVN0cmVhbVJlZiA9IHVzZVJlZjxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzY3JlZW5TaGFyZVN0cmVhbVJlZiA9IHVzZVJlZjxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBwcm9jZXNzZWRGaWx0ZXJTdHJlYW1SZWYgPSB1c2VSZWY8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgZmlsdGVyQ2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGZpbHRlclZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgZmlsdGVyQW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGN1cnJlbnRGaWx0ZXJSZWYgPSB1c2VSZWY8RmlsdGVyVHlwZT4oJ25vbmUnKTtcbiAgXG4gIC8vIFJlZnMgdG8gc3RvcmUgbGF0ZXN0IGZ1bmN0aW9ucyBmb3IgdXNlIGluIHNvY2tldCBoYW5kbGVycyAod2lsbCBiZSBzZXQgYWZ0ZXIgZnVuY3Rpb25zIGFyZSBkZWZpbmVkKVxuICBjb25zdCBpbml0UGVlckNvbm5lY3Rpb25SZWYgPSB1c2VSZWY8KCgpID0+IFJUQ1BlZXJDb25uZWN0aW9uKSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBnZXRVc2VyTWVkaWFSZWYgPSB1c2VSZWY8KCh2aWRlbzogYm9vbGVhbiwgYXVkaW86IGJvb2xlYW4pID0+IFByb21pc2U8TWVkaWFTdHJlYW0+KSB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY3VycmVudEZpbHRlclJlZi5jdXJyZW50ID0gY3VycmVudEZpbHRlcjtcbiAgfSwgW2N1cnJlbnRGaWx0ZXJdKTtcblxuICBjb25zdCByZXBsYWNlVmlkZW9UcmFjayA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0cmFjazogTWVkaWFTdHJlYW1UcmFjayB8IG51bGwpID0+IHtcbiAgICAgIGlmICghdHJhY2spIHJldHVybjtcbiAgICAgIGNvbnN0IHBjID0gcGVlckNvbm5lY3Rpb25SZWYuY3VycmVudDtcbiAgICAgIGlmICghcGMpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbmRlciA9IHBjLmdldFNlbmRlcnMoKS5maW5kKChzKSA9PiBzLnRyYWNrICYmIHMudHJhY2sua2luZCA9PT0gJ3ZpZGVvJyk7XG4gICAgICBpZiAoc2VuZGVyKSB7XG4gICAgICAgIGF3YWl0IHNlbmRlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuICAgICAgfVxuICAgIH0sXG4gICAgW10sXG4gICk7XG5cbiAgY29uc3Qgc3RvcEZpbHRlclByb2Nlc3NpbmcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGZpbHRlckFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZpbHRlckFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgZmlsdGVyQW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzZWRGaWx0ZXJTdHJlYW1SZWYuY3VycmVudCkge1xuICAgICAgcHJvY2Vzc2VkRmlsdGVyU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICBwcm9jZXNzZWRGaWx0ZXJTdHJlYW1SZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJWaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBmaWx0ZXJWaWRlb1JlZi5jdXJyZW50LnBhdXNlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgICB9XG4gICAgICBmaWx0ZXJWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICBmaWx0ZXJWaWRlb1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZmlsdGVyQ2FudmFzUmVmLmN1cnJlbnQgPSBudWxsO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc3RhcnRGaWx0ZXJQcm9jZXNzaW5nID0gdXNlQ2FsbGJhY2soXG4gICAgKGZpbHRlcjogRmlsdGVyVHlwZSkgPT4ge1xuICAgICAgY29uc3QgcmF3U3RyZWFtID0gcmF3Q2FtZXJhU3RyZWFtUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIXJhd1N0cmVhbSkgcmV0dXJuO1xuICAgICAgc3RvcEZpbHRlclByb2Nlc3NpbmcoKTtcblxuICAgICAgY29uc3QgdmlkZW9FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICB2aWRlb0VsLnNyY09iamVjdCA9IHJhd1N0cmVhbTtcbiAgICAgIHZpZGVvRWwubXV0ZWQgPSB0cnVlO1xuICAgICAgdmlkZW9FbC5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgICB2aWRlb0VsLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgIHZpZGVvRWwucGxheSgpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIGZpbHRlclZpZGVvUmVmLmN1cnJlbnQgPSB2aWRlb0VsO1xuXG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0ZpbHRlcl0gQ2FudmFzIGNvbnRleHQgdW5hdmFpbGFibGUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZmlsdGVyQ2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXM7XG5cbiAgICAgIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFmaWx0ZXJWaWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZGVvID0gZmlsdGVyVmlkZW9SZWYuY3VycmVudDtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB2aWRlby52aWRlb1dpZHRoIHx8IDY0MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQgfHwgNDgwO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgICBmaWx0ZXJBbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IEZJTFRFUl9DT05GSUdbZmlsdGVyXTtcbiAgICAgICAgY3R4LmZpbHRlciA9IGNvbmZpZy5jc3NGaWx0ZXIgfHwgJ25vbmUnO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY3R4LmZpbHRlciA9ICdub25lJztcbiAgICAgICAgaWYgKGNvbmZpZy5vdmVybGF5KSB7XG4gICAgICAgICAgY29uZmlnLm92ZXJsYXkoY3R4LCB3aWR0aCwgaGVpZ2h0LCBwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyQW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyKCk7XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NlZFN0cmVhbSA9IGNhbnZhcy5jYXB0dXJlU3RyZWFtKDMwKTtcbiAgICAgIHByb2Nlc3NlZEZpbHRlclN0cmVhbVJlZi5jdXJyZW50ID0gcHJvY2Vzc2VkU3RyZWFtO1xuICAgICAgY29uc3QgcHJvY2Vzc2VkVHJhY2sgPSBwcm9jZXNzZWRTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgIHJlcGxhY2VWaWRlb1RyYWNrKHByb2Nlc3NlZFRyYWNrKTtcbiAgICAgIHNldExvY2FsU3RyZWFtKHByb2Nlc3NlZFN0cmVhbSk7XG4gICAgfSxcbiAgICBbcmVwbGFjZVZpZGVvVHJhY2ssIHN0b3BGaWx0ZXJQcm9jZXNzaW5nXSxcbiAgKTtcblxuICBjb25zdCBzdG9wU2NyZWVuU2hhcmUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzY3JlZW5TaGFyZVN0cmVhbVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgc2NyZWVuU2hhcmVTdHJlYW1SZWYuY3VycmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICBzY3JlZW5TaGFyZVN0cmVhbVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICBzZXRJc1NjcmVlblNoYXJpbmcoZmFsc2UpO1xuXG4gICAgY29uc3QgY2FtZXJhU3RyZWFtID0gcmF3Q2FtZXJhU3RyZWFtUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjYW1lcmFTdHJlYW0pIHJldHVybjtcblxuICAgIGlmIChjdXJyZW50RmlsdGVyUmVmLmN1cnJlbnQgIT09ICdub25lJykge1xuICAgICAgc3RhcnRGaWx0ZXJQcm9jZXNzaW5nKGN1cnJlbnRGaWx0ZXJSZWYuY3VycmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNhbWVyYVRyYWNrID0gY2FtZXJhU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICBhd2FpdCByZXBsYWNlVmlkZW9UcmFjayhjYW1lcmFUcmFjayk7XG4gICAgICBzZXRMb2NhbFN0cmVhbShjYW1lcmFTdHJlYW0pO1xuICAgIH1cbiAgfSwgW3JlcGxhY2VWaWRlb1RyYWNrLCBzdGFydEZpbHRlclByb2Nlc3NpbmddKTtcblxuICBjb25zdCBzdGFydFNjcmVlblNoYXJlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc1NjcmVlblNoYXJpbmcpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZWxlY3Ryb25BUEkgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5lbGVjdHJvbkFQSSA6IHVuZGVmaW5lZDtcbiAgICAgIGxldCBzaGFyZVN0cmVhbTogTWVkaWFTdHJlYW0gfCBudWxsID0gbnVsbDtcblxuICAgICAgaWYgKGVsZWN0cm9uQVBJPy5zZWxlY3RTY3JlZW5Tb3VyY2UpIHtcbiAgICAgICAgY29uc3Qgc291cmNlSWQgPSBhd2FpdCBlbGVjdHJvbkFQSS5zZWxlY3RTY3JlZW5Tb3VyY2UoKTtcbiAgICAgICAgaWYgKCFzb3VyY2VJZCkge1xuICAgICAgICAgIHNldEVycm9yKCdLaMO0bmcgdMOsbSB0aOG6pXkgbcOgbiBow6xuaCDEkeG7gyBjaGlhIHPhursuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZWN0cm9uQ29uc3RyYWludHM6IE1lZGlhU3RyZWFtQ29uc3RyYWludHMgPSB7XG4gICAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICBtYW5kYXRvcnk6IHtcbiAgICAgICAgICAgICAgY2hyb21lTWVkaWFTb3VyY2U6ICdkZXNrdG9wJyxcbiAgICAgICAgICAgICAgY2hyb21lTWVkaWFTb3VyY2VJZDogc291cmNlSWQsXG4gICAgICAgICAgICAgIG1heEZyYW1lUmF0ZTogMzAsXG4gICAgICAgICAgICAgIG1pbkZyYW1lUmF0ZTogNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSBhcyBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4gICAgICAgIH07XG4gICAgICAgIHNoYXJlU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZWxlY3Ryb25Db25zdHJhaW50cyBhcyBhbnkpO1xuICAgICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzPy5nZXREaXNwbGF5TWVkaWEpIHtcbiAgICAgICAgc2hhcmVTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSh7XG4gICAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMzAsXG4gICAgICAgICAgICB3aWR0aDogeyBpZGVhbDogMTkyMCB9LFxuICAgICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiAxMDgwIH0sXG4gICAgICAgICAgICBkaXNwbGF5U3VyZmFjZTogJ21vbml0b3InLFxuICAgICAgICAgIH0gYXMgTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuICAgICAgICAgIGF1ZGlvOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NDUkVFTl9TSEFSRV9OT1RfU1VQUE9SVEVEJyk7XG4gICAgICB9XG5cbiAgICAgIHNjcmVlblNoYXJlU3RyZWFtUmVmLmN1cnJlbnQgPSBzaGFyZVN0cmVhbTtcbiAgICAgIGNvbnN0IHRyYWNrID0gc2hhcmVTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgIHRyYWNrLm9uZW5kZWQgPSAoKSA9PiB7XG4gICAgICAgIHN0b3BTY3JlZW5TaGFyZSgpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIH07XG5cbiAgICAgIHN0b3BGaWx0ZXJQcm9jZXNzaW5nKCk7XG4gICAgICBzZXRMb2NhbFN0cmVhbShzaGFyZVN0cmVhbSk7XG4gICAgICBhd2FpdCByZXBsYWNlVmlkZW9UcmFjayh0cmFjayk7XG4gICAgICBzZXRJc1NjcmVlblNoYXJpbmcodHJ1ZSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTY3JlZW5TaGFyZV0gRXJyb3Igc3RhcnRpbmcgc2NyZWVuIHNoYXJlOicsIGVycik7XG4gICAgICBpZiAoZXJyPy5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xuICAgICAgICBzZXRFcnJvcignQuG6oW4gxJHDoyB04burIGNo4buRaSBxdXnhu4FuIGNoaWEgc+G6uyBtw6BuIGjDrG5oLicpO1xuICAgICAgfSBlbHNlIGlmIChlcnI/Lm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICBzZXRFcnJvcignS2jDtG5nIHTDrG0gdGjhuqV5IG3DoG4gaMOsbmggcGjDuSBo4bujcCDEkeG7gyBjaGlhIHPhursuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcignQ2hpYSBz4bq7IG3DoG4gaMOsbmggY2jGsGEgxJHGsOG7o2MgaOG7lyB0cuG7oyB0cm9uZyBtw7RpIHRyxrDhu51uZyBuw6B5LicpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSwgW2lzU2NyZWVuU2hhcmluZywgcmVwbGFjZVZpZGVvVHJhY2ssIHN0b3BGaWx0ZXJQcm9jZXNzaW5nLCBzdG9wU2NyZWVuU2hhcmVdKTtcblxuICBjb25zdCBhcHBseUZpbHRlciA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChmaWx0ZXI6IEZpbHRlclR5cGUpID0+IHtcbiAgICAgIHNldEN1cnJlbnRGaWx0ZXIoZmlsdGVyKTtcbiAgICAgIGlmIChpc1NjcmVlblNoYXJpbmcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbRmlsdGVyXSBDYW5ub3QgYXBwbHkgZmlsdGVyIHdoaWxlIHNoYXJpbmcgc2NyZWVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghcmF3Q2FtZXJhU3RyZWFtUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgaWYgKGZpbHRlciA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHN0b3BGaWx0ZXJQcm9jZXNzaW5nKCk7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRyYWNrID0gcmF3Q2FtZXJhU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgICAgYXdhaXQgcmVwbGFjZVZpZGVvVHJhY2soY2FtZXJhVHJhY2spO1xuICAgICAgICBzZXRMb2NhbFN0cmVhbShyYXdDYW1lcmFTdHJlYW1SZWYuY3VycmVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3RhcnRGaWx0ZXJQcm9jZXNzaW5nKGZpbHRlcik7XG4gICAgfSxcbiAgICBbaXNTY3JlZW5TaGFyaW5nLCByZXBsYWNlVmlkZW9UcmFjaywgc3RhcnRGaWx0ZXJQcm9jZXNzaW5nLCBzdG9wRmlsdGVyUHJvY2Vzc2luZ10sXG4gICk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBFUlJPUiBIQU5ETElORyBIRUxQRVJTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgaGFuZGxlR2V0VXNlck1lZGlhRXJyb3IgPSB1c2VDYWxsYmFjaygoZXJyOiBhbnkpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zb2xlLmVycm9yKGBbZ2V0VXNlck1lZGlhIEVSUk9SXSAke3RpbWVzdGFtcH1gKTtcbiAgICBjb25zb2xlLmVycm9yKGBbZ2V0VXNlck1lZGlhIEVSUk9SXSBFcnJvciBuYW1lOiAke2Vyci5uYW1lfWApO1xuICAgIGNvbnNvbGUuZXJyb3IoYFtnZXRVc2VyTWVkaWEgRVJST1JdIEVycm9yIG1lc3NhZ2U6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgY29uc29sZS5lcnJvcihgW2dldFVzZXJNZWRpYSBFUlJPUl0gRnVsbCBlcnJvcjpgLCBlcnIpO1xuXG4gICAgc3dpdGNoIChlcnIubmFtZSkge1xuICAgICAgY2FzZSAnTm90QWxsb3dlZEVycm9yJzpcbiAgICAgICAgY29uc29sZS5lcnJvcignW2dldFVzZXJNZWRpYSBFUlJPUl0gTm90QWxsb3dlZEVycm9yOiBQZXJtaXNzaW9uIGRlbmllZCBieSB1c2VyIG9yIHN5c3RlbScpO1xuICAgICAgICByZXR1cm4gJ0NhbWVyYS9taWNyb3Bob25lIHBlcm1pc3Npb24gZGVuaWVkLiBQbGVhc2UgYWxsb3cgYWNjZXNzIGluIFdpbmRvd3MgU2V0dGluZ3MgKFByaXZhY3kg4oaSIENhbWVyYS9NaWNyb3Bob25lKS4nO1xuICAgICAgXG4gICAgICBjYXNlICdOb3RGb3VuZEVycm9yJzpcbiAgICAgICAgY29uc29sZS5lcnJvcignW2dldFVzZXJNZWRpYSBFUlJPUl0gTm90Rm91bmRFcnJvcjogTm8gbWVkaWEgZGV2aWNlIGZvdW5kJyk7XG4gICAgICAgIHJldHVybiAnTm8gY2FtZXJhL21pY3JvcGhvbmUgZm91bmQuIFBsZWFzZSBjb25uZWN0IGEgZGV2aWNlLic7XG4gICAgICBcbiAgICAgIGNhc2UgJ05vdFJlYWRhYmxlRXJyb3InOlxuICAgICAgICBjb25zb2xlLmVycm9yKCdbZ2V0VXNlck1lZGlhIEVSUk9SXSBOb3RSZWFkYWJsZUVycm9yOiBEZXZpY2UgaXMgYWxyZWFkeSBpbiB1c2UnKTtcbiAgICAgICAgcmV0dXJuICdDYW1lcmEvbWljcm9waG9uZSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFwcGxpY2F0aW9uLic7XG4gICAgICBcbiAgICAgIGNhc2UgJ092ZXJjb25zdHJhaW5lZEVycm9yJzpcbiAgICAgICAgY29uc29sZS5lcnJvcignW2dldFVzZXJNZWRpYSBFUlJPUl0gT3ZlcmNvbnN0cmFpbmVkRXJyb3I6IENvbnN0cmFpbnRzIGNhbm5vdCBiZSBzYXRpc2ZpZWQnKTtcbiAgICAgICAgcmV0dXJuICdDYW1lcmEvbWljcm9waG9uZSBjb25zdHJhaW50cyBjYW5ub3QgYmUgc2F0aXNmaWVkLiBQbGVhc2UgdHJ5IGRpZmZlcmVudCBzZXR0aW5ncy4nO1xuICAgICAgXG4gICAgICBjYXNlICdTZWN1cml0eUVycm9yJzpcbiAgICAgICAgY29uc29sZS5lcnJvcignW2dldFVzZXJNZWRpYSBFUlJPUl0gU2VjdXJpdHlFcnJvcjogTm90IGluIHNlY3VyZSBjb250ZXh0Jyk7XG4gICAgICAgIHJldHVybiAnU2VjdXJpdHkgZXJyb3I6IEFwcCBtdXN0IHJ1biBpbiBzZWN1cmUgY29udGV4dC4nO1xuICAgICAgXG4gICAgICBjYXNlICdUeXBlRXJyb3InOlxuICAgICAgICBjb25zb2xlLmVycm9yKCdbZ2V0VXNlck1lZGlhIEVSUk9SXSBUeXBlRXJyb3I6IEludmFsaWQgY29uc3RyYWludHMgb3IgQVBJIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgcmV0dXJuICdJbnZhbGlkIG1lZGlhIGNvbnN0cmFpbnRzIG9yIEFQSSBub3QgYXZhaWxhYmxlLic7XG4gICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtnZXRVc2VyTWVkaWEgRVJST1JdIFVua25vd24gZXJyb3I6ICR7ZXJyLm5hbWV9YCk7XG4gICAgICAgIHJldHVybiBlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGFjY2VzcyBjYW1lcmEvbWljcm9waG9uZS4nO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gR0VUIFVTRVIgTUVESUEgV0lUSCBERVRBSUxFRCBFUlJPUiBIQU5ETElOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IGdldFVzZXJNZWRpYSA9IHVzZUNhbGxiYWNrKGFzeW5jICh2aWRlbzogYm9vbGVhbiwgYXVkaW86IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdICR7dGltZXN0YW1wfSAtIFN0YXJ0aW5nIHJlcXVlc3RgKTtcbiAgICBjb25zb2xlLmxvZyhgW2dldFVzZXJNZWRpYV0gVmlkZW86ICR7dmlkZW99LCBBdWRpbzogJHthdWRpb31gKTtcblxuICAgIC8vIENoZWNrIGlmIG1lZGlhRGV2aWNlcyBBUEkgaXMgYXZhaWxhYmxlXG4gICAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9ICdNZWRpYURldmljZXMgQVBJIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBicm93c2VyLic7XG4gICAgICBjb25zb2xlLmVycm9yKGBbZ2V0VXNlck1lZGlhIEVSUk9SXSAke2Vycm9yTXNnfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICB9XG5cbiAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9ICdnZXRVc2VyTWVkaWEgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuJztcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtnZXRVc2VyTWVkaWEgRVJST1JdICR7ZXJyb3JNc2d9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICAgIH1cblxuICAgIC8vIExvZyBlbnZpcm9ubWVudCBpbmZvXG4gICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIEVudmlyb25tZW50IGluZm86YCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIE9yaWdpbjogJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufWApO1xuICAgIGNvbnNvbGUubG9nKGBbZ2V0VXNlck1lZGlhXSBVUkw6ICR7d2luZG93LmxvY2F0aW9uLmhyZWZ9YCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIElzIHNlY3VyZSBjb250ZXh0OiAke3dpbmRvdy5pc1NlY3VyZUNvbnRleHR9YCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIE1lZGlhRGV2aWNlcyBhdmFpbGFibGU6ICR7ISFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfWApO1xuXG4gICAgLy8gUHJlcGFyZSBjb25zdHJhaW50cyB3aXRoIGRldmljZSBzZWxlY3Rpb25cbiAgICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICAgIHZpZGVvOiB2aWRlb1xuICAgICAgICA/IHZpZGVvRGV2aWNlSWRcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgZGV2aWNlSWQ6IHsgZXhhY3Q6IHZpZGVvRGV2aWNlSWQgfSxcbiAgICAgICAgICAgICAgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSxcbiAgICAgICAgICAgICAgZmFjaW5nTW9kZTogJ3VzZXInLFxuICAgICAgICAgICAgfVxuICAgICAgICA6IGZhbHNlLFxuICAgICAgYXVkaW86IGF1ZGlvXG4gICAgICAgID8gYXVkaW9EZXZpY2VJZFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBkZXZpY2VJZDogeyBleGFjdDogYXVkaW9EZXZpY2VJZCB9LFxuICAgICAgICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICBub2lzZVN1cHByZXNzaW9uOiB0cnVlLFxuICAgICAgICAgICAgICBhdXRvR2FpbkNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXG4gICAgICAgICAgICAgIG5vaXNlU3VwcHJlc3Npb246IHRydWUsXG4gICAgICAgICAgICAgIGF1dG9HYWluQ29udHJvbDogdHJ1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgOiBmYWxzZSxcbiAgICB9O1xuICAgIFxuICAgIGlmICh2aWRlb0RldmljZUlkKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW2dldFVzZXJNZWRpYV0gVXNpbmcgc2VsZWN0ZWQgdmlkZW8gZGV2aWNlOiAke3ZpZGVvRGV2aWNlSWR9YCk7XG4gICAgfVxuICAgIGlmIChhdWRpb0RldmljZUlkKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW2dldFVzZXJNZWRpYV0gVXNpbmcgc2VsZWN0ZWQgYXVkaW8gZGV2aWNlOiAke2F1ZGlvRGV2aWNlSWR9YCk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIENvbnN0cmFpbnRzOmAsIEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzLCBudWxsLCAyKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIENhbGxpbmcgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuLi5gKTtcbiAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIOKchSBTdWNjZXNzISBTdHJlYW0gb2J0YWluZWRgKTtcbiAgICAgIGNvbnNvbGUubG9nKGBbZ2V0VXNlck1lZGlhXSBTdHJlYW0gSUQ6ICR7c3RyZWFtLmlkfWApO1xuICAgICAgY29uc29sZS5sb2coYFtnZXRVc2VyTWVkaWFdIFN0cmVhbSBhY3RpdmU6ICR7c3RyZWFtLmFjdGl2ZX1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBbZ2V0VXNlck1lZGlhXSBUcmFja3M6YCwgc3RyZWFtLmdldFRyYWNrcygpLm1hcCh0cmFjayA9PiAoe1xuICAgICAgICBraW5kOiB0cmFjay5raW5kLFxuICAgICAgICBpZDogdHJhY2suaWQsXG4gICAgICAgIGxhYmVsOiB0cmFjay5sYWJlbCxcbiAgICAgICAgZW5hYmxlZDogdHJhY2suZW5hYmxlZCxcbiAgICAgICAgbXV0ZWQ6IHRyYWNrLm11dGVkLFxuICAgICAgICByZWFkeVN0YXRlOiB0cmFjay5yZWFkeVN0YXRlLFxuICAgICAgfSkpKTtcblxuICAgICAgaWYgKHJhd0NhbWVyYVN0cmVhbVJlZi5jdXJyZW50ICYmIHJhd0NhbWVyYVN0cmVhbVJlZi5jdXJyZW50ICE9PSBzdHJlYW0pIHtcbiAgICAgICAgcmF3Q2FtZXJhU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICB9XG4gICAgICByYXdDYW1lcmFTdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbTtcblxuICAgICAgaWYgKCFpc1NjcmVlblNoYXJpbmcgJiYgY3VycmVudEZpbHRlclJlZi5jdXJyZW50ID09PSAnbm9uZScpIHtcbiAgICAgICAgc2V0TG9jYWxTdHJlYW0oc3RyZWFtKTtcbiAgICAgIH1cbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAvLyBBZGQgdHJhY2tzIHRvIHBlZXIgY29ubmVjdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgIGlmIChwZWVyQ29ubmVjdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbZ2V0VXNlck1lZGlhXSBBZGRpbmcgJHt0cmFjay5raW5kfSB0cmFjayB0byBwZWVyIGNvbm5lY3Rpb25gKTtcbiAgICAgICAgICBwZWVyQ29ubmVjdGlvblJlZi5jdXJyZW50Py5hZGRUcmFjayh0cmFjaywgc3RyZWFtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTY3JlZW5TaGFyaW5nICYmIGN1cnJlbnRGaWx0ZXJSZWYuY3VycmVudCAhPT0gJ25vbmUnKSB7XG4gICAgICAgIHN0YXJ0RmlsdGVyUHJvY2Vzc2luZyhjdXJyZW50RmlsdGVyUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVHZXRVc2VyTWVkaWFFcnJvcihlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0sIFtoYW5kbGVHZXRVc2VyTWVkaWFFcnJvciwgaXNTY3JlZW5TaGFyaW5nLCBzdGFydEZpbHRlclByb2Nlc3NpbmddKTtcbiAgXG4gIC8vIFVwZGF0ZSBnZXRVc2VyTWVkaWEgcmVmXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZ2V0VXNlck1lZGlhUmVmLmN1cnJlbnQgPSBnZXRVc2VyTWVkaWE7XG4gIH0sIFtnZXRVc2VyTWVkaWFdKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElOSVRJQUxJWkUgUEVFUiBDT05ORUNUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgaW5pdFBlZXJDb25uZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbUGVlckNvbm5lY3Rpb25dIEluaXRpYWxpemluZy4uLicpO1xuXG4gICAgaWYgKHBlZXJDb25uZWN0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbUGVlckNvbm5lY3Rpb25dIENsb3NpbmcgZXhpc3RpbmcgY29ubmVjdGlvbicpO1xuICAgICAgcGVlckNvbm5lY3Rpb25SZWYuY3VycmVudC5jbG9zZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHsgaWNlU2VydmVyczogSUNFX1NFUlZFUlMgfSk7XG4gICAgY29uc29sZS5sb2coJ1tQZWVyQ29ubmVjdGlvbl0gQ3JlYXRlZCBuZXcgUlRDUGVlckNvbm5lY3Rpb24nKTtcblxuICAgIC8vIEhhbmRsZSBJQ0UgY2FuZGlkYXRlc1xuICAgIHBjLm9uaWNlY2FuZGlkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbUGVlckNvbm5lY3Rpb25dIElDRSBjYW5kaWRhdGU6JywgZXZlbnQuY2FuZGlkYXRlKTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gc29ja2V0UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICBzb2NrZXQuZW1pdCgnd2VicnRjOmljZS1jYW5kaWRhdGUnLCB7XG4gICAgICAgICAgICBjYWxsSWQsXG4gICAgICAgICAgICBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZSxcbiAgICAgICAgICAgIHRhcmdldFVzZXJJZDogcmVtb3RlVXNlcklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnW1BlZXJDb25uZWN0aW9uXSBJQ0UgZ2F0aGVyaW5nIGNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZXNcbiAgICBwYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0gcGMuY29ubmVjdGlvblN0YXRlO1xuICAgICAgY29uc29sZS5sb2coYFtQZWVyQ29ubmVjdGlvbl0gQ29ubmVjdGlvbiBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXRlID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAnZGlzY29ubmVjdGVkJyB8fCBzdGF0ZSA9PT0gJ2ZhaWxlZCcgfHwgc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHJlbW90ZSBzdHJlYW1cbiAgICBwYy5vbnRyYWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW1BlZXJDb25uZWN0aW9uXSBSZWNlaXZlZCByZW1vdGUgdHJhY2s6JywgZXZlbnQudHJhY2sua2luZCk7XG4gICAgICBpZiAoZXZlbnQuc3RyZWFtcyAmJiBldmVudC5zdHJlYW1zWzBdKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbUGVlckNvbm5lY3Rpb25dIFNldHRpbmcgcmVtb3RlIHN0cmVhbScpO1xuICAgICAgICBzZXRSZW1vdGVTdHJlYW0oZXZlbnQuc3RyZWFtc1swXSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBJQ0UgY29ubmVjdGlvbiBzdGF0ZVxuICAgIHBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdGUgPSBwYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgICBjb25zb2xlLmxvZyhgW1BlZXJDb25uZWN0aW9uXSBJQ0UgY29ubmVjdGlvbiBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXRlID09PSAnZmFpbGVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbUGVlckNvbm5lY3Rpb25dIElDRSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgICBzZXRFcnJvcignQ29ubmVjdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHBlZXJDb25uZWN0aW9uUmVmLmN1cnJlbnQgPSBwYztcbiAgICByZXR1cm4gcGM7XG4gIH0sIFtjYWxsSWQsIHJlbW90ZVVzZXJJZF0pO1xuICBcbiAgLy8gVXBkYXRlIGluaXRQZWVyQ29ubmVjdGlvbiByZWZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbml0UGVlckNvbm5lY3Rpb25SZWYuY3VycmVudCA9IGluaXRQZWVyQ29ubmVjdGlvbjtcbiAgfSwgW2luaXRQZWVyQ29ubmVjdGlvbl0pO1xuXG4gIGNvbnN0IHJlcXVlc3RPZmZlciA9IHVzZUNhbGxiYWNrKChyZWFzb246IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHNvY2tldCA9IHNvY2tldFJlZi5jdXJyZW50O1xuICAgIGlmICghc29ja2V0KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tTb2NrZXRdIENhbm5vdCByZXF1ZXN0IG9mZmVyIC0gc29ja2V0IG5vdCBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coYFtTb2NrZXRdIFJlcXVlc3Rpbmcgb2ZmZXIgKCR7cmVhc29ufSkgZm9yIGNhbGxJZCAke2NhbGxJZH1gKTtcbiAgICBzb2NrZXQuZW1pdCgnd2VicnRjOnJlcXVlc3Qtb2ZmZXInLCB7XG4gICAgICBjYWxsSWQsXG4gICAgICBmcm9tVXNlcklkOiBfbG9jYWxVc2VySWQsXG4gICAgICB0YXJnZXRVc2VySWQ6IHJlbW90ZVVzZXJJZCxcbiAgICB9KTtcbiAgfSwgW2NhbGxJZCwgX2xvY2FsVXNlcklkLCByZW1vdGVVc2VySWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAob2ZmZXJSZXRyeVRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChvZmZlclJldHJ5VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIG9mZmVyUmV0cnlUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTVEFSVCBDQUxMXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3Qgc3RhcnRDYWxsID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zb2xlLmxvZyhgW3N0YXJ0Q2FsbF0gJHt0aW1lc3RhbXB9IC0gU3RhcnRpbmcgY2FsbGApO1xuICAgIGNvbnNvbGUubG9nKGBbc3RhcnRDYWxsXSBDYWxsIElEOiAke2NhbGxJZH1gKTtcbiAgICBjb25zb2xlLmxvZyhgW3N0YXJ0Q2FsbF0gSXMgaW5pdGlhdG9yOiAke2lzSW5pdGlhdG9yfWApO1xuXG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zdCBzb2NrZXQgPSBzb2NrZXRSZWYuY3VycmVudDtcbiAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU29ja2V0IG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5pdGlhbGl6ZSBwZWVyIGNvbm5lY3Rpb25cbiAgICAgIGNvbnN0IHBjID0gaW5pdFBlZXJDb25uZWN0aW9uKCk7XG5cbiAgICAgIC8vIEdldCB1c2VyIG1lZGlhIChib3RoIGluaXRpYXRvciBhbmQgbm9uLWluaXRpYXRvciBuZWVkIHRoaXMpXG4gICAgICBjb25zb2xlLmxvZygnW3N0YXJ0Q2FsbF0gUmVxdWVzdGluZyB1c2VyIG1lZGlhLi4uJyk7XG4gICAgICBhd2FpdCBnZXRVc2VyTWVkaWEoaXNWaWRlb0VuYWJsZWQsIGlzQXVkaW9FbmFibGVkKTtcblxuICAgICAgaWYgKGlzSW5pdGlhdG9yKSB7XG4gICAgICAgIC8vIEluaXRpYXRvcjogQ3JlYXRlIGFuZCBzZW5kIG9mZmVyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RhcnRDYWxsXSBDcmVhdGluZyBvZmZlci4uLicpO1xuICAgICAgICBjb25zb2xlLmxvZygnW3N0YXJ0Q2FsbF0gSW5pdGlhdG9yIGRldGFpbHM6Jywge1xuICAgICAgICAgIGNhbGxJZCxcbiAgICAgICAgICByZW1vdGVVc2VySWQsXG4gICAgICAgICAgc29ja2V0Q29ubmVjdGVkOiBzb2NrZXQuY29ubmVjdGVkLFxuICAgICAgICAgIHNvY2tldElkOiBzb2NrZXQuaWRcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHBjLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RhcnRDYWxsXSBPZmZlciBjcmVhdGVkOicsIHtcbiAgICAgICAgICB0eXBlOiBvZmZlci50eXBlLFxuICAgICAgICAgIHNkcExlbmd0aDogb2ZmZXIuc2RwPy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tzdGFydENhbGxdIExvY2FsIGRlc2NyaXB0aW9uIHNldCwgc2lnbmFsaW5nU3RhdGU6JywgcGMuc2lnbmFsaW5nU3RhdGUpO1xuXG4gICAgICAgIC8vIFNlbmQgb2ZmZXJcbiAgICAgICAgY29uc29sZS5sb2coJ1tzdGFydENhbGxdIFNlbmRpbmcgb2ZmZXIgdmlhIHNvY2tldC4uLicpO1xuICAgICAgICBjb25zdCBvZmZlckRhdGEgPSB7XG4gICAgICAgICAgY2FsbElkLFxuICAgICAgICAgIG9mZmVyOiBvZmZlcixcbiAgICAgICAgICB0YXJnZXRVc2VySWQ6IHJlbW90ZVVzZXJJZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tzdGFydENhbGxdIE9mZmVyIGRhdGEgdG8gc2VuZDonLCB7XG4gICAgICAgICAgY2FsbElkOiBvZmZlckRhdGEuY2FsbElkLFxuICAgICAgICAgIHRhcmdldFVzZXJJZDogb2ZmZXJEYXRhLnRhcmdldFVzZXJJZCxcbiAgICAgICAgICBvZmZlclR5cGU6IG9mZmVyRGF0YS5vZmZlci50eXBlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc29ja2V0LmVtaXQoJ3dlYnJ0YzpvZmZlcicsIG9mZmVyRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbc3RhcnRDYWxsXSDinIUgT2ZmZXIgZW1pdHRlZCB0byBzb2NrZXQnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICAgIGlmICghc29ja2V0LmNvbm5lY3RlZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzdGFydENhbGxdIOKaoO+4jyBTb2NrZXQgbm90IGNvbm5lY3RlZCB3aGVuIHNlbmRpbmcgb2ZmZXIhJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vbi1pbml0aWF0b3I6IEp1c3Qgc2V0dXAgcGVlciBjb25uZWN0aW9uIGFuZCB3YWl0IGZvciBvZmZlclxuICAgICAgICAvLyBUaGUgb2ZmZXIgaGFuZGxlciB3aWxsIGNyZWF0ZSBhbnN3ZXIgd2hlbiBvZmZlciBpcyByZWNlaXZlZFxuICAgICAgICBjb25zb2xlLmxvZygnW3N0YXJ0Q2FsbF0gTm9uLWluaXRpYXRvcjogUGVlciBjb25uZWN0aW9uIHJlYWR5LCB3YWl0aW5nIGZvciBvZmZlci4uLicpO1xuICAgICAgICBjb25zb2xlLmxvZygnW3N0YXJ0Q2FsbF0gU29ja2V0IGxpc3RlbmVycyBzaG91bGQgYmUgc2V0IHVwIHRvIHJlY2VpdmUgb2ZmZXInKTtcbiAgICAgICAgaGFzUmVjZWl2ZWRPZmZlclJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIHJlcXVlc3RPZmZlcignc3RhcnQnKTtcbiAgICAgICAgaWYgKG9mZmVyUmV0cnlUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChvZmZlclJldHJ5VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgb2ZmZXJSZXRyeVRpbWVyUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGhhc1JlY2VpdmVkT2ZmZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKG9mZmVyUmV0cnlUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwob2ZmZXJSZXRyeVRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICBvZmZlclJldHJ5VGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcXVlc3RPZmZlcigncmV0cnknKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzdGFydENhbGxdIEVycm9yOicsIGVycik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGNhbGwnO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH0sIFtjYWxsSWQsIGlzSW5pdGlhdG9yLCByZW1vdGVVc2VySWQsIGlzVmlkZW9FbmFibGVkLCBpc0F1ZGlvRW5hYmxlZCwgaW5pdFBlZXJDb25uZWN0aW9uLCBnZXRVc2VyTWVkaWEsIHJlcXVlc3RPZmZlcl0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRU5EIENBTExcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBlbmRDYWxsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbZW5kQ2FsbF0gRW5kaW5nIGNhbGwuLi4nKTtcblxuICAgIHN0b3BGaWx0ZXJQcm9jZXNzaW5nKCk7XG4gICAgc3RvcFNjcmVlblNoYXJlKCkuY2F0Y2goKCkgPT4ge30pO1xuXG4gICAgLy8gU3RvcCBsb2NhbCBzdHJlYW0gdHJhY2tzXG4gICAgaWYgKGxvY2FsU3RyZWFtKSB7XG4gICAgICBjb25zb2xlLmxvZygnW2VuZENhbGxdIFN0b3BwaW5nIGxvY2FsIHN0cmVhbSB0cmFja3MnKTtcbiAgICAgIGxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtlbmRDYWxsXSBTdG9wcGVkICR7dHJhY2sua2luZH0gdHJhY2tgKTtcbiAgICAgIH0pO1xuICAgICAgc2V0TG9jYWxTdHJlYW0obnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKHJhd0NhbWVyYVN0cmVhbVJlZi5jdXJyZW50KSB7XG4gICAgICByYXdDYW1lcmFTdHJlYW1SZWYuY3VycmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIHJhd0NhbWVyYVN0cmVhbVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTdG9wIHJlbW90ZSBzdHJlYW0gdHJhY2tzXG4gICAgaWYgKHJlbW90ZVN0cmVhbSkge1xuICAgICAgY29uc29sZS5sb2coJ1tlbmRDYWxsXSBTdG9wcGluZyByZW1vdGUgc3RyZWFtIHRyYWNrcycpO1xuICAgICAgcmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgIH0pO1xuICAgICAgc2V0UmVtb3RlU3RyZWFtKG51bGwpO1xuICAgIH1cblxuICAgIC8vIENsb3NlIHBlZXIgY29ubmVjdGlvblxuICAgIGlmIChwZWVyQ29ubmVjdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnW2VuZENhbGxdIENsb3NpbmcgcGVlciBjb25uZWN0aW9uJyk7XG4gICAgICBwZWVyQ29ubmVjdGlvblJlZi5jdXJyZW50LmNsb3NlKCk7XG4gICAgICBwZWVyQ29ubmVjdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgY29uc29sZS5sb2coJ1tlbmRDYWxsXSBDYWxsIGVuZGVkJyk7XG4gIH0sIFtsb2NhbFN0cmVhbSwgcmVtb3RlU3RyZWFtLCBzdG9wRmlsdGVyUHJvY2Vzc2luZywgc3RvcFNjcmVlblNoYXJlXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUT0dHTEUgVklERU8vQVVESU9cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBjb25zdCB0b2dnbGVWaWRlbyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgW3RvZ2dsZVZpZGVvXSBDdXJyZW50IHN0YXRlOiAke2lzVmlkZW9FbmFibGVkfSwgdG9nZ2xpbmcuLi5gKTtcbiAgICBzZXRJc1ZpZGVvRW5hYmxlZCghaXNWaWRlb0VuYWJsZWQpO1xuXG4gICAgaWYgKGxvY2FsU3RyZWFtKSB7XG4gICAgICBjb25zdCB2aWRlb1RyYWNrcyA9IGxvY2FsU3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICB2aWRlb1RyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICB0cmFjay5lbmFibGVkID0gIWlzVmlkZW9FbmFibGVkO1xuICAgICAgICBjb25zb2xlLmxvZyhgW3RvZ2dsZVZpZGVvXSBWaWRlbyB0cmFjayAke3RyYWNrLmlkfSBlbmFibGVkOiAke3RyYWNrLmVuYWJsZWR9YCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtpc1ZpZGVvRW5hYmxlZCwgbG9jYWxTdHJlYW1dKTtcblxuICBjb25zdCB0b2dnbGVBdWRpbyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgW3RvZ2dsZUF1ZGlvXSBDdXJyZW50IHN0YXRlOiAke2lzQXVkaW9FbmFibGVkfSwgdG9nZ2xpbmcuLi5gKTtcbiAgICBzZXRJc0F1ZGlvRW5hYmxlZCghaXNBdWRpb0VuYWJsZWQpO1xuXG4gICAgaWYgKGxvY2FsU3RyZWFtKSB7XG4gICAgICBjb25zdCBhdWRpb1RyYWNrcyA9IGxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgICBhdWRpb1RyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICB0cmFjay5lbmFibGVkID0gIWlzQXVkaW9FbmFibGVkO1xuICAgICAgICBjb25zb2xlLmxvZyhgW3RvZ2dsZUF1ZGlvXSBBdWRpbyB0cmFjayAke3RyYWNrLmlkfSBlbmFibGVkOiAke3RyYWNrLmVuYWJsZWR9YCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtpc0F1ZGlvRW5hYmxlZCwgbG9jYWxTdHJlYW1dKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFNFVFVQIFNPQ0tFVCBMSVNURU5FUlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNvY2tldCA9IHNvY2tldFJlZi5jdXJyZW50O1xuICAgIGlmICghc29ja2V0KSB7XG4gICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gU29ja2V0IG5vdCBhdmFpbGFibGUsIHNraXBwaW5nIGxpc3RlbmVyIHNldHVwJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgbGlzdGVuZXJzIGV2ZW4gaWYgcGVlciBjb25uZWN0aW9uIG5vdCByZWFkeSB5ZXRcbiAgICAvLyBQZWVyIGNvbm5lY3Rpb24gd2lsbCBiZSBjcmVhdGVkIGluIHN0YXJ0Q2FsbCgpXG4gICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIFNldHRpbmcgdXAgV2ViUlRDIGxpc3RlbmVycyBmb3IgY2FsbElkOicsIGNhbGxJZCk7XG5cbiAgICBjb25zdCBoYW5kbGVPZmZlciA9IGFzeW5jIChkYXRhOiB7IGNhbGxJZDogc3RyaW5nOyBvZmZlcjogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdDsgZnJvbVVzZXJJZDogc3RyaW5nIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSA9PT09PSBPRkZFUiBSRUNFSVZFRCA9PT09PScpO1xuICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIE9mZmVyIGRhdGE6Jywge1xuICAgICAgICBjYWxsSWQ6IGRhdGEuY2FsbElkLFxuICAgICAgICBleHBlY3RlZENhbGxJZDogY2FsbElkLFxuICAgICAgICBmcm9tVXNlcklkOiBkYXRhLmZyb21Vc2VySWQsXG4gICAgICAgIG9mZmVyVHlwZTogZGF0YS5vZmZlcj8udHlwZSxcbiAgICAgICAgb2ZmZXJTZHBMZW5ndGg6IGRhdGEub2ZmZXI/LnNkcD8ubGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIGhhc1JlY2VpdmVkT2ZmZXJSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBpZiAob2ZmZXJSZXRyeVRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChvZmZlclJldHJ5VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIG9mZmVyUmV0cnlUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRhdGEuY2FsbElkICE9PSBjYWxsSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIOKdjCBPZmZlciBjYWxsSWQgbWlzbWF0Y2g6JywgZGF0YS5jYWxsSWQsICdleHBlY3RlZDonLCBjYWxsSWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0g4pyFIE9mZmVyIGNhbGxJZCBtYXRjaGVzLCBwcm9jZXNzaW5nLi4uJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBwYyA9IHBlZXJDb25uZWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBwZWVyIGNvbm5lY3Rpb24gZG9lc24ndCBleGlzdCBvciBpcyBjbG9zZWQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgaXNDbG9zZWQgPSAhcGMgfHwgKHBjIGFzIGFueSkuc2lnbmFsaW5nU3RhdGUgPT09ICdjbG9zZWQnIHx8IChwYyBhcyBhbnkpLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Nsb3NlZCc7XG4gICAgICAgIGlmIChpc0Nsb3NlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSBQZWVyIGNvbm5lY3Rpb24gbm90IGZvdW5kIG9yIGNsb3NlZCwgY3JlYXRpbmcgbmV3IG9uZS4uLicpO1xuICAgICAgICAgIGlmICghaW5pdFBlZXJDb25uZWN0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTb2NrZXRdIGluaXRQZWVyQ29ubmVjdGlvbiBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHBjID0gaW5pdFBlZXJDb25uZWN0aW9uUmVmLmN1cnJlbnQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgdXNlciBtZWRpYSBpZiBub3QgYWxyZWFkeSBvYnRhaW5lZFxuICAgICAgICAgIGlmICghbG9jYWxTdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSBHZXR0aW5nIHVzZXIgbWVkaWEgZm9yIGFuc3dlci4uLicpO1xuICAgICAgICAgICAgaWYgKCFnZXRVc2VyTWVkaWFSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU29ja2V0XSBnZXRVc2VyTWVkaWEgbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBnZXRVc2VyTWVkaWFSZWYuY3VycmVudChpc1ZpZGVvRW5hYmxlZCwgaXNBdWRpb0VuYWJsZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEb3VibGUgY2hlY2sgYWZ0ZXIgY3JlYXRpbmcgLSBpZiBzdGlsbCBjbG9zZWQsIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICAgICAgaWYgKChwYyBhcyBhbnkpLnNpZ25hbGluZ1N0YXRlID09PSAnY2xvc2VkJyB8fCAocGMgYXMgYW55KS5jb25uZWN0aW9uU3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU29ja2V0XSBQZWVyIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBpbW1lZGlhdGVseSBhZnRlciBjcmVhdGlvbicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmFsIGNoZWNrIC0gZW5zdXJlIHBjIGlzIG5vdCBudWxsXG4gICAgICAgIGlmICghcGMpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU29ja2V0XSBQZWVyIGNvbm5lY3Rpb24gaXMgbnVsbCBhZnRlciBjcmVhdGlvbicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmFsIGNoZWNrIHNpZ25hbGluZyBzdGF0ZSBiZWZvcmUgc2V0dGluZyByZW1vdGUgZGVzY3JpcHRpb25cbiAgICAgICAgaWYgKChwYyBhcyBhbnkpLnNpZ25hbGluZ1N0YXRlID09PSAnY2xvc2VkJyB8fCAocGMgYXMgYW55KS5jb25uZWN0aW9uU3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW1NvY2tldF0gQ2Fubm90IHNldCByZW1vdGUgZGVzY3JpcHRpb246IHBlZXIgY29ubmVjdGlvbiBpcyBjbG9zZWQnKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU29ja2V0XSBTaWduYWxpbmcgc3RhdGU6JywgcGMuc2lnbmFsaW5nU3RhdGUsICdDb25uZWN0aW9uIHN0YXRlOicsIHBjLmNvbm5lY3Rpb25TdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkYXRhLm9mZmVyKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSBSZW1vdGUgZGVzY3JpcHRpb24gc2V0Jyk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBxdWV1ZWQgSUNFIGNhbmRpZGF0ZXMgbm93IHRoYXQgcmVtb3RlIGRlc2NyaXB0aW9uIGlzIHNldFxuICAgICAgICBpZiAoaWNlQ2FuZGlkYXRlUXVldWVSZWYuY3VycmVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFtTb2NrZXRdIFByb2Nlc3NpbmcgJHtpY2VDYW5kaWRhdGVRdWV1ZVJlZi5jdXJyZW50Lmxlbmd0aH0gcXVldWVkIElDRSBjYW5kaWRhdGVzYCk7XG4gICAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgaWNlQ2FuZGlkYXRlUXVldWVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgcGMuYWRkSWNlQ2FuZGlkYXRlKG5ldyBSVENJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSBRdWV1ZWQgSUNFIGNhbmRpZGF0ZSBhZGRlZCcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTb2NrZXRdIEVycm9yIGFkZGluZyBxdWV1ZWQgSUNFIGNhbmRpZGF0ZTonLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpY2VDYW5kaWRhdGVRdWV1ZVJlZi5jdXJyZW50ID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBwYy5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgICAgYXdhaXQgcGMuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gQW5zd2VyIGNyZWF0ZWQgYW5kIHNldCwgc2lnbmFsaW5nU3RhdGU6JywgcGMuc2lnbmFsaW5nU3RhdGUpO1xuXG4gICAgICAgIGNvbnN0IGFuc3dlckRhdGEgPSB7XG4gICAgICAgICAgY2FsbElkLFxuICAgICAgICAgIGFuc3dlcjogYW5zd2VyLFxuICAgICAgICAgIHRhcmdldFVzZXJJZDogZGF0YS5mcm9tVXNlcklkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gU2VuZGluZyBhbnN3ZXI6Jywge1xuICAgICAgICAgIGNhbGxJZDogYW5zd2VyRGF0YS5jYWxsSWQsXG4gICAgICAgICAgdGFyZ2V0VXNlcklkOiBhbnN3ZXJEYXRhLnRhcmdldFVzZXJJZCxcbiAgICAgICAgICBhbnN3ZXJUeXBlOiBhbnN3ZXJEYXRhLmFuc3dlci50eXBlLFxuICAgICAgICAgIHNvY2tldENvbm5lY3RlZDogc29ja2V0LmNvbm5lY3RlZCxcbiAgICAgICAgICBzb2NrZXRJZDogc29ja2V0LmlkXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc29ja2V0LmVtaXQoJ3dlYnJ0YzphbnN3ZXInLCBhbnN3ZXJEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIOKchSBBbnN3ZXIgZW1pdHRlZCB0byBzb2NrZXQnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICAgIGlmICghc29ja2V0LmNvbm5lY3RlZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTb2NrZXRdIOKaoO+4jyBTb2NrZXQgbm90IGNvbm5lY3RlZCB3aGVuIHNlbmRpbmcgYW5zd2VyIScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW1NvY2tldF0gRXJyb3IgaGFuZGxpbmcgb2ZmZXI6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBoYW5kbGUgaW5jb21pbmcgY2FsbCcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBbnN3ZXIgPSBhc3luYyAoZGF0YTogeyBjYWxsSWQ6IHN0cmluZzsgYW5zd2VyOiBSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0OyBmcm9tVXNlcklkPzogc3RyaW5nIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSA9PT09PSBBTlNXRVIgUkVDRUlWRUQgPT09PT0nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSBBbnN3ZXIgZGF0YTonLCB7XG4gICAgICAgIGNhbGxJZDogZGF0YS5jYWxsSWQsXG4gICAgICAgIGV4cGVjdGVkQ2FsbElkOiBjYWxsSWQsXG4gICAgICAgIGZyb21Vc2VySWQ6IGRhdGEuZnJvbVVzZXJJZCxcbiAgICAgICAgYW5zd2VyVHlwZTogZGF0YS5hbnN3ZXI/LnR5cGUsXG4gICAgICAgIGFuc3dlclNkcExlbmd0aDogZGF0YS5hbnN3ZXI/LnNkcD8ubGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEuY2FsbElkICE9PSBjYWxsSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIOKdjCBBbnN3ZXIgY2FsbElkIG1pc21hdGNoOicsIGRhdGEuY2FsbElkLCAnZXhwZWN0ZWQ6JywgY2FsbElkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIOKchSBBbnN3ZXIgY2FsbElkIG1hdGNoZXMsIHByb2Nlc3NpbmcuLi4nKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGMgPSBwZWVyQ29ubmVjdGlvblJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXBjKSByZXR1cm47XG5cbiAgICAgICAgYXdhaXQgcGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkYXRhLmFuc3dlcikpO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gUmVtb3RlIGRlc2NyaXB0aW9uIHNldCBmcm9tIGFuc3dlcicpO1xuXG4gICAgICAgIC8vIFByb2Nlc3MgcXVldWVkIElDRSBjYW5kaWRhdGVzIG5vdyB0aGF0IHJlbW90ZSBkZXNjcmlwdGlvbiBpcyBzZXRcbiAgICAgICAgaWYgKGljZUNhbmRpZGF0ZVF1ZXVlUmVmLmN1cnJlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbU29ja2V0XSBQcm9jZXNzaW5nICR7aWNlQ2FuZGlkYXRlUXVldWVSZWYuY3VycmVudC5sZW5ndGh9IHF1ZXVlZCBJQ0UgY2FuZGlkYXRlc2ApO1xuICAgICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGljZUNhbmRpZGF0ZVF1ZXVlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGF3YWl0IHBjLmFkZEljZUNhbmRpZGF0ZShuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gUXVldWVkIElDRSBjYW5kaWRhdGUgYWRkZWQnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU29ja2V0XSBFcnJvciBhZGRpbmcgcXVldWVkIElDRSBjYW5kaWRhdGU6JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWNlQ2FuZGlkYXRlUXVldWVSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW1NvY2tldF0gRXJyb3IgaGFuZGxpbmcgYW5zd2VyOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gaGFuZGxlIGNhbGwgYW5zd2VyJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUljZUNhbmRpZGF0ZSA9IGFzeW5jIChkYXRhOiB7IGNhbGxJZDogc3RyaW5nOyBjYW5kaWRhdGU6IFJUQ0ljZUNhbmRpZGF0ZUluaXQ7IGZyb21Vc2VySWQ/OiBzdHJpbmcgfSkgPT4ge1xuICAgICAgaWYgKGRhdGEuY2FsbElkICE9PSBjYWxsSWQpIHJldHVybjtcbiAgICAgIGNvbnNvbGUubG9nKCdbU29ja2V0XSBSZWNlaXZlZCBJQ0UgY2FuZGlkYXRlOicsIGRhdGEpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYyA9IHBlZXJDb25uZWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghcGMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gUGVlciBjb25uZWN0aW9uIG5vdCByZWFkeSwgcXVldWVpbmcgSUNFIGNhbmRpZGF0ZScpO1xuICAgICAgICAgIGljZUNhbmRpZGF0ZVF1ZXVlUmVmLmN1cnJlbnQucHVzaChkYXRhLmNhbmRpZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgcmVtb3RlIGRlc2NyaXB0aW9uIGlzIHNldFxuICAgICAgICBpZiAoIXBjLnJlbW90ZURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIFJlbW90ZSBkZXNjcmlwdGlvbiBub3Qgc2V0IHlldCwgcXVldWVpbmcgSUNFIGNhbmRpZGF0ZScpO1xuICAgICAgICAgIGljZUNhbmRpZGF0ZVF1ZXVlUmVmLmN1cnJlbnQucHVzaChkYXRhLmNhbmRpZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcGMuYWRkSWNlQ2FuZGlkYXRlKG5ldyBSVENJY2VDYW5kaWRhdGUoZGF0YS5jYW5kaWRhdGUpKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIElDRSBjYW5kaWRhdGUgYWRkZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBJZiBlcnJvciBpcyBiZWNhdXNlIHJlbW90ZSBkZXNjcmlwdGlvbiBpcyBudWxsLCBxdWV1ZSBpdFxuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ3JlbW90ZSBkZXNjcmlwdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tTb2NrZXRdIFJlbW90ZSBkZXNjcmlwdGlvbiBub3Qgc2V0LCBxdWV1ZWluZyBJQ0UgY2FuZGlkYXRlJyk7XG4gICAgICAgICAgaWNlQ2FuZGlkYXRlUXVldWVSZWYuY3VycmVudC5wdXNoKGRhdGEuY2FuZGlkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU29ja2V0XSBFcnJvciBoYW5kbGluZyBJQ0UgY2FuZGlkYXRlOicsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc29ja2V0Lm9uKCd3ZWJydGM6b2ZmZXInLCBoYW5kbGVPZmZlcik7XG4gICAgc29ja2V0Lm9uKCd3ZWJydGM6YW5zd2VyJywgaGFuZGxlQW5zd2VyKTtcbiAgICBzb2NrZXQub24oJ3dlYnJ0YzppY2UtY2FuZGlkYXRlJywgaGFuZGxlSWNlQ2FuZGlkYXRlKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW1NvY2tldF0gQ2xlYW5pbmcgdXAgV2ViUlRDIGxpc3RlbmVycycpO1xuICAgICAgc29ja2V0Lm9mZignd2VicnRjOm9mZmVyJywgaGFuZGxlT2ZmZXIpO1xuICAgICAgc29ja2V0Lm9mZignd2VicnRjOmFuc3dlcicsIGhhbmRsZUFuc3dlcik7XG4gICAgICBzb2NrZXQub2ZmKCd3ZWJydGM6aWNlLWNhbmRpZGF0ZScsIGhhbmRsZUljZUNhbmRpZGF0ZSk7XG4gICAgfTtcbiAgICAvLyBOb3RlOiBXZSBpbnRlbnRpb25hbGx5IGRvbid0IGluY2x1ZGUgaW5pdFBlZXJDb25uZWN0aW9uLCBnZXRVc2VyTWVkaWEsIGV0Yy4gaW4gZGVwc1xuICAgIC8vIHRvIGF2b2lkIHJlLXNldHRpbmcgdXAgbGlzdGVuZXJzLiBUaGVzZSBmdW5jdGlvbnMgYXJlIHN0YWJsZSAodXNlQ2FsbGJhY2spLlxuICAgIC8vIFRoZSBoYW5kbGVycyB1c2UgcmVmcy9jdXJyZW50IHZhbHVlcyB3aGVuIG5lZWRlZC5cbiAgfSwgW2NhbGxJZF0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQVRUQUNIIFNUUkVBTVMgVE8gVklERU8gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsb2NhbFZpZGVvUmVmLmN1cnJlbnQgJiYgbG9jYWxTdHJlYW0pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbVmlkZW9dIEF0dGFjaGluZyBsb2NhbCBzdHJlYW0gdG8gdmlkZW8gZWxlbWVudCcpO1xuICAgICAgbG9jYWxWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IGxvY2FsU3RyZWFtO1xuICAgIH1cbiAgfSwgW2xvY2FsU3RyZWFtXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVtb3RlVmlkZW9SZWYuY3VycmVudCAmJiByZW1vdGVTdHJlYW0pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbVmlkZW9dIEF0dGFjaGluZyByZW1vdGUgc3RyZWFtIHRvIHZpZGVvIGVsZW1lbnQnKTtcbiAgICAgIHJlbW90ZVZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgIH1cbiAgfSwgW3JlbW90ZVN0cmVhbV0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ0xFQU5VUCBPTiBVTk1PVU5UXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVXNlIHJlZiB0byBzdG9yZSBsYXRlc3QgZW5kQ2FsbCBmdW5jdGlvbiB0byBhdm9pZCBjbGVhbnVwIHJlLXJ1bm5pbmdcbiAgY29uc3QgZW5kQ2FsbFJlZiA9IHVzZVJlZihlbmRDYWxsKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBlbmRDYWxsUmVmLmN1cnJlbnQgPSBlbmRDYWxsO1xuICB9LCBbZW5kQ2FsbF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQ2xlYW51cF0gQ29tcG9uZW50IHVubW91bnRpbmcsIGNsZWFuaW5nIHVwLi4uJyk7XG4gICAgICAvLyBVc2UgcmVmIHRvIGNhbGwgbGF0ZXN0IGVuZENhbGwgd2l0aG91dCB0cmlnZ2VyaW5nIHJlLXJ1bnNcbiAgICAgIGVuZENhbGxSZWYuY3VycmVudCgpO1xuICAgIH07XG4gICAgLy8gRW1wdHkgZGVwcyAtIG9ubHkgcnVuIG9uIHVubW91bnRcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7XG4gICAgbG9jYWxTdHJlYW0sXG4gICAgcmVtb3RlU3RyZWFtLFxuICAgIGlzQ29ubmVjdGVkLFxuICAgIGVycm9yLFxuICAgIHN0YXJ0Q2FsbCxcbiAgICBlbmRDYWxsLFxuICAgIHRvZ2dsZVZpZGVvLFxuICAgIHRvZ2dsZUF1ZGlvLFxuICAgIGlzVmlkZW9FbmFibGVkLFxuICAgIGlzQXVkaW9FbmFibGVkLFxuICAgIGFwcGx5RmlsdGVyLFxuICAgIGN1cnJlbnRGaWx0ZXIsXG4gICAgc3RhcnRTY3JlZW5TaGFyZSxcbiAgICBzdG9wU2NyZWVuU2hhcmUsXG4gICAgaXNTY3JlZW5TaGFyaW5nLFxuICAgIGxvY2FsVmlkZW9SZWYsXG4gICAgcmVtb3RlVmlkZW9SZWYsXG4gIH07XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiZ2V0U29ja2V0IiwiRklMVEVSX0NPTkZJRyIsIm5vbmUiLCJsYWJlbCIsImVtb2ppIiwiYmVhdXR5IiwiY3NzRmlsdGVyIiwid2FybSIsImNvb2wiLCJwYXJ0eSIsIm92ZXJsYXkiLCJjdHgiLCJ3aWR0aCIsImhlaWdodCIsInRpbWUiLCJzYXZlIiwiZ2xvYmFsQWxwaGEiLCJpIiwieCIsInkiLCJzaXplIiwiZmlsbFN0eWxlIiwiYmVnaW5QYXRoIiwiYXJjIiwiTWF0aCIsIlBJIiwiZmlsbCIsInJlc3RvcmUiLCJiaXJ0aGRheSIsImJhbGxvb25Db2xvcnMiLCJmb3JFYWNoIiwiY29sb3IiLCJpbmRleCIsImJ4IiwiYnkiLCJyYWRpdXMiLCJncmFkaWVudCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiZWxsaXBzZSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibW92ZVRvIiwicXVhZHJhdGljQ3VydmVUbyIsInN0cm9rZSIsImxpbmVUbyIsImNsb3NlUGF0aCIsImNha2VIZWlnaHQiLCJmaWxsUmVjdCIsImN4IiwiSUNFX1NFUlZFUlMiLCJ1cmxzIiwidXNlV2ViUlRDIiwiY2FsbElkIiwiY29udmVyc2F0aW9uSWQiLCJfY29udmVyc2F0aW9uSWQiLCJpc0luaXRpYXRvciIsImxvY2FsVXNlcklkIiwiX2xvY2FsVXNlcklkIiwicmVtb3RlVXNlcklkIiwidmlkZW9EZXZpY2VJZCIsImF1ZGlvRGV2aWNlSWQiLCJsb2NhbFN0cmVhbSIsInNldExvY2FsU3RyZWFtIiwicmVtb3RlU3RyZWFtIiwic2V0UmVtb3RlU3RyZWFtIiwiaXNDb25uZWN0ZWQiLCJzZXRJc0Nvbm5lY3RlZCIsImVycm9yIiwic2V0RXJyb3IiLCJpc1ZpZGVvRW5hYmxlZCIsInNldElzVmlkZW9FbmFibGVkIiwiaXNBdWRpb0VuYWJsZWQiLCJzZXRJc0F1ZGlvRW5hYmxlZCIsImN1cnJlbnRGaWx0ZXIiLCJzZXRDdXJyZW50RmlsdGVyIiwiaXNTY3JlZW5TaGFyaW5nIiwic2V0SXNTY3JlZW5TaGFyaW5nIiwicGVlckNvbm5lY3Rpb25SZWYiLCJzb2NrZXRSZWYiLCJsb2NhbFZpZGVvUmVmIiwicmVtb3RlVmlkZW9SZWYiLCJpY2VDYW5kaWRhdGVRdWV1ZVJlZiIsImhhc1JlY2VpdmVkT2ZmZXJSZWYiLCJvZmZlclJldHJ5VGltZXJSZWYiLCJyYXdDYW1lcmFTdHJlYW1SZWYiLCJzY3JlZW5TaGFyZVN0cmVhbVJlZiIsInByb2Nlc3NlZEZpbHRlclN0cmVhbVJlZiIsImZpbHRlckNhbnZhc1JlZiIsImZpbHRlclZpZGVvUmVmIiwiZmlsdGVyQW5pbWF0aW9uRnJhbWVSZWYiLCJjdXJyZW50RmlsdGVyUmVmIiwiaW5pdFBlZXJDb25uZWN0aW9uUmVmIiwiZ2V0VXNlck1lZGlhUmVmIiwiY3VycmVudCIsInJlcGxhY2VWaWRlb1RyYWNrIiwidHJhY2siLCJwYyIsInNlbmRlciIsImdldFNlbmRlcnMiLCJmaW5kIiwicyIsImtpbmQiLCJyZXBsYWNlVHJhY2siLCJzdG9wRmlsdGVyUHJvY2Vzc2luZyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZ2V0VHJhY2tzIiwic3RvcCIsInBhdXNlIiwiZXJyIiwic3JjT2JqZWN0Iiwic3RhcnRGaWx0ZXJQcm9jZXNzaW5nIiwiZmlsdGVyIiwicmF3U3RyZWFtIiwidmlkZW9FbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJhdXRvcGxheSIsInBsYXkiLCJjYXRjaCIsImNhbnZhcyIsImdldENvbnRleHQiLCJjb25zb2xlIiwicmVuZGVyIiwidmlkZW8iLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGVhclJlY3QiLCJjb25maWciLCJkcmF3SW1hZ2UiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInByb2Nlc3NlZFN0cmVhbSIsImNhcHR1cmVTdHJlYW0iLCJwcm9jZXNzZWRUcmFjayIsImdldFZpZGVvVHJhY2tzIiwic3RvcFNjcmVlblNoYXJlIiwiY2FtZXJhU3RyZWFtIiwiY2FtZXJhVHJhY2siLCJzdGFydFNjcmVlblNoYXJlIiwiZWxlY3Ryb25BUEkiLCJ3aW5kb3ciLCJ1bmRlZmluZWQiLCJzaGFyZVN0cmVhbSIsInNlbGVjdFNjcmVlblNvdXJjZSIsInNvdXJjZUlkIiwiZWxlY3Ryb25Db25zdHJhaW50cyIsImF1ZGlvIiwibWFuZGF0b3J5IiwiY2hyb21lTWVkaWFTb3VyY2UiLCJjaHJvbWVNZWRpYVNvdXJjZUlkIiwibWF4RnJhbWVSYXRlIiwibWluRnJhbWVSYXRlIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiZ2V0RGlzcGxheU1lZGlhIiwiZnJhbWVSYXRlIiwiaWRlYWwiLCJkaXNwbGF5U3VyZmFjZSIsIkVycm9yIiwib25lbmRlZCIsIm5hbWUiLCJhcHBseUZpbHRlciIsIndhcm4iLCJoYW5kbGVHZXRVc2VyTWVkaWFFcnJvciIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1lc3NhZ2UiLCJsb2ciLCJlcnJvck1zZyIsImxvY2F0aW9uIiwib3JpZ2luIiwiaHJlZiIsImlzU2VjdXJlQ29udGV4dCIsImNvbnN0cmFpbnRzIiwiZGV2aWNlSWQiLCJleGFjdCIsImZhY2luZ01vZGUiLCJlY2hvQ2FuY2VsbGF0aW9uIiwibm9pc2VTdXBwcmVzc2lvbiIsImF1dG9HYWluQ29udHJvbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdHJlYW0iLCJpZCIsImFjdGl2ZSIsIm1hcCIsImVuYWJsZWQiLCJyZWFkeVN0YXRlIiwiYWRkVHJhY2siLCJlcnJvck1lc3NhZ2UiLCJpbml0UGVlckNvbm5lY3Rpb24iLCJjbG9zZSIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiaWNlU2VydmVycyIsIm9uaWNlY2FuZGlkYXRlIiwiZXZlbnQiLCJjYW5kaWRhdGUiLCJzb2NrZXQiLCJlbWl0IiwidGFyZ2V0VXNlcklkIiwib25jb25uZWN0aW9uc3RhdGVjaGFuZ2UiLCJzdGF0ZSIsImNvbm5lY3Rpb25TdGF0ZSIsIm9udHJhY2siLCJzdHJlYW1zIiwib25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UiLCJpY2VDb25uZWN0aW9uU3RhdGUiLCJyZXF1ZXN0T2ZmZXIiLCJyZWFzb24iLCJmcm9tVXNlcklkIiwiY2xlYXJJbnRlcnZhbCIsInN0YXJ0Q2FsbCIsInNvY2tldENvbm5lY3RlZCIsImNvbm5lY3RlZCIsInNvY2tldElkIiwib2ZmZXIiLCJjcmVhdGVPZmZlciIsInR5cGUiLCJzZHBMZW5ndGgiLCJzZHAiLCJsZW5ndGgiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwic2lnbmFsaW5nU3RhdGUiLCJvZmZlckRhdGEiLCJvZmZlclR5cGUiLCJzZXRJbnRlcnZhbCIsImVuZENhbGwiLCJ0b2dnbGVWaWRlbyIsInZpZGVvVHJhY2tzIiwidG9nZ2xlQXVkaW8iLCJhdWRpb1RyYWNrcyIsImdldEF1ZGlvVHJhY2tzIiwiaGFuZGxlT2ZmZXIiLCJkYXRhIiwiZXhwZWN0ZWRDYWxsSWQiLCJvZmZlclNkcExlbmd0aCIsImlzQ2xvc2VkIiwic2V0UmVtb3RlRGVzY3JpcHRpb24iLCJSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJhZGRJY2VDYW5kaWRhdGUiLCJSVENJY2VDYW5kaWRhdGUiLCJhbnN3ZXIiLCJjcmVhdGVBbnN3ZXIiLCJhbnN3ZXJEYXRhIiwiYW5zd2VyVHlwZSIsImhhbmRsZUFuc3dlciIsImFuc3dlclNkcExlbmd0aCIsImhhbmRsZUljZUNhbmRpZGF0ZSIsInB1c2giLCJyZW1vdGVEZXNjcmlwdGlvbiIsImluY2x1ZGVzIiwib24iLCJvZmYiLCJlbmRDYWxsUmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/hooks/useWebRTC.ts\n");

/***/ }),

/***/ "(ssr)/../../packages/app/socket.ts":
/*!************************************!*\
  !*** ../../packages/app/socket.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectSocket: () => (/* binding */ connectSocket),\n/* harmony export */   disconnectSocket: () => (/* binding */ disconnectSocket),\n/* harmony export */   getSocket: () => (/* binding */ getSocket),\n/* harmony export */   reconnectSocket: () => (/* binding */ reconnectSocket)\n/* harmony export */ });\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/../../../node_modules/socket.io-client/build/esm-debug/index.js\");\n\n// Simplified socket configuration - always use VPS server\nconst isWeb = \"undefined\" !== \"undefined\";\n// Check if using ngrok tunnel\nconst isNgrok = isWeb && window?.location?.hostname && window.location.hostname.includes(\"ngrok\");\n// Use HTTP for now since backend doesn't support HTTPS/WSS\nconst SOCKET_BASE_URL = \"https://backend36.dev\";\nconsole.log(\"\\uD83D\\uDD0D Platform detection:\", {\n    isWeb\n});\nconsole.log(\"\\uD83D\\uDD0D Socket URL:\", SOCKET_BASE_URL);\nconsole.log(\"\\uD83D\\uDD0D App Version: 1.1.0\");\nconsole.log(\"\\uD83D\\uDD0D Build Number: 017\");\nconsole.log(\"\\uD83D\\uDD0D Cache busting timestamp:\", Date.now());\nconsole.log(\"\\uD83D\\uDD0D Force refresh required - clear browser cache!\");\nconsole.log(\"\\uD83D\\uDD0D Current URL:\",  false ? 0 : \"N/A\");\nlet socket = null;\nlet isConnecting = false;\nlet connectionPromise = null;\n// \n// WEBSOCKET CONNECTION - TCP-based, Full-Duplex\n// \nconst connectSocket = (token)=>{\n    if (socket?.connected) {\n        console.log(\"\\uD83D\\uDD0D Socket already connected, returning existing socket\");\n        console.log(\"\\uD83D\\uDD0D Current socket ID:\", socket.id);\n        return socket;\n    }\n    if (isConnecting && connectionPromise) {\n        console.log(\"\\uD83D\\uDD0D Socket connection already in progress, waiting...\");\n        return connectionPromise;\n    }\n    // Clear any existing socket before creating new one\n    if (socket) {\n        console.log(\"\\uD83D\\uDD27 Clearing existing socket before creating new one\");\n        socket.disconnect();\n        socket = null;\n    }\n    isConnecting = true;\n    // Create connection promise to avoid multiple simultaneous connections\n    connectionPromise = new Promise(async (resolve)=>{\n        console.log(\"\\uD83D\\uDD0D Creating new socket connection to:\", SOCKET_BASE_URL || \"same-origin\");\n        console.log(\"\\uD83D\\uDD0D Using token:\", token ? \"Present\" : \"Missing\");\n        console.log(\"\\uD83D\\uDD0D Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        // Clear any existing socket first (both web and mobile)\n        if (socket) {\n            console.log(\"\\uD83D\\uDD27 Clearing existing socket before creating new connection\");\n            socket.disconnect();\n            socket = null;\n        }\n        // Try to connect with retry logic\n        let connectionAttempts = 0;\n        const maxAttempts = 3;\n        const tryConnect = (url)=>{\n            connectionAttempts++;\n            console.log(` Connection attempt ${connectionAttempts}/${maxAttempts} to:`, url);\n            //  SOCKET TO  Y - Ln th connect\n            return new Promise((resolve, reject)=>{\n                const testSocket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(url, {\n                    transports: isWeb ? [\n                        \"polling\"\n                    ] : [\n                        \"websocket\",\n                        \"polling\"\n                    ],\n                    upgrade: isWeb ? false : true,\n                    timeout: 10000,\n                    auth: {\n                        token\n                    },\n                    path: \"/socket.io\",\n                    // Add debug options\n                    forceNew: true,\n                    rememberUpgrade: false,\n                    // Add connection debugging\n                    autoConnect: true,\n                    withCredentials: true\n                });\n                // Add debug listeners to test socket\n                testSocket.on(\"connect\", ()=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket connected to:\", url);\n                });\n                testSocket.on(\"disconnect\", (reason)=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket disconnected from:\", url, \"reason:\", reason);\n                });\n                testSocket.on(\"connect_error\", (error)=>{\n                    console.log(\"\\uD83D\\uDD27 Test socket connect error:\", url, error.message);\n                });\n                // Handle connection success\n                testSocket.on(\"connect\", ()=>{\n                    console.log(\" Connection successful to:\", url);\n                    // Don't disconnect the test socket - use it as the main socket\n                    resolve(testSocket);\n                });\n                // Handle connection error\n                testSocket.on(\"connect_error\", (error)=>{\n                    console.log(\" Connection failed to:\", url, error.message);\n                    testSocket.disconnect();\n                    reject(error);\n                });\n                // Timeout after 10 seconds - only if not connected\n                setTimeout(()=>{\n                    if (!testSocket.connected) {\n                        console.log(\" Connection timeout to:\", url);\n                        testSocket.disconnect();\n                        reject(new Error(\"Connection timeout\"));\n                    }\n                }, 10000);\n            });\n        };\n        // Simple connection to VPS server\n        const connectToServer = async ()=>{\n            try {\n                console.log(` Connecting to: ${SOCKET_BASE_URL}`);\n                socket = await tryConnect(SOCKET_BASE_URL);\n                console.log(\" Successfully connected to:\", SOCKET_BASE_URL);\n            } catch (error) {\n                console.error(\" Failed to connect to server:\", error);\n                console.error(\" Backend server may be down or unreachable\");\n                console.error(\" Please check if backend server is running\");\n                //  SOCKET TO  Y - Fallback khi tryConnect() fail\n                // Create a fallback socket with Netlify-compatible settings\n                socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, {\n                    transports: isWeb ? [\n                        \"polling\"\n                    ] : [\n                        \"websocket\",\n                        \"polling\"\n                    ],\n                    upgrade: isWeb ? false : true,\n                    timeout: 10000,\n                    auth: {\n                        token\n                    },\n                    path: \"/socket.io\",\n                    // Netlify-specific options\n                    forceNew: true,\n                    rememberUpgrade: false,\n                    autoConnect: true,\n                    withCredentials: true\n                });\n            }\n        };\n        // Try multiple connection strategies\n        const connectionOptions = {\n            // Use polling first for Netlify to avoid Mixed Content Error\n            transports: isWeb ? [\n                \"polling\"\n            ] : [\n                \"websocket\",\n                \"polling\"\n            ],\n            upgrade: isWeb ? false : true,\n            reconnection: true,\n            reconnectionAttempts: 15,\n            reconnectionDelay: 1000,\n            reconnectionDelayMax: 15000,\n            timeout: 30000,\n            withCredentials: true,\n            auth: {\n                token\n            },\n            path: \"/socket.io\",\n            // Add extra options for better connection\n            forceNew: true,\n            rememberUpgrade: false,\n            // Add extra options for better reliability\n            autoConnect: true,\n            reconnectionDelayFactor: 1.5,\n            maxReconnectionAttempts: 15\n        };\n        // Connect to VPS server\n        //  SOCKET TO  Y - Fallback nu khng c socket\n        connectToServer().then(()=>{\n            if (!socket) {\n                console.log(\"\\uD83D\\uDD27 Creating fallback socket connection\");\n                socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, connectionOptions);\n                // Add immediate debug listeners\n                socket.on(\"connect\", ()=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connected\");\n                });\n                socket.on(\"disconnect\", (reason)=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket disconnected:\", reason);\n                });\n                socket.on(\"connect_error\", (error)=>{\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connect error:\", error.message);\n                });\n                setupSocketListeners(token);\n            } else {\n                console.log(\"\\uD83D\\uDD27 Socket already connected, setting up listeners\");\n                setupSocketListeners(token);\n            }\n            // Wait for socket to be fully connected\n            const waitForConnection = ()=>{\n                if (socket && socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Socket fully connected, resolving...\");\n                    isConnecting = false;\n                    resolve(socket);\n                } else {\n                    console.log(\"\\uD83D\\uDD27 Waiting for socket to be fully connected...\");\n                    setTimeout(waitForConnection, 100);\n                }\n            };\n            waitForConnection();\n        }).catch((error)=>{\n            console.log(\"\\uD83D\\uDD27 Connection failed, creating fallback socket\");\n            console.log(\"\\uD83D\\uDD27 Connection error:\", error);\n            socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, connectionOptions);\n            // Add immediate debug listeners for fallback\n            socket.on(\"connect\", ()=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket connected\");\n            });\n            socket.on(\"disconnect\", (reason)=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket disconnected:\", reason);\n            });\n            socket.on(\"connect_error\", (error)=>{\n                console.log(\"\\uD83D\\uDD27 Catch fallback socket connect error:\", error.message);\n            });\n            setupSocketListeners(token);\n            // Wait for fallback socket to be connected\n            const waitForFallback = ()=>{\n                if (socket && socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Fallback socket connected, resolving...\");\n                    isConnecting = false;\n                    resolve(socket);\n                } else {\n                    console.log(\"\\uD83D\\uDD27 Waiting for fallback socket to be connected...\");\n                    setTimeout(waitForFallback, 100);\n                }\n            };\n            waitForFallback();\n        });\n    });\n    return connectionPromise;\n};\n// Setup socket listeners\nconst setupSocketListeners = (token)=>{\n    if (!socket) return;\n    // Add debug logs\n    socket.on(\"connect\", ()=>{\n        console.log(\" WebSocket connected successfully\");\n        console.log(\"\\uD83D\\uDD0D Socket ID:\", socket?.id);\n        console.log(\"\\uD83D\\uDD0D Socket URL:\", SOCKET_BASE_URL);\n        console.log(\"\\uD83D\\uDD0D Socket transport:\", socket?.io?.engine?.transport?.name);\n        console.log(\"\\uD83D\\uDD0D Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        console.log(\"\\uD83D\\uDD0D Token present:\", !!token);\n        console.log(\"\\uD83D\\uDD0D Socket connected state:\", socket?.connected);\n        console.log(\"\\uD83D\\uDD0D Socket io engine:\", socket?.io?.engine?.readyState);\n        // Check JWT token expiration\n        if (token) {\n            try {\n                const payload = JSON.parse(atob(token.split(\".\")[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const exp = payload.exp;\n                console.log(\"\\uD83D\\uDD0D JWT Token expires at:\", new Date(exp * 1000));\n                console.log(\"\\uD83D\\uDD0D Current time:\", new Date(now * 1000));\n                console.log(\"\\uD83D\\uDD0D Token valid for:\", Math.floor((exp - now) / 60), \"minutes\");\n                if (exp < now) {\n                    console.error(\" JWT Token expired!\");\n                    socket?.disconnect();\n                    return;\n                }\n            } catch (error) {\n                console.error(\" JWT Token invalid:\", error);\n            }\n        }\n        // Emit a test event to verify connection\n        socket?.emit(\"test-connection\", {\n            platform: isWeb ? \"web\" : \"mobile\",\n            timestamp: Date.now()\n        });\n    // Don't auto-join conversation - let Chat component handle this\n    });\n    socket.on(\"disconnect\", (reason)=>{\n        console.log(\" WebSocket disconnected, reason:\", reason);\n        console.log(\" Socket ID before disconnect:\", socket?.id);\n        console.log(\" Socket connected state before disconnect:\", socket?.connected);\n        console.log(\" Socket transport before disconnect:\", socket?.io?.engine?.transport?.name);\n        // Don't auto-reconnect for client disconnect to avoid loops\n        if (reason === \"io client disconnect\") {\n            console.log(\"\\uD83D\\uDD0D Client initiated disconnect - not auto-reconnecting to avoid loops\");\n            return;\n        }\n        // Auto-reconnect for server disconnect\n        console.log(\"\\uD83D\\uDD27 Auto-reconnecting for server disconnect...\");\n        setTimeout(()=>{\n            if (socket && !socket.connected) {\n                console.log(\"\\uD83D\\uDD27 Attempting reconnection...\");\n                socket.connect();\n            }\n        }, 2000);\n    });\n    socket.on(\"connect_error\", (error)=>{\n        console.log(\" WebSocket connection error:\", error);\n        console.log(\" Error details:\", error.message);\n        console.log(\" Platform:\", isWeb ? \"Web\" : \"Mobile\");\n        console.log(\" Transport:\", socket?.io?.engine?.transport?.name);\n        // Mobile-specific error handling\n        if (!isWeb) {\n            console.log(\"\\uD83D\\uDD27 Mobile: Attempting alternative connection...\");\n            // Try to reconnect with different options\n            setTimeout(()=>{\n                if (socket && !socket.connected) {\n                    console.log(\"\\uD83D\\uDD27 Mobile: Force reconnection...\");\n                    socket.connect();\n                }\n            }, 2000);\n        }\n    });\n    // Add periodic connection check\n    setInterval(()=>{\n        console.log(\"\\uD83D\\uDD0D Socket status check:\", {\n            connected: socket?.connected,\n            id: socket?.id,\n            transport: socket?.io?.engine?.transport?.name,\n            platform: isWeb ? \"Web\" : \"Mobile\"\n        });\n        // Mobile-specific: Force reconnection if disconnected\n        if (!isWeb && socket && !socket.connected) {\n            console.log(\"\\uD83D\\uDD27 Mobile: Socket disconnected, attempting reconnection...\");\n            socket.connect();\n        }\n        // Check token expiration and refresh if needed\n        if (token) {\n            try {\n                const payload = JSON.parse(atob(token.split(\".\")[1]));\n                const now = Math.floor(Date.now() / 1000);\n                const exp = payload.exp;\n                // If token expires in less than 5 minutes, warn user\n                if (exp - now < 300) {\n                    console.warn(\" JWT Token expires soon:\", Math.floor((exp - now) / 60), \"minutes\");\n                    console.warn(\" Consider refreshing token to maintain connection\");\n                    // If token expires in less than 2 minutes, warn but don't disconnect\n                    if (exp - now < 120) {\n                        console.warn(\" Token expires very soon, but keeping connection alive\");\n                        console.warn(\" Consider refreshing token in the background\");\n                    }\n                }\n            } catch (error) {\n                console.error(\" JWT Token invalid:\", error);\n            }\n        }\n    }, 10000); // Check every 10 seconds\n    // Add event listener debug\n    const originalEmit = socket.emit;\n    socket.emit = function(event, ...args) {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Emitting event:\", event, args);\n        return originalEmit.call(this, event, ...args);\n    };\n    // Track disconnect calls\n    const originalDisconnect = socket.disconnect;\n    socket.disconnect = function() {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Disconnect called\");\n        console.trace(\"\\uD83D\\uDD0D [SOCKET] Disconnect call stack:\");\n        return originalDisconnect.call(this);\n    };\n    const originalOn = socket.on;\n    socket.on = function(event, listener) {\n        console.log(\"\\uD83D\\uDD0D [SOCKET] Setting up listener for event:\", event);\n        return originalOn.call(this, event, listener);\n    };\n    // Listen for any events to debug\n    socket.onAny((event, ...args)=>{\n        console.log(\"\\uD83D\\uDD0D Socket received event:\", event, args);\n    });\n    // Add more debug listeners\n    socket.on(\"connect_error\", (error)=>{\n        console.log(\" Socket connect_error:\", error);\n    });\n    socket.on(\"error\", (error)=>{\n        console.log(\" Socket error:\", error);\n    });\n    socket.on(\"reconnect\", (attemptNumber)=>{\n        console.log(\" Socket reconnected after\", attemptNumber, \"attempts\");\n    });\n    socket.on(\"reconnect_attempt\", (attemptNumber)=>{\n        console.log(\"\\uD83D\\uDD27 Socket reconnection attempt:\", attemptNumber);\n    });\n    socket.on(\"reconnect_error\", (error)=>{\n        console.log(\" Socket reconnection error:\", error);\n    });\n    socket.on(\"reconnect_failed\", ()=>{\n        console.log(\" Socket reconnection failed\");\n    });\n};\n// Lazy getter for socket - for web we create the connection on first use\nconst getSocket = ()=>{\n    if (socket) return socket;\n    if (!isWeb || \"undefined\" === \"undefined\") {\n        console.warn(\" getSocket called in non-web environment without existing socket\");\n        return socket;\n    }\n    // Try to read token from localStorage (kept in sync with api.ts)\n    let token = \"\";\n    try {\n        token = window.localStorage.getItem(\"auth_token\") || \"\";\n    } catch (err) {\n        console.warn(\" Unable to read auth_token from localStorage for socket auth\", err);\n    }\n    console.log(\"\\uD83D\\uDD27 Creating socket from getSocket()\", {\n        hasToken: !!token,\n        url: SOCKET_BASE_URL\n    });\n    // Simple, synchronous socket creation for web\n    socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(SOCKET_BASE_URL, {\n        transports: [\n            \"polling\"\n        ],\n        upgrade: false,\n        timeout: 10000,\n        withCredentials: true,\n        auth: {\n            token\n        },\n        path: \"/socket.io\",\n        forceNew: true,\n        rememberUpgrade: false,\n        autoConnect: true\n    });\n    setupSocketListeners(token);\n    return socket;\n};\nconst disconnectSocket = ()=>{\n    if (socket) {\n        socket.disconnect();\n        socket = null;\n    }\n    isConnecting = false;\n};\nconst reconnectSocket = (token)=>{\n    console.log(\"\\uD83D\\uDD27 Force reconnecting socket with new token...\");\n    disconnectSocket();\n    return connectSocket(token);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHlFQUF5RTtBQUNsRSxNQUFNNEUsWUFBWTtJQUN4QixJQUFJeEUsUUFBUSxPQUFPQTtJQUVuQixJQUFJLENBQUNaLFNBQVMsZ0JBQWtCLGFBQWE7UUFDNUNPLFFBQVFrRSxJQUFJLENBQUM7UUFDYixPQUFPN0Q7SUFDUjtJQUVBLGlFQUFpRTtJQUNqRSxJQUFJSSxRQUFRO0lBQ1osSUFBSTtRQUNIQSxRQUFRZCxPQUFPbUYsWUFBWSxDQUFDQyxPQUFPLENBQUMsaUJBQWlCO0lBQ3RELEVBQUUsT0FBT0MsS0FBSztRQUNiaEYsUUFBUWtFLElBQUksQ0FBQyxrRUFBa0VjO0lBQ2hGO0lBRUFoRixRQUFRQyxHQUFHLENBQUMsaURBQXVDO1FBQ2xEZ0YsVUFBVSxDQUFDLENBQUN4RTtRQUNaUyxLQUFLbkI7SUFDTjtJQUVBLDhDQUE4QztJQUM5Q00sU0FBU2Isb0RBQUVBLENBQUNPLGlCQUFpQjtRQUM1QnNCLFlBQVk7WUFBQztTQUFVO1FBQ3ZCQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVE0saUJBQWlCO1FBQ2pCTCxNQUFNO1lBQUVmO1FBQU07UUFDZGdCLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxpQkFBaUI7UUFDakJDLGFBQWE7SUFDZDtJQUVBaUIscUJBQXFCcEM7SUFDckIsT0FBT0o7QUFDUixFQUFFO0FBRUssTUFBTTZFLG1CQUFtQjtJQUMvQixJQUFJN0UsUUFBUTtRQUNYQSxPQUFPTyxVQUFVO1FBQ2pCUCxTQUFTO0lBQ1Y7SUFDQUMsZUFBZTtBQUNoQixFQUFFO0FBRUssTUFBTTZFLGtCQUFrQixDQUFDMUU7SUFDL0JULFFBQVFDLEdBQUcsQ0FBQztJQUNaaUY7SUFDQSxPQUFPMUUsY0FBY0M7QUFDdEIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zb2NrZXQudHM/ZTAyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5cbi8vIFNpbXBsaWZpZWQgc29ja2V0IGNvbmZpZ3VyYXRpb24gLSBhbHdheXMgdXNlIFZQUyBzZXJ2ZXJcbmNvbnN0IGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4vLyBDaGVjayBpZiB1c2luZyBuZ3JvayB0dW5uZWxcbmNvbnN0IGlzTmdyb2sgPSBpc1dlYiAmJiB3aW5kb3c/LmxvY2F0aW9uPy5ob3N0bmFtZSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoJ25ncm9rJyk7XG4vLyBVc2UgSFRUUCBmb3Igbm93IHNpbmNlIGJhY2tlbmQgZG9lc24ndCBzdXBwb3J0IEhUVFBTL1dTU1xuY29uc3QgU09DS0VUX0JBU0VfVVJMID0gJ2h0dHBzOi8vYmFja2VuZDM2LmRldic7XG5cbmNvbnNvbGUubG9nKCfwn5SNIFBsYXRmb3JtIGRldGVjdGlvbjonLCB7IGlzV2ViIH0pO1xuY29uc29sZS5sb2coJ/CflI0gU29ja2V0IFVSTDonLCBTT0NLRVRfQkFTRV9VUkwpO1xuY29uc29sZS5sb2coJ/CflI0gQXBwIFZlcnNpb246IDEuMS4wJyk7XG5jb25zb2xlLmxvZygn8J+UjSBCdWlsZCBOdW1iZXI6IDAxNycpO1xuY29uc29sZS5sb2coJ/CflI0gQ2FjaGUgYnVzdGluZyB0aW1lc3RhbXA6JywgRGF0ZS5ub3coKSk7XG5jb25zb2xlLmxvZygn8J+UjSBGb3JjZSByZWZyZXNoIHJlcXVpcmVkIC0gY2xlYXIgYnJvd3NlciBjYWNoZSEnKTtcbmNvbnNvbGUubG9nKCfwn5SNIEN1cnJlbnQgVVJMOicsIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdz8ubG9jYXRpb24gPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6ICdOL0EnKTtcblxubGV0IHNvY2tldDogU29ja2V0IHwgbnVsbCA9IG51bGw7XG5sZXQgaXNDb25uZWN0aW5nID0gZmFsc2U7XG5sZXQgY29ubmVjdGlvblByb21pc2U6IFByb21pc2U8U29ja2V0IHwgbnVsbD4gfCBudWxsID0gbnVsbDtcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuLy8gV0VCU09DS0VUIENPTk5FQ1RJT04gLSBUQ1AtYmFzZWQsIEZ1bGwtRHVwbGV4XG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbmV4cG9ydCBjb25zdCBjb25uZWN0U29ja2V0ID0gKHRva2VuOiBzdHJpbmcpID0+IHtcblx0aWYgKHNvY2tldD8uY29ubmVjdGVkKSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IGFscmVhZHkgY29ubmVjdGVkLCByZXR1cm5pbmcgZXhpc3Rpbmcgc29ja2V0Jyk7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gQ3VycmVudCBzb2NrZXQgSUQ6Jywgc29ja2V0LmlkKTtcblx0XHRyZXR1cm4gc29ja2V0O1xuXHR9XG5cdFxuXHRpZiAoaXNDb25uZWN0aW5nICYmIGNvbm5lY3Rpb25Qcm9taXNlKSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgd2FpdGluZy4uLicpO1xuXHRcdHJldHVybiBjb25uZWN0aW9uUHJvbWlzZTtcblx0fVxuXHRcblx0Ly8gQ2xlYXIgYW55IGV4aXN0aW5nIHNvY2tldCBiZWZvcmUgY3JlYXRpbmcgbmV3IG9uZVxuXHRpZiAoc29ja2V0KSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflKcgQ2xlYXJpbmcgZXhpc3Rpbmcgc29ja2V0IGJlZm9yZSBjcmVhdGluZyBuZXcgb25lJyk7XG5cdFx0c29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRzb2NrZXQgPSBudWxsO1xuXHR9XG5cdFxuXHRpc0Nvbm5lY3RpbmcgPSB0cnVlO1xuXHRcblx0Ly8gQ3JlYXRlIGNvbm5lY3Rpb24gcHJvbWlzZSB0byBhdm9pZCBtdWx0aXBsZSBzaW11bHRhbmVvdXMgY29ubmVjdGlvbnNcblx0Y29ubmVjdGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuXHRjb25zb2xlLmxvZygn8J+UjSBDcmVhdGluZyBuZXcgc29ja2V0IGNvbm5lY3Rpb24gdG86JywgU09DS0VUX0JBU0VfVVJMIHx8ICdzYW1lLW9yaWdpbicpO1xuXHRjb25zb2xlLmxvZygn8J+UjSBVc2luZyB0b2tlbjonLCB0b2tlbiA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyk7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gUGxhdGZvcm06JywgaXNXZWIgPyAnV2ViJyA6ICdNb2JpbGUnKTtcblx0XG5cdC8vIENsZWFyIGFueSBleGlzdGluZyBzb2NrZXQgZmlyc3QgKGJvdGggd2ViIGFuZCBtb2JpbGUpXG5cdGlmIChzb2NrZXQpIHtcblx0XHRjb25zb2xlLmxvZygn8J+UpyBDbGVhcmluZyBleGlzdGluZyBzb2NrZXQgYmVmb3JlIGNyZWF0aW5nIG5ldyBjb25uZWN0aW9uJyk7XG5cdFx0c29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRzb2NrZXQgPSBudWxsO1xuXHR9XG5cdFxuXHQvLyBUcnkgdG8gY29ubmVjdCB3aXRoIHJldHJ5IGxvZ2ljXG5cdGxldCBjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuXHRjb25zdCBtYXhBdHRlbXB0cyA9IDM7XG5cdFxuXHRjb25zdCB0cnlDb25uZWN0ID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdFx0Y29ubmVjdGlvbkF0dGVtcHRzKys7XG5cdFx0Y29uc29sZS5sb2coYPCflKcgQ29ubmVjdGlvbiBhdHRlbXB0ICR7Y29ubmVjdGlvbkF0dGVtcHRzfS8ke21heEF0dGVtcHRzfSB0bzpgLCB1cmwpO1xuXHRcdFx0XHQvLyDwn4+X77iPIFNPQ0tFVCBU4bqgTyDhu54gxJDDglkgLSBM4bqnbiB0aOG7rSBjb25uZWN0XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHRlc3RTb2NrZXQgPSBpbyh1cmwsIHtcblx0XHRcdHRyYW5zcG9ydHM6IGlzV2ViID8gWydwb2xsaW5nJ10gOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXG5cdFx0XHR1cGdyYWRlOiBpc1dlYiA/IGZhbHNlIDogdHJ1ZSxcblx0XHRcdHRpbWVvdXQ6IDEwMDAwLFxuXHRcdFx0YXV0aDogeyB0b2tlbiB9LFxuXHRcdFx0cGF0aDogJy9zb2NrZXQuaW8nLFxuXHRcdFx0Ly8gQWRkIGRlYnVnIG9wdGlvbnNcblx0XHRcdGZvcmNlTmV3OiB0cnVlLFxuXHRcdFx0cmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcblx0XHRcdC8vIEFkZCBjb25uZWN0aW9uIGRlYnVnZ2luZ1xuXHRcdFx0YXV0b0Nvbm5lY3Q6IHRydWUsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gQWRkIGRlYnVnIGxpc3RlbmVycyB0byB0ZXN0IHNvY2tldFxuXHRcdHRlc3RTb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UpyBUZXN0IHNvY2tldCBjb25uZWN0ZWQgdG86JywgdXJsKTtcblx0XHR9KTtcblx0XHRcblx0XHR0ZXN0U29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKHJlYXNvbikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgVGVzdCBzb2NrZXQgZGlzY29ubmVjdGVkIGZyb206JywgdXJsLCAncmVhc29uOicsIHJlYXNvbik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0dGVzdFNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgVGVzdCBzb2NrZXQgY29ubmVjdCBlcnJvcjonLCB1cmwsIGVycm9yLm1lc3NhZ2UpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIEhhbmRsZSBjb25uZWN0aW9uIHN1Y2Nlc3Ncblx0XHR0ZXN0U29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KchSBDb25uZWN0aW9uIHN1Y2Nlc3NmdWwgdG86JywgdXJsKTtcblx0XHRcdC8vIERvbid0IGRpc2Nvbm5lY3QgdGhlIHRlc3Qgc29ja2V0IC0gdXNlIGl0IGFzIHRoZSBtYWluIHNvY2tldFxuXHRcdFx0cmVzb2x2ZSh0ZXN0U29ja2V0IGFzIFNvY2tldCk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gSGFuZGxlIGNvbm5lY3Rpb24gZXJyb3Jcblx0XHR0ZXN0U29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygn4p2MIENvbm5lY3Rpb24gZmFpbGVkIHRvOicsIHVybCwgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHR0ZXN0U29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gVGltZW91dCBhZnRlciAxMCBzZWNvbmRzIC0gb25seSBpZiBub3QgY29ubmVjdGVkXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRpZiAoIXRlc3RTb2NrZXQuY29ubmVjdGVkKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfij7AgQ29ubmVjdGlvbiB0aW1lb3V0IHRvOicsIHVybCk7XG5cdFx0XHRcdHRlc3RTb2NrZXQuZGlzY29ubmVjdCgpO1xuXHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCdDb25uZWN0aW9uIHRpbWVvdXQnKSk7XG5cdFx0XHR9XG5cdFx0fSwgMTAwMDApO1xuXHRcdH0pO1xuXHR9O1xuXHRcblx0XHQvLyBTaW1wbGUgY29ubmVjdGlvbiB0byBWUFMgc2VydmVyXG5cdFx0Y29uc3QgY29ubmVjdFRvU2VydmVyID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc29sZS5sb2coYPCflKcgQ29ubmVjdGluZyB0bzogJHtTT0NLRVRfQkFTRV9VUkx9YCk7XG5cdFx0XHRcdHNvY2tldCA9IGF3YWl0IHRyeUNvbm5lY3QoU09DS0VUX0JBU0VfVVJMKSBhcyBTb2NrZXQ7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfinIUgU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0bzonLCBTT0NLRVRfQkFTRV9VUkwpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjb25uZWN0IHRvIHNlcnZlcjonLCBlcnJvcik7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBCYWNrZW5kIHNlcnZlciBtYXkgYmUgZG93biBvciB1bnJlYWNoYWJsZScpO1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCfinYwgUGxlYXNlIGNoZWNrIGlmIGJhY2tlbmQgc2VydmVyIGlzIHJ1bm5pbmcnKTtcblx0XHRcdFx0XHRcdC8vIPCfj5fvuI8gU09DS0VUIFThuqBPIOG7niDEkMOCWSAtIEZhbGxiYWNrIGtoaSB0cnlDb25uZWN0KCkgZmFpbFxuXG5cdFx0XHRcdC8vIENyZWF0ZSBhIGZhbGxiYWNrIHNvY2tldCB3aXRoIE5ldGxpZnktY29tcGF0aWJsZSBzZXR0aW5nc1xuXHRcdFx0XHRzb2NrZXQgPSBpbyhTT0NLRVRfQkFTRV9VUkwsIHtcblx0XHRcdFx0XHR0cmFuc3BvcnRzOiBpc1dlYiA/IFsncG9sbGluZyddIDogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuXHRcdFx0XHRcdHVwZ3JhZGU6IGlzV2ViID8gZmFsc2UgOiB0cnVlLFxuXHRcdFx0XHRcdHRpbWVvdXQ6IDEwMDAwLFxuXHRcdFx0XHRcdGF1dGg6IHsgdG9rZW4gfSxcblx0XHRcdFx0XHRwYXRoOiAnL3NvY2tldC5pbycsXG5cdFx0XHRcdFx0Ly8gTmV0bGlmeS1zcGVjaWZpYyBvcHRpb25zXG5cdFx0XHRcdFx0Zm9yY2VOZXc6IHRydWUsXG5cdFx0XHRcdFx0cmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcblx0XHRcdFx0XHRhdXRvQ29ubmVjdDogdHJ1ZSxcblx0XHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdC8vIFRyeSBtdWx0aXBsZSBjb25uZWN0aW9uIHN0cmF0ZWdpZXNcblx0XHRjb25zdCBjb25uZWN0aW9uT3B0aW9ucyA9IHtcblx0XHRcdC8vIFVzZSBwb2xsaW5nIGZpcnN0IGZvciBOZXRsaWZ5IHRvIGF2b2lkIE1peGVkIENvbnRlbnQgRXJyb3Jcblx0XHRcdHRyYW5zcG9ydHM6IGlzV2ViID8gWydwb2xsaW5nJ10gOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXG5cdFx0XHR1cGdyYWRlOiBpc1dlYiA/IGZhbHNlIDogdHJ1ZSxcblx0XHRcdHJlY29ubmVjdGlvbjogdHJ1ZSxcblx0XHRcdHJlY29ubmVjdGlvbkF0dGVtcHRzOiAxNSxcblx0XHRcdHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuXHRcdFx0cmVjb25uZWN0aW9uRGVsYXlNYXg6IDE1MDAwLFxuXHRcdFx0dGltZW91dDogMzAwMDAsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG5cdFx0XHRhdXRoOiB7IHRva2VuIH0sXG5cdFx0XHRwYXRoOiAnL3NvY2tldC5pbycsXG5cdFx0XHQvLyBBZGQgZXh0cmEgb3B0aW9ucyBmb3IgYmV0dGVyIGNvbm5lY3Rpb25cblx0XHRcdGZvcmNlTmV3OiB0cnVlLFxuXHRcdFx0cmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcblx0XHRcdC8vIEFkZCBleHRyYSBvcHRpb25zIGZvciBiZXR0ZXIgcmVsaWFiaWxpdHlcblx0XHRcdGF1dG9Db25uZWN0OiB0cnVlLFxuXHRcdFx0cmVjb25uZWN0aW9uRGVsYXlGYWN0b3I6IDEuNSxcblx0XHRcdG1heFJlY29ubmVjdGlvbkF0dGVtcHRzOiAxNSxcblx0XHR9O1xuXHRcblx0XHQvLyBDb25uZWN0IHRvIFZQUyBzZXJ2ZXJcblx0XHRcdFx0Ly8g8J+Pl++4jyBTT0NLRVQgVOG6oE8g4bueIMSQw4JZIC0gRmFsbGJhY2sgbuG6v3Uga2jDtG5nIGPDsyBzb2NrZXRcblxuXHRcdGNvbm5lY3RUb1NlcnZlcigpLnRoZW4oKCkgPT4ge1xuXHRcdFx0aWYgKCFzb2NrZXQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ3JlYXRpbmcgZmFsbGJhY2sgc29ja2V0IGNvbm5lY3Rpb24nKTtcblx0XHRcdFx0c29ja2V0ID0gaW8oU09DS0VUX0JBU0VfVVJMLCBjb25uZWN0aW9uT3B0aW9ucyk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBBZGQgaW1tZWRpYXRlIGRlYnVnIGxpc3RlbmVyc1xuXHRcdFx0XHRzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgRmFsbGJhY2sgc29ja2V0IGNvbm5lY3RlZCcpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn8J+UpyBGYWxsYmFjayBzb2NrZXQgZGlzY29ubmVjdGVkOicsIHJlYXNvbik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0c29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgRmFsbGJhY2sgc29ja2V0IGNvbm5lY3QgZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0c2V0dXBTb2NrZXRMaXN0ZW5lcnModG9rZW4pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgU29ja2V0IGFscmVhZHkgY29ubmVjdGVkLCBzZXR0aW5nIHVwIGxpc3RlbmVycycpO1xuXHRcdFx0XHRzZXR1cFNvY2tldExpc3RlbmVycyh0b2tlbik7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFdhaXQgZm9yIHNvY2tldCB0byBiZSBmdWxseSBjb25uZWN0ZWRcblx0XHRcdGNvbnN0IHdhaXRGb3JDb25uZWN0aW9uID0gKCkgPT4ge1xuXHRcdFx0XHRpZiAoc29ja2V0ICYmIHNvY2tldC5jb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn8J+UpyBTb2NrZXQgZnVsbHkgY29ubmVjdGVkLCByZXNvbHZpbmcuLi4nKTtcblx0XHRcdFx0XHRpc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXNvbHZlKHNvY2tldCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgV2FpdGluZyBmb3Igc29ja2V0IHRvIGJlIGZ1bGx5IGNvbm5lY3RlZC4uLicpO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQod2FpdEZvckNvbm5lY3Rpb24sIDEwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR3YWl0Rm9yQ29ubmVjdGlvbigpO1xuXHRcdH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ29ubmVjdGlvbiBmYWlsZWQsIGNyZWF0aW5nIGZhbGxiYWNrIHNvY2tldCcpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG5cdFx0XHRzb2NrZXQgPSBpbyhTT0NLRVRfQkFTRV9VUkwsIGNvbm5lY3Rpb25PcHRpb25zKTtcblx0XHRcdFxuXHRcdFx0Ly8gQWRkIGltbWVkaWF0ZSBkZWJ1ZyBsaXN0ZW5lcnMgZm9yIGZhbGxiYWNrXG5cdFx0XHRzb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIENhdGNoIGZhbGxiYWNrIHNvY2tldCBjb25uZWN0ZWQnKTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAocmVhc29uKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIENhdGNoIGZhbGxiYWNrIHNvY2tldCBkaXNjb25uZWN0ZWQ6JywgcmVhc29uKTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQ2F0Y2ggZmFsbGJhY2sgc29ja2V0IGNvbm5lY3QgZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0c2V0dXBTb2NrZXRMaXN0ZW5lcnModG9rZW4pO1xuXHRcdFx0XG5cdFx0XHQvLyBXYWl0IGZvciBmYWxsYmFjayBzb2NrZXQgdG8gYmUgY29ubmVjdGVkXG5cdFx0XHRjb25zdCB3YWl0Rm9yRmFsbGJhY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGlmIChzb2NrZXQgJiYgc29ja2V0LmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIEZhbGxiYWNrIHNvY2tldCBjb25uZWN0ZWQsIHJlc29sdmluZy4uLicpO1xuXHRcdFx0XHRcdGlzQ29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdHJlc29sdmUoc29ja2V0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn8J+UpyBXYWl0aW5nIGZvciBmYWxsYmFjayBzb2NrZXQgdG8gYmUgY29ubmVjdGVkLi4uJyk7XG5cdFx0XHRcdFx0c2V0VGltZW91dCh3YWl0Rm9yRmFsbGJhY2ssIDEwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR3YWl0Rm9yRmFsbGJhY2soKTtcblx0XHR9KTtcblx0fSk7XG5cdFxuXHRyZXR1cm4gY29ubmVjdGlvblByb21pc2U7XG59O1xuXG4vLyBTZXR1cCBzb2NrZXQgbGlzdGVuZXJzXG5jb25zdCBzZXR1cFNvY2tldExpc3RlbmVycyA9ICh0b2tlbjogc3RyaW5nKSA9PiB7XG5cdFx0aWYgKCFzb2NrZXQpIHJldHVybjtcblx0XG5cdC8vIEFkZCBkZWJ1ZyBsb2dzXG5cdHNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygn4pyFIFdlYlNvY2tldCBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IElEOicsIHNvY2tldD8uaWQpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IFVSTDonLCBTT0NLRVRfQkFTRV9VUkwpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IHRyYW5zcG9ydDonLCBzb2NrZXQ/LmlvPy5lbmdpbmU/LnRyYW5zcG9ydD8ubmFtZSk7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UjSBQbGF0Zm9ybTonLCBpc1dlYiA/ICdXZWInIDogJ01vYmlsZScpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gVG9rZW4gcHJlc2VudDonLCAhIXRva2VuKTtcblx0XHRcdGNvbnNvbGUubG9nKCfwn5SNIFNvY2tldCBjb25uZWN0ZWQgc3RhdGU6Jywgc29ja2V0Py5jb25uZWN0ZWQpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IGlvIGVuZ2luZTonLCBzb2NrZXQ/LmlvPy5lbmdpbmU/LnJlYWR5U3RhdGUpO1xuXHRcdFx0XG5cdFx0XHQvLyBDaGVjayBKV1QgdG9rZW4gZXhwaXJhdGlvblxuXHRcdFx0aWYgKHRva2VuKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XG5cdFx0XHRcdFx0Y29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cdFx0XHRcdFx0Y29uc3QgZXhwID0gcGF5bG9hZC5leHA7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflI0gSldUIFRva2VuIGV4cGlyZXMgYXQ6JywgbmV3IERhdGUoZXhwICogMTAwMCkpO1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SNIEN1cnJlbnQgdGltZTonLCBuZXcgRGF0ZShub3cgKiAxMDAwKSk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ/CflI0gVG9rZW4gdmFsaWQgZm9yOicsIE1hdGguZmxvb3IoKGV4cCAtIG5vdykgLyA2MCksICdtaW51dGVzJyk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKGV4cCA8IG5vdykge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEpXVCBUb2tlbiBleHBpcmVkIScpO1xuXHRcdFx0XHRcdFx0c29ja2V0Py5kaXNjb25uZWN0KCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBKV1QgVG9rZW4gaW52YWxpZDonLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gRW1pdCBhIHRlc3QgZXZlbnQgdG8gdmVyaWZ5IGNvbm5lY3Rpb25cblx0XHRcdHNvY2tldD8uZW1pdCgndGVzdC1jb25uZWN0aW9uJywgeyBcblx0XHRcdFx0cGxhdGZvcm06IGlzV2ViID8gJ3dlYicgOiAnbW9iaWxlJyxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gRG9uJ3QgYXV0by1qb2luIGNvbnZlcnNhdGlvbiAtIGxldCBDaGF0IGNvbXBvbmVudCBoYW5kbGUgdGhpc1xuXHR9KTtcblx0XG5cdHNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcblx0XHRjb25zb2xlLmxvZygn4p2MIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQsIHJlYXNvbjonLCByZWFzb24pO1xuXHRcdGNvbnNvbGUubG9nKCfinYwgU29ja2V0IElEIGJlZm9yZSBkaXNjb25uZWN0OicsIHNvY2tldD8uaWQpO1xuXHRcdGNvbnNvbGUubG9nKCfinYwgU29ja2V0IGNvbm5lY3RlZCBzdGF0ZSBiZWZvcmUgZGlzY29ubmVjdDonLCBzb2NrZXQ/LmNvbm5lY3RlZCk7XG5cdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgdHJhbnNwb3J0IGJlZm9yZSBkaXNjb25uZWN0OicsIHNvY2tldD8uaW8/LmVuZ2luZT8udHJhbnNwb3J0Py5uYW1lKTtcblx0XHRcblx0Ly8gRG9uJ3QgYXV0by1yZWNvbm5lY3QgZm9yIGNsaWVudCBkaXNjb25uZWN0IHRvIGF2b2lkIGxvb3BzXG5cdGlmIChyZWFzb24gPT09ICdpbyBjbGllbnQgZGlzY29ubmVjdCcpIHtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBDbGllbnQgaW5pdGlhdGVkIGRpc2Nvbm5lY3QgLSBub3QgYXV0by1yZWNvbm5lY3RpbmcgdG8gYXZvaWQgbG9vcHMnKTtcblx0XHRyZXR1cm47XG5cdH1cblx0XG5cdC8vIEF1dG8tcmVjb25uZWN0IGZvciBzZXJ2ZXIgZGlzY29ubmVjdFxuXHRjb25zb2xlLmxvZygn8J+UpyBBdXRvLXJlY29ubmVjdGluZyBmb3Igc2VydmVyIGRpc2Nvbm5lY3QuLi4nKTtcblx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0aWYgKHNvY2tldCAmJiAhc29ja2V0LmNvbm5lY3RlZCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflKcgQXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uLi4nKTtcblx0XHRcdHNvY2tldC5jb25uZWN0KCk7XG5cdFx0fVxuXHR9LCAyMDAwKTtcblx0fSk7XG5cdFxuXHRzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRjb25zb2xlLmxvZygn4p2MIFdlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKTtcblx0XHRjb25zb2xlLmxvZygn4p2MIEVycm9yIGRldGFpbHM6JywgZXJyb3IubWVzc2FnZSk7XG5cdFx0Y29uc29sZS5sb2coJ+KdjCBQbGF0Zm9ybTonLCBpc1dlYiA/ICdXZWInIDogJ01vYmlsZScpO1xuXHRcdGNvbnNvbGUubG9nKCfinYwgVHJhbnNwb3J0OicsIHNvY2tldD8uaW8/LmVuZ2luZT8udHJhbnNwb3J0Py5uYW1lKTtcblx0XHRcblx0XHQvLyBNb2JpbGUtc3BlY2lmaWMgZXJyb3IgaGFuZGxpbmdcblx0XHRpZiAoIWlzV2ViKSB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UpyBNb2JpbGU6IEF0dGVtcHRpbmcgYWx0ZXJuYXRpdmUgY29ubmVjdGlvbi4uLicpO1xuXHRcdFx0Ly8gVHJ5IHRvIHJlY29ubmVjdCB3aXRoIGRpZmZlcmVudCBvcHRpb25zXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0aWYgKHNvY2tldCAmJiAhc29ja2V0LmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIE1vYmlsZTogRm9yY2UgcmVjb25uZWN0aW9uLi4uJyk7XG5cdFx0XHRcdFx0c29ja2V0LmNvbm5lY3QoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMjAwMCk7XG5cdFx0fVxuXHR9KTtcblx0XG5cdC8vIEFkZCBwZXJpb2RpYyBjb25uZWN0aW9uIGNoZWNrXG5cdHNldEludGVydmFsKCgpID0+IHtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBTb2NrZXQgc3RhdHVzIGNoZWNrOicsIHtcblx0XHRcdGNvbm5lY3RlZDogc29ja2V0Py5jb25uZWN0ZWQsXG5cdFx0XHRpZDogc29ja2V0Py5pZCxcblx0XHRcdHRyYW5zcG9ydDogc29ja2V0Py5pbz8uZW5naW5lPy50cmFuc3BvcnQ/Lm5hbWUsXG5cdFx0XHRwbGF0Zm9ybTogaXNXZWIgPyAnV2ViJyA6ICdNb2JpbGUnXG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gTW9iaWxlLXNwZWNpZmljOiBGb3JjZSByZWNvbm5lY3Rpb24gaWYgZGlzY29ubmVjdGVkXG5cdFx0aWYgKCFpc1dlYiAmJiBzb2NrZXQgJiYgIXNvY2tldC5jb25uZWN0ZWQpIHtcblx0XHRcdGNvbnNvbGUubG9nKCfwn5SnIE1vYmlsZTogU29ja2V0IGRpc2Nvbm5lY3RlZCwgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uLi4nKTtcblx0XHRcdHNvY2tldC5jb25uZWN0KCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIENoZWNrIHRva2VuIGV4cGlyYXRpb24gYW5kIHJlZnJlc2ggaWYgbmVlZGVkXG5cdFx0aWYgKHRva2VuKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcblx0XHRcdFx0Y29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cdFx0XHRcdGNvbnN0IGV4cCA9IHBheWxvYWQuZXhwO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gSWYgdG9rZW4gZXhwaXJlcyBpbiBsZXNzIHRoYW4gNSBtaW51dGVzLCB3YXJuIHVzZXJcblx0XHRcdFx0aWYgKGV4cCAtIG5vdyA8IDMwMCkge1xuXHRcdFx0XHRcdGNvbnNvbGUud2Fybign4pqg77iPIEpXVCBUb2tlbiBleHBpcmVzIHNvb246JywgTWF0aC5mbG9vcigoZXhwIC0gbm93KSAvIDYwKSwgJ21pbnV0ZXMnKTtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ+KaoO+4jyBDb25zaWRlciByZWZyZXNoaW5nIHRva2VuIHRvIG1haW50YWluIGNvbm5lY3Rpb24nKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBJZiB0b2tlbiBleHBpcmVzIGluIGxlc3MgdGhhbiAyIG1pbnV0ZXMsIHdhcm4gYnV0IGRvbid0IGRpc2Nvbm5lY3Rcblx0XHRcdFx0XHRpZiAoZXhwIC0gbm93IDwgMTIwKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ+KaoO+4jyBUb2tlbiBleHBpcmVzIHZlcnkgc29vbiwgYnV0IGtlZXBpbmcgY29ubmVjdGlvbiBhbGl2ZScpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCfimqDvuI8gQ29uc2lkZXIgcmVmcmVzaGluZyB0b2tlbiBpbiB0aGUgYmFja2dyb3VuZCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEpXVCBUb2tlbiBpbnZhbGlkOicsIGVycm9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIDEwMDAwKTsgLy8gQ2hlY2sgZXZlcnkgMTAgc2Vjb25kc1xuXG5cdC8vIEFkZCBldmVudCBsaXN0ZW5lciBkZWJ1Z1xuXHRjb25zdCBvcmlnaW5hbEVtaXQgPSBzb2NrZXQuZW1pdDtcblx0c29ja2V0LmVtaXQgPSBmdW5jdGlvbihldmVudDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xuXHRcdGNvbnNvbGUubG9nKCfwn5SNIFtTT0NLRVRdIEVtaXR0aW5nIGV2ZW50OicsIGV2ZW50LCBhcmdzKTtcblx0XHRyZXR1cm4gb3JpZ2luYWxFbWl0LmNhbGwodGhpcywgZXZlbnQsIC4uLmFyZ3MpO1xuXHR9O1xuXHRcblx0Ly8gVHJhY2sgZGlzY29ubmVjdCBjYWxsc1xuXHRjb25zdCBvcmlnaW5hbERpc2Nvbm5lY3QgPSBzb2NrZXQuZGlzY29ubmVjdDtcblx0c29ja2V0LmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBbU09DS0VUXSBEaXNjb25uZWN0IGNhbGxlZCcpO1xuXHRcdGNvbnNvbGUudHJhY2UoJ/CflI0gW1NPQ0tFVF0gRGlzY29ubmVjdCBjYWxsIHN0YWNrOicpO1xuXHRcdHJldHVybiBvcmlnaW5hbERpc2Nvbm5lY3QuY2FsbCh0aGlzKTtcblx0fTtcblxuXHRjb25zdCBvcmlnaW5hbE9uID0gc29ja2V0Lm9uO1xuXHRzb2NrZXQub24gPSBmdW5jdGlvbihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogYW55KSB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gW1NPQ0tFVF0gU2V0dGluZyB1cCBsaXN0ZW5lciBmb3IgZXZlbnQ6JywgZXZlbnQpO1xuXHRcdHJldHVybiBvcmlnaW5hbE9uLmNhbGwodGhpcywgZXZlbnQsIGxpc3RlbmVyKTtcblx0fTtcblx0XG5cdC8vIExpc3RlbiBmb3IgYW55IGV2ZW50cyB0byBkZWJ1Z1xuXHRzb2NrZXQub25BbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ/CflI0gU29ja2V0IHJlY2VpdmVkIGV2ZW50OicsIGV2ZW50LCBhcmdzKTtcblx0fSk7XG5cdFxuXHRcdC8vIEFkZCBtb3JlIGRlYnVnIGxpc3RlbmVyc1xuXHRcdHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgY29ubmVjdF9lcnJvcjonLCBlcnJvcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdHNvY2tldC5vbigncmVjb25uZWN0JywgKGF0dGVtcHROdW1iZXIpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCfinIUgU29ja2V0IHJlY29ubmVjdGVkIGFmdGVyJywgYXR0ZW1wdE51bWJlciwgJ2F0dGVtcHRzJyk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdyZWNvbm5lY3RfYXR0ZW1wdCcsIChhdHRlbXB0TnVtYmVyKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UpyBTb2NrZXQgcmVjb25uZWN0aW9uIGF0dGVtcHQ6JywgYXR0ZW1wdE51bWJlcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdyZWNvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCfinYwgU29ja2V0IHJlY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG5cdFx0fSk7XG5cdFx0XG5cdFx0c29ja2V0Lm9uKCdyZWNvbm5lY3RfZmFpbGVkJywgKCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ+KdjCBTb2NrZXQgcmVjb25uZWN0aW9uIGZhaWxlZCcpO1xuXHRcdH0pO1xufTtcblxuLy8gTGF6eSBnZXR0ZXIgZm9yIHNvY2tldCAtIGZvciB3ZWIgd2UgY3JlYXRlIHRoZSBjb25uZWN0aW9uIG9uIGZpcnN0IHVzZVxuZXhwb3J0IGNvbnN0IGdldFNvY2tldCA9ICgpID0+IHtcblx0aWYgKHNvY2tldCkgcmV0dXJuIHNvY2tldDtcblxuXHRpZiAoIWlzV2ViIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Y29uc29sZS53YXJuKCfimqDvuI8gZ2V0U29ja2V0IGNhbGxlZCBpbiBub24td2ViIGVudmlyb25tZW50IHdpdGhvdXQgZXhpc3Rpbmcgc29ja2V0Jyk7XG5cdFx0cmV0dXJuIHNvY2tldDtcblx0fVxuXG5cdC8vIFRyeSB0byByZWFkIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlIChrZXB0IGluIHN5bmMgd2l0aCBhcGkudHMpXG5cdGxldCB0b2tlbiA9ICcnO1xuXHR0cnkge1xuXHRcdHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJykgfHwgJyc7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUud2Fybign4pqg77iPIFVuYWJsZSB0byByZWFkIGF1dGhfdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2UgZm9yIHNvY2tldCBhdXRoJywgZXJyKTtcblx0fVxuXG5cdGNvbnNvbGUubG9nKCfwn5SnIENyZWF0aW5nIHNvY2tldCBmcm9tIGdldFNvY2tldCgpJywge1xuXHRcdGhhc1Rva2VuOiAhIXRva2VuLFxuXHRcdHVybDogU09DS0VUX0JBU0VfVVJMLFxuXHR9KTtcblxuXHQvLyBTaW1wbGUsIHN5bmNocm9ub3VzIHNvY2tldCBjcmVhdGlvbiBmb3Igd2ViXG5cdHNvY2tldCA9IGlvKFNPQ0tFVF9CQVNFX1VSTCwge1xuXHRcdHRyYW5zcG9ydHM6IFsncG9sbGluZyddLFxuXHRcdHVwZ3JhZGU6IGZhbHNlLFxuXHRcdHRpbWVvdXQ6IDEwMDAwLFxuXHRcdHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcblx0XHRhdXRoOiB7IHRva2VuIH0sXG5cdFx0cGF0aDogJy9zb2NrZXQuaW8nLFxuXHRcdGZvcmNlTmV3OiB0cnVlLFxuXHRcdHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG5cdFx0YXV0b0Nvbm5lY3Q6IHRydWUsXG5cdH0pO1xuXG5cdHNldHVwU29ja2V0TGlzdGVuZXJzKHRva2VuKTtcblx0cmV0dXJuIHNvY2tldDtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXNjb25uZWN0U29ja2V0ID0gKCkgPT4ge1xuXHRpZiAoc29ja2V0KSB7XG5cdFx0c29ja2V0LmRpc2Nvbm5lY3QoKTtcblx0XHRzb2NrZXQgPSBudWxsO1xuXHR9XG5cdGlzQ29ubmVjdGluZyA9IGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlY29ubmVjdFNvY2tldCA9ICh0b2tlbjogc3RyaW5nKSA9PiB7XG5cdGNvbnNvbGUubG9nKCfwn5SnIEZvcmNlIHJlY29ubmVjdGluZyBzb2NrZXQgd2l0aCBuZXcgdG9rZW4uLi4nKTtcblx0ZGlzY29ubmVjdFNvY2tldCgpO1xuXHRyZXR1cm4gY29ubmVjdFNvY2tldCh0b2tlbik7XG59O1xuXG5cbiJdLCJuYW1lcyI6WyJpbyIsImlzV2ViIiwiaXNOZ3JvayIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJpbmNsdWRlcyIsIlNPQ0tFVF9CQVNFX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJEYXRlIiwibm93IiwiaHJlZiIsInNvY2tldCIsImlzQ29ubmVjdGluZyIsImNvbm5lY3Rpb25Qcm9taXNlIiwiY29ubmVjdFNvY2tldCIsInRva2VuIiwiY29ubmVjdGVkIiwiaWQiLCJkaXNjb25uZWN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb25uZWN0aW9uQXR0ZW1wdHMiLCJtYXhBdHRlbXB0cyIsInRyeUNvbm5lY3QiLCJ1cmwiLCJyZWplY3QiLCJ0ZXN0U29ja2V0IiwidHJhbnNwb3J0cyIsInVwZ3JhZGUiLCJ0aW1lb3V0IiwiYXV0aCIsInBhdGgiLCJmb3JjZU5ldyIsInJlbWVtYmVyVXBncmFkZSIsImF1dG9Db25uZWN0Iiwid2l0aENyZWRlbnRpYWxzIiwib24iLCJyZWFzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJjb25uZWN0VG9TZXJ2ZXIiLCJjb25uZWN0aW9uT3B0aW9ucyIsInJlY29ubmVjdGlvbiIsInJlY29ubmVjdGlvbkF0dGVtcHRzIiwicmVjb25uZWN0aW9uRGVsYXkiLCJyZWNvbm5lY3Rpb25EZWxheU1heCIsInJlY29ubmVjdGlvbkRlbGF5RmFjdG9yIiwibWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJ0aGVuIiwic2V0dXBTb2NrZXRMaXN0ZW5lcnMiLCJ3YWl0Rm9yQ29ubmVjdGlvbiIsImNhdGNoIiwid2FpdEZvckZhbGxiYWNrIiwiZW5naW5lIiwidHJhbnNwb3J0IiwibmFtZSIsInJlYWR5U3RhdGUiLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNwbGl0IiwiTWF0aCIsImZsb29yIiwiZXhwIiwiZW1pdCIsInBsYXRmb3JtIiwidGltZXN0YW1wIiwiY29ubmVjdCIsInNldEludGVydmFsIiwid2FybiIsIm9yaWdpbmFsRW1pdCIsImV2ZW50IiwiYXJncyIsImNhbGwiLCJvcmlnaW5hbERpc2Nvbm5lY3QiLCJ0cmFjZSIsIm9yaWdpbmFsT24iLCJsaXN0ZW5lciIsIm9uQW55IiwiYXR0ZW1wdE51bWJlciIsImdldFNvY2tldCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlcnIiLCJoYXNUb2tlbiIsImRpc2Nvbm5lY3RTb2NrZXQiLCJyZWNvbm5lY3RTb2NrZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/socket.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"485ed1fd4808\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uL2FwcC9nbG9iYWxzLmNzcz85MzJiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNDg1ZWQxZmQ0ODA4XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/call.css":
/*!******************************************!*\
  !*** ../../packages/app/styles/call.css ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"b51bab7970b0\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9jYWxsLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4uLy4uL3BhY2thZ2VzL2FwcC9zdHlsZXMvY2FsbC5jc3M/M2ExOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImI1MWJhYjc5NzBiMFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/call.css\n");

/***/ }),

/***/ "(ssr)/../../packages/app/styles/group-call-grid.css":
/*!*****************************************************!*\
  !*** ../../packages/app/styles/group-call-grid.css ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"439363cdbee8\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1jYWxsLWdyaWQuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9sYS13ZWIvLi4vLi4vcGFja2FnZXMvYXBwL3N0eWxlcy9ncm91cC1jYWxsLWdyaWQuY3NzPzgzOWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI0MzkzNjNjZGJlZThcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../packages/app/styles/group-call-grid.css\n");

/***/ }),

/***/ "(rsc)/./app/call/page.tsx":
/*!***************************!*\
  !*** ./app/call/page.tsx ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _zola_app_features_call_screens_CallScreen_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zola/app/features/call/screens/CallScreen.web */ \"(rsc)/../../packages/app/features/call/screens/CallScreen.web.tsx\");\n\n\nfunction Page() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zola_app_features_call_screens_CallScreen_web__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\call\\\\page.tsx\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvY2FsbC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RTtBQUV6RCxTQUFTQztJQUN0QixxQkFBTyw4REFBQ0Qsc0ZBQVVBOzs7OztBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvbGEtd2ViLy4vYXBwL2NhbGwvcGFnZS50c3g/ZDUwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FsbFNjcmVlbiBmcm9tIFwiQHpvbGEvYXBwL2ZlYXR1cmVzL2NhbGwvc2NyZWVucy9DYWxsU2NyZWVuLndlYlwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcclxuICByZXR1cm4gPENhbGxTY3JlZW4gLz47XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhbGxTY3JlZW4iLCJQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/call/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _zola_app_components_GlobalIncomingCall_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zola/app/components/GlobalIncomingCall.web */ \"(rsc)/../../packages/app/components/GlobalIncomingCall.web.tsx\");\n\n\n\nconst metadata = {\n    title: \"Zola Web\",\n    description: \"Next.js shell that consumes @zola/app\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zola_app_components_GlobalIncomingCall_web__WEBPACK_IMPORTED_MODULE_2__.GlobalIncomingCall, {}, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n                    lineNumber: 14,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n            lineNumber: 13,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\apps\\\\next\\\\app\\\\layout.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3VCO0FBQzBEO0FBRTFFLE1BQU1DLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDOzs4QkFDQyw4REFBQ1IsMkZBQWtCQTs7Ozs7Z0JBQ2xCSzs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b2xhLXdlYi8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcclxuaW1wb3J0IHsgR2xvYmFsSW5jb21pbmdDYWxsIH0gZnJvbSBcIkB6b2xhL2FwcC9jb21wb25lbnRzL0dsb2JhbEluY29taW5nQ2FsbC53ZWJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcclxuICB0aXRsZTogXCJab2xhIFdlYlwiLFxyXG4gIGRlc2NyaXB0aW9uOiBcIk5leHQuanMgc2hlbGwgdGhhdCBjb25zdW1lcyBAem9sYS9hcHBcIlxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxyXG4gICAgICA8Ym9keT5cclxuICAgICAgICA8R2xvYmFsSW5jb21pbmdDYWxsIC8+XHJcbiAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICA8L2JvZHk+XHJcbiAgICA8L2h0bWw+XHJcbiAgKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIkdsb2JhbEluY29taW5nQ2FsbCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/app/components/GlobalIncomingCall.web.tsx":
/*!****************************************************************!*\
  !*** ../../packages/app/components/GlobalIncomingCall.web.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalIncomingCall: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\components\GlobalIncomingCall.web.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\components\GlobalIncomingCall.web.tsx#GlobalIncomingCall`);


/***/ }),

/***/ "(rsc)/../../packages/app/features/call/screens/CallScreen.web.tsx":
/*!*******************************************************************!*\
  !*** ../../packages/app/features/call/screens/CallScreen.web.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\Code\Nodejs\Zola\packages\app\features\call\screens\CallScreen.web.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/engine.io-client","vendor-chunks/form-data","vendor-chunks/axios","vendor-chunks/socket.io-client","vendor-chunks/socket.io-parser","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/get-intrinsic","vendor-chunks/engine.io-parser","vendor-chunks/asynckit","vendor-chunks/ms","vendor-chunks/combined-stream","vendor-chunks/proxy-from-env","vendor-chunks/@socket.io","vendor-chunks/supports-color","vendor-chunks/supports-color@7.2.0","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/@swc+helpers@0.5.2","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/has-flag@4.0.0","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/livekit-client@2.16.0_@types+dom-mediacapture-record@1.0.22"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcall%2Fpage&page=%2Fcall%2Fpage&appPaths=%2Fcall%2Fpage&pagePath=private-next-app-dir%2Fcall%2Fpage.tsx&appDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CCode%5CNodejs%5CZola%5Capps%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();