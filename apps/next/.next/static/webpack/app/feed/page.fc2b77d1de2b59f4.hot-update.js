"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/feed/page",{

/***/ "(app-pages-browser)/../../packages/app/components/FloatingChatWindow.tsx":
/*!************************************************************!*\
  !*** ../../packages/app/components/FloatingChatWindow.tsx ***!
  \************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FloatingChatWindow: function() { return /* binding */ FloatingChatWindow; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api */ \"(app-pages-browser)/../../packages/app/api.ts\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../socket */ \"(app-pages-browser)/../../packages/app/socket.ts\");\n/* harmony import */ var _services_chatSocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/chatSocket */ \"(app-pages-browser)/../../packages/app/services/chatSocket.ts\");\n/* harmony import */ var _services_callPopup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/callPopup */ \"(app-pages-browser)/../../packages/app/services/callPopup.ts\");\n/* harmony import */ var _styles_floating_chat_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles/floating-chat.css */ \"(app-pages-browser)/../../packages/app/styles/floating-chat.css\");\n/* __next_internal_client_entry_do_not_use__ FloatingChatWindow auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst FloatingChatWindow = (param)=>{\n    let { userId, userName, userAvatar, isOnline, onClose, onMinimize } = param;\n    var _displayName_charAt;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [opponentInfo, setOpponentInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mediaInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwardMessage, setForwardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Helper: get image URL for message (imageUrl or file.url)\n    const getImageUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        var _message_file;\n        var _message_imageUrl;\n        return (_message_imageUrl = message === null || message === void 0 ? void 0 : message.imageUrl) !== null && _message_imageUrl !== void 0 ? _message_imageUrl : message === null || message === void 0 ? void 0 : (_message_file = message.file) === null || _message_file === void 0 ? void 0 : _message_file.url;\n    }, []);\n    const toChatMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>({\n            ...message\n        }), []);\n    // Load current user ID\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (0,_api__WEBPACK_IMPORTED_MODULE_3__.getCurrentUserId)().then(setCurrentUserId).catch(()=>setCurrentUserId(null));\n    }, []);\n    // Sort messages by time\n    const sortMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((msgs)=>{\n        return [\n            ...msgs\n        ].sort((a, b)=>new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n    }, []);\n    // Load or create conversation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadConversation = async ()=>{\n            try {\n                setIsLoading(true);\n                // Try to create or get conversation\n                const conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createConversationWithUser)(userId);\n                setConversationId(conversation._id);\n                // Get opponent info\n                const opponent = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(conversation._id);\n                setOpponentInfo(opponent.user);\n                // Load messages\n                const msgs = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getMessages)(conversation._id);\n                const messagesArray = Array.isArray(msgs) ? msgs : (msgs === null || msgs === void 0 ? void 0 : msgs.messages) || [];\n                setMessages(sortMessages(messagesArray));\n                // Mark as read after loading messages\n                try {\n                    console.log(\"\\uD83D\\uDCD6 FloatingChat: Marking conversation as read:\", conversation._id);\n                    await (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversation._id);\n                    console.log(\"✅ FloatingChat: Marked as read successfully\");\n                } catch (err) {\n                    console.error(\"❌ FloatingChat: Failed to mark as read:\", err);\n                }\n            } catch (error) {\n                console.error(\"Failed to load conversation:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        loadConversation();\n    }, [\n        userId,\n        sortMessages\n    ]);\n    // Socket integration for realtime messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_4__.getSocket)();\n        if (!socket) {\n            console.warn(\"Socket not available for floating chat\");\n            return;\n        }\n        // Join conversation room\n        const joinRoom = ()=>{\n            console.log(\"\\uD83D\\uDCF1 FloatingChat: Joining conversation room: conv:\".concat(conversationId));\n            socket.emit(\"conversation:join\", conversationId);\n        };\n        if (socket.connected) {\n            joinRoom();\n        } else {\n            const onConnect = ()=>{\n                joinRoom();\n                socket.off(\"connect\", onConnect);\n            };\n            socket.on(\"connect\", onConnect);\n        }\n        // Register socket handlers\n        const unsubscribe = (0,_services_chatSocket__WEBPACK_IMPORTED_MODULE_5__.registerChatSocket)(socket, conversationId, {\n            onMessageCreated: (message)=>{\n                console.log(\"\\uD83D\\uDCE8 FloatingChat: New message received:\", message._id);\n                setMessages((prev)=>{\n                    const exists = prev.some((item)=>item._id === message._id);\n                    if (exists) return prev;\n                    const newMessages = sortMessages([\n                        ...prev,\n                        message\n                    ]);\n                    // Force scroll after state update\n                    setTimeout(()=>{\n                        if (messagesContainerRef.current) {\n                            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n                        }\n                        if (messagesEndRef.current) {\n                            messagesEndRef.current.scrollIntoView({\n                                behavior: \"smooth\",\n                                block: \"end\"\n                            });\n                        }\n                    }, 50);\n                    return newMessages;\n                });\n                // Mark as read when new message arrives (only if message is from opponent)\n                if (message.senderId !== currentUserId) {\n                    console.log(\"\\uD83D\\uDCD6 FloatingChat: Marking as read (new message from opponent)\");\n                    (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId, message._id).then(()=>console.log(\"✅ FloatingChat: Marked as read successfully\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n                }\n            },\n            onMessageUpdated: (message)=>{\n                setMessages((prev)=>sortMessages(prev.map((item)=>item._id === message._id ? message : item)));\n            },\n            onMessageDeleted: (messageId)=>{\n                setMessages((prev)=>prev.filter((item)=>item._id !== messageId));\n            }\n        });\n        return ()=>{\n            unsubscribe();\n            if (socket.connected) {\n                socket.emit(\"conversation:leave\", conversationId);\n            }\n        };\n    }, [\n        conversationId,\n        sortMessages,\n        currentUserId\n    ]);\n    // Mark as read when window becomes visible/focused\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!conversationId) return;\n        const handleVisibilityChange = ()=>{\n            if (!document.hidden && conversationId) {\n                console.log(\"\\uD83D\\uDCD6 FloatingChat: Window visible, marking as read\");\n                (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read (visibility change)\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n            }\n        };\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        // Also mark as read when component mounts (window is visible)\n        if (!document.hidden) {\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read (mount)\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n        }\n        return ()=>{\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, [\n        conversationId\n    ]);\n    // Auto scroll to bottom when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messages.length === 0) return;\n        // Use requestAnimationFrame to ensure DOM is updated\n        requestAnimationFrame(()=>{\n            setTimeout(()=>{\n                if (messagesContainerRef.current) {\n                    const container = messagesContainerRef.current;\n                    const isNearBottom = container.scrollHeight - container.scrollTop - container.clientHeight < 100;\n                    // Only auto-scroll if user is near bottom (not scrolled up)\n                    if (isNearBottom || messages.length <= 5) {\n                        container.scrollTop = container.scrollHeight;\n                    }\n                }\n                if (messagesEndRef.current) {\n                    messagesEndRef.current.scrollIntoView({\n                        behavior: \"smooth\",\n                        block: \"end\"\n                    });\n                }\n            }, 100);\n        });\n    }, [\n        messages\n    ]);\n    // Also scroll when conversation loads or when window opens\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isLoading && messages.length > 0 && messagesContainerRef.current) {\n            requestAnimationFrame(()=>{\n                setTimeout(()=>{\n                    if (messagesContainerRef.current) {\n                        messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n                    }\n                }, 300);\n            });\n        }\n    }, [\n        isLoading,\n        conversationId\n    ]);\n    const handleSendMessage = async ()=>{\n        if (!inputText.trim() || !conversationId || isSending) return;\n        const text = inputText.trim();\n        setInputText(\"\");\n        setIsSending(true);\n        try {\n            const newMessage = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createMessage)(conversationId, text);\n            setMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === newMessage._id);\n                if (exists) return prev;\n                return sortMessages([\n                    ...prev,\n                    newMessage\n                ]);\n            });\n            // Mark as read after sending (to update read receipts)\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read after sending\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n        } catch (error) {\n            console.error(\"Failed to send message:\", error);\n            setInputText(text); // Restore text on error\n        } finally{\n            setIsSending(false);\n        }\n    };\n    const handleUploadMedia = async (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        event.target.value = \"\";\n        if (!file || !conversationId) return;\n        try {\n            var _baseFile_mime, _baseFile_mime1;\n            setIsUploading(true);\n            const uploaded = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.uploadChatFile)(file);\n            if (!(uploaded === null || uploaded === void 0 ? void 0 : uploaded.url)) {\n                console.warn(\"FloatingChat: Upload did not return URL\");\n                return;\n            }\n            var _uploaded_name, _uploaded_mime, _uploaded_size;\n            const baseFile = {\n                url: uploaded.url,\n                name: (_uploaded_name = uploaded.name) !== null && _uploaded_name !== void 0 ? _uploaded_name : file.name,\n                mime: (_uploaded_mime = uploaded.mime) !== null && _uploaded_mime !== void 0 ? _uploaded_mime : file.type,\n                size: (_uploaded_size = uploaded.size) !== null && _uploaded_size !== void 0 ? _uploaded_size : file.size\n            };\n            const isImageOrVideo = ((_baseFile_mime = baseFile.mime) === null || _baseFile_mime === void 0 ? void 0 : _baseFile_mime.startsWith(\"image/\")) || ((_baseFile_mime1 = baseFile.mime) === null || _baseFile_mime1 === void 0 ? void 0 : _baseFile_mime1.startsWith(\"video/\")) || file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\");\n            const payload = {\n                type: isImageOrVideo ? \"image\" : \"file\",\n                file: baseFile\n            };\n            const newMessage = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createMessageWithPayload)(conversationId, payload);\n            setMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === newMessage._id);\n                if (exists) return prev;\n                return sortMessages([\n                    ...prev,\n                    newMessage\n                ]);\n            });\n        } catch (error) {\n            console.error(\"FloatingChat: Failed to upload/send media:\", error);\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleVideoCall = async ()=>{\n        if (!conversationId) return;\n        try {\n            var _result_call;\n            console.log(\"[FloatingChat] Initiating video call...\", {\n                conversationId,\n                userId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.initiateCall)(conversationId, \"video\", userId);\n            if (!((_result_call = result.call) === null || _result_call === void 0 ? void 0 : _result_call.id)) {\n                console.error(\"[FloatingChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_6__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[FloatingChat] Error initiating video call:\", error);\n        }\n    };\n    const handleAudioCall = async ()=>{\n        if (!conversationId) return;\n        try {\n            var _result_call;\n            console.log(\"[FloatingChat] Initiating audio call...\", {\n                conversationId,\n                userId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.initiateCall)(conversationId, \"audio\", userId);\n            if (!((_result_call = result.call) === null || _result_call === void 0 ? void 0 : _result_call.id)) {\n                console.error(\"[FloatingChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_6__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[FloatingChat] Error initiating audio call:\", error);\n        }\n    };\n    // Context menu actions\n    const openContextMenu = (message, event)=>{\n        event.stopPropagation();\n        const rect = event.currentTarget.getBoundingClientRect();\n        setContextMenu({\n            message,\n            x: rect.right,\n            y: rect.bottom\n        });\n    };\n    const closeContextMenu = ()=>setContextMenu(null);\n    const handleReply = (message)=>{\n        var _message_text;\n        const base = (_message_text = message.text) !== null && _message_text !== void 0 ? _message_text : \"\";\n        setInputText((prev)=>prev ? \"\".concat(prev, \"\\n\").concat(base) : base);\n        closeContextMenu();\n    };\n    const handleCopy = async (message)=>{\n        try {\n            var _message_text;\n            await navigator.clipboard.writeText((_message_text = message.text) !== null && _message_text !== void 0 ? _message_text : \"\");\n        } catch (err) {\n            console.error(\"FloatingChat: Failed to copy text:\", err);\n        }\n        closeContextMenu();\n    };\n    const handlePinToggle = async (message)=>{\n        const shouldPin = !message.isPinned;\n        try {\n            const updated = shouldPin ? await (0,_api__WEBPACK_IMPORTED_MODULE_3__.pinMessage)(message._id) : await (0,_api__WEBPACK_IMPORTED_MODULE_3__.unpinMessage)(message._id);\n            setMessages((prev)=>prev.map((m)=>m._id === message._id ? {\n                        ...m,\n                        ...updated\n                    } : m));\n        } catch (err) {\n            console.error(\"FloatingChat: Failed to toggle pin:\", err);\n        }\n        closeContextMenu();\n    };\n    const handleStar = async (message)=>{\n        try {\n            const updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.starMessage)(message._id);\n            setMessages((prev)=>prev.map((m)=>m._id === message._id ? {\n                        ...m,\n                        ...updated\n                    } : m));\n        } catch (err) {\n            console.error(\"FloatingChat: Failed to star message:\", err);\n        }\n        closeContextMenu();\n    };\n    const handleForward = (message)=>{\n        setForwardMessage(toChatMessage(message));\n        closeContextMenu();\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    const displayName = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.name) || userName;\n    const displayAvatar = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.avatar) || userAvatar;\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"floating-chat-window\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-header-left\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"floating-chat-avatar\",\n                                children: [\n                                    displayAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: displayAvatar,\n                                        alt: displayName\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 456,\n                                        columnNumber: 15\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"floating-chat-avatar-fallback\",\n                                        children: (displayName === null || displayName === void 0 ? void 0 : (_displayName_charAt = displayName.charAt(0)) === null || _displayName_charAt === void 0 ? void 0 : _displayName_charAt.toUpperCase()) || \"U\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 458,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-online-dot\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 462,\n                                        columnNumber: 26\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 454,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"floating-chat-header-info\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-header-name\",\n                                        children: displayName\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 465,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-header-status\",\n                                        children: isOnline ? \"Đang hoạt động\" : \"Kh\\xf4ng hoạt động\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 466,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 464,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 453,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: handleAudioCall,\n                                title: \"Gọi thoại\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"18\",\n                                    height: \"18\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M6.62 10.79a15.464 15.464 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24 11.72 11.72 0 003.68.59 1 1 0 011 1V21a1 1 0 01-1 1C10.3 22 2 13.7 2 3a1 1 0 011-1h3.5a1 1 0 011 1 11.72 11.72 0 00.59 3.68 1 1 0 01-.25 1.01l-2.22 2.1z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 478,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 477,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 472,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: handleVideoCall,\n                                title: \"Gọi video\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"18\",\n                                    height: \"18\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M17 10.5V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2h10a2 2 0 002-2v-3.5l4 4v-11l-4 4z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 487,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 486,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 481,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: onMinimize,\n                                title: \"Thu nhỏ\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M19 13H5v-2h14v2z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 496,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 495,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 490,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: onClose,\n                                title: \"Đ\\xf3ng\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 505,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 504,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 499,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 471,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 452,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-messages\",\n                ref: messagesContainerRef,\n                children: [\n                    isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-loading\",\n                        children: \"Đang tải...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 514,\n                        columnNumber: 11\n                    }, undefined) : !messages || messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-empty\",\n                        children: \"Chưa c\\xf3 tin nhắn n\\xe0o\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, undefined) : (messages || []).map((message)=>{\n                        const isOwn = message.senderId === currentUserId;\n                        const imageUrl = getImageUrl(message);\n                        const hasText = !!message.text && message.text.trim().length > 0;\n                        const hasImage = !!imageUrl;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"floating-chat-message \".concat(isOwn ? \"floating-chat-message--own\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"floating-chat-message-bubble \".concat(!hasText && hasImage ? \"floating-chat-message-bubble--image-only\" : \"\"),\n                                    children: [\n                                        hasText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-text\",\n                                            children: message.text\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 536,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        hasImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-image-wrapper\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: imageUrl,\n                                                alt: \"attachment\",\n                                                className: \"floating-chat-message-image\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                                lineNumber: 540,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 539,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 530,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"floating-chat-message-time\",\n                                    children: new Date(message.createdAt).toLocaleTimeString(\"vi-VN\", {\n                                        hour: \"2-digit\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 548,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, message._id, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                            lineNumber: 524,\n                            columnNumber: 15\n                        }, undefined);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 558,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 512,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-input-wrapper\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-input-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: mediaInputRef,\n                                type: \"file\",\n                                accept: \"image/*,video/*\",\n                                hidden: true,\n                                onChange: handleUploadMedia\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 564,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-input-btn\",\n                                title: isUploading ? \"Đang gửi ảnh/video...\" : \"Th\\xeam ảnh/video\",\n                                onClick: ()=>{\n                                    var _mediaInputRef_current;\n                                    return (_mediaInputRef_current = mediaInputRef.current) === null || _mediaInputRef_current === void 0 ? void 0 : _mediaInputRef_current.click();\n                                },\n                                disabled: isUploading || isSending,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 578,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 577,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 571,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-input-btn\",\n                                title: \"Th\\xeam emoji\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 583,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 582,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 581,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 563,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        className: \"floating-chat-input\",\n                        placeholder: \"Aa\",\n                        value: inputText,\n                        onChange: (e)=>setInputText(e.target.value),\n                        onKeyPress: handleKeyPress,\n                        rows: 1\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 587,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"floating-chat-send-btn\",\n                        onClick: handleSendMessage,\n                        disabled: !inputText.trim() || isSending,\n                        title: \"Gửi\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            width: \"20\",\n                            height: \"20\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 602,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                            lineNumber: 601,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 595,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 562,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n        lineNumber: 450,\n        columnNumber: 5\n    }, undefined), document.body);\n};\n_s(FloatingChatWindow, \"+uUGdhapRmYFGa/kFcZq/FQc94s=\");\n_c = FloatingChatWindow;\nvar _c;\n$RefreshReg$(_c, \"FloatingChatWindow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9GbG9hdGluZ0NoYXRXaW5kb3cudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUU4RTtBQUNyQztBQWtCekI7QUFDc0I7QUFDc0I7QUFDSDtBQUdwQjtBQVc5QixNQUFNb0IscUJBQXFCO1FBQUMsRUFDakNDLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxVQUFVLEVBQ2M7UUE2WlRDOztJQTVaZixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBRzVCLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDNkIsZ0JBQWdCQyxrQkFBa0IsR0FBRzlCLCtDQUFRQSxDQUFnQjtJQUNwRSxNQUFNLENBQUMrQixXQUFXQyxhQUFhLEdBQUdoQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNpQyxXQUFXQyxhQUFhLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNtQyxXQUFXQyxhQUFhLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNxQyxhQUFhQyxlQUFlLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN1QyxjQUFjQyxnQkFBZ0IsR0FBR3hDLCtDQUFRQSxDQUFzQztJQUN0RixNQUFNLENBQUN5QyxlQUFlQyxpQkFBaUIsR0FBRzFDLCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNMkMsaUJBQWlCMUMsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU0yQyx1QkFBdUIzQyw2Q0FBTUEsQ0FBaUI7SUFDcEQsTUFBTTRDLGdCQUFnQjVDLDZDQUFNQSxDQUEwQjtJQUN0RCxNQUFNLENBQUM2QyxhQUFhQyxlQUFlLEdBQUcvQywrQ0FBUUEsQ0FJcEM7SUFDVixNQUFNLENBQUNnRCxnQkFBZ0JDLGtCQUFrQixHQUFHakQsK0NBQVFBLENBQXFCO0lBRXpFLDJEQUEyRDtJQUMzRCxNQUFNa0Qs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Q0FDVlMsT0FBT25KLGNBQWMsMEJBQTBCO2dDQUMvQ2tKLFNBQVM7d0NBQU0xSTs0Q0FBQUEseUJBQUFBLGNBQWNpRCxPQUFPLGNBQXJCakQsNkNBQUFBLHVCQUF1QjZKLEtBQUs7O2dDQUMzQ0MsVUFBVXRLLGVBQWVGOzBDQUV6Qiw0RUFBQ3NKO29DQUFJQyxPQUFNO29DQUFLQyxRQUFPO29DQUFLQyxTQUFRO29DQUFZQyxNQUFLOzhDQUNuRCw0RUFBQ0M7d0NBQUtDLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7MENBR1osOERBQUNUO2dDQUFPUCxXQUFVO2dDQUEwQlMsT0FBTTswQ0FDaEQsNEVBQUNDO29DQUFJQyxPQUFNO29DQUFLQyxRQUFPO29DQUFLQyxTQUFRO29DQUFZQyxNQUFLOzhDQUNuRCw0RUFBQ0M7d0NBQUtDLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBSWQsOERBQUNhO3dCQUNDN0IsV0FBVTt3QkFDVjhCLGFBQVk7d0JBQ1poRixPQUFPOUY7d0JBQ1AwSyxVQUFVLENBQUNqQyxJQUFNeEksYUFBYXdJLEVBQUU3QyxNQUFNLENBQUNFLEtBQUs7d0JBQzVDaUYsWUFBWXZDO3dCQUNad0MsTUFBTTs7Ozs7O2tDQUVSLDhEQUFDekI7d0JBQ0NQLFdBQVU7d0JBQ1ZRLFNBQVNuRTt3QkFDVHVGLFVBQVUsQ0FBQzVLLFVBQVVzRixJQUFJLE1BQU1sRjt3QkFDL0JxSixPQUFNO2tDQUVOLDRFQUFDQzs0QkFBSUMsT0FBTTs0QkFBS0MsUUFBTzs0QkFBS0MsU0FBUTs0QkFBWUMsTUFBSztzQ0FDbkQsNEVBQUNDO2dDQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUJBS2hCcEYsU0FBU3FHLElBQUk7QUFFakIsRUFBRTtHQTFqQlc3TDtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvRmxvYXRpbmdDaGF0V2luZG93LnRzeD9jMTIxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgQ2hhbmdlRXZlbnQgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xyXG5pbXBvcnQge1xyXG4gIGdldE1lc3NhZ2VzLFxyXG4gIGNyZWF0ZU1lc3NhZ2UsXHJcbiAgY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkLFxyXG4gIGNyZWF0ZUNvbnZlcnNhdGlvbldpdGhVc2VyLFxyXG4gIGdldE9wcG9uZW50SW5mbyxcclxuICBnZXRDdXJyZW50VXNlcklkLFxyXG4gIG1hcmtBc1JlYWQsXHJcbiAgTWVzc2FnZSxcclxuICBDb252ZXJzYXRpb24sXHJcbiAgT3Bwb25lbnRJbmZvUmVzcG9uc2UsXHJcbiAgdXBsb2FkQ2hhdEZpbGUsXHJcbiAgaW5pdGlhdGVDYWxsLFxyXG4gIENyZWF0ZU1lc3NhZ2VQYXlsb2FkLFxyXG4gIHBpbk1lc3NhZ2UsXHJcbiAgdW5waW5NZXNzYWdlLFxyXG4gIHN0YXJNZXNzYWdlLFxyXG59IGZyb20gXCIuLi9hcGlcIjtcclxuaW1wb3J0IHsgZ2V0U29ja2V0IH0gZnJvbSBcIi4uL3NvY2tldFwiO1xyXG5pbXBvcnQgeyByZWdpc3RlckNoYXRTb2NrZXQgfSBmcm9tIFwiLi4vc2VydmljZXMvY2hhdFNvY2tldFwiO1xyXG5pbXBvcnQgeyBDYWxsUG9wdXBNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NhbGxQb3B1cFwiO1xyXG5pbXBvcnQgeyBGb3J3YXJkTWVzc2FnZURpYWxvZyB9IGZyb20gXCIuL2NoYXQvRm9yd2FyZE1lc3NhZ2VEaWFsb2dcIjtcclxuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UgfSBmcm9tIFwiLi4vdHlwZXMvY2hhdFwiO1xyXG5pbXBvcnQgXCIuLi9zdHlsZXMvZmxvYXRpbmctY2hhdC5jc3NcIjtcclxuXHJcbmludGVyZmFjZSBGbG9hdGluZ0NoYXRXaW5kb3dQcm9wcyB7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgdXNlck5hbWU6IHN0cmluZztcclxuICB1c2VyQXZhdGFyPzogc3RyaW5nO1xyXG4gIGlzT25saW5lPzogYm9vbGVhbjtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG4gIG9uTWluaW1pemU/OiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRmxvYXRpbmdDaGF0V2luZG93ID0gKHtcclxuICB1c2VySWQsXHJcbiAgdXNlck5hbWUsXHJcbiAgdXNlckF2YXRhcixcclxuICBpc09ubGluZSxcclxuICBvbkNsb3NlLFxyXG4gIG9uTWluaW1pemUsXHJcbn06IEZsb2F0aW5nQ2hhdFdpbmRvd1Byb3BzKSA9PiB7XHJcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcclxuICBjb25zdCBbY29udmVyc2F0aW9uSWQsIHNldENvbnZlcnNhdGlvbklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpbnB1dFRleHQsIHNldElucHV0VGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2lzU2VuZGluZywgc2V0SXNTZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbb3Bwb25lbnRJbmZvLCBzZXRPcHBvbmVudEluZm9dID0gdXNlU3RhdGU8T3Bwb25lbnRJbmZvUmVzcG9uc2VbXCJ1c2VyXCJdIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IG1lc3NhZ2VzQ29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBtZWRpYUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbY29udGV4dE1lbnUsIHNldENvbnRleHRNZW51XSA9IHVzZVN0YXRlPHtcclxuICAgIG1lc3NhZ2U6IE1lc3NhZ2U7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtmb3J3YXJkTWVzc2FnZSwgc2V0Rm9yd2FyZE1lc3NhZ2VdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2UgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gSGVscGVyOiBnZXQgaW1hZ2UgVVJMIGZvciBtZXNzYWdlIChpbWFnZVVybCBvciBmaWxlLnVybClcclxuICBjb25zdCBnZXRJbWFnZVVybCA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBhbnkpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xyXG4gICAgcmV0dXJuIG1lc3NhZ2U/LmltYWdlVXJsID8/IG1lc3NhZ2U/LmZpbGU/LnVybDtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHRvQ2hhdE1lc3NhZ2UgPSB1c2VDYWxsYmFjayhcclxuICAgIChtZXNzYWdlOiBNZXNzYWdlKTogQ2hhdE1lc3NhZ2UgPT4gKHtcclxuICAgICAgLi4uKG1lc3NhZ2UgYXMgYW55KSxcclxuICAgIH0pLFxyXG4gICAgW11cclxuICApO1xyXG5cclxuICAvLyBMb2FkIGN1cnJlbnQgdXNlciBJRFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBnZXRDdXJyZW50VXNlcklkKCkudGhlbihzZXRDdXJyZW50VXNlcklkKS5jYXRjaCgoKSA9PiBzZXRDdXJyZW50VXNlcklkKG51bGwpKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFNvcnQgbWVzc2FnZXMgYnkgdGltZVxyXG4gIGNvbnN0IHNvcnRNZXNzYWdlcyA9IHVzZUNhbGxiYWNrKChtc2dzOiBNZXNzYWdlW10pID0+IHtcclxuICAgIHJldHVybiBbLi4ubXNnc10uc29ydChcclxuICAgICAgKGEsIGIpID0+IG5ldyBEYXRlKGEuY3JlYXRlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkuZ2V0VGltZSgpXHJcbiAgICApO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gTG9hZCBvciBjcmVhdGUgY29udmVyc2F0aW9uXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGxvYWRDb252ZXJzYXRpb24gPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgIC8vIFRyeSB0byBjcmVhdGUgb3IgZ2V0IGNvbnZlcnNhdGlvblxyXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IGF3YWl0IGNyZWF0ZUNvbnZlcnNhdGlvbldpdGhVc2VyKHVzZXJJZCk7XHJcbiAgICAgICAgc2V0Q29udmVyc2F0aW9uSWQoY29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR2V0IG9wcG9uZW50IGluZm9cclxuICAgICAgICBjb25zdCBvcHBvbmVudCA9IGF3YWl0IGdldE9wcG9uZW50SW5mbyhjb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgICBzZXRPcHBvbmVudEluZm8ob3Bwb25lbnQudXNlcik7XHJcblxyXG4gICAgICAgIC8vIExvYWQgbWVzc2FnZXNcclxuICAgICAgICBjb25zdCBtc2dzID0gYXdhaXQgZ2V0TWVzc2FnZXMoY29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXNBcnJheSA9IEFycmF5LmlzQXJyYXkobXNncykgPyBtc2dzIDogKG1zZ3MgYXMgYW55KT8ubWVzc2FnZXMgfHwgW107XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoc29ydE1lc3NhZ2VzKG1lc3NhZ2VzQXJyYXkpKTtcclxuXHJcbiAgICAgICAgLy8gTWFyayBhcyByZWFkIGFmdGVyIGxvYWRpbmcgbWVzc2FnZXNcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLwn5OWIEZsb2F0aW5nQ2hhdDogTWFya2luZyBjb252ZXJzYXRpb24gYXMgcmVhZDpcIiwgY29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgICAgICBhd2FpdCBtYXJrQXNSZWFkKGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLinIUgRmxvYXRpbmdDaGF0OiBNYXJrZWQgYXMgcmVhZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIG1hcmsgYXMgcmVhZDpcIiwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbjpcIiwgZXJyb3IpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbG9hZENvbnZlcnNhdGlvbigpO1xyXG4gIH0sIFt1c2VySWQsIHNvcnRNZXNzYWdlc10pO1xyXG5cclxuICAvLyBTb2NrZXQgaW50ZWdyYXRpb24gZm9yIHJlYWx0aW1lIG1lc3NhZ2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3Qgc29ja2V0ID0gZ2V0U29ja2V0KCk7XHJcbiAgICBpZiAoIXNvY2tldCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXCJTb2NrZXQgbm90IGF2YWlsYWJsZSBmb3IgZmxvYXRpbmcgY2hhdFwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEpvaW4gY29udmVyc2F0aW9uIHJvb21cclxuICAgIGNvbnN0IGpvaW5Sb29tID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TsSBGbG9hdGluZ0NoYXQ6IEpvaW5pbmcgY29udmVyc2F0aW9uIHJvb206IGNvbnY6JHtjb252ZXJzYXRpb25JZH1gKTtcclxuICAgICAgc29ja2V0LmVtaXQoXCJjb252ZXJzYXRpb246am9pblwiLCBjb252ZXJzYXRpb25JZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChzb2NrZXQuY29ubmVjdGVkKSB7XHJcbiAgICAgIGpvaW5Sb29tKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBvbkNvbm5lY3QgPSAoKSA9PiB7XHJcbiAgICAgICAgam9pblJvb20oKTtcclxuICAgICAgICBzb2NrZXQub2ZmKFwiY29ubmVjdFwiLCBvbkNvbm5lY3QpO1xyXG4gICAgICB9O1xyXG4gICAgICBzb2NrZXQub24oXCJjb25uZWN0XCIsIG9uQ29ubmVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVnaXN0ZXIgc29ja2V0IGhhbmRsZXJzXHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHJlZ2lzdGVyQ2hhdFNvY2tldChzb2NrZXQsIGNvbnZlcnNhdGlvbklkLCB7XHJcbiAgICAgIG9uTWVzc2FnZUNyZWF0ZWQ6IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5OoIEZsb2F0aW5nQ2hhdDogTmV3IG1lc3NhZ2UgcmVjZWl2ZWQ6XCIsIG1lc3NhZ2UuX2lkKTtcclxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gbWVzc2FnZS5faWQpO1xyXG4gICAgICAgICAgaWYgKGV4aXN0cykgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgbWVzc2FnZV0pO1xyXG4gICAgICAgICAgLy8gRm9yY2Ugc2Nyb2xsIGFmdGVyIHN0YXRlIHVwZGF0ZVxyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiwgYmxvY2s6IFwiZW5kXCIgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgIHJldHVybiBuZXdNZXNzYWdlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBNYXJrIGFzIHJlYWQgd2hlbiBuZXcgbWVzc2FnZSBhcnJpdmVzIChvbmx5IGlmIG1lc3NhZ2UgaXMgZnJvbSBvcHBvbmVudClcclxuICAgICAgICBpZiAobWVzc2FnZS5zZW5kZXJJZCAhPT0gY3VycmVudFVzZXJJZCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLwn5OWIEZsb2F0aW5nQ2hhdDogTWFya2luZyBhcyByZWFkIChuZXcgbWVzc2FnZSBmcm9tIG9wcG9uZW50KVwiKTtcclxuICAgICAgICAgIG1hcmtBc1JlYWQoY29udmVyc2F0aW9uSWQsIG1lc3NhZ2UuX2lkKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIuKchSBGbG9hdGluZ0NoYXQ6IE1hcmtlZCBhcyByZWFkIHN1Y2Nlc3NmdWxseVwiKSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCLinYwgRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gbWFyayBhcyByZWFkOlwiLCBlcnIpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uTWVzc2FnZVVwZGF0ZWQ6IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+XHJcbiAgICAgICAgICBzb3J0TWVzc2FnZXMoXHJcbiAgICAgICAgICAgIHByZXYubWFwKChpdGVtKSA9PiAoaXRlbS5faWQgPT09IG1lc3NhZ2UuX2lkID8gbWVzc2FnZSA6IGl0ZW0pKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uTWVzc2FnZURlbGV0ZWQ6IChtZXNzYWdlSWQpID0+IHtcclxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uX2lkICE9PSBtZXNzYWdlSWQpKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHVuc3Vic2NyaWJlKCk7XHJcbiAgICAgIGlmIChzb2NrZXQuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoXCJjb252ZXJzYXRpb246bGVhdmVcIiwgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtjb252ZXJzYXRpb25JZCwgc29ydE1lc3NhZ2VzLCBjdXJyZW50VXNlcklkXSk7XHJcblxyXG4gIC8vIE1hcmsgYXMgcmVhZCB3aGVuIHdpbmRvdyBiZWNvbWVzIHZpc2libGUvZm9jdXNlZFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgaWYgKCFkb2N1bWVudC5oaWRkZW4gJiYgY29udmVyc2F0aW9uSWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk5YgRmxvYXRpbmdDaGF0OiBXaW5kb3cgdmlzaWJsZSwgbWFya2luZyBhcyByZWFkXCIpO1xyXG4gICAgICAgIG1hcmtBc1JlYWQoY29udmVyc2F0aW9uSWQpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIuKchSBGbG9hdGluZ0NoYXQ6IE1hcmtlZCBhcyByZWFkICh2aXNpYmlsaXR5IGNoYW5nZSlcIikpXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIuKdjCBGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byBtYXJrIGFzIHJlYWQ6XCIsIGVycikpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xyXG4gICAgLy8gQWxzbyBtYXJrIGFzIHJlYWQgd2hlbiBjb21wb25lbnQgbW91bnRzICh3aW5kb3cgaXMgdmlzaWJsZSlcclxuICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgIG1hcmtBc1JlYWQoY29udmVyc2F0aW9uSWQpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCLinIUgRmxvYXRpbmdDaGF0OiBNYXJrZWQgYXMgcmVhZCAobW91bnQpXCIpKVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwi4p2MIEZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIG1hcmsgYXMgcmVhZDpcIiwgZXJyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcbiAgICB9O1xyXG4gIH0sIFtjb252ZXJzYXRpb25JZF0pO1xyXG5cclxuICAvLyBBdXRvIHNjcm9sbCB0byBib3R0b20gd2hlbiBtZXNzYWdlcyBjaGFuZ2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBVc2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIGVuc3VyZSBET00gaXMgdXBkYXRlZFxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgICBjb25zdCBpc05lYXJCb3R0b20gPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gY29udGFpbmVyLnNjcm9sbFRvcCAtIGNvbnRhaW5lci5jbGllbnRIZWlnaHQgPCAxMDA7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIE9ubHkgYXV0by1zY3JvbGwgaWYgdXNlciBpcyBuZWFyIGJvdHRvbSAobm90IHNjcm9sbGVkIHVwKVxyXG4gICAgICAgICAgaWYgKGlzTmVhckJvdHRvbSB8fCBtZXNzYWdlcy5sZW5ndGggPD0gNSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbEhlaWdodDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiwgYmxvY2s6IFwiZW5kXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxMDApO1xyXG4gICAgfSk7XHJcbiAgfSwgW21lc3NhZ2VzXSk7XHJcblxyXG4gIC8vIEFsc28gc2Nyb2xsIHdoZW4gY29udmVyc2F0aW9uIGxvYWRzIG9yIHdoZW4gd2luZG93IG9wZW5zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNMb2FkaW5nICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDAgJiYgbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAzMDApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbaXNMb2FkaW5nLCBjb252ZXJzYXRpb25JZF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghaW5wdXRUZXh0LnRyaW0oKSB8fCAhY29udmVyc2F0aW9uSWQgfHwgaXNTZW5kaW5nKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IGlucHV0VGV4dC50cmltKCk7XHJcbiAgICBzZXRJbnB1dFRleHQoXCJcIik7XHJcbiAgICBzZXRJc1NlbmRpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGF3YWl0IGNyZWF0ZU1lc3NhZ2UoY29udmVyc2F0aW9uSWQsIHRleHQpO1xyXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZSgobXNnKSA9PiBtc2cuX2lkID09PSBuZXdNZXNzYWdlLl9pZCk7XHJcbiAgICAgICAgaWYgKGV4aXN0cykgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgbmV3TWVzc2FnZV0pO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gTWFyayBhcyByZWFkIGFmdGVyIHNlbmRpbmcgKHRvIHVwZGF0ZSByZWFkIHJlY2VpcHRzKVxyXG4gICAgICBtYXJrQXNSZWFkKGNvbnZlcnNhdGlvbklkKVxyXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwi4pyFIEZsb2F0aW5nQ2hhdDogTWFya2VkIGFzIHJlYWQgYWZ0ZXIgc2VuZGluZ1wiKSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIuKdjCBGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byBtYXJrIGFzIHJlYWQ6XCIsIGVycikpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZW5kIG1lc3NhZ2U6XCIsIGVycm9yKTtcclxuICAgICAgc2V0SW5wdXRUZXh0KHRleHQpOyAvLyBSZXN0b3JlIHRleHQgb24gZXJyb3JcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVXBsb2FkTWVkaWEgPSBhc3luYyAoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzPy5bMF07XHJcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG4gICAgaWYgKCFmaWxlIHx8ICFjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHNldElzVXBsb2FkaW5nKHRydWUpO1xyXG4gICAgICBjb25zdCB1cGxvYWRlZCA9IGF3YWl0IHVwbG9hZENoYXRGaWxlKGZpbGUpO1xyXG4gICAgICBpZiAoIXVwbG9hZGVkPy51cmwpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJGbG9hdGluZ0NoYXQ6IFVwbG9hZCBkaWQgbm90IHJldHVybiBVUkxcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBiYXNlRmlsZSA9IHtcclxuICAgICAgICB1cmw6IHVwbG9hZGVkLnVybCxcclxuICAgICAgICBuYW1lOiB1cGxvYWRlZC5uYW1lID8/IGZpbGUubmFtZSxcclxuICAgICAgICBtaW1lOiB1cGxvYWRlZC5taW1lID8/IGZpbGUudHlwZSxcclxuICAgICAgICBzaXplOiB1cGxvYWRlZC5zaXplID8/IGZpbGUuc2l6ZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGlzSW1hZ2VPclZpZGVvID1cclxuICAgICAgICBiYXNlRmlsZS5taW1lPy5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpIHx8XHJcbiAgICAgICAgYmFzZUZpbGUubWltZT8uc3RhcnRzV2l0aChcInZpZGVvL1wiKSB8fFxyXG4gICAgICAgIGZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpIHx8XHJcbiAgICAgICAgZmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJ2aWRlby9cIik7XHJcblxyXG4gICAgICBjb25zdCBwYXlsb2FkOiBDcmVhdGVNZXNzYWdlUGF5bG9hZCA9IHtcclxuICAgICAgICB0eXBlOiBpc0ltYWdlT3JWaWRlbyA/IFwiaW1hZ2VcIiA6IFwiZmlsZVwiLFxyXG4gICAgICAgIGZpbGU6IGJhc2VGaWxlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGF3YWl0IGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZChjb252ZXJzYXRpb25JZCwgcGF5bG9hZCk7XHJcblxyXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZSgobXNnKSA9PiBtc2cuX2lkID09PSBuZXdNZXNzYWdlLl9pZCk7XHJcbiAgICAgICAgaWYgKGV4aXN0cykgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgcmV0dXJuIHNvcnRNZXNzYWdlcyhbLi4ucHJldiwgbmV3TWVzc2FnZV0pO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byB1cGxvYWQvc2VuZCBtZWRpYTpcIiwgZXJyb3IpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNVcGxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVZpZGVvQ2FsbCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltGbG9hdGluZ0NoYXRdIEluaXRpYXRpbmcgdmlkZW8gY2FsbC4uLlwiLCB7IGNvbnZlcnNhdGlvbklkLCB1c2VySWQgfSk7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbChjb252ZXJzYXRpb25JZCwgXCJ2aWRlb1wiLCB1c2VySWQpO1xyXG4gICAgICBpZiAoIXJlc3VsdC5jYWxsPy5pZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRmxvYXRpbmdDaGF0XSBObyBjYWxsIElEIGluIHJlc3BvbnNlOlwiLCByZXN1bHQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2FsbFR5cGUgPSByZXN1bHQuY2FsbC5jYWxsVHlwZSA9PT0gXCJzZnVcIiA/IFwic2Z1XCIgOiBcInAycFwiO1xyXG4gICAgICBjb25zdCBsaXZla2l0Um9vbU5hbWUgPSByZXN1bHQuY2FsbC5saXZla2l0Um9vbU5hbWU7XHJcblxyXG4gICAgICBjb25zdCBwb3B1cCA9IG5ldyBDYWxsUG9wdXBNYW5hZ2VyKCk7XHJcbiAgICAgIHBvcHVwLm9wZW5DYWxsV2luZG93KHJlc3VsdC5jYWxsLmlkLCBjb252ZXJzYXRpb25JZCwgZmFsc2UsIHtcclxuICAgICAgICBjYWxsVHlwZSxcclxuICAgICAgICBsaXZla2l0Um9vbU5hbWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltGbG9hdGluZ0NoYXRdIEVycm9yIGluaXRpYXRpbmcgdmlkZW8gY2FsbDpcIiwgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUF1ZGlvQ2FsbCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltGbG9hdGluZ0NoYXRdIEluaXRpYXRpbmcgYXVkaW8gY2FsbC4uLlwiLCB7IGNvbnZlcnNhdGlvbklkLCB1c2VySWQgfSk7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbChjb252ZXJzYXRpb25JZCwgXCJhdWRpb1wiLCB1c2VySWQpO1xyXG4gICAgICBpZiAoIXJlc3VsdC5jYWxsPy5pZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRmxvYXRpbmdDaGF0XSBObyBjYWxsIElEIGluIHJlc3BvbnNlOlwiLCByZXN1bHQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2FsbFR5cGUgPSByZXN1bHQuY2FsbC5jYWxsVHlwZSA9PT0gXCJzZnVcIiA/IFwic2Z1XCIgOiBcInAycFwiO1xyXG4gICAgICBjb25zdCBsaXZla2l0Um9vbU5hbWUgPSByZXN1bHQuY2FsbC5saXZla2l0Um9vbU5hbWU7XHJcblxyXG4gICAgICBjb25zdCBwb3B1cCA9IG5ldyBDYWxsUG9wdXBNYW5hZ2VyKCk7XHJcbiAgICAgIHBvcHVwLm9wZW5DYWxsV2luZG93KHJlc3VsdC5jYWxsLmlkLCBjb252ZXJzYXRpb25JZCwgZmFsc2UsIHtcclxuICAgICAgICBjYWxsVHlwZSxcclxuICAgICAgICBsaXZla2l0Um9vbU5hbWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltGbG9hdGluZ0NoYXRdIEVycm9yIGluaXRpYXRpbmcgYXVkaW8gY2FsbDpcIiwgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIENvbnRleHQgbWVudSBhY3Rpb25zXHJcbiAgY29uc3Qgb3BlbkNvbnRleHRNZW51ID0gKG1lc3NhZ2U6IE1lc3NhZ2UsIGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4ge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCByZWN0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHNldENvbnRleHRNZW51KHtcclxuICAgICAgbWVzc2FnZSxcclxuICAgICAgeDogcmVjdC5yaWdodCxcclxuICAgICAgeTogcmVjdC5ib3R0b20sXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZUNvbnRleHRNZW51ID0gKCkgPT4gc2V0Q29udGV4dE1lbnUobnVsbCk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlcGx5ID0gKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGJhc2UgPSBtZXNzYWdlLnRleHQgPz8gXCJcIjtcclxuICAgIHNldElucHV0VGV4dCgocHJldikgPT4gKHByZXYgPyBgJHtwcmV2fVxcbiR7YmFzZX1gIDogYmFzZSkpO1xyXG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvcHkgPSBhc3luYyAobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQobWVzc2FnZS50ZXh0ID8/IFwiXCIpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byBjb3B5IHRleHQ6XCIsIGVycik7XHJcbiAgICB9XHJcbiAgICBjbG9zZUNvbnRleHRNZW51KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUGluVG9nZ2xlID0gYXN5bmMgKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHNob3VsZFBpbiA9ICFtZXNzYWdlLmlzUGlubmVkO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IHNob3VsZFBpblxyXG4gICAgICAgID8gYXdhaXQgcGluTWVzc2FnZShtZXNzYWdlLl9pZClcclxuICAgICAgICA6IGF3YWl0IHVucGluTWVzc2FnZShtZXNzYWdlLl9pZCk7XHJcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PlxyXG4gICAgICAgIHByZXYubWFwKChtKSA9PiAobS5faWQgPT09IG1lc3NhZ2UuX2lkID8geyAuLi5tLCAuLi51cGRhdGVkIH0gOiBtKSlcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gdG9nZ2xlIHBpbjpcIiwgZXJyKTtcclxuICAgIH1cclxuICAgIGNsb3NlQ29udGV4dE1lbnUoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTdGFyID0gYXN5bmMgKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBzdGFyTWVzc2FnZShtZXNzYWdlLl9pZCk7XHJcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PlxyXG4gICAgICAgIHByZXYubWFwKChtKSA9PiAobS5faWQgPT09IG1lc3NhZ2UuX2lkID8geyAuLi5tLCAuLi51cGRhdGVkIH0gOiBtKSlcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gc3RhciBtZXNzYWdlOlwiLCBlcnIpO1xyXG4gICAgfVxyXG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvcndhcmQgPSAobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xyXG4gICAgc2V0Rm9yd2FyZE1lc3NhZ2UodG9DaGF0TWVzc2FnZShtZXNzYWdlKSk7XHJcbiAgICBjbG9zZUNvbnRleHRNZW51KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gb3Bwb25lbnRJbmZvPy5uYW1lIHx8IHVzZXJOYW1lO1xyXG4gIGNvbnN0IGRpc3BsYXlBdmF0YXIgPSBvcHBvbmVudEluZm8/LmF2YXRhciB8fCB1c2VyQXZhdGFyO1xyXG5cclxuICByZXR1cm4gY3JlYXRlUG9ydGFsKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LXdpbmRvd1wiPlxyXG4gICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1sZWZ0XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtYXZhdGFyXCI+XHJcbiAgICAgICAgICAgIHtkaXNwbGF5QXZhdGFyID8gKFxyXG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtkaXNwbGF5QXZhdGFyfSBhbHQ9e2Rpc3BsYXlOYW1lfSAvPlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1hdmF0YXItZmFsbGJhY2tcIj5cclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZT8uY2hhckF0KDApPy50b1VwcGVyQ2FzZSgpIHx8IFwiVVwifVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICB7aXNPbmxpbmUgJiYgPHNwYW4gY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1vbmxpbmUtZG90XCIgLz59XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1uYW1lXCI+e2Rpc3BsYXlOYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItc3RhdHVzXCI+XHJcbiAgICAgICAgICAgICAge2lzT25saW5lID8gXCLEkGFuZyBob+G6oXQgxJHhu5luZ1wiIDogXCJLaMO0bmcgaG/huqF0IMSR4buZbmdcIn1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUF1ZGlvQ2FsbH1cclxuICAgICAgICAgICAgdGl0bGU9XCJH4buNaSB0aG/huqFpXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi42MiAxMC43OWExNS40NjQgMTUuNDY0IDAgMDA2LjU5IDYuNTlsMi4yLTIuMmExIDEgMCAwMTEuMDEtLjI0IDExLjcyIDExLjcyIDAgMDAzLjY4LjU5IDEgMSAwIDAxMSAxVjIxYTEgMSAwIDAxLTEgMUMxMC4zIDIyIDIgMTMuNyAyIDNhMSAxIDAgMDExLTFoMy41YTEgMSAwIDAxMSAxIDExLjcyIDExLjcyIDAgMDAuNTkgMy42OCAxIDEgMCAwMS0uMjUgMS4wMWwtMi4yMiAyLjF6XCIgLz5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItYnRuXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVmlkZW9DYWxsfVxyXG4gICAgICAgICAgICB0aXRsZT1cIkfhu41pIHZpZGVvXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTcgMTAuNVY3YTIgMiAwIDAwLTItMkg1QTIgMiAwIDAwMyA3djEwYTIgMiAwIDAwMiAyaDEwYTIgMiAwIDAwMi0ydi0zLjVsNCA0di0xMWwtNCA0elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uTWluaW1pemV9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiVGh1IG5o4buPXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTkgMTNINXYtMmgxNHYyelwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgIHRpdGxlPVwixJDDs25nXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyelwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIE1lc3NhZ2VzICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtbWVzc2FnZXNcIiByZWY9e21lc3NhZ2VzQ29udGFpbmVyUmVmfT5cclxuICAgICAgICB7aXNMb2FkaW5nID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWxvYWRpbmdcIj7EkGFuZyB04bqjaS4uLjwvZGl2PlxyXG4gICAgICAgICkgOiAhbWVzc2FnZXMgfHwgbWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWVtcHR5XCI+Q2jGsGEgY8OzIHRpbiBuaOG6r24gbsOgbzwvZGl2PlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICAobWVzc2FnZXMgfHwgW10pLm1hcCgobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc093biA9IG1lc3NhZ2Uuc2VuZGVySWQgPT09IGN1cnJlbnRVc2VySWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gZ2V0SW1hZ2VVcmwobWVzc2FnZSBhcyBhbnkpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNUZXh0ID0gISFtZXNzYWdlLnRleHQgJiYgbWVzc2FnZS50ZXh0LnRyaW0oKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNJbWFnZSA9ICEhaW1hZ2VVcmw7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLl9pZH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsb2F0aW5nLWNoYXQtbWVzc2FnZSAke1xyXG4gICAgICAgICAgICAgICAgICBpc093biA/IFwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLS1vd25cIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxvYXRpbmctY2hhdC1tZXNzYWdlLWJ1YmJsZSAke1xyXG4gICAgICAgICAgICAgICAgICAgICFoYXNUZXh0ICYmIGhhc0ltYWdlID8gXCJmbG9hdGluZy1jaGF0LW1lc3NhZ2UtYnViYmxlLS1pbWFnZS1vbmx5XCIgOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7aGFzVGV4dCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LW1lc3NhZ2UtdGV4dFwiPnttZXNzYWdlLnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIHtoYXNJbWFnZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LW1lc3NhZ2UtaW1hZ2Utd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJhdHRhY2htZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLWltYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLXRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAge25ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZEF0KS50b0xvY2FsZVRpbWVTdHJpbmcoXCJ2aS1WTlwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKX1cclxuICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIElucHV0ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaW5wdXQtd3JhcHBlclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1pbnB1dC1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgcmVmPXttZWRpYUlucHV0UmVmfVxyXG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLyosdmlkZW8vKlwiXHJcbiAgICAgICAgICAgIGhpZGRlblxyXG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlVXBsb2FkTWVkaWF9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWlucHV0LWJ0blwiXHJcbiAgICAgICAgICAgIHRpdGxlPXtpc1VwbG9hZGluZyA/IFwixJBhbmcgZ+G7rWkg4bqjbmgvdmlkZW8uLi5cIiA6IFwiVGjDqm0g4bqjbmgvdmlkZW9cIn1cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbWVkaWFJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNVcGxvYWRpbmcgfHwgaXNTZW5kaW5nfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XHJcbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSAxOVY1YzAtMS4xLS45LTItMi0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJ6TTguNSAxMy41bDIuNSAzLjAxTDE0LjUgMTJsNC41IDZINWwzLjUtNC41elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaW5wdXQtYnRuXCIgdGl0bGU9XCJUaMOqbSBlbW9qaVwiPlxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XHJcbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWlucHV0XCJcclxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWFcIlxyXG4gICAgICAgICAgdmFsdWU9e2lucHV0VGV4dH1cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXRUZXh0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxyXG4gICAgICAgICAgcm93cz17MX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtc2VuZC1idG5cIlxyXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XHJcbiAgICAgICAgICBkaXNhYmxlZD17IWlucHV0VGV4dC50cmltKCkgfHwgaXNTZW5kaW5nfVxyXG4gICAgICAgICAgdGl0bGU9XCJH4butaVwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTIuMDEgMjFMMjMgMTIgMi4wMSAzIDIgMTBsMTUgMi0xNSAyelwiIC8+XHJcbiAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj4sXHJcbiAgICBkb2N1bWVudC5ib2R5XHJcbiAgKTtcclxufTtcclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiY3JlYXRlUG9ydGFsIiwiZ2V0TWVzc2FnZXMiLCJjcmVhdGVNZXNzYWdlIiwiY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkIiwiY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIiLCJnZXRPcHBvbmVudEluZm8iLCJnZXRDdXJyZW50VXNlcklkIiwibWFya0FzUmVhZCIsInVwbG9hZENoYXRGaWxlIiwiaW5pdGlhdGVDYWxsIiwicGluTWVzc2FnZSIsInVucGluTWVzc2FnZSIsInN0YXJNZXNzYWdlIiwiZ2V0U29ja2V0IiwicmVnaXN0ZXJDaGF0U29ja2V0IiwiQ2FsbFBvcHVwTWFuYWdlciIsIkZsb2F0aW5nQ2hhdFdpbmRvdyIsInVzZXJJZCIsInVzZXJOYW1lIiwidXNlckF2YXRhciIsImlzT25saW5lIiwib25DbG9zZSIsIm9uTWluaW1pemUiLCJkaXNwbGF5TmFtZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjb252ZXJzYXRpb25JZCIsInNldENvbnZlcnNhdGlvbklkIiwiaW5wdXRUZXh0Iiwic2V0SW5wdXRUZXh0IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwiaXNVcGxvYWRpbmciLCJzZXRJc1VwbG9hZGluZyIsIm9wcG9uZW50SW5mbyIsInNldE9wcG9uZW50SW5mbyIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwibWVzc2FnZXNFbmRSZWYiLCJtZXNzYWdlc0NvbnRhaW5lclJlZiIsIm1lZGlhSW5wdXRSZWYiLCJjb250ZXh0TWVudSIsInNldENvbnRleHRNZW51IiwiZm9yd2FyZE1lc3NhZ2UiLCJzZXRGb3J3YXJkTWVzc2FnZSIsImdldEltYWdlVXJsIiwibWVzc2FnZSIsImltYWdlVXJsIiwiZmlsZSIsInVybCIsInRvQ2hhdE1lc3NhZ2UiLCJ0aGVuIiwiY2F0Y2giLCJzb3J0TWVzc2FnZXMiLCJtc2dzIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsImNyZWF0ZWRBdCIsImdldFRpbWUiLCJsb2FkQ29udmVyc2F0aW9uIiwiY29udmVyc2F0aW9uIiwiX2lkIiwib3Bwb25lbnQiLCJ1c2VyIiwibWVzc2FnZXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJlcnJvciIsInNvY2tldCIsIndhcm4iLCJqb2luUm9vbSIsImVtaXQiLCJjb25uZWN0ZWQiLCJvbkNvbm5lY3QiLCJvZmYiLCJvbiIsInVuc3Vic2NyaWJlIiwib25NZXNzYWdlQ3JlYXRlZCIsInByZXYiLCJleGlzdHMiLCJzb21lIiwiaXRlbSIsIm5ld01lc3NhZ2VzIiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJzZW5kZXJJZCIsIm9uTWVzc2FnZVVwZGF0ZWQiLCJtYXAiLCJvbk1lc3NhZ2VEZWxldGVkIiwibWVzc2FnZUlkIiwiZmlsdGVyIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsImRvY3VtZW50IiwiaGlkZGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsZW5ndGgiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjb250YWluZXIiLCJpc05lYXJCb3R0b20iLCJjbGllbnRIZWlnaHQiLCJoYW5kbGVTZW5kTWVzc2FnZSIsInRyaW0iLCJ0ZXh0IiwibmV3TWVzc2FnZSIsIm1zZyIsImhhbmRsZVVwbG9hZE1lZGlhIiwiZXZlbnQiLCJ0YXJnZXQiLCJmaWxlcyIsInZhbHVlIiwiYmFzZUZpbGUiLCJ1cGxvYWRlZCIsIm5hbWUiLCJtaW1lIiwidHlwZSIsInNpemUiLCJpc0ltYWdlT3JWaWRlbyIsInN0YXJ0c1dpdGgiLCJwYXlsb2FkIiwiaGFuZGxlVmlkZW9DYWxsIiwicmVzdWx0IiwiY2FsbCIsImlkIiwiY2FsbFR5cGUiLCJsaXZla2l0Um9vbU5hbWUiLCJwb3B1cCIsIm9wZW5DYWxsV2luZG93IiwiaGFuZGxlQXVkaW9DYWxsIiwib3BlbkNvbnRleHRNZW51Iiwic3RvcFByb3BhZ2F0aW9uIiwicmVjdCIsImN1cnJlbnRUYXJnZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4IiwicmlnaHQiLCJ5IiwiYm90dG9tIiwiY2xvc2VDb250ZXh0TWVudSIsImhhbmRsZVJlcGx5IiwiYmFzZSIsImhhbmRsZUNvcHkiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJoYW5kbGVQaW5Ub2dnbGUiLCJzaG91bGRQaW4iLCJpc1Bpbm5lZCIsInVwZGF0ZWQiLCJtIiwiaGFuZGxlU3RhciIsImhhbmRsZUZvcndhcmQiLCJoYW5kbGVLZXlQcmVzcyIsImUiLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiZGlzcGxheUF2YXRhciIsImF2YXRhciIsImRpdiIsImNsYXNzTmFtZSIsImltZyIsInNyYyIsImFsdCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsInN2ZyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJwYXRoIiwiZCIsInJlZiIsImlzT3duIiwiaGFzVGV4dCIsImhhc0ltYWdlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImlucHV0IiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJjbGljayIsImRpc2FibGVkIiwidGV4dGFyZWEiLCJwbGFjZWhvbGRlciIsIm9uS2V5UHJlc3MiLCJyb3dzIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../packages/app/components/FloatingChatWindow.tsx\n"));

/***/ })

});