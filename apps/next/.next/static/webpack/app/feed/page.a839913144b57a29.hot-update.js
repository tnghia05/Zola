"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/feed/page",{

/***/ "(app-pages-browser)/../../packages/app/components/FloatingChatWindow.tsx":
/*!************************************************************!*\
  !*** ../../packages/app/components/FloatingChatWindow.tsx ***!
  \************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FloatingChatWindow: function() { return /* binding */ FloatingChatWindow; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api */ \"(app-pages-browser)/../../packages/app/api.ts\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../socket */ \"(app-pages-browser)/../../packages/app/socket.ts\");\n/* harmony import */ var _services_chatSocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/chatSocket */ \"(app-pages-browser)/../../packages/app/services/chatSocket.ts\");\n/* harmony import */ var _services_callPopup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/callPopup */ \"(app-pages-browser)/../../packages/app/services/callPopup.ts\");\n/* harmony import */ var _styles_floating_chat_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles/floating-chat.css */ \"(app-pages-browser)/../../packages/app/styles/floating-chat.css\");\n/* __next_internal_client_entry_do_not_use__ FloatingChatWindow auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst FloatingChatWindow = (param)=>{\n    let { userId, userName, userAvatar, isOnline, onClose, onMinimize } = param;\n    var _displayName_charAt;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [opponentInfo, setOpponentInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mediaInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwardMessage, setForwardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Helper: get image URL for message (imageUrl or file.url)\n    const getImageUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        var _message_file;\n        var _message_imageUrl;\n        return (_message_imageUrl = message === null || message === void 0 ? void 0 : message.imageUrl) !== null && _message_imageUrl !== void 0 ? _message_imageUrl : message === null || message === void 0 ? void 0 : (_message_file = message.file) === null || _message_file === void 0 ? void 0 : _message_file.url;\n    }, []);\n    const toChatMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>({\n            ...message\n        }), []);\n    // Load current user ID\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (0,_api__WEBPACK_IMPORTED_MODULE_3__.getCurrentUserId)().then(setCurrentUserId).catch(()=>setCurrentUserId(null));\n    }, []);\n    // Sort messages by time\n    const sortMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((msgs)=>{\n        return [\n            ...msgs\n        ].sort((a, b)=>new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n    }, []);\n    // Load or create conversation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadConversation = async ()=>{\n            try {\n                setIsLoading(true);\n                // Try to create or get conversation\n                const conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createConversationWithUser)(userId);\n                setConversationId(conversation._id);\n                // Get opponent info\n                const opponent = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(conversation._id);\n                setOpponentInfo(opponent.user);\n                // Load messages\n                const msgs = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getMessages)(conversation._id);\n                const messagesArray = Array.isArray(msgs) ? msgs : (msgs === null || msgs === void 0 ? void 0 : msgs.messages) || [];\n                setMessages(sortMessages(messagesArray));\n                // Mark as read after loading messages\n                try {\n                    console.log(\"\\uD83D\\uDCD6 FloatingChat: Marking conversation as read:\", conversation._id);\n                    await (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversation._id);\n                    console.log(\"✅ FloatingChat: Marked as read successfully\");\n                } catch (err) {\n                    console.error(\"❌ FloatingChat: Failed to mark as read:\", err);\n                }\n            } catch (error) {\n                console.error(\"Failed to load conversation:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        loadConversation();\n    }, [\n        userId,\n        sortMessages\n    ]);\n    // Socket integration for realtime messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_4__.getSocket)();\n        if (!socket) {\n            console.warn(\"Socket not available for floating chat\");\n            return;\n        }\n        // Join conversation room\n        const joinRoom = ()=>{\n            console.log(\"\\uD83D\\uDCF1 FloatingChat: Joining conversation room: conv:\".concat(conversationId));\n            socket.emit(\"conversation:join\", conversationId);\n        };\n        if (socket.connected) {\n            joinRoom();\n        } else {\n            const onConnect = ()=>{\n                joinRoom();\n                socket.off(\"connect\", onConnect);\n            };\n            socket.on(\"connect\", onConnect);\n        }\n        // Register socket handlers\n        const unsubscribe = (0,_services_chatSocket__WEBPACK_IMPORTED_MODULE_5__.registerChatSocket)(socket, conversationId, {\n            onMessageCreated: (message)=>{\n                console.log(\"\\uD83D\\uDCE8 FloatingChat: New message received:\", message._id);\n                setMessages((prev)=>{\n                    const exists = prev.some((item)=>item._id === message._id);\n                    if (exists) return prev;\n                    const newMessages = sortMessages([\n                        ...prev,\n                        message\n                    ]);\n                    // Force scroll after state update\n                    setTimeout(()=>{\n                        if (messagesContainerRef.current) {\n                            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n                        }\n                        if (messagesEndRef.current) {\n                            messagesEndRef.current.scrollIntoView({\n                                behavior: \"smooth\",\n                                block: \"end\"\n                            });\n                        }\n                    }, 50);\n                    return newMessages;\n                });\n                // Mark as read when new message arrives (only if message is from opponent)\n                if (message.senderId !== currentUserId) {\n                    console.log(\"\\uD83D\\uDCD6 FloatingChat: Marking as read (new message from opponent)\");\n                    (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId, message._id).then(()=>console.log(\"✅ FloatingChat: Marked as read successfully\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n                }\n            },\n            onMessageUpdated: (message)=>{\n                setMessages((prev)=>sortMessages(prev.map((item)=>item._id === message._id ? message : item)));\n            },\n            onMessageDeleted: (messageId)=>{\n                setMessages((prev)=>prev.filter((item)=>item._id !== messageId));\n            }\n        });\n        return ()=>{\n            unsubscribe();\n            if (socket.connected) {\n                socket.emit(\"conversation:leave\", conversationId);\n            }\n        };\n    }, [\n        conversationId,\n        sortMessages,\n        currentUserId\n    ]);\n    // Mark as read when window becomes visible/focused\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!conversationId) return;\n        const handleVisibilityChange = ()=>{\n            if (!document.hidden && conversationId) {\n                console.log(\"\\uD83D\\uDCD6 FloatingChat: Window visible, marking as read\");\n                (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read (visibility change)\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n            }\n        };\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        // Also mark as read when component mounts (window is visible)\n        if (!document.hidden) {\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read (mount)\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n        }\n        return ()=>{\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, [\n        conversationId\n    ]);\n    // Auto scroll to bottom when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messages.length === 0) return;\n        // Use requestAnimationFrame to ensure DOM is updated\n        requestAnimationFrame(()=>{\n            setTimeout(()=>{\n                if (messagesContainerRef.current) {\n                    const container = messagesContainerRef.current;\n                    const isNearBottom = container.scrollHeight - container.scrollTop - container.clientHeight < 100;\n                    // Only auto-scroll if user is near bottom (not scrolled up)\n                    if (isNearBottom || messages.length <= 5) {\n                        container.scrollTop = container.scrollHeight;\n                    }\n                }\n                if (messagesEndRef.current) {\n                    messagesEndRef.current.scrollIntoView({\n                        behavior: \"smooth\",\n                        block: \"end\"\n                    });\n                }\n            }, 100);\n        });\n    }, [\n        messages\n    ]);\n    // Also scroll when conversation loads or when window opens\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isLoading && messages.length > 0 && messagesContainerRef.current) {\n            requestAnimationFrame(()=>{\n                setTimeout(()=>{\n                    if (messagesContainerRef.current) {\n                        messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n                    }\n                }, 300);\n            });\n        }\n    }, [\n        isLoading,\n        conversationId\n    ]);\n    const handleSendMessage = async ()=>{\n        if (!inputText.trim() || !conversationId || isSending) return;\n        const text = inputText.trim();\n        setInputText(\"\");\n        setIsSending(true);\n        try {\n            const newMessage = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createMessage)(conversationId, text);\n            setMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === newMessage._id);\n                if (exists) return prev;\n                return sortMessages([\n                    ...prev,\n                    newMessage\n                ]);\n            });\n            // Mark as read after sending (to update read receipts)\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read after sending\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n        } catch (error) {\n            console.error(\"Failed to send message:\", error);\n            setInputText(text); // Restore text on error\n        } finally{\n            setIsSending(false);\n        }\n    };\n    const handleUploadMedia = async (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        event.target.value = \"\";\n        if (!file || !conversationId) return;\n        try {\n            var _baseFile_mime, _baseFile_mime1;\n            setIsUploading(true);\n            const uploaded = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.uploadChatFile)(file);\n            if (!(uploaded === null || uploaded === void 0 ? void 0 : uploaded.url)) {\n                console.warn(\"FloatingChat: Upload did not return URL\");\n                return;\n            }\n            var _uploaded_name, _uploaded_mime, _uploaded_size;\n            const baseFile = {\n                url: uploaded.url,\n                name: (_uploaded_name = uploaded.name) !== null && _uploaded_name !== void 0 ? _uploaded_name : file.name,\n                mime: (_uploaded_mime = uploaded.mime) !== null && _uploaded_mime !== void 0 ? _uploaded_mime : file.type,\n                size: (_uploaded_size = uploaded.size) !== null && _uploaded_size !== void 0 ? _uploaded_size : file.size\n            };\n            const isImageOrVideo = ((_baseFile_mime = baseFile.mime) === null || _baseFile_mime === void 0 ? void 0 : _baseFile_mime.startsWith(\"image/\")) || ((_baseFile_mime1 = baseFile.mime) === null || _baseFile_mime1 === void 0 ? void 0 : _baseFile_mime1.startsWith(\"video/\")) || file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\");\n            const payload = {\n                type: isImageOrVideo ? \"image\" : \"file\",\n                file: baseFile\n            };\n            const newMessage = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createMessageWithPayload)(conversationId, payload);\n            setMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === newMessage._id);\n                if (exists) return prev;\n                return sortMessages([\n                    ...prev,\n                    newMessage\n                ]);\n            });\n        } catch (error) {\n            console.error(\"FloatingChat: Failed to upload/send media:\", error);\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleVideoCall = async ()=>{\n        if (!conversationId) return;\n        try {\n            var _result_call;\n            console.log(\"[FloatingChat] Initiating video call...\", {\n                conversationId,\n                userId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.initiateCall)(conversationId, \"video\", userId);\n            if (!((_result_call = result.call) === null || _result_call === void 0 ? void 0 : _result_call.id)) {\n                console.error(\"[FloatingChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_6__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[FloatingChat] Error initiating video call:\", error);\n        }\n    };\n    const handleAudioCall = async ()=>{\n        if (!conversationId) return;\n        try {\n            var _result_call;\n            console.log(\"[FloatingChat] Initiating audio call...\", {\n                conversationId,\n                userId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.initiateCall)(conversationId, \"audio\", userId);\n            if (!((_result_call = result.call) === null || _result_call === void 0 ? void 0 : _result_call.id)) {\n                console.error(\"[FloatingChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_6__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[FloatingChat] Error initiating audio call:\", error);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    const displayName = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.name) || userName;\n    const displayAvatar = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.avatar) || userAvatar;\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"floating-chat-window\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-header-left\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"floating-chat-avatar\",\n                                children: [\n                                    displayAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: displayAvatar,\n                                        alt: displayName\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 15\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"floating-chat-avatar-fallback\",\n                                        children: (displayName === null || displayName === void 0 ? void 0 : (_displayName_charAt = displayName.charAt(0)) === null || _displayName_charAt === void 0 ? void 0 : _displayName_charAt.toUpperCase()) || \"U\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 398,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-online-dot\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 402,\n                                        columnNumber: 26\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 394,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"floating-chat-header-info\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-header-name\",\n                                        children: displayName\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 405,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-header-status\",\n                                        children: isOnline ? \"Đang hoạt động\" : \"Kh\\xf4ng hoạt động\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 406,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 404,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 393,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: handleAudioCall,\n                                title: \"Gọi thoại\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"18\",\n                                    height: \"18\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M6.62 10.79a15.464 15.464 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24 11.72 11.72 0 003.68.59 1 1 0 011 1V21a1 1 0 01-1 1C10.3 22 2 13.7 2 3a1 1 0 011-1h3.5a1 1 0 011 1 11.72 11.72 0 00.59 3.68 1 1 0 01-.25 1.01l-2.22 2.1z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 418,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 417,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 412,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: handleVideoCall,\n                                title: \"Gọi video\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"18\",\n                                    height: \"18\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M17 10.5V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2h10a2 2 0 002-2v-3.5l4 4v-11l-4 4z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 427,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 426,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 421,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: onMinimize,\n                                title: \"Thu nhỏ\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M19 13H5v-2h14v2z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 436,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 435,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 430,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: onClose,\n                                title: \"Đ\\xf3ng\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 445,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 444,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 411,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 392,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-messages\",\n                ref: messagesContainerRef,\n                children: [\n                    isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-loading\",\n                        children: \"Đang tải...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 454,\n                        columnNumber: 11\n                    }, undefined) : !messages || messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-empty\",\n                        children: \"Chưa c\\xf3 tin nhắn n\\xe0o\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 456,\n                        columnNumber: 11\n                    }, undefined) : (messages || []).map((message)=>{\n                        const isOwn = message.senderId === currentUserId;\n                        const imageUrl = getImageUrl(message);\n                        const hasText = !!message.text && message.text.trim().length > 0;\n                        const hasImage = !!imageUrl;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"floating-chat-message \".concat(isOwn ? \"floating-chat-message--own\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"floating-chat-message-bubble \".concat(!hasText && hasImage ? \"floating-chat-message-bubble--image-only\" : \"\"),\n                                    children: [\n                                        hasText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-text\",\n                                            children: message.text\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 476,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        hasImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-image-wrapper\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: imageUrl,\n                                                alt: \"attachment\",\n                                                className: \"floating-chat-message-image\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                                lineNumber: 480,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 479,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"floating-chat-message-time\",\n                                    children: new Date(message.createdAt).toLocaleTimeString(\"vi-VN\", {\n                                        hour: \"2-digit\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 488,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, message._id, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                            lineNumber: 464,\n                            columnNumber: 15\n                        }, undefined);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 452,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-input-wrapper\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-input-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: mediaInputRef,\n                                type: \"file\",\n                                accept: \"image/*,video/*\",\n                                hidden: true,\n                                onChange: handleUploadMedia\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 504,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-input-btn\",\n                                title: isUploading ? \"Đang gửi ảnh/video...\" : \"Th\\xeam ảnh/video\",\n                                onClick: ()=>{\n                                    var _mediaInputRef_current;\n                                    return (_mediaInputRef_current = mediaInputRef.current) === null || _mediaInputRef_current === void 0 ? void 0 : _mediaInputRef_current.click();\n                                },\n                                disabled: isUploading || isSending,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 518,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 517,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 511,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-input-btn\",\n                                title: \"Th\\xeam emoji\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 523,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 522,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 521,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 503,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        className: \"floating-chat-input\",\n                        placeholder: \"Aa\",\n                        value: inputText,\n                        onChange: (e)=>setInputText(e.target.value),\n                        onKeyPress: handleKeyPress,\n                        rows: 1\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 527,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"floating-chat-send-btn\",\n                        onClick: handleSendMessage,\n                        disabled: !inputText.trim() || isSending,\n                        title: \"Gửi\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            width: \"20\",\n                            height: \"20\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 542,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                            lineNumber: 541,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 535,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 502,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n        lineNumber: 390,\n        columnNumber: 5\n    }, undefined), document.body);\n};\n_s(FloatingChatWindow, \"+uUGdhapRmYFGa/kFcZq/FQc94s=\");\n_c = FloatingChatWindow;\nvar _c;\n$RefreshReg$(_c, \"FloatingChatWindow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9GbG9hdGluZ0NoYXRXaW5kb3cudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUU4RTtBQUNyQztBQWtCekI7QUFDc0I7QUFDc0I7QUFDSDtBQUdwQjtBQVc5QixNQUFNaUIscUJBQXFCO1FBQUMsRUFDakNDLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxVQUFVLEVBQ2M7UUFpV1RDOztJQWhXZixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3pCLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDMEIsZ0JBQWdCQyxrQkFBa0IsR0FBRzNCLCtDQUFRQSxDQUFnQjtJQUNwRSxNQUFNLENBQUM0QixXQUFXQyxhQUFhLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUM4QixXQUFXQyxhQUFhLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNnQyxXQUFXQyxhQUFhLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNrQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNvQyxjQUFjQyxnQkFBZ0IsR0FBR3JDLCtDQUFRQSxDQUFzQztJQUN0RixNQUFNLENBQUNzQyxlQUFlQyxpQkFBaUIsR0FBR3ZDLCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNd0MsaUJBQWlCdkMsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU13Qyx1QkFBdUJ4Qyw2Q0FBTUEsQ0FBaUI7SUFDcEQsTUFBTXlDLGdCQUFnQnpDLDZDQUFNQSxDQUEwQjtJQUN0RCxNQUFNLENBQUMwQyxhQUFhQyxlQUFlLEdBQUc1QywrQ0FBUUEsQ0FJcEM7SUFDVixNQUFNLENBQUM2QyxnQkFBZ0JDLGtCQUFrQixHQUFHOUMsK0NBQVFBLENBQXFCO0lBRXpFLDJEQUEyRDtJQUMzRCxNQUFNK0Ms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QUFPOUY7d0JBQ1BtSixVQUFVLENBQUNqQyxJQUFNakgsYUFBYWlILEVBQUV0QixNQUFNLENBQUNFLEtBQUs7d0JBQzVDMEQsWUFBWXZDO3dCQUNad0MsTUFBTTs7Ozs7O2tDQUVSLDhEQUFDekI7d0JBQ0NQLFdBQVU7d0JBQ1ZRLFNBQVM1Qzt3QkFDVGdFLFVBQVUsQ0FBQ3JKLFVBQVVzRixJQUFJLE1BQU1sRjt3QkFDL0I4SCxPQUFNO2tDQUVOLDRFQUFDQzs0QkFBSUMsT0FBTTs0QkFBS0MsUUFBTzs0QkFBS0MsU0FBUTs0QkFBWUMsTUFBSztzQ0FDbkQsNEVBQUNDO2dDQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUJBS2hCN0QsU0FBUzhFLElBQUk7QUFFakIsRUFBRTtHQTlmV3RLO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9GbG9hdGluZ0NoYXRXaW5kb3cudHN4P2MxMjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCBDaGFuZ2VFdmVudCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tIFwicmVhY3QtZG9tXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0TWVzc2FnZXMsXHJcbiAgY3JlYXRlTWVzc2FnZSxcclxuICBjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQsXHJcbiAgY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIsXHJcbiAgZ2V0T3Bwb25lbnRJbmZvLFxyXG4gIGdldEN1cnJlbnRVc2VySWQsXHJcbiAgbWFya0FzUmVhZCxcclxuICBNZXNzYWdlLFxyXG4gIENvbnZlcnNhdGlvbixcclxuICBPcHBvbmVudEluZm9SZXNwb25zZSxcclxuICB1cGxvYWRDaGF0RmlsZSxcclxuICBpbml0aWF0ZUNhbGwsXHJcbiAgQ3JlYXRlTWVzc2FnZVBheWxvYWQsXHJcbiAgcGluTWVzc2FnZSxcclxuICB1bnBpbk1lc3NhZ2UsXHJcbiAgc3Rhck1lc3NhZ2UsXHJcbn0gZnJvbSBcIi4uL2FwaVwiO1xyXG5pbXBvcnQgeyBnZXRTb2NrZXQgfSBmcm9tIFwiLi4vc29ja2V0XCI7XHJcbmltcG9ydCB7IHJlZ2lzdGVyQ2hhdFNvY2tldCB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jaGF0U29ja2V0XCI7XHJcbmltcG9ydCB7IENhbGxQb3B1cE1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvY2FsbFBvcHVwXCI7XHJcbmltcG9ydCB7IEZvcndhcmRNZXNzYWdlRGlhbG9nIH0gZnJvbSBcIi4vY2hhdC9Gb3J3YXJkTWVzc2FnZURpYWxvZ1wiO1xyXG5pbXBvcnQgeyBDaGF0TWVzc2FnZSB9IGZyb20gXCIuLi90eXBlcy9jaGF0XCI7XHJcbmltcG9ydCBcIi4uL3N0eWxlcy9mbG9hdGluZy1jaGF0LmNzc1wiO1xyXG5cclxuaW50ZXJmYWNlIEZsb2F0aW5nQ2hhdFdpbmRvd1Byb3BzIHtcclxuICB1c2VySWQ6IHN0cmluZztcclxuICB1c2VyTmFtZTogc3RyaW5nO1xyXG4gIHVzZXJBdmF0YXI/OiBzdHJpbmc7XHJcbiAgaXNPbmxpbmU/OiBib29sZWFuO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgb25NaW5pbWl6ZT86ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGbG9hdGluZ0NoYXRXaW5kb3cgPSAoe1xyXG4gIHVzZXJJZCxcclxuICB1c2VyTmFtZSxcclxuICB1c2VyQXZhdGFyLFxyXG4gIGlzT25saW5lLFxyXG4gIG9uQ2xvc2UsXHJcbiAgb25NaW5pbWl6ZSxcclxufTogRmxvYXRpbmdDaGF0V2luZG93UHJvcHMpID0+IHtcclxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xyXG4gIGNvbnN0IFtjb252ZXJzYXRpb25JZCwgc2V0Q29udmVyc2F0aW9uSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lucHV0VGV4dCwgc2V0SW5wdXRUZXh0XSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1VwbG9hZGluZywgc2V0SXNVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtvcHBvbmVudEluZm8sIHNldE9wcG9uZW50SW5mb10gPSB1c2VTdGF0ZTxPcHBvbmVudEluZm9SZXNwb25zZVtcInVzZXJcIl0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgbWVzc2FnZXNDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IG1lZGlhSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjb250ZXh0TWVudSwgc2V0Q29udGV4dE1lbnVdID0gdXNlU3RhdGU8e1xyXG4gICAgbWVzc2FnZTogTWVzc2FnZTtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICB9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2ZvcndhcmRNZXNzYWdlLCBzZXRGb3J3YXJkTWVzc2FnZV0gPSB1c2VTdGF0ZTxDaGF0TWVzc2FnZSB8IG51bGw+KG51bGwpO1xyXG5cclxuICAvLyBIZWxwZXI6IGdldCBpbWFnZSBVUkwgZm9yIG1lc3NhZ2UgKGltYWdlVXJsIG9yIGZpbGUudXJsKVxyXG4gIGNvbnN0IGdldEltYWdlVXJsID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IGFueSk6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgICByZXR1cm4gbWVzc2FnZT8uaW1hZ2VVcmwgPz8gbWVzc2FnZT8uZmlsZT8udXJsO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgdG9DaGF0TWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKG1lc3NhZ2U6IE1lc3NhZ2UpOiBDaGF0TWVzc2FnZSA9PiAoe1xyXG4gICAgICAuLi4obWVzc2FnZSBhcyBhbnkpLFxyXG4gICAgfSksXHJcbiAgICBbXVxyXG4gICk7XHJcblxyXG4gIC8vIExvYWQgY3VycmVudCB1c2VyIElEXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGdldEN1cnJlbnRVc2VySWQoKS50aGVuKHNldEN1cnJlbnRVc2VySWQpLmNhdGNoKCgpID0+IHNldEN1cnJlbnRVc2VySWQobnVsbCkpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU29ydCBtZXNzYWdlcyBieSB0aW1lXHJcbiAgY29uc3Qgc29ydE1lc3NhZ2VzID0gdXNlQ2FsbGJhY2soKG1zZ3M6IE1lc3NhZ2VbXSkgPT4ge1xyXG4gICAgcmV0dXJuIFsuLi5tc2dzXS5zb3J0KFxyXG4gICAgICAoYSwgYikgPT4gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKClcclxuICAgICk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBMb2FkIG9yIGNyZWF0ZSBjb252ZXJzYXRpb25cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgbG9hZENvbnZlcnNhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgLy8gVHJ5IHRvIGNyZWF0ZSBvciBnZXQgY29udmVyc2F0aW9uXHJcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uID0gYXdhaXQgY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIodXNlcklkKTtcclxuICAgICAgICBzZXRDb252ZXJzYXRpb25JZChjb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZXQgb3Bwb25lbnQgaW5mb1xyXG4gICAgICAgIGNvbnN0IG9wcG9uZW50ID0gYXdhaXQgZ2V0T3Bwb25lbnRJbmZvKGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICAgIHNldE9wcG9uZW50SW5mbyhvcHBvbmVudC51c2VyKTtcclxuXHJcbiAgICAgICAgLy8gTG9hZCBtZXNzYWdlc1xyXG4gICAgICAgIGNvbnN0IG1zZ3MgPSBhd2FpdCBnZXRNZXNzYWdlcyhjb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgICBjb25zdCBtZXNzYWdlc0FycmF5ID0gQXJyYXkuaXNBcnJheShtc2dzKSA/IG1zZ3MgOiAobXNncyBhcyBhbnkpPy5tZXNzYWdlcyB8fCBbXTtcclxuICAgICAgICBzZXRNZXNzYWdlcyhzb3J0TWVzc2FnZXMobWVzc2FnZXNBcnJheSkpO1xyXG5cclxuICAgICAgICAvLyBNYXJrIGFzIHJlYWQgYWZ0ZXIgbG9hZGluZyBtZXNzYWdlc1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk5YgRmxvYXRpbmdDaGF0OiBNYXJraW5nIGNvbnZlcnNhdGlvbiBhcyByZWFkOlwiLCBjb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgICAgIGF3YWl0IG1hcmtBc1JlYWQoY29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBGbG9hdGluZ0NoYXQ6IE1hcmtlZCBhcyByZWFkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gbWFyayBhcyByZWFkOlwiLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgY29udmVyc2F0aW9uOlwiLCBlcnJvcik7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsb2FkQ29udmVyc2F0aW9uKCk7XHJcbiAgfSwgW3VzZXJJZCwgc29ydE1lc3NhZ2VzXSk7XHJcblxyXG4gIC8vIFNvY2tldCBpbnRlZ3JhdGlvbiBmb3IgcmVhbHRpbWUgbWVzc2FnZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcclxuICAgIGlmICghc29ja2V0KSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIlNvY2tldCBub3QgYXZhaWxhYmxlIGZvciBmbG9hdGluZyBjaGF0XCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSm9pbiBjb252ZXJzYXRpb24gcm9vbVxyXG4gICAgY29uc3Qgam9pblJvb20gPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OxIEZsb2F0aW5nQ2hhdDogSm9pbmluZyBjb252ZXJzYXRpb24gcm9vbTogY29udjoke2NvbnZlcnNhdGlvbklkfWApO1xyXG4gICAgICBzb2NrZXQuZW1pdChcImNvbnZlcnNhdGlvbjpqb2luXCIsIGNvbnZlcnNhdGlvbklkKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHNvY2tldC5jb25uZWN0ZWQpIHtcclxuICAgICAgam9pblJvb20oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG9uQ29ubmVjdCA9ICgpID0+IHtcclxuICAgICAgICBqb2luUm9vbSgpO1xyXG4gICAgICAgIHNvY2tldC5vZmYoXCJjb25uZWN0XCIsIG9uQ29ubmVjdCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgb25Db25uZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWdpc3RlciBzb2NrZXQgaGFuZGxlcnNcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gcmVnaXN0ZXJDaGF0U29ja2V0KHNvY2tldCwgY29udmVyc2F0aW9uSWQsIHtcclxuICAgICAgb25NZXNzYWdlQ3JlYXRlZDogKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk6ggRmxvYXRpbmdDaGF0OiBOZXcgbWVzc2FnZSByZWNlaXZlZDpcIiwgbWVzc2FnZS5faWQpO1xyXG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSBtZXNzYWdlLl9pZCk7XHJcbiAgICAgICAgICBpZiAoZXhpc3RzKSByZXR1cm4gcHJldjtcclxuICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gc29ydE1lc3NhZ2VzKFsuLi5wcmV2LCBtZXNzYWdlXSk7XHJcbiAgICAgICAgICAvLyBGb3JjZSBzY3JvbGwgYWZ0ZXIgc3RhdGUgdXBkYXRlXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiLCBibG9jazogXCJlbmRcIiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIE1hcmsgYXMgcmVhZCB3aGVuIG5ldyBtZXNzYWdlIGFycml2ZXMgKG9ubHkgaWYgbWVzc2FnZSBpcyBmcm9tIG9wcG9uZW50KVxyXG4gICAgICAgIGlmIChtZXNzYWdlLnNlbmRlcklkICE9PSBjdXJyZW50VXNlcklkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk5YgRmxvYXRpbmdDaGF0OiBNYXJraW5nIGFzIHJlYWQgKG5ldyBtZXNzYWdlIGZyb20gb3Bwb25lbnQpXCIpO1xyXG4gICAgICAgICAgbWFya0FzUmVhZChjb252ZXJzYXRpb25JZCwgbWVzc2FnZS5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwi4pyFIEZsb2F0aW5nQ2hhdDogTWFya2VkIGFzIHJlYWQgc3VjY2Vzc2Z1bGx5XCIpKVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIuKdjCBGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byBtYXJrIGFzIHJlYWQ6XCIsIGVycikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgb25NZXNzYWdlVXBkYXRlZDogKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT5cclxuICAgICAgICAgIHNvcnRNZXNzYWdlcyhcclxuICAgICAgICAgICAgcHJldi5tYXAoKGl0ZW0pID0+IChpdGVtLl9pZCA9PT0gbWVzc2FnZS5faWQgPyBtZXNzYWdlIDogaXRlbSkpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgICAgb25NZXNzYWdlRGVsZXRlZDogKG1lc3NhZ2VJZCkgPT4ge1xyXG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5faWQgIT09IG1lc3NhZ2VJZCkpO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgdW5zdWJzY3JpYmUoKTtcclxuICAgICAgaWYgKHNvY2tldC5jb25uZWN0ZWQpIHtcclxuICAgICAgICBzb2NrZXQuZW1pdChcImNvbnZlcnNhdGlvbjpsZWF2ZVwiLCBjb252ZXJzYXRpb25JZCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2NvbnZlcnNhdGlvbklkLCBzb3J0TWVzc2FnZXMsIGN1cnJlbnRVc2VySWRdKTtcclxuXHJcbiAgLy8gTWFyayBhcyByZWFkIHdoZW4gd2luZG93IGJlY29tZXMgdmlzaWJsZS9mb2N1c2VkXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbiAmJiBjb252ZXJzYXRpb25JZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+TliBGbG9hdGluZ0NoYXQ6IFdpbmRvdyB2aXNpYmxlLCBtYXJraW5nIGFzIHJlYWRcIik7XHJcbiAgICAgICAgbWFya0FzUmVhZChjb252ZXJzYXRpb25JZClcclxuICAgICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwi4pyFIEZsb2F0aW5nQ2hhdDogTWFya2VkIGFzIHJlYWQgKHZpc2liaWxpdHkgY2hhbmdlKVwiKSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwi4p2MIEZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIG1hcmsgYXMgcmVhZDpcIiwgZXJyKSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcbiAgICAvLyBBbHNvIG1hcmsgYXMgcmVhZCB3aGVuIGNvbXBvbmVudCBtb3VudHMgKHdpbmRvdyBpcyB2aXNpYmxlKVxyXG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIHtcclxuICAgICAgbWFya0FzUmVhZChjb252ZXJzYXRpb25JZClcclxuICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIuKchSBGbG9hdGluZ0NoYXQ6IE1hcmtlZCBhcyByZWFkIChtb3VudClcIikpXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCLinYwgRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gbWFyayBhcyByZWFkOlwiLCBlcnIpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuICAgIH07XHJcbiAgfSwgW2NvbnZlcnNhdGlvbklkXSk7XHJcblxyXG4gIC8vIEF1dG8gc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG1lc3NhZ2VzIGNoYW5nZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gZW5zdXJlIERPTSBpcyB1cGRhdGVkXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudDtcclxuICAgICAgICAgIGNvbnN0IGlzTmVhckJvdHRvbSA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQgLSBjb250YWluZXIuc2Nyb2xsVG9wIC0gY29udGFpbmVyLmNsaWVudEhlaWdodCA8IDEwMDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gT25seSBhdXRvLXNjcm9sbCBpZiB1c2VyIGlzIG5lYXIgYm90dG9tIChub3Qgc2Nyb2xsZWQgdXApXHJcbiAgICAgICAgICBpZiAoaXNOZWFyQm90dG9tIHx8IG1lc3NhZ2VzLmxlbmd0aCA8PSA1KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiLCBibG9jazogXCJlbmRcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9KTtcclxuICB9LCBbbWVzc2FnZXNdKTtcclxuXHJcbiAgLy8gQWxzbyBzY3JvbGwgd2hlbiBjb252ZXJzYXRpb24gbG9hZHMgb3Igd2hlbiB3aW5kb3cgb3BlbnNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0xvYWRpbmcgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCAmJiBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIDMwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtpc0xvYWRpbmcsIGNvbnZlcnNhdGlvbklkXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dFRleHQudHJpbSgpIHx8ICFjb252ZXJzYXRpb25JZCB8fCBpc1NlbmRpbmcpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXRUZXh0LnRyaW0oKTtcclxuICAgIHNldElucHV0VGV4dChcIlwiKTtcclxuICAgIHNldElzU2VuZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0gYXdhaXQgY3JlYXRlTWVzc2FnZShjb252ZXJzYXRpb25JZCwgdGV4dCk7XHJcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKChtc2cpID0+IG1zZy5faWQgPT09IG5ld01lc3NhZ2UuX2lkKTtcclxuICAgICAgICBpZiAoZXhpc3RzKSByZXR1cm4gcHJldjtcclxuICAgICAgICByZXR1cm4gc29ydE1lc3NhZ2VzKFsuLi5wcmV2LCBuZXdNZXNzYWdlXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBNYXJrIGFzIHJlYWQgYWZ0ZXIgc2VuZGluZyAodG8gdXBkYXRlIHJlYWQgcmVjZWlwdHMpXHJcbiAgICAgIG1hcmtBc1JlYWQoY29udmVyc2F0aW9uSWQpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCLinIUgRmxvYXRpbmdDaGF0OiBNYXJrZWQgYXMgcmVhZCBhZnRlciBzZW5kaW5nXCIpKVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwi4p2MIEZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIG1hcmsgYXMgcmVhZDpcIiwgZXJyKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgbWVzc2FnZTpcIiwgZXJyb3IpO1xyXG4gICAgICBzZXRJbnB1dFRleHQodGV4dCk7IC8vIFJlc3RvcmUgdGV4dCBvbiBlcnJvclxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVVcGxvYWRNZWRpYSA9IGFzeW5jIChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXM/LlswXTtcclxuICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IFwiXCI7XHJcbiAgICBpZiAoIWZpbGUgfHwgIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHVwbG9hZGVkID0gYXdhaXQgdXBsb2FkQ2hhdEZpbGUoZmlsZSk7XHJcbiAgICAgIGlmICghdXBsb2FkZWQ/LnVybCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIkZsb2F0aW5nQ2hhdDogVXBsb2FkIGRpZCBub3QgcmV0dXJuIFVSTFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGJhc2VGaWxlID0ge1xyXG4gICAgICAgIHVybDogdXBsb2FkZWQudXJsLFxyXG4gICAgICAgIG5hbWU6IHVwbG9hZGVkLm5hbWUgPz8gZmlsZS5uYW1lLFxyXG4gICAgICAgIG1pbWU6IHVwbG9hZGVkLm1pbWUgPz8gZmlsZS50eXBlLFxyXG4gICAgICAgIHNpemU6IHVwbG9hZGVkLnNpemUgPz8gZmlsZS5zaXplLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaXNJbWFnZU9yVmlkZW8gPVxyXG4gICAgICAgIGJhc2VGaWxlLm1pbWU/LnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikgfHxcclxuICAgICAgICBiYXNlRmlsZS5taW1lPy5zdGFydHNXaXRoKFwidmlkZW8vXCIpIHx8XHJcbiAgICAgICAgZmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikgfHxcclxuICAgICAgICBmaWxlLnR5cGUuc3RhcnRzV2l0aChcInZpZGVvL1wiKTtcclxuXHJcbiAgICAgIGNvbnN0IHBheWxvYWQ6IENyZWF0ZU1lc3NhZ2VQYXlsb2FkID0ge1xyXG4gICAgICAgIHR5cGU6IGlzSW1hZ2VPclZpZGVvID8gXCJpbWFnZVwiIDogXCJmaWxlXCIsXHJcbiAgICAgICAgZmlsZTogYmFzZUZpbGUsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0gYXdhaXQgY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkKGNvbnZlcnNhdGlvbklkLCBwYXlsb2FkKTtcclxuXHJcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKChtc2cpID0+IG1zZy5faWQgPT09IG5ld01lc3NhZ2UuX2lkKTtcclxuICAgICAgICBpZiAoZXhpc3RzKSByZXR1cm4gcHJldjtcclxuICAgICAgICByZXR1cm4gc29ydE1lc3NhZ2VzKFsuLi5wcmV2LCBuZXdNZXNzYWdlXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIHVwbG9hZC9zZW5kIG1lZGlhOlwiLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVmlkZW9DYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0Zsb2F0aW5nQ2hhdF0gSW5pdGlhdGluZyB2aWRlbyBjYWxsLi4uXCIsIHsgY29udmVyc2F0aW9uSWQsIHVzZXJJZCB9KTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW5pdGlhdGVDYWxsKGNvbnZlcnNhdGlvbklkLCBcInZpZGVvXCIsIHVzZXJJZCk7XHJcbiAgICAgIGlmICghcmVzdWx0LmNhbGw/LmlkKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltGbG9hdGluZ0NoYXRdIE5vIGNhbGwgSUQgaW4gcmVzcG9uc2U6XCIsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjYWxsVHlwZSA9IHJlc3VsdC5jYWxsLmNhbGxUeXBlID09PSBcInNmdVwiID8gXCJzZnVcIiA6IFwicDJwXCI7XHJcbiAgICAgIGNvbnN0IGxpdmVraXRSb29tTmFtZSA9IHJlc3VsdC5jYWxsLmxpdmVraXRSb29tTmFtZTtcclxuXHJcbiAgICAgIGNvbnN0IHBvcHVwID0gbmV3IENhbGxQb3B1cE1hbmFnZXIoKTtcclxuICAgICAgcG9wdXAub3BlbkNhbGxXaW5kb3cocmVzdWx0LmNhbGwuaWQsIGNvbnZlcnNhdGlvbklkLCBmYWxzZSwge1xyXG4gICAgICAgIGNhbGxUeXBlLFxyXG4gICAgICAgIGxpdmVraXRSb29tTmFtZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW0Zsb2F0aW5nQ2hhdF0gRXJyb3IgaW5pdGlhdGluZyB2aWRlbyBjYWxsOlwiLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQXVkaW9DYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0Zsb2F0aW5nQ2hhdF0gSW5pdGlhdGluZyBhdWRpbyBjYWxsLi4uXCIsIHsgY29udmVyc2F0aW9uSWQsIHVzZXJJZCB9KTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW5pdGlhdGVDYWxsKGNvbnZlcnNhdGlvbklkLCBcImF1ZGlvXCIsIHVzZXJJZCk7XHJcbiAgICAgIGlmICghcmVzdWx0LmNhbGw/LmlkKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltGbG9hdGluZ0NoYXRdIE5vIGNhbGwgSUQgaW4gcmVzcG9uc2U6XCIsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjYWxsVHlwZSA9IHJlc3VsdC5jYWxsLmNhbGxUeXBlID09PSBcInNmdVwiID8gXCJzZnVcIiA6IFwicDJwXCI7XHJcbiAgICAgIGNvbnN0IGxpdmVraXRSb29tTmFtZSA9IHJlc3VsdC5jYWxsLmxpdmVraXRSb29tTmFtZTtcclxuXHJcbiAgICAgIGNvbnN0IHBvcHVwID0gbmV3IENhbGxQb3B1cE1hbmFnZXIoKTtcclxuICAgICAgcG9wdXAub3BlbkNhbGxXaW5kb3cocmVzdWx0LmNhbGwuaWQsIGNvbnZlcnNhdGlvbklkLCBmYWxzZSwge1xyXG4gICAgICAgIGNhbGxUeXBlLFxyXG4gICAgICAgIGxpdmVraXRSb29tTmFtZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW0Zsb2F0aW5nQ2hhdF0gRXJyb3IgaW5pdGlhdGluZyBhdWRpbyBjYWxsOlwiLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gb3Bwb25lbnRJbmZvPy5uYW1lIHx8IHVzZXJOYW1lO1xyXG4gIGNvbnN0IGRpc3BsYXlBdmF0YXIgPSBvcHBvbmVudEluZm8/LmF2YXRhciB8fCB1c2VyQXZhdGFyO1xyXG5cclxuICByZXR1cm4gY3JlYXRlUG9ydGFsKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LXdpbmRvd1wiPlxyXG4gICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1sZWZ0XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtYXZhdGFyXCI+XHJcbiAgICAgICAgICAgIHtkaXNwbGF5QXZhdGFyID8gKFxyXG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtkaXNwbGF5QXZhdGFyfSBhbHQ9e2Rpc3BsYXlOYW1lfSAvPlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1hdmF0YXItZmFsbGJhY2tcIj5cclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZT8uY2hhckF0KDApPy50b1VwcGVyQ2FzZSgpIHx8IFwiVVwifVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICB7aXNPbmxpbmUgJiYgPHNwYW4gY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1vbmxpbmUtZG90XCIgLz59XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItaW5mb1wiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1uYW1lXCI+e2Rpc3BsYXlOYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItc3RhdHVzXCI+XHJcbiAgICAgICAgICAgICAge2lzT25saW5lID8gXCLEkGFuZyBob+G6oXQgxJHhu5luZ1wiIDogXCJLaMO0bmcgaG/huqF0IMSR4buZbmdcIn1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUF1ZGlvQ2FsbH1cclxuICAgICAgICAgICAgdGl0bGU9XCJH4buNaSB0aG/huqFpXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi42MiAxMC43OWExNS40NjQgMTUuNDY0IDAgMDA2LjU5IDYuNTlsMi4yLTIuMmExIDEgMCAwMTEuMDEtLjI0IDExLjcyIDExLjcyIDAgMDAzLjY4LjU5IDEgMSAwIDAxMSAxVjIxYTEgMSAwIDAxLTEgMUMxMC4zIDIyIDIgMTMuNyAyIDNhMSAxIDAgMDExLTFoMy41YTEgMSAwIDAxMSAxIDExLjcyIDExLjcyIDAgMDAuNTkgMy42OCAxIDEgMCAwMS0uMjUgMS4wMWwtMi4yMiAyLjF6XCIgLz5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItYnRuXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVmlkZW9DYWxsfVxyXG4gICAgICAgICAgICB0aXRsZT1cIkfhu41pIHZpZGVvXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTcgMTAuNVY3YTIgMiAwIDAwLTItMkg1QTIgMiAwIDAwMyA3djEwYTIgMiAwIDAwMiAyaDEwYTIgMiAwIDAwMi0ydi0zLjVsNCA0di0xMWwtNCA0elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uTWluaW1pemV9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiVGh1IG5o4buPXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTkgMTNINXYtMmgxNHYyelwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgIHRpdGxlPVwixJDDs25nXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyelwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIE1lc3NhZ2VzICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtbWVzc2FnZXNcIiByZWY9e21lc3NhZ2VzQ29udGFpbmVyUmVmfT5cclxuICAgICAgICB7aXNMb2FkaW5nID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWxvYWRpbmdcIj7EkGFuZyB04bqjaS4uLjwvZGl2PlxyXG4gICAgICAgICkgOiAhbWVzc2FnZXMgfHwgbWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWVtcHR5XCI+Q2jGsGEgY8OzIHRpbiBuaOG6r24gbsOgbzwvZGl2PlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICAobWVzc2FnZXMgfHwgW10pLm1hcCgobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc093biA9IG1lc3NhZ2Uuc2VuZGVySWQgPT09IGN1cnJlbnRVc2VySWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gZ2V0SW1hZ2VVcmwobWVzc2FnZSBhcyBhbnkpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNUZXh0ID0gISFtZXNzYWdlLnRleHQgJiYgbWVzc2FnZS50ZXh0LnRyaW0oKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNJbWFnZSA9ICEhaW1hZ2VVcmw7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLl9pZH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsb2F0aW5nLWNoYXQtbWVzc2FnZSAke1xyXG4gICAgICAgICAgICAgICAgICBpc093biA/IFwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLS1vd25cIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxvYXRpbmctY2hhdC1tZXNzYWdlLWJ1YmJsZSAke1xyXG4gICAgICAgICAgICAgICAgICAgICFoYXNUZXh0ICYmIGhhc0ltYWdlID8gXCJmbG9hdGluZy1jaGF0LW1lc3NhZ2UtYnViYmxlLS1pbWFnZS1vbmx5XCIgOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7aGFzVGV4dCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LW1lc3NhZ2UtdGV4dFwiPnttZXNzYWdlLnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIHtoYXNJbWFnZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LW1lc3NhZ2UtaW1hZ2Utd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJhdHRhY2htZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLWltYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLXRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAge25ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZEF0KS50b0xvY2FsZVRpbWVTdHJpbmcoXCJ2aS1WTlwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKX1cclxuICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIElucHV0ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaW5wdXQtd3JhcHBlclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1pbnB1dC1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgcmVmPXttZWRpYUlucHV0UmVmfVxyXG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLyosdmlkZW8vKlwiXHJcbiAgICAgICAgICAgIGhpZGRlblxyXG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlVXBsb2FkTWVkaWF9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWlucHV0LWJ0blwiXHJcbiAgICAgICAgICAgIHRpdGxlPXtpc1VwbG9hZGluZyA/IFwixJBhbmcgZ+G7rWkg4bqjbmgvdmlkZW8uLi5cIiA6IFwiVGjDqm0g4bqjbmgvdmlkZW9cIn1cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbWVkaWFJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNVcGxvYWRpbmcgfHwgaXNTZW5kaW5nfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XHJcbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSAxOVY1YzAtMS4xLS45LTItMi0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJ6TTguNSAxMy41bDIuNSAzLjAxTDE0LjUgMTJsNC41IDZINWwzLjUtNC41elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaW5wdXQtYnRuXCIgdGl0bGU9XCJUaMOqbSBlbW9qaVwiPlxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XHJcbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWlucHV0XCJcclxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWFcIlxyXG4gICAgICAgICAgdmFsdWU9e2lucHV0VGV4dH1cclxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXRUZXh0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxyXG4gICAgICAgICAgcm93cz17MX1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtc2VuZC1idG5cIlxyXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XHJcbiAgICAgICAgICBkaXNhYmxlZD17IWlucHV0VGV4dC50cmltKCkgfHwgaXNTZW5kaW5nfVxyXG4gICAgICAgICAgdGl0bGU9XCJH4butaVwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTIuMDEgMjFMMjMgMTIgMi4wMSAzIDIgMTBsMTUgMi0xNSAyelwiIC8+XHJcbiAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj4sXHJcbiAgICBkb2N1bWVudC5ib2R5XHJcbiAgKTtcclxufTtcclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiY3JlYXRlUG9ydGFsIiwiZ2V0TWVzc2FnZXMiLCJjcmVhdGVNZXNzYWdlIiwiY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkIiwiY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIiLCJnZXRPcHBvbmVudEluZm8iLCJnZXRDdXJyZW50VXNlcklkIiwibWFya0FzUmVhZCIsInVwbG9hZENoYXRGaWxlIiwiaW5pdGlhdGVDYWxsIiwiZ2V0U29ja2V0IiwicmVnaXN0ZXJDaGF0U29ja2V0IiwiQ2FsbFBvcHVwTWFuYWdlciIsIkZsb2F0aW5nQ2hhdFdpbmRvdyIsInVzZXJJZCIsInVzZXJOYW1lIiwidXNlckF2YXRhciIsImlzT25saW5lIiwib25DbG9zZSIsIm9uTWluaW1pemUiLCJkaXNwbGF5TmFtZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjb252ZXJzYXRpb25JZCIsInNldENvbnZlcnNhdGlvbklkIiwiaW5wdXRUZXh0Iiwic2V0SW5wdXRUZXh0IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwiaXNVcGxvYWRpbmciLCJzZXRJc1VwbG9hZGluZyIsIm9wcG9uZW50SW5mbyIsInNldE9wcG9uZW50SW5mbyIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwibWVzc2FnZXNFbmRSZWYiLCJtZXNzYWdlc0NvbnRhaW5lclJlZiIsIm1lZGlhSW5wdXRSZWYiLCJjb250ZXh0TWVudSIsInNldENvbnRleHRNZW51IiwiZm9yd2FyZE1lc3NhZ2UiLCJzZXRGb3J3YXJkTWVzc2FnZSIsImdldEltYWdlVXJsIiwibWVzc2FnZSIsImltYWdlVXJsIiwiZmlsZSIsInVybCIsInRvQ2hhdE1lc3NhZ2UiLCJ0aGVuIiwiY2F0Y2giLCJzb3J0TWVzc2FnZXMiLCJtc2dzIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsImNyZWF0ZWRBdCIsImdldFRpbWUiLCJsb2FkQ29udmVyc2F0aW9uIiwiY29udmVyc2F0aW9uIiwiX2lkIiwib3Bwb25lbnQiLCJ1c2VyIiwibWVzc2FnZXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJlcnJvciIsInNvY2tldCIsIndhcm4iLCJqb2luUm9vbSIsImVtaXQiLCJjb25uZWN0ZWQiLCJvbkNvbm5lY3QiLCJvZmYiLCJvbiIsInVuc3Vic2NyaWJlIiwib25NZXNzYWdlQ3JlYXRlZCIsInByZXYiLCJleGlzdHMiLCJzb21lIiwiaXRlbSIsIm5ld01lc3NhZ2VzIiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJzZW5kZXJJZCIsIm9uTWVzc2FnZVVwZGF0ZWQiLCJtYXAiLCJvbk1lc3NhZ2VEZWxldGVkIiwibWVzc2FnZUlkIiwiZmlsdGVyIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsImRvY3VtZW50IiwiaGlkZGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsZW5ndGgiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjb250YWluZXIiLCJpc05lYXJCb3R0b20iLCJjbGllbnRIZWlnaHQiLCJoYW5kbGVTZW5kTWVzc2FnZSIsInRyaW0iLCJ0ZXh0IiwibmV3TWVzc2FnZSIsIm1zZyIsImhhbmRsZVVwbG9hZE1lZGlhIiwiZXZlbnQiLCJ0YXJnZXQiLCJmaWxlcyIsInZhbHVlIiwiYmFzZUZpbGUiLCJ1cGxvYWRlZCIsIm5hbWUiLCJtaW1lIiwidHlwZSIsInNpemUiLCJpc0ltYWdlT3JWaWRlbyIsInN0YXJ0c1dpdGgiLCJwYXlsb2FkIiwiaGFuZGxlVmlkZW9DYWxsIiwicmVzdWx0IiwiY2FsbCIsImlkIiwiY2FsbFR5cGUiLCJsaXZla2l0Um9vbU5hbWUiLCJwb3B1cCIsIm9wZW5DYWxsV2luZG93IiwiaGFuZGxlQXVkaW9DYWxsIiwiaGFuZGxlS2V5UHJlc3MiLCJlIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImRpc3BsYXlBdmF0YXIiLCJhdmF0YXIiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJzdmciLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJmaWxsIiwicGF0aCIsImQiLCJyZWYiLCJpc093biIsImhhc1RleHQiLCJoYXNJbWFnZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJpbnB1dCIsImFjY2VwdCIsIm9uQ2hhbmdlIiwiY2xpY2siLCJkaXNhYmxlZCIsInRleHRhcmVhIiwicGxhY2Vob2xkZXIiLCJvbktleVByZXNzIiwicm93cyIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../packages/app/components/FloatingChatWindow.tsx\n"));

/***/ })

});