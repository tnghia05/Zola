"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/feed/page",{

/***/ "(app-pages-browser)/../../packages/app/components/FloatingChatWindow.tsx":
/*!************************************************************!*\
  !*** ../../packages/app/components/FloatingChatWindow.tsx ***!
  \************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FloatingChatWindow: function() { return /* binding */ FloatingChatWindow; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api */ \"(app-pages-browser)/../../packages/app/api.ts\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../socket */ \"(app-pages-browser)/../../packages/app/socket.ts\");\n/* harmony import */ var _services_chatSocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/chatSocket */ \"(app-pages-browser)/../../packages/app/services/chatSocket.ts\");\n/* harmony import */ var _services_callPopup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/callPopup */ \"(app-pages-browser)/../../packages/app/services/callPopup.ts\");\n/* harmony import */ var _chat_ForwardMessageDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chat/ForwardMessageDialog */ \"(app-pages-browser)/../../packages/app/components/chat/ForwardMessageDialog.tsx\");\n/* harmony import */ var _styles_floating_chat_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../styles/floating-chat.css */ \"(app-pages-browser)/../../packages/app/styles/floating-chat.css\");\n/* __next_internal_client_entry_do_not_use__ FloatingChatWindow auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst FloatingChatWindow = (param)=>{\n    let { userId, userName, userAvatar, isOnline, onClose, onMinimize } = param;\n    var _displayName_charAt;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [opponentInfo, setOpponentInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mediaInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwardMessage, setForwardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Helper: get image URL for message (imageUrl or file.url)\n    const getImageUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        var _message_file;\n        var _message_imageUrl;\n        return (_message_imageUrl = message === null || message === void 0 ? void 0 : message.imageUrl) !== null && _message_imageUrl !== void 0 ? _message_imageUrl : message === null || message === void 0 ? void 0 : (_message_file = message.file) === null || _message_file === void 0 ? void 0 : _message_file.url;\n    }, []);\n    const toChatMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>({\n            ...message\n        }), []);\n    // Load current user ID\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (0,_api__WEBPACK_IMPORTED_MODULE_3__.getCurrentUserId)().then(setCurrentUserId).catch(()=>setCurrentUserId(null));\n    }, []);\n    // Sort messages by time\n    const sortMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((msgs)=>{\n        return [\n            ...msgs\n        ].sort((a, b)=>new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n    }, []);\n    // Load or create conversation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadConversation = async ()=>{\n            try {\n                setIsLoading(true);\n                // Try to create or get conversation\n                const conversation = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createConversationWithUser)(userId);\n                setConversationId(conversation._id);\n                // Get opponent info\n                const opponent = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getOpponentInfo)(conversation._id);\n                setOpponentInfo(opponent.user);\n                // Load messages\n                const msgs = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.getMessages)(conversation._id);\n                const messagesArray = Array.isArray(msgs) ? msgs : (msgs === null || msgs === void 0 ? void 0 : msgs.messages) || [];\n                setMessages(sortMessages(messagesArray));\n                // Mark as read after loading messages\n                try {\n                    console.log(\"\\uD83D\\uDCD6 FloatingChat: Marking conversation as read:\", conversation._id);\n                    await (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversation._id);\n                    console.log(\"✅ FloatingChat: Marked as read successfully\");\n                } catch (err) {\n                    console.error(\"❌ FloatingChat: Failed to mark as read:\", err);\n                }\n            } catch (error) {\n                console.error(\"Failed to load conversation:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        loadConversation();\n    }, [\n        userId,\n        sortMessages\n    ]);\n    // Socket integration for realtime messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!conversationId) return;\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_4__.getSocket)();\n        if (!socket) {\n            console.warn(\"Socket not available for floating chat\");\n            return;\n        }\n        // Join conversation room\n        const joinRoom = ()=>{\n            console.log(\"\\uD83D\\uDCF1 FloatingChat: Joining conversation room: conv:\".concat(conversationId));\n            socket.emit(\"conversation:join\", conversationId);\n        };\n        if (socket.connected) {\n            joinRoom();\n        } else {\n            const onConnect = ()=>{\n                joinRoom();\n                socket.off(\"connect\", onConnect);\n            };\n            socket.on(\"connect\", onConnect);\n        }\n        // Register socket handlers\n        const unsubscribe = (0,_services_chatSocket__WEBPACK_IMPORTED_MODULE_5__.registerChatSocket)(socket, conversationId, {\n            onMessageCreated: (message)=>{\n                console.log(\"\\uD83D\\uDCE8 FloatingChat: New message received:\", message._id);\n                setMessages((prev)=>{\n                    const exists = prev.some((item)=>item._id === message._id);\n                    if (exists) return prev;\n                    const newMessages = sortMessages([\n                        ...prev,\n                        message\n                    ]);\n                    // Force scroll after state update\n                    setTimeout(()=>{\n                        if (messagesContainerRef.current) {\n                            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n                        }\n                        if (messagesEndRef.current) {\n                            messagesEndRef.current.scrollIntoView({\n                                behavior: \"smooth\",\n                                block: \"end\"\n                            });\n                        }\n                    }, 50);\n                    return newMessages;\n                });\n                // Mark as read when new message arrives (only if message is from opponent)\n                if (message.senderId !== currentUserId) {\n                    console.log(\"\\uD83D\\uDCD6 FloatingChat: Marking as read (new message from opponent)\");\n                    (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId, message._id).then(()=>console.log(\"✅ FloatingChat: Marked as read successfully\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n                }\n            },\n            onMessageUpdated: (message)=>{\n                setMessages((prev)=>sortMessages(prev.map((item)=>item._id === message._id ? message : item)));\n            },\n            onMessageDeleted: (messageId)=>{\n                setMessages((prev)=>prev.filter((item)=>item._id !== messageId));\n            }\n        });\n        return ()=>{\n            unsubscribe();\n            if (socket.connected) {\n                socket.emit(\"conversation:leave\", conversationId);\n            }\n        };\n    }, [\n        conversationId,\n        sortMessages,\n        currentUserId\n    ]);\n    // Mark as read when window becomes visible/focused\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!conversationId) return;\n        const handleVisibilityChange = ()=>{\n            if (!document.hidden && conversationId) {\n                console.log(\"\\uD83D\\uDCD6 FloatingChat: Window visible, marking as read\");\n                (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read (visibility change)\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n            }\n        };\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        // Also mark as read when component mounts (window is visible)\n        if (!document.hidden) {\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read (mount)\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n        }\n        return ()=>{\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, [\n        conversationId\n    ]);\n    // Auto scroll to bottom when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messages.length === 0) return;\n        // Use requestAnimationFrame to ensure DOM is updated\n        requestAnimationFrame(()=>{\n            setTimeout(()=>{\n                if (messagesContainerRef.current) {\n                    const container = messagesContainerRef.current;\n                    const isNearBottom = container.scrollHeight - container.scrollTop - container.clientHeight < 100;\n                    // Only auto-scroll if user is near bottom (not scrolled up)\n                    if (isNearBottom || messages.length <= 5) {\n                        container.scrollTop = container.scrollHeight;\n                    }\n                }\n                if (messagesEndRef.current) {\n                    messagesEndRef.current.scrollIntoView({\n                        behavior: \"smooth\",\n                        block: \"end\"\n                    });\n                }\n            }, 100);\n        });\n    }, [\n        messages\n    ]);\n    // Also scroll when conversation loads or when window opens\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isLoading && messages.length > 0 && messagesContainerRef.current) {\n            requestAnimationFrame(()=>{\n                setTimeout(()=>{\n                    if (messagesContainerRef.current) {\n                        messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n                    }\n                }, 300);\n            });\n        }\n    }, [\n        isLoading,\n        conversationId\n    ]);\n    const handleSendMessage = async ()=>{\n        if (!inputText.trim() || !conversationId || isSending) return;\n        const text = inputText.trim();\n        setInputText(\"\");\n        setIsSending(true);\n        try {\n            const newMessage = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createMessage)(conversationId, text);\n            setMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === newMessage._id);\n                if (exists) return prev;\n                return sortMessages([\n                    ...prev,\n                    newMessage\n                ]);\n            });\n            // Mark as read after sending (to update read receipts)\n            (0,_api__WEBPACK_IMPORTED_MODULE_3__.markAsRead)(conversationId).then(()=>console.log(\"✅ FloatingChat: Marked as read after sending\")).catch((err)=>console.error(\"❌ FloatingChat: Failed to mark as read:\", err));\n        } catch (error) {\n            console.error(\"Failed to send message:\", error);\n            setInputText(text); // Restore text on error\n        } finally{\n            setIsSending(false);\n        }\n    };\n    const handleUploadMedia = async (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        event.target.value = \"\";\n        if (!file || !conversationId) return;\n        try {\n            var _baseFile_mime, _baseFile_mime1;\n            setIsUploading(true);\n            const uploaded = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.uploadChatFile)(file);\n            if (!(uploaded === null || uploaded === void 0 ? void 0 : uploaded.url)) {\n                console.warn(\"FloatingChat: Upload did not return URL\");\n                return;\n            }\n            var _uploaded_name, _uploaded_mime, _uploaded_size;\n            const baseFile = {\n                url: uploaded.url,\n                name: (_uploaded_name = uploaded.name) !== null && _uploaded_name !== void 0 ? _uploaded_name : file.name,\n                mime: (_uploaded_mime = uploaded.mime) !== null && _uploaded_mime !== void 0 ? _uploaded_mime : file.type,\n                size: (_uploaded_size = uploaded.size) !== null && _uploaded_size !== void 0 ? _uploaded_size : file.size\n            };\n            const isImageOrVideo = ((_baseFile_mime = baseFile.mime) === null || _baseFile_mime === void 0 ? void 0 : _baseFile_mime.startsWith(\"image/\")) || ((_baseFile_mime1 = baseFile.mime) === null || _baseFile_mime1 === void 0 ? void 0 : _baseFile_mime1.startsWith(\"video/\")) || file.type.startsWith(\"image/\") || file.type.startsWith(\"video/\");\n            const payload = {\n                type: isImageOrVideo ? \"image\" : \"file\",\n                file: baseFile\n            };\n            const newMessage = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.createMessageWithPayload)(conversationId, payload);\n            setMessages((prev)=>{\n                const exists = prev.some((msg)=>msg._id === newMessage._id);\n                if (exists) return prev;\n                return sortMessages([\n                    ...prev,\n                    newMessage\n                ]);\n            });\n        } catch (error) {\n            console.error(\"FloatingChat: Failed to upload/send media:\", error);\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleVideoCall = async ()=>{\n        if (!conversationId) return;\n        try {\n            var _result_call;\n            console.log(\"[FloatingChat] Initiating video call...\", {\n                conversationId,\n                userId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.initiateCall)(conversationId, \"video\", userId);\n            if (!((_result_call = result.call) === null || _result_call === void 0 ? void 0 : _result_call.id)) {\n                console.error(\"[FloatingChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_6__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[FloatingChat] Error initiating video call:\", error);\n        }\n    };\n    const handleAudioCall = async ()=>{\n        if (!conversationId) return;\n        try {\n            var _result_call;\n            console.log(\"[FloatingChat] Initiating audio call...\", {\n                conversationId,\n                userId\n            });\n            const result = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.initiateCall)(conversationId, \"audio\", userId);\n            if (!((_result_call = result.call) === null || _result_call === void 0 ? void 0 : _result_call.id)) {\n                console.error(\"[FloatingChat] No call ID in response:\", result);\n                return;\n            }\n            const callType = result.call.callType === \"sfu\" ? \"sfu\" : \"p2p\";\n            const livekitRoomName = result.call.livekitRoomName;\n            const popup = new _services_callPopup__WEBPACK_IMPORTED_MODULE_6__.CallPopupManager();\n            popup.openCallWindow(result.call.id, conversationId, false, {\n                callType,\n                livekitRoomName\n            });\n        } catch (error) {\n            console.error(\"[FloatingChat] Error initiating audio call:\", error);\n        }\n    };\n    // Context menu actions\n    const openContextMenu = (message, event)=>{\n        event.stopPropagation();\n        const rect = event.currentTarget.getBoundingClientRect();\n        setContextMenu({\n            message,\n            x: rect.right,\n            y: rect.bottom\n        });\n    };\n    const closeContextMenu = ()=>setContextMenu(null);\n    const handleReply = (message)=>{\n        var _message_text;\n        const base = (_message_text = message.text) !== null && _message_text !== void 0 ? _message_text : \"\";\n        setInputText((prev)=>prev ? \"\".concat(prev, \"\\n\").concat(base) : base);\n        closeContextMenu();\n    };\n    const handleCopy = async (message)=>{\n        try {\n            var _message_text;\n            await navigator.clipboard.writeText((_message_text = message.text) !== null && _message_text !== void 0 ? _message_text : \"\");\n        } catch (err) {\n            console.error(\"FloatingChat: Failed to copy text:\", err);\n        }\n        closeContextMenu();\n    };\n    const handlePinToggle = async (message)=>{\n        const shouldPin = !message.isPinned;\n        try {\n            const updated = shouldPin ? await (0,_api__WEBPACK_IMPORTED_MODULE_3__.pinMessage)(message._id) : await (0,_api__WEBPACK_IMPORTED_MODULE_3__.unpinMessage)(message._id);\n            setMessages((prev)=>prev.map((m)=>m._id === message._id ? {\n                        ...m,\n                        ...updated\n                    } : m));\n        } catch (err) {\n            console.error(\"FloatingChat: Failed to toggle pin:\", err);\n        }\n        closeContextMenu();\n    };\n    const handleStar = async (message)=>{\n        try {\n            const updated = await (0,_api__WEBPACK_IMPORTED_MODULE_3__.starMessage)(message._id);\n            setMessages((prev)=>prev.map((m)=>m._id === message._id ? {\n                        ...m,\n                        ...updated\n                    } : m));\n        } catch (err) {\n            console.error(\"FloatingChat: Failed to star message:\", err);\n        }\n        closeContextMenu();\n    };\n    const handleForward = (message)=>{\n        setForwardMessage(toChatMessage(message));\n        closeContextMenu();\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    const displayName = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.name) || userName;\n    const displayAvatar = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.avatar) || userAvatar;\n    return /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"floating-chat-window\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-header-left\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"floating-chat-avatar\",\n                                children: [\n                                    displayAvatar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: displayAvatar,\n                                        alt: displayName\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 456,\n                                        columnNumber: 15\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"floating-chat-avatar-fallback\",\n                                        children: (displayName === null || displayName === void 0 ? void 0 : (_displayName_charAt = displayName.charAt(0)) === null || _displayName_charAt === void 0 ? void 0 : _displayName_charAt.toUpperCase()) || \"U\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 458,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-online-dot\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 462,\n                                        columnNumber: 26\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 454,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"floating-chat-header-info\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-header-name\",\n                                        children: displayName\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 465,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"floating-chat-header-status\",\n                                        children: isOnline ? \"Đang hoạt động\" : \"Kh\\xf4ng hoạt động\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 466,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 464,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 453,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-header-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: handleAudioCall,\n                                title: \"Gọi thoại\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"18\",\n                                    height: \"18\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M6.62 10.79a15.464 15.464 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24 11.72 11.72 0 003.68.59 1 1 0 011 1V21a1 1 0 01-1 1C10.3 22 2 13.7 2 3a1 1 0 011-1h3.5a1 1 0 011 1 11.72 11.72 0 00.59 3.68 1 1 0 01-.25 1.01l-2.22 2.1z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 478,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 477,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 472,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: handleVideoCall,\n                                title: \"Gọi video\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"18\",\n                                    height: \"18\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M17 10.5V7a2 2 0 00-2-2H5A2 2 0 003 7v10a2 2 0 002 2h10a2 2 0 002-2v-3.5l4 4v-11l-4 4z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 487,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 486,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 481,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: onMinimize,\n                                title: \"Thu nhỏ\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M19 13H5v-2h14v2z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 496,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 495,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 490,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-header-btn\",\n                                onClick: onClose,\n                                title: \"Đ\\xf3ng\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"16\",\n                                    height: \"16\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 505,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 504,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 499,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 471,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 452,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-messages\",\n                ref: messagesContainerRef,\n                children: [\n                    isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-loading\",\n                        children: \"Đang tải...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 514,\n                        columnNumber: 11\n                    }, undefined) : !messages || messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-empty\",\n                        children: \"Chưa c\\xf3 tin nhắn n\\xe0o\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, undefined) : (messages || []).map((message)=>{\n                        const isOwn = message.senderId === currentUserId;\n                        const imageUrl = getImageUrl(message);\n                        const hasText = !!message.text && message.text.trim().length > 0;\n                        const hasImage = !!imageUrl;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"floating-chat-message \".concat(isOwn ? \"floating-chat-message--own\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"floating-chat-message-menu-btn\",\n                                    onClick: (e)=>openContextMenu(message, e),\n                                    title: \"T\\xf9y chọn\",\n                                    children: \"⋯\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 530,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"floating-chat-message-bubble \".concat(!hasText && hasImage ? \"floating-chat-message-bubble--image-only\" : \"\"),\n                                    children: [\n                                        message.isPinned && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-pinned\",\n                                            children: \"\\uD83D\\uDCCC Đ\\xe3 ghim\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 543,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        message.isStarred && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-starred\",\n                                            children: \"⭐ Đ\\xe3 đ\\xe1nh dấu\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 546,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        hasText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-text\",\n                                            children: message.text\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 549,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        hasImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"floating-chat-message-image-wrapper\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: imageUrl,\n                                                alt: \"attachment\",\n                                                className: \"floating-chat-message-image\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                                lineNumber: 553,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                            lineNumber: 552,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"floating-chat-message-time\",\n                                    children: new Date(message.createdAt).toLocaleTimeString(\"vi-VN\", {\n                                        hour: \"2-digit\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 561,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, message._id, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                            lineNumber: 524,\n                            columnNumber: 15\n                        }, undefined);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 571,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 512,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"floating-chat-input-wrapper\",\n                onClick: closeContextMenu,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"floating-chat-input-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: mediaInputRef,\n                                type: \"file\",\n                                accept: \"image/*,video/*\",\n                                hidden: true,\n                                onChange: handleUploadMedia\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 577,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-input-btn\",\n                                title: isUploading ? \"Đang gửi ảnh/video...\" : \"Th\\xeam ảnh/video\",\n                                onClick: ()=>{\n                                    var _mediaInputRef_current;\n                                    return (_mediaInputRef_current = mediaInputRef.current) === null || _mediaInputRef_current === void 0 ? void 0 : _mediaInputRef_current.click();\n                                },\n                                disabled: isUploading || isSending,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 591,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 590,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 584,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"floating-chat-input-btn\",\n                                title: \"Th\\xeam emoji\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    width: \"20\",\n                                    height: \"20\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                        lineNumber: 596,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                    lineNumber: 595,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 594,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 576,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        className: \"floating-chat-input\",\n                        placeholder: \"Aa\",\n                        value: inputText,\n                        onChange: (e)=>setInputText(e.target.value),\n                        onKeyPress: handleKeyPress,\n                        rows: 1\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 600,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"floating-chat-send-btn\",\n                        onClick: handleSendMessage,\n                        disabled: !inputText.trim() || isSending,\n                        title: \"Gửi\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            width: \"20\",\n                            height: \"20\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                                lineNumber: 615,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                            lineNumber: 614,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 608,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 575,\n                columnNumber: 7\n            }, undefined),\n            contextMenu && /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-context-menu\",\n                style: {\n                    position: \"fixed\",\n                    top: contextMenu.y,\n                    left: contextMenu.x,\n                    zIndex: 11000\n                },\n                onClick: (e)=>e.stopPropagation(),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-context-menu-item\",\n                        onClick: ()=>handleReply(contextMenu.message),\n                        children: \"↩ Trả lời\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 633,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-context-menu-item\",\n                        onClick: ()=>handleCopy(contextMenu.message),\n                        children: \"\\uD83D\\uDCCB Sao ch\\xe9p\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 639,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-context-menu-item\",\n                        onClick: ()=>handlePinToggle(contextMenu.message),\n                        children: contextMenu.message.isPinned ? \"\\uD83D\\uDCCC Bỏ ghim\" : \"\\uD83D\\uDCCC Ghim tin nhắn\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 645,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-context-menu-item\",\n                        onClick: ()=>handleStar(contextMenu.message),\n                        disabled: !!contextMenu.message.isStarred,\n                        children: contextMenu.message.isStarred ? \"⭐ Đ\\xe3 đ\\xe1nh dấu\" : \"⭐ Đ\\xe1nh dấu sao\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 651,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"chat-context-menu-item\",\n                        onClick: ()=>handleForward(contextMenu.message),\n                        children: \"↪️ Chuyển tiếp\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                        lineNumber: 658,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 623,\n                columnNumber: 11\n            }, undefined), document.body),\n            forwardMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chat_ForwardMessageDialog__WEBPACK_IMPORTED_MODULE_7__.ForwardMessageDialog, {\n                message: forwardMessage,\n                onClose: ()=>setForwardMessage(null)\n            }, void 0, false, {\n                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n                lineNumber: 670,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\FloatingChatWindow.tsx\",\n        lineNumber: 450,\n        columnNumber: 5\n    }, undefined), document.body);\n};\n_s(FloatingChatWindow, \"+uUGdhapRmYFGa/kFcZq/FQc94s=\");\n_c = FloatingChatWindow;\nvar _c;\n$RefreshReg$(_c, \"FloatingChatWindow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9GbG9hdGluZ0NoYXRXaW5kb3cudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFOEU7QUFDckM7QUFrQnpCO0FBQ3NCO0FBQ3NCO0FBQ0g7QUFDVTtBQUU5QjtBQVc5QixNQUFNcUIscUJBQXFCO1FBQUMsRUFDakNDLE1BQU0sRUFDTkMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxVQUFVLEVBQ2M7UUE2WlRDOztJQTVaZixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBRzdCLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDOEIsZ0JBQWdCQyxrQkFBa0IsR0FBRy9CLCtDQUFRQSxDQUFnQjtJQUNwRSxNQUFNLENBQUNnQyxXQUFXQyxhQUFhLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxXQUFXQyxhQUFhLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQyxhQUFhQyxlQUFlLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN3QyxjQUFjQyxnQkFBZ0IsR0FBR3pDLCtDQUFRQSxDQUFzQztJQUN0RixNQUFNLENBQUMwQyxlQUFlQyxpQkFBaUIsR0FBRzNDLCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNNEMsaUJBQWlCM0MsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU00Qyx1QkFBdUI1Qyw2Q0FBTUEsQ0FBaUI7SUFDcEQsTUFBTTZDLGdCQUFnQjdDLDZDQUFNQSxDQUEwQjtJQUN0RCxNQUFNLENBQUM4QyxhQUFhQyxlQUFlLEdBQUdoRCwrQ0FBUUEsQ0FJcEM7SUFDVixNQUFNLENBQUNpRCxnQkFBZ0JDLGtCQUFrQixHQUFHbEQsK0NBQVFBLENBQXFCO0lBRXpFLDJEQUEyRDtJQUMzRCxN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IjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL3BhY2thZ2VzL2FwcC9jb21wb25lbnRzL0Zsb2F0aW5nQ2hhdFdpbmRvdy50c3g/YzEyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIENoYW5nZUV2ZW50IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IHtcclxuICBnZXRNZXNzYWdlcyxcclxuICBjcmVhdGVNZXNzYWdlLFxyXG4gIGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZCxcclxuICBjcmVhdGVDb252ZXJzYXRpb25XaXRoVXNlcixcclxuICBnZXRPcHBvbmVudEluZm8sXHJcbiAgZ2V0Q3VycmVudFVzZXJJZCxcclxuICBtYXJrQXNSZWFkLFxyXG4gIE1lc3NhZ2UsXHJcbiAgQ29udmVyc2F0aW9uLFxyXG4gIE9wcG9uZW50SW5mb1Jlc3BvbnNlLFxyXG4gIHVwbG9hZENoYXRGaWxlLFxyXG4gIGluaXRpYXRlQ2FsbCxcclxuICBDcmVhdGVNZXNzYWdlUGF5bG9hZCxcclxuICBwaW5NZXNzYWdlLFxyXG4gIHVucGluTWVzc2FnZSxcclxuICBzdGFyTWVzc2FnZSxcclxufSBmcm9tIFwiLi4vYXBpXCI7XHJcbmltcG9ydCB7IGdldFNvY2tldCB9IGZyb20gXCIuLi9zb2NrZXRcIjtcclxuaW1wb3J0IHsgcmVnaXN0ZXJDaGF0U29ja2V0IH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NoYXRTb2NrZXRcIjtcclxuaW1wb3J0IHsgQ2FsbFBvcHVwTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jYWxsUG9wdXBcIjtcclxuaW1wb3J0IHsgRm9yd2FyZE1lc3NhZ2VEaWFsb2cgfSBmcm9tIFwiLi9jaGF0L0ZvcndhcmRNZXNzYWdlRGlhbG9nXCI7XHJcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSBcIi4uL3R5cGVzL2NoYXRcIjtcclxuaW1wb3J0IFwiLi4vc3R5bGVzL2Zsb2F0aW5nLWNoYXQuY3NzXCI7XHJcblxyXG5pbnRlcmZhY2UgRmxvYXRpbmdDaGF0V2luZG93UHJvcHMge1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIHVzZXJOYW1lOiBzdHJpbmc7XHJcbiAgdXNlckF2YXRhcj86IHN0cmluZztcclxuICBpc09ubGluZT86IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBvbk1pbmltaXplPzogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEZsb2F0aW5nQ2hhdFdpbmRvdyA9ICh7XHJcbiAgdXNlcklkLFxyXG4gIHVzZXJOYW1lLFxyXG4gIHVzZXJBdmF0YXIsXHJcbiAgaXNPbmxpbmUsXHJcbiAgb25DbG9zZSxcclxuICBvbk1pbmltaXplLFxyXG59OiBGbG9hdGluZ0NoYXRXaW5kb3dQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXSk7XHJcbiAgY29uc3QgW2NvbnZlcnNhdGlvbklkLCBzZXRDb252ZXJzYXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaW5wdXRUZXh0LCBzZXRJbnB1dFRleHRdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzVXBsb2FkaW5nLCBzZXRJc1VwbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW29wcG9uZW50SW5mbywgc2V0T3Bwb25lbnRJbmZvXSA9IHVzZVN0YXRlPE9wcG9uZW50SW5mb1Jlc3BvbnNlW1widXNlclwiXSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBtZXNzYWdlc0NvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgbWVkaWFJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2NvbnRleHRNZW51LCBzZXRDb250ZXh0TWVudV0gPSB1c2VTdGF0ZTx7XHJcbiAgICBtZXNzYWdlOiBNZXNzYWdlO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZm9yd2FyZE1lc3NhZ2UsIHNldEZvcndhcmRNZXNzYWdlXSA9IHVzZVN0YXRlPENoYXRNZXNzYWdlIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIC8vIEhlbHBlcjogZ2V0IGltYWdlIFVSTCBmb3IgbWVzc2FnZSAoaW1hZ2VVcmwgb3IgZmlsZS51cmwpXHJcbiAgY29uc3QgZ2V0SW1hZ2VVcmwgPSB1c2VDYWxsYmFjaygobWVzc2FnZTogYW55KTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcclxuICAgIHJldHVybiBtZXNzYWdlPy5pbWFnZVVybCA/PyBtZXNzYWdlPy5maWxlPy51cmw7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCB0b0NoYXRNZXNzYWdlID0gdXNlQ2FsbGJhY2soXHJcbiAgICAobWVzc2FnZTogTWVzc2FnZSk6IENoYXRNZXNzYWdlID0+ICh7XHJcbiAgICAgIC4uLihtZXNzYWdlIGFzIGFueSksXHJcbiAgICB9KSxcclxuICAgIFtdXHJcbiAgKTtcclxuXHJcbiAgLy8gTG9hZCBjdXJyZW50IHVzZXIgSURcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZ2V0Q3VycmVudFVzZXJJZCgpLnRoZW4oc2V0Q3VycmVudFVzZXJJZCkuY2F0Y2goKCkgPT4gc2V0Q3VycmVudFVzZXJJZChudWxsKSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBTb3J0IG1lc3NhZ2VzIGJ5IHRpbWVcclxuICBjb25zdCBzb3J0TWVzc2FnZXMgPSB1c2VDYWxsYmFjaygobXNnczogTWVzc2FnZVtdKSA9PiB7XHJcbiAgICByZXR1cm4gWy4uLm1zZ3NdLnNvcnQoXHJcbiAgICAgIChhLCBiKSA9PiBuZXcgRGF0ZShhLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKVxyXG4gICAgKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIExvYWQgb3IgY3JlYXRlIGNvbnZlcnNhdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBsb2FkQ29udmVyc2F0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIG9yIGdldCBjb252ZXJzYXRpb25cclxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBhd2FpdCBjcmVhdGVDb252ZXJzYXRpb25XaXRoVXNlcih1c2VySWQpO1xyXG4gICAgICAgIHNldENvbnZlcnNhdGlvbklkKGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEdldCBvcHBvbmVudCBpbmZvXHJcbiAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSBhd2FpdCBnZXRPcHBvbmVudEluZm8oY29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgICAgc2V0T3Bwb25lbnRJbmZvKG9wcG9uZW50LnVzZXIpO1xyXG5cclxuICAgICAgICAvLyBMb2FkIG1lc3NhZ2VzXHJcbiAgICAgICAgY29uc3QgbXNncyA9IGF3YWl0IGdldE1lc3NhZ2VzKGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzQXJyYXkgPSBBcnJheS5pc0FycmF5KG1zZ3MpID8gbXNncyA6IChtc2dzIGFzIGFueSk/Lm1lc3NhZ2VzIHx8IFtdO1xyXG4gICAgICAgIHNldE1lc3NhZ2VzKHNvcnRNZXNzYWdlcyhtZXNzYWdlc0FycmF5KSk7XHJcblxyXG4gICAgICAgIC8vIE1hcmsgYXMgcmVhZCBhZnRlciBsb2FkaW5nIG1lc3NhZ2VzXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TliBGbG9hdGluZ0NoYXQ6IE1hcmtpbmcgY29udmVyc2F0aW9uIGFzIHJlYWQ6XCIsIGNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICAgICAgYXdhaXQgbWFya0FzUmVhZChjb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEZsb2F0aW5nQ2hhdDogTWFya2VkIGFzIHJlYWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byBtYXJrIGFzIHJlYWQ6XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBjb252ZXJzYXRpb246XCIsIGVycm9yKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxvYWRDb252ZXJzYXRpb24oKTtcclxuICB9LCBbdXNlcklkLCBzb3J0TWVzc2FnZXNdKTtcclxuXHJcbiAgLy8gU29ja2V0IGludGVncmF0aW9uIGZvciByZWFsdGltZSBtZXNzYWdlc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHNvY2tldCA9IGdldFNvY2tldCgpO1xyXG4gICAgaWYgKCFzb2NrZXQpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiU29ja2V0IG5vdCBhdmFpbGFibGUgZm9yIGZsb2F0aW5nIGNoYXRcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBKb2luIGNvbnZlcnNhdGlvbiByb29tXHJcbiAgICBjb25zdCBqb2luUm9vbSA9ICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk7EgRmxvYXRpbmdDaGF0OiBKb2luaW5nIGNvbnZlcnNhdGlvbiByb29tOiBjb252OiR7Y29udmVyc2F0aW9uSWR9YCk7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwiY29udmVyc2F0aW9uOmpvaW5cIiwgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoc29ja2V0LmNvbm5lY3RlZCkge1xyXG4gICAgICBqb2luUm9vbSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3Qgb25Db25uZWN0ID0gKCkgPT4ge1xyXG4gICAgICAgIGpvaW5Sb29tKCk7XHJcbiAgICAgICAgc29ja2V0Lm9mZihcImNvbm5lY3RcIiwgb25Db25uZWN0KTtcclxuICAgICAgfTtcclxuICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCBvbkNvbm5lY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlZ2lzdGVyIHNvY2tldCBoYW5kbGVyc1xyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSByZWdpc3RlckNoYXRTb2NrZXQoc29ja2V0LCBjb252ZXJzYXRpb25JZCwge1xyXG4gICAgICBvbk1lc3NhZ2VDcmVhdGVkOiAobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+TqCBGbG9hdGluZ0NoYXQ6IE5ldyBtZXNzYWdlIHJlY2VpdmVkOlwiLCBtZXNzYWdlLl9pZCk7XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IG1lc3NhZ2UuX2lkKTtcclxuICAgICAgICAgIGlmIChleGlzdHMpIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBzb3J0TWVzc2FnZXMoWy4uLnByZXYsIG1lc3NhZ2VdKTtcclxuICAgICAgICAgIC8vIEZvcmNlIHNjcm9sbCBhZnRlciBzdGF0ZSB1cGRhdGVcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgIG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIsIGJsb2NrOiBcImVuZFwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTWFyayBhcyByZWFkIHdoZW4gbmV3IG1lc3NhZ2UgYXJyaXZlcyAob25seSBpZiBtZXNzYWdlIGlzIGZyb20gb3Bwb25lbnQpXHJcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2VuZGVySWQgIT09IGN1cnJlbnRVc2VySWQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TliBGbG9hdGluZ0NoYXQ6IE1hcmtpbmcgYXMgcmVhZCAobmV3IG1lc3NhZ2UgZnJvbSBvcHBvbmVudClcIik7XHJcbiAgICAgICAgICBtYXJrQXNSZWFkKGNvbnZlcnNhdGlvbklkLCBtZXNzYWdlLl9pZClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCLinIUgRmxvYXRpbmdDaGF0OiBNYXJrZWQgYXMgcmVhZCBzdWNjZXNzZnVsbHlcIikpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwi4p2MIEZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIG1hcmsgYXMgcmVhZDpcIiwgZXJyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBvbk1lc3NhZ2VVcGRhdGVkOiAobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PlxyXG4gICAgICAgICAgc29ydE1lc3NhZ2VzKFxyXG4gICAgICAgICAgICBwcmV2Lm1hcCgoaXRlbSkgPT4gKGl0ZW0uX2lkID09PSBtZXNzYWdlLl9pZCA/IG1lc3NhZ2UgOiBpdGVtKSlcclxuICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgICBvbk1lc3NhZ2VEZWxldGVkOiAobWVzc2FnZUlkKSA9PiB7XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChpdGVtKSA9PiBpdGVtLl9pZCAhPT0gbWVzc2FnZUlkKSk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB1bnN1YnNjcmliZSgpO1xyXG4gICAgICBpZiAoc29ja2V0LmNvbm5lY3RlZCkge1xyXG4gICAgICAgIHNvY2tldC5lbWl0KFwiY29udmVyc2F0aW9uOmxlYXZlXCIsIGNvbnZlcnNhdGlvbklkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbY29udmVyc2F0aW9uSWQsIHNvcnRNZXNzYWdlcywgY3VycmVudFVzZXJJZF0pO1xyXG5cclxuICAvLyBNYXJrIGFzIHJlYWQgd2hlbiB3aW5kb3cgYmVjb21lcyB2aXNpYmxlL2ZvY3VzZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjb252ZXJzYXRpb25JZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuICYmIGNvbnZlcnNhdGlvbklkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5OWIEZsb2F0aW5nQ2hhdDogV2luZG93IHZpc2libGUsIG1hcmtpbmcgYXMgcmVhZFwiKTtcclxuICAgICAgICBtYXJrQXNSZWFkKGNvbnZlcnNhdGlvbklkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCLinIUgRmxvYXRpbmdDaGF0OiBNYXJrZWQgYXMgcmVhZCAodmlzaWJpbGl0eSBjaGFuZ2UpXCIpKVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCLinYwgRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gbWFyayBhcyByZWFkOlwiLCBlcnIpKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuICAgIC8vIEFsc28gbWFyayBhcyByZWFkIHdoZW4gY29tcG9uZW50IG1vdW50cyAod2luZG93IGlzIHZpc2libGUpXHJcbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICBtYXJrQXNSZWFkKGNvbnZlcnNhdGlvbklkKVxyXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwi4pyFIEZsb2F0aW5nQ2hhdDogTWFya2VkIGFzIHJlYWQgKG1vdW50KVwiKSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIuKdjCBGbG9hdGluZ0NoYXQ6IEZhaWxlZCB0byBtYXJrIGFzIHJlYWQ6XCIsIGVycikpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xyXG4gICAgfTtcclxuICB9LCBbY29udmVyc2F0aW9uSWRdKTtcclxuXHJcbiAgLy8gQXV0byBzY3JvbGwgdG8gYm90dG9tIHdoZW4gbWVzc2FnZXMgY2hhbmdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBlbnN1cmUgRE9NIGlzIHVwZGF0ZWRcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgY29uc3QgaXNOZWFyQm90dG9tID0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAtIGNvbnRhaW5lci5zY3JvbGxUb3AgLSBjb250YWluZXIuY2xpZW50SGVpZ2h0IDwgMTAwO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBPbmx5IGF1dG8tc2Nyb2xsIGlmIHVzZXIgaXMgbmVhciBib3R0b20gKG5vdCBzY3JvbGxlZCB1cClcclxuICAgICAgICAgIGlmIChpc05lYXJCb3R0b20gfHwgbWVzc2FnZXMubGVuZ3RoIDw9IDUpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIsIGJsb2NrOiBcImVuZFwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTAwKTtcclxuICAgIH0pO1xyXG4gIH0sIFttZXNzYWdlc10pO1xyXG5cclxuICAvLyBBbHNvIHNjcm9sbCB3aGVuIGNvbnZlcnNhdGlvbiBsb2FkcyBvciB3aGVuIHdpbmRvdyBvcGVuc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzTG9hZGluZyAmJiBtZXNzYWdlcy5sZW5ndGggPiAwICYmIG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmIChtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2lzTG9hZGluZywgY29udmVyc2F0aW9uSWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWlucHV0VGV4dC50cmltKCkgfHwgIWNvbnZlcnNhdGlvbklkIHx8IGlzU2VuZGluZykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHRleHQgPSBpbnB1dFRleHQudHJpbSgpO1xyXG4gICAgc2V0SW5wdXRUZXh0KFwiXCIpO1xyXG4gICAgc2V0SXNTZW5kaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBhd2FpdCBjcmVhdGVNZXNzYWdlKGNvbnZlcnNhdGlvbklkLCB0ZXh0KTtcclxuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcclxuICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUoKG1zZykgPT4gbXNnLl9pZCA9PT0gbmV3TWVzc2FnZS5faWQpO1xyXG4gICAgICAgIGlmIChleGlzdHMpIHJldHVybiBwcmV2O1xyXG4gICAgICAgIHJldHVybiBzb3J0TWVzc2FnZXMoWy4uLnByZXYsIG5ld01lc3NhZ2VdKTtcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIE1hcmsgYXMgcmVhZCBhZnRlciBzZW5kaW5nICh0byB1cGRhdGUgcmVhZCByZWNlaXB0cylcclxuICAgICAgbWFya0FzUmVhZChjb252ZXJzYXRpb25JZClcclxuICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIuKchSBGbG9hdGluZ0NoYXQ6IE1hcmtlZCBhcyByZWFkIGFmdGVyIHNlbmRpbmdcIikpXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCLinYwgRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gbWFyayBhcyByZWFkOlwiLCBlcnIpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOlwiLCBlcnJvcik7XHJcbiAgICAgIHNldElucHV0VGV4dCh0ZXh0KTsgLy8gUmVzdG9yZSB0ZXh0IG9uIGVycm9yXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc1NlbmRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVwbG9hZE1lZGlhID0gYXN5bmMgKGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlcz8uWzBdO1xyXG4gICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gXCJcIjtcclxuICAgIGlmICghZmlsZSB8fCAhY29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRJc1VwbG9hZGluZyh0cnVlKTtcclxuICAgICAgY29uc3QgdXBsb2FkZWQgPSBhd2FpdCB1cGxvYWRDaGF0RmlsZShmaWxlKTtcclxuICAgICAgaWYgKCF1cGxvYWRlZD8udXJsKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiRmxvYXRpbmdDaGF0OiBVcGxvYWQgZGlkIG5vdCByZXR1cm4gVVJMXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYmFzZUZpbGUgPSB7XHJcbiAgICAgICAgdXJsOiB1cGxvYWRlZC51cmwsXHJcbiAgICAgICAgbmFtZTogdXBsb2FkZWQubmFtZSA/PyBmaWxlLm5hbWUsXHJcbiAgICAgICAgbWltZTogdXBsb2FkZWQubWltZSA/PyBmaWxlLnR5cGUsXHJcbiAgICAgICAgc2l6ZTogdXBsb2FkZWQuc2l6ZSA/PyBmaWxlLnNpemUsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBpc0ltYWdlT3JWaWRlbyA9XHJcbiAgICAgICAgYmFzZUZpbGUubWltZT8uc3RhcnRzV2l0aChcImltYWdlL1wiKSB8fFxyXG4gICAgICAgIGJhc2VGaWxlLm1pbWU/LnN0YXJ0c1dpdGgoXCJ2aWRlby9cIikgfHxcclxuICAgICAgICBmaWxlLnR5cGUuc3RhcnRzV2l0aChcImltYWdlL1wiKSB8fFxyXG4gICAgICAgIGZpbGUudHlwZS5zdGFydHNXaXRoKFwidmlkZW8vXCIpO1xyXG5cclxuICAgICAgY29uc3QgcGF5bG9hZDogQ3JlYXRlTWVzc2FnZVBheWxvYWQgPSB7XHJcbiAgICAgICAgdHlwZTogaXNJbWFnZU9yVmlkZW8gPyBcImltYWdlXCIgOiBcImZpbGVcIixcclxuICAgICAgICBmaWxlOiBiYXNlRmlsZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBhd2FpdCBjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQoY29udmVyc2F0aW9uSWQsIHBheWxvYWQpO1xyXG5cclxuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcclxuICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUoKG1zZykgPT4gbXNnLl9pZCA9PT0gbmV3TWVzc2FnZS5faWQpO1xyXG4gICAgICAgIGlmIChleGlzdHMpIHJldHVybiBwcmV2O1xyXG4gICAgICAgIHJldHVybiBzb3J0TWVzc2FnZXMoWy4uLnByZXYsIG5ld01lc3NhZ2VdKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gdXBsb2FkL3NlbmQgbWVkaWE6XCIsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzVXBsb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVWaWRlb0NhbGwgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coXCJbRmxvYXRpbmdDaGF0XSBJbml0aWF0aW5nIHZpZGVvIGNhbGwuLi5cIiwgeyBjb252ZXJzYXRpb25JZCwgdXNlcklkIH0pO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbml0aWF0ZUNhbGwoY29udmVyc2F0aW9uSWQsIFwidmlkZW9cIiwgdXNlcklkKTtcclxuICAgICAgaWYgKCFyZXN1bHQuY2FsbD8uaWQpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0Zsb2F0aW5nQ2hhdF0gTm8gY2FsbCBJRCBpbiByZXNwb25zZTpcIiwgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNhbGxUeXBlID0gcmVzdWx0LmNhbGwuY2FsbFR5cGUgPT09IFwic2Z1XCIgPyBcInNmdVwiIDogXCJwMnBcIjtcclxuICAgICAgY29uc3QgbGl2ZWtpdFJvb21OYW1lID0gcmVzdWx0LmNhbGwubGl2ZWtpdFJvb21OYW1lO1xyXG5cclxuICAgICAgY29uc3QgcG9wdXAgPSBuZXcgQ2FsbFBvcHVwTWFuYWdlcigpO1xyXG4gICAgICBwb3B1cC5vcGVuQ2FsbFdpbmRvdyhyZXN1bHQuY2FsbC5pZCwgY29udmVyc2F0aW9uSWQsIGZhbHNlLCB7XHJcbiAgICAgICAgY2FsbFR5cGUsXHJcbiAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRmxvYXRpbmdDaGF0XSBFcnJvciBpbml0aWF0aW5nIHZpZGVvIGNhbGw6XCIsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVBdWRpb0NhbGwgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coXCJbRmxvYXRpbmdDaGF0XSBJbml0aWF0aW5nIGF1ZGlvIGNhbGwuLi5cIiwgeyBjb252ZXJzYXRpb25JZCwgdXNlcklkIH0pO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbml0aWF0ZUNhbGwoY29udmVyc2F0aW9uSWQsIFwiYXVkaW9cIiwgdXNlcklkKTtcclxuICAgICAgaWYgKCFyZXN1bHQuY2FsbD8uaWQpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0Zsb2F0aW5nQ2hhdF0gTm8gY2FsbCBJRCBpbiByZXNwb25zZTpcIiwgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNhbGxUeXBlID0gcmVzdWx0LmNhbGwuY2FsbFR5cGUgPT09IFwic2Z1XCIgPyBcInNmdVwiIDogXCJwMnBcIjtcclxuICAgICAgY29uc3QgbGl2ZWtpdFJvb21OYW1lID0gcmVzdWx0LmNhbGwubGl2ZWtpdFJvb21OYW1lO1xyXG5cclxuICAgICAgY29uc3QgcG9wdXAgPSBuZXcgQ2FsbFBvcHVwTWFuYWdlcigpO1xyXG4gICAgICBwb3B1cC5vcGVuQ2FsbFdpbmRvdyhyZXN1bHQuY2FsbC5pZCwgY29udmVyc2F0aW9uSWQsIGZhbHNlLCB7XHJcbiAgICAgICAgY2FsbFR5cGUsXHJcbiAgICAgICAgbGl2ZWtpdFJvb21OYW1lLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRmxvYXRpbmdDaGF0XSBFcnJvciBpbml0aWF0aW5nIGF1ZGlvIGNhbGw6XCIsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDb250ZXh0IG1lbnUgYWN0aW9uc1xyXG4gIGNvbnN0IG9wZW5Db250ZXh0TWVudSA9IChtZXNzYWdlOiBNZXNzYWdlLCBldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MQnV0dG9uRWxlbWVudD4pID0+IHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgY29uc3QgcmVjdCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBzZXRDb250ZXh0TWVudSh7XHJcbiAgICAgIG1lc3NhZ2UsXHJcbiAgICAgIHg6IHJlY3QucmlnaHQsXHJcbiAgICAgIHk6IHJlY3QuYm90dG9tLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VDb250ZXh0TWVudSA9ICgpID0+IHNldENvbnRleHRNZW51KG51bGwpO1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXBseSA9IChtZXNzYWdlOiBNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBiYXNlID0gbWVzc2FnZS50ZXh0ID8/IFwiXCI7XHJcbiAgICBzZXRJbnB1dFRleHQoKHByZXYpID0+IChwcmV2ID8gYCR7cHJldn1cXG4ke2Jhc2V9YCA6IGJhc2UpKTtcclxuICAgIGNsb3NlQ29udGV4dE1lbnUoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDb3B5ID0gYXN5bmMgKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG1lc3NhZ2UudGV4dCA/PyBcIlwiKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmxvYXRpbmdDaGF0OiBGYWlsZWQgdG8gY29weSB0ZXh0OlwiLCBlcnIpO1xyXG4gICAgfVxyXG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVBpblRvZ2dsZSA9IGFzeW5jIChtZXNzYWdlOiBNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBzaG91bGRQaW4gPSAhbWVzc2FnZS5pc1Bpbm5lZDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBzaG91bGRQaW5cclxuICAgICAgICA/IGF3YWl0IHBpbk1lc3NhZ2UobWVzc2FnZS5faWQpXHJcbiAgICAgICAgOiBhd2FpdCB1bnBpbk1lc3NhZ2UobWVzc2FnZS5faWQpO1xyXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT5cclxuICAgICAgICBwcmV2Lm1hcCgobSkgPT4gKG0uX2lkID09PSBtZXNzYWdlLl9pZCA/IHsgLi4ubSwgLi4udXBkYXRlZCB9IDogbSkpXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIHRvZ2dsZSBwaW46XCIsIGVycik7XHJcbiAgICB9XHJcbiAgICBjbG9zZUNvbnRleHRNZW51KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3RhciA9IGFzeW5jIChtZXNzYWdlOiBNZXNzYWdlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgc3Rhck1lc3NhZ2UobWVzc2FnZS5faWQpO1xyXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT5cclxuICAgICAgICBwcmV2Lm1hcCgobSkgPT4gKG0uX2lkID09PSBtZXNzYWdlLl9pZCA/IHsgLi4ubSwgLi4udXBkYXRlZCB9IDogbSkpXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZsb2F0aW5nQ2hhdDogRmFpbGVkIHRvIHN0YXIgbWVzc2FnZTpcIiwgZXJyKTtcclxuICAgIH1cclxuICAgIGNsb3NlQ29udGV4dE1lbnUoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVGb3J3YXJkID0gKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgIHNldEZvcndhcmRNZXNzYWdlKHRvQ2hhdE1lc3NhZ2UobWVzc2FnZSkpO1xyXG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmICFlLnNoaWZ0S2V5KSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBkaXNwbGF5TmFtZSA9IG9wcG9uZW50SW5mbz8ubmFtZSB8fCB1c2VyTmFtZTtcclxuICBjb25zdCBkaXNwbGF5QXZhdGFyID0gb3Bwb25lbnRJbmZvPy5hdmF0YXIgfHwgdXNlckF2YXRhcjtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZVBvcnRhbChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC13aW5kb3dcIj5cclxuICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItbGVmdFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWF2YXRhclwiPlxyXG4gICAgICAgICAgICB7ZGlzcGxheUF2YXRhciA/IChcclxuICAgICAgICAgICAgICA8aW1nIHNyYz17ZGlzcGxheUF2YXRhcn0gYWx0PXtkaXNwbGF5TmFtZX0gLz5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtYXZhdGFyLWZhbGxiYWNrXCI+XHJcbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU/LmNoYXJBdCgwKT8udG9VcHBlckNhc2UoKSB8fCBcIlVcIn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAge2lzT25saW5lICYmIDxzcGFuIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtb25saW5lLWRvdFwiIC8+fVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWluZm9cIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItbmFtZVwiPntkaXNwbGF5TmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLXN0YXR1c1wiPlxyXG4gICAgICAgICAgICAgIHtpc09ubGluZSA/IFwixJBhbmcgaG/huqF0IMSR4buZbmdcIiA6IFwiS2jDtG5nIGhv4bqhdCDEkeG7mW5nXCJ9XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1oZWFkZXItYWN0aW9uc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1idG5cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBdWRpb0NhbGx9XHJcbiAgICAgICAgICAgIHRpdGxlPVwiR+G7jWkgdGhv4bqhaVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuNjIgMTAuNzlhMTUuNDY0IDE1LjQ2NCAwIDAwNi41OSA2LjU5bDIuMi0yLjJhMSAxIDAgMDExLjAxLS4yNCAxMS43MiAxMS43MiAwIDAwMy42OC41OSAxIDEgMCAwMTEgMVYyMWExIDEgMCAwMS0xIDFDMTAuMyAyMiAyIDEzLjcgMiAzYTEgMSAwIDAxMS0xaDMuNWExIDEgMCAwMTEgMSAxMS43MiAxMS43MiAwIDAwLjU5IDMuNjggMSAxIDAgMDEtLjI1IDEuMDFsLTIuMjIgMi4xelwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaGVhZGVyLWJ0blwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVZpZGVvQ2FsbH1cclxuICAgICAgICAgICAgdGl0bGU9XCJH4buNaSB2aWRlb1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE3IDEwLjVWN2EyIDIgMCAwMC0yLTJINUEyIDIgMCAwMDMgN3YxMGEyIDIgMCAwMDIgMmgxMGEyIDIgMCAwMDItMnYtMy41bDQgNHYtMTFsLTQgNHpcIiAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1idG5cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtvbk1pbmltaXplfVxyXG4gICAgICAgICAgICB0aXRsZT1cIlRodSBuaOG7j1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE5IDEzSDV2LTJoMTR2MnpcIiAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWhlYWRlci1idG5cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICB0aXRsZT1cIsSQw7NuZ1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnpcIiAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBNZXNzYWdlcyAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LW1lc3NhZ2VzXCIgcmVmPXttZXNzYWdlc0NvbnRhaW5lclJlZn0+XHJcbiAgICAgICAge2lzTG9hZGluZyA/IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1sb2FkaW5nXCI+xJBhbmcgdOG6o2kuLi48L2Rpdj5cclxuICAgICAgICApIDogIW1lc3NhZ2VzIHx8IG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1lbXB0eVwiPkNoxrBhIGPDsyB0aW4gbmjhuq9uIG7DoG88L2Rpdj5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgKG1lc3NhZ2VzIHx8IFtdKS5tYXAoKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNPd24gPSBtZXNzYWdlLnNlbmRlcklkID09PSBjdXJyZW50VXNlcklkO1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGdldEltYWdlVXJsKG1lc3NhZ2UgYXMgYW55KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzVGV4dCA9ICEhbWVzc2FnZS50ZXh0ICYmIG1lc3NhZ2UudGV4dC50cmltKCkubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgY29uc3QgaGFzSW1hZ2UgPSAhIWltYWdlVXJsO1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGtleT17bWVzc2FnZS5faWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbG9hdGluZy1jaGF0LW1lc3NhZ2UgJHtcclxuICAgICAgICAgICAgICAgICAgaXNPd24gPyBcImZsb2F0aW5nLWNoYXQtbWVzc2FnZS0tb3duXCIgOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtbWVzc2FnZS1tZW51LWJ0blwiXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBvcGVuQ29udGV4dE1lbnUobWVzc2FnZSwgZSl9XHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiVMO5eSBjaOG7jW5cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICDii69cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbG9hdGluZy1jaGF0LW1lc3NhZ2UtYnViYmxlICR7XHJcbiAgICAgICAgICAgICAgICAgICAgIWhhc1RleHQgJiYgaGFzSW1hZ2UgPyBcImZsb2F0aW5nLWNoYXQtbWVzc2FnZS1idWJibGUtLWltYWdlLW9ubHlcIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmlzUGlubmVkICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtbWVzc2FnZS1waW5uZWRcIj7wn5OMIMSQw6MgZ2hpbTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5pc1N0YXJyZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLXN0YXJyZWRcIj7irZAgxJDDoyDEkcOhbmggZOG6pXU8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAge2hhc1RleHQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLXRleHRcIj57bWVzc2FnZS50ZXh0fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICB7aGFzSW1hZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1tZXNzYWdlLWltYWdlLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiYXR0YWNobWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtbWVzc2FnZS1pbWFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtbWVzc2FnZS10aW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShtZXNzYWdlLmNyZWF0ZWRBdCkudG9Mb2NhbGVUaW1lU3RyaW5nKFwidmktVk5cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICl9XHJcbiAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBJbnB1dCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWlucHV0LXdyYXBwZXJcIiBvbkNsaWNrPXtjbG9zZUNvbnRleHRNZW51fT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWNoYXQtaW5wdXQtYWN0aW9uc1wiPlxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHJlZj17bWVkaWFJbnB1dFJlZn1cclxuICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qLHZpZGVvLypcIlxyXG4gICAgICAgICAgICBoaWRkZW5cclxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVVwbG9hZE1lZGlhfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1pbnB1dC1idG5cIlxyXG4gICAgICAgICAgICB0aXRsZT17aXNVcGxvYWRpbmcgPyBcIsSQYW5nIGfhu61pIOG6o25oL3ZpZGVvLi4uXCIgOiBcIlRow6ptIOG6o25oL3ZpZGVvXCJ9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1lZGlhSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVXBsb2FkaW5nIHx8IGlzU2VuZGluZ31cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjEgMTlWNWMwLTEuMS0uOS0yLTItMkg1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yek04LjUgMTMuNWwyLjUgMy4wMUwxNC41IDEybDQuNSA2SDVsMy41LTQuNXpcIiAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LWlucHV0LWJ0blwiIHRpdGxlPVwiVGjDqm0gZW1vamlcIj5cclxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTIgMTVsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXpcIiAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxvYXRpbmctY2hhdC1pbnB1dFwiXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFhXCJcclxuICAgICAgICAgIHZhbHVlPXtpbnB1dFRleHR9XHJcbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0VGV4dChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICBvbktleVByZXNzPXtoYW5kbGVLZXlQcmVzc31cclxuICAgICAgICAgIHJvd3M9ezF9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbG9hdGluZy1jaGF0LXNlbmQtYnRuXCJcclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRNZXNzYWdlfVxyXG4gICAgICAgICAgZGlzYWJsZWQ9eyFpbnB1dFRleHQudHJpbSgpIHx8IGlzU2VuZGluZ31cclxuICAgICAgICAgIHRpdGxlPVwiR+G7rWlcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk0yLjAxIDIxTDIzIDEyIDIuMDEgMyAyIDEwbDE1IDItMTUgMnpcIiAvPlxyXG4gICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIENvbnRleHQgbWVudSBmb3IgbWVzc2FnZXMgKi99XHJcbiAgICAgIHtjb250ZXh0TWVudSAmJlxyXG4gICAgICAgIGNyZWF0ZVBvcnRhbChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1jb250ZXh0LW1lbnVcIlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgICAgdG9wOiBjb250ZXh0TWVudS55LFxyXG4gICAgICAgICAgICAgIGxlZnQ6IGNvbnRleHRNZW51LngsXHJcbiAgICAgICAgICAgICAgekluZGV4OiAxMTAwMCxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWNvbnRleHQtbWVudS1pdGVtXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZXBseShjb250ZXh0TWVudS5tZXNzYWdlKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIOKGqSBUcuG6oyBs4budaVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNvcHkoY29udGV4dE1lbnUubWVzc2FnZSl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICDwn5OLIFNhbyBjaMOpcFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVBpblRvZ2dsZShjb250ZXh0TWVudS5tZXNzYWdlKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtjb250ZXh0TWVudS5tZXNzYWdlLmlzUGlubmVkID8gXCLwn5OMIELhu48gZ2hpbVwiIDogXCLwn5OMIEdoaW0gdGluIG5o4bqvblwifVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXIoY29udGV4dE1lbnUubWVzc2FnZSl9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEhY29udGV4dE1lbnUubWVzc2FnZS5pc1N0YXJyZWR9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7Y29udGV4dE1lbnUubWVzc2FnZS5pc1N0YXJyZWQgPyBcIuKtkCDEkMOjIMSRw6FuaCBk4bqldVwiIDogXCLirZAgxJDDoW5oIGThuqV1IHNhb1wifVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtY29udGV4dC1tZW51LWl0ZW1cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUZvcndhcmQoY29udGV4dE1lbnUubWVzc2FnZSl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICDihqrvuI8gQ2h1eeG7g24gdGnhur9wXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+LFxyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keVxyXG4gICAgICAgICl9XHJcblxyXG4gICAgICB7LyogRm9yd2FyZCBkaWFsb2cgcmV1c2UgZnJvbSBtYWluIGNoYXQgKi99XHJcbiAgICAgIHtmb3J3YXJkTWVzc2FnZSAmJiAoXHJcbiAgICAgICAgPEZvcndhcmRNZXNzYWdlRGlhbG9nXHJcbiAgICAgICAgICBtZXNzYWdlPXtmb3J3YXJkTWVzc2FnZX1cclxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEZvcndhcmRNZXNzYWdlKG51bGwpfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj4sXHJcbiAgICBkb2N1bWVudC5ib2R5XHJcbiAgKTtcclxufTtcclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiY3JlYXRlUG9ydGFsIiwiZ2V0TWVzc2FnZXMiLCJjcmVhdGVNZXNzYWdlIiwiY3JlYXRlTWVzc2FnZVdpdGhQYXlsb2FkIiwiY3JlYXRlQ29udmVyc2F0aW9uV2l0aFVzZXIiLCJnZXRPcHBvbmVudEluZm8iLCJnZXRDdXJyZW50VXNlcklkIiwibWFya0FzUmVhZCIsInVwbG9hZENoYXRGaWxlIiwiaW5pdGlhdGVDYWxsIiwicGluTWVzc2FnZSIsInVucGluTWVzc2FnZSIsInN0YXJNZXNzYWdlIiwiZ2V0U29ja2V0IiwicmVnaXN0ZXJDaGF0U29ja2V0IiwiQ2FsbFBvcHVwTWFuYWdlciIsIkZvcndhcmRNZXNzYWdlRGlhbG9nIiwiRmxvYXRpbmdDaGF0V2luZG93IiwidXNlcklkIiwidXNlck5hbWUiLCJ1c2VyQXZhdGFyIiwiaXNPbmxpbmUiLCJvbkNsb3NlIiwib25NaW5pbWl6ZSIsImRpc3BsYXlOYW1lIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImNvbnZlcnNhdGlvbklkIiwic2V0Q29udmVyc2F0aW9uSWQiLCJpbnB1dFRleHQiLCJzZXRJbnB1dFRleHQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpc1NlbmRpbmciLCJzZXRJc1NlbmRpbmciLCJpc1VwbG9hZGluZyIsInNldElzVXBsb2FkaW5nIiwib3Bwb25lbnRJbmZvIiwic2V0T3Bwb25lbnRJbmZvIiwiY3VycmVudFVzZXJJZCIsInNldEN1cnJlbnRVc2VySWQiLCJtZXNzYWdlc0VuZFJlZiIsIm1lc3NhZ2VzQ29udGFpbmVyUmVmIiwibWVkaWFJbnB1dFJlZiIsImNvbnRleHRNZW51Iiwic2V0Q29udGV4dE1lbnUiLCJmb3J3YXJkTWVzc2FnZSIsInNldEZvcndhcmRNZXNzYWdlIiwiZ2V0SW1hZ2VVcmwiLCJtZXNzYWdlIiwiaW1hZ2VVcmwiLCJmaWxlIiwidXJsIiwidG9DaGF0TWVzc2FnZSIsInRoZW4iLCJjYXRjaCIsInNvcnRNZXNzYWdlcyIsIm1zZ3MiLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiY3JlYXRlZEF0IiwiZ2V0VGltZSIsImxvYWRDb252ZXJzYXRpb24iLCJjb252ZXJzYXRpb24iLCJfaWQiLCJvcHBvbmVudCIsInVzZXIiLCJtZXNzYWdlc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiY29uc29sZSIsImxvZyIsImVyciIsImVycm9yIiwic29ja2V0Iiwid2FybiIsImpvaW5Sb29tIiwiZW1pdCIsImNvbm5lY3RlZCIsIm9uQ29ubmVjdCIsIm9mZiIsIm9uIiwidW5zdWJzY3JpYmUiLCJvbk1lc3NhZ2VDcmVhdGVkIiwicHJldiIsImV4aXN0cyIsInNvbWUiLCJpdGVtIiwibmV3TWVzc2FnZXMiLCJzZXRUaW1lb3V0IiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayIsInNlbmRlcklkIiwib25NZXNzYWdlVXBkYXRlZCIsIm1hcCIsIm9uTWVzc2FnZURlbGV0ZWQiLCJtZXNzYWdlSWQiLCJmaWx0ZXIiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxlbmd0aCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNvbnRhaW5lciIsImlzTmVhckJvdHRvbSIsImNsaWVudEhlaWdodCIsImhhbmRsZVNlbmRNZXNzYWdlIiwidHJpbSIsInRleHQiLCJuZXdNZXNzYWdlIiwibXNnIiwiaGFuZGxlVXBsb2FkTWVkaWEiLCJldmVudCIsInRhcmdldCIsImZpbGVzIiwidmFsdWUiLCJiYXNlRmlsZSIsInVwbG9hZGVkIiwibmFtZSIsIm1pbWUiLCJ0eXBlIiwic2l6ZSIsImlzSW1hZ2VPclZpZGVvIiwic3RhcnRzV2l0aCIsInBheWxvYWQiLCJoYW5kbGVWaWRlb0NhbGwiLCJyZXN1bHQiLCJjYWxsIiwiaWQiLCJjYWxsVHlwZSIsImxpdmVraXRSb29tTmFtZSIsInBvcHVwIiwib3BlbkNhbGxXaW5kb3ciLCJoYW5kbGVBdWRpb0NhbGwiLCJvcGVuQ29udGV4dE1lbnUiLCJzdG9wUHJvcGFnYXRpb24iLCJyZWN0IiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJyaWdodCIsInkiLCJib3R0b20iLCJjbG9zZUNvbnRleHRNZW51IiwiaGFuZGxlUmVwbHkiLCJiYXNlIiwiaGFuZGxlQ29weSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImhhbmRsZVBpblRvZ2dsZSIsInNob3VsZFBpbiIsImlzUGlubmVkIiwidXBkYXRlZCIsIm0iLCJoYW5kbGVTdGFyIiwiaGFuZGxlRm9yd2FyZCIsImhhbmRsZUtleVByZXNzIiwiZSIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJkaXNwbGF5QXZhdGFyIiwiYXZhdGFyIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW1nIiwic3JjIiwiYWx0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwic3ZnIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsInBhdGgiLCJkIiwicmVmIiwiaXNPd24iLCJoYXNUZXh0IiwiaGFzSW1hZ2UiLCJpc1N0YXJyZWQiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiaW5wdXQiLCJhY2NlcHQiLCJvbkNoYW5nZSIsImNsaWNrIiwiZGlzYWJsZWQiLCJ0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIiwib25LZXlQcmVzcyIsInJvd3MiLCJzdHlsZSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInpJbmRleCIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../packages/app/components/FloatingChatWindow.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/../../packages/app/components/chat/ForwardMessageDialog.tsx":
/*!*******************************************************************!*\
  !*** ../../packages/app/components/chat/ForwardMessageDialog.tsx ***!
  \*******************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForwardMessageDialog: function() { return /* binding */ ForwardMessageDialog; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api */ \"(app-pages-browser)/../../packages/app/api.ts\");\n\nvar _s = $RefreshSig$();\n\n\nfunction ForwardMessageDialog(param) {\n    let { message, onClose, onForwarded } = param;\n    _s();\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [selectedConversationId, setSelectedConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [forwarding, setForwarding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!message) return;\n        loadConversations();\n    }, [\n        message\n    ]);\n    const loadConversations = async ()=>{\n        try {\n            setLoading(true);\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_2__.getConversations)();\n            setConversations(data);\n        } catch (err) {\n            console.error(\"Failed to load conversations:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleForward = async ()=>{\n        if (!message || !selectedConversationId) return;\n        try {\n            setForwarding(true);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_2__.createMessageWithPayload)(selectedConversationId, {\n                text: message.text,\n                imageUrl: message.imageUrl,\n                type: message.type\n            });\n            onForwarded === null || onForwarded === void 0 ? void 0 : onForwarded();\n            onClose();\n        } catch (err) {\n            console.error(\"Failed to forward message:\", err);\n            alert(\"Kh\\xf4ng thể chuyển tiếp tin nhắn. Vui l\\xf2ng thử lại.\");\n        } finally{\n            setForwarding(false);\n        }\n    };\n    if (!message) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-forward-dialog-overlay\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-forward-dialog\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Chuyển tiếp tin nhắn\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-close\",\n                            onClick: onClose,\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 59,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-preview\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-forward-preview-message\",\n                        children: [\n                            message.text && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-forward-preview-text\",\n                                children: message.text\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 30\n                            }, this),\n                            message.imageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: message.imageUrl,\n                                alt: \"Preview\",\n                                className: \"chat-forward-preview-image\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 65,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-list\",\n                    children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-forward-dialog-loading\",\n                        children: \"Đang tải...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 13\n                    }, this) : conversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-forward-dialog-empty\",\n                        children: \"Kh\\xf4ng c\\xf3 cuộc tr\\xf2 chuyện n\\xe0o\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 13\n                    }, this) : conversations.map((conv)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-item \".concat(selectedConversationId === conv._id ? \"chat-forward-dialog-item--selected\" : \"\"),\n                            onClick: ()=>setSelectedConversationId(conv._id),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"chat-forward-dialog-item-avatar\",\n                                    children: conv.isGroup ? \"\\uD83D\\uDC65\" : \"\\uD83D\\uDCAC\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                    lineNumber: 87,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"chat-forward-dialog-item-info\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"chat-forward-dialog-item-name\",\n                                        children: conv.isGroup ? conv.title || \"Nh\\xf3m (\".concat(conv.members.length, \")\") : conv.title || \"Người d\\xf9ng\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, conv._id, true, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-forward-dialog-actions\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-cancel\",\n                            onClick: onClose,\n                            children: \"Hủy\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 100,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"chat-forward-dialog-forward\",\n                            onClick: handleForward,\n                            disabled: !selectedConversationId || forwarding,\n                            children: forwarding ? \"Đang chuyển tiếp...\" : \"Chuyển tiếp\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                            lineNumber: 103,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n                    lineNumber: 99,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n            lineNumber: 58,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Code\\\\Nodejs\\\\Zola\\\\packages\\\\app\\\\components\\\\chat\\\\ForwardMessageDialog.tsx\",\n        lineNumber: 57,\n        columnNumber: 5\n    }, this);\n}\n_s(ForwardMessageDialog, \"lUMZs04jAQSfBn4DgoFhTotATK4=\");\n_c = ForwardMessageDialog;\nvar _c;\n$RefreshReg$(_c, \"ForwardMessageDialog\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9hcHAvY29tcG9uZW50cy9jaGF0L0ZvcndhcmRNZXNzYWdlRGlhbG9nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRDO0FBQ3lDO0FBUzlFLFNBQVNJLHFCQUFxQixLQUE0RDtRQUE1RCxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxFQUE2QixHQUE1RDs7SUFDbkMsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR1IsK0NBQVFBLENBQWlCLEVBQUU7SUFDckUsTUFBTSxDQUFDUyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1csd0JBQXdCQywwQkFBMEIsR0FBR1osK0NBQVFBLENBQWdCO0lBQ3BGLE1BQU0sQ0FBQ2EsWUFBWUMsY0FBYyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUU3Q0QsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNLLFNBQVM7UUFDZFc7SUFDRixHQUFHO1FBQUNYO0tBQVE7SUFFWixNQUFNVyxvQkFBb0I7UUFDeEIsSUFBSTtZQUNGTCxXQUFXO1lBQ1gsTUFBTU0sT0FBTyxNQUFNZixzREFBZ0JBO1lBQ25DTyxpQkFBaUJRO1FBQ25CLEVBQUUsT0FBT0MsS0FBSztZQUNaQyxRQUFRQyxLQUFLLENBQUMsaUNBQWlDRjtRQUNqRCxTQUFVO1lBQ1JQLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTVUsZ0JBQWdCO1FBQ3BCLElBQUksQ0FBQ2hCLFdBQVcsQ0FBQ08sd0JBQXdCO1FBRXpDLElBQUk7WUFDRkcsY0FBYztZQUNkLE1BQU1aLDhEQUF3QkEsQ0FBQ1Msd0JBQXdCO2dCQUNyRFUsTUFBTWpCLFFBQVFpQixJQUFJO2dCQUNsQkMsVUFBVWxCLFFBQVFrQixRQUFRO2dCQUMxQkMsTUFBTW5CLFFBQVFtQixJQUFJO1lBQ3BCO1lBQ0FqQix3QkFBQUEsa0NBQUFBO1lBQ0FEO1FBQ0YsRUFBRSxPQUFPWSxLQUFLO1lBQ1pDLFFBQVFDLEtBQUssQ0FBQyw4QkFBOEJGO1lBQzVDTyxNQUFNO1FBQ1IsU0FBVTtZQUNSVixjQUFjO1FBQ2hCO0lBQ0Y7SUFFQSxJQUFJLENBQUNWLFNBQVMsT0FBTztJQUVyQixxQkFDRSw4REFBQ3FCO1FBQUlDLFdBQVU7UUFBOEJDLFNBQVN0QjtrQkFDcEQsNEVBQUNvQjtZQUFJQyxXQUFVO1lBQXNCQyxTQUFTLENBQUNDLElBQU1BLEVBQUVDLGVBQWU7OzhCQUNwRSw4REFBQ0o7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDSTtzQ0FBRzs7Ozs7O3NDQUNKLDhEQUFDQzs0QkFBT0wsV0FBVTs0QkFBNEJDLFNBQVN0QjtzQ0FBUzs7Ozs7Ozs7Ozs7OzhCQUlsRSw4REFBQ29CO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDRDt3QkFBSUMsV0FBVTs7NEJBQ1p0QixRQUFRaUIsSUFBSSxrQkFBSSw4REFBQ0k7Z0NBQUlDLFdBQVU7MENBQTZCdEIsUUFBUWlCLElBQUk7Ozs7Ozs0QkFDeEVqQixRQUFRa0IsUUFBUSxrQkFDZiw4REFBQ1U7Z0NBQUlDLEtBQUs3QixRQUFRa0IsUUFBUTtnQ0FBRVksS0FBSTtnQ0FBVVIsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBSTFELDhEQUFDRDtvQkFBSUMsV0FBVTs4QkFDWmpCLHdCQUNDLDhEQUFDZ0I7d0JBQUlDLFdBQVU7a0NBQThCOzs7OzsrQkFDM0NuQixjQUFjNEIsTUFBTSxLQUFLLGtCQUMzQiw4REFBQ1Y7d0JBQUlDLFdBQVU7a0NBQTRCOzs7OzsrQkFFM0NuQixjQUFjNkIsR0FBRyxDQUFDLENBQUNDLHFCQUNqQiw4REFBQ047NEJBRUNMLFdBQVcsNEJBRVYsT0FEQ2YsMkJBQTJCMEIsS0FBS0MsR0FBRyxHQUFHLHVDQUF1Qzs0QkFFL0VYLFNBQVMsSUFBTWYsMEJBQTBCeUIsS0FBS0MsR0FBRzs7OENBRWpELDhEQUFDYjtvQ0FBSUMsV0FBVTs4Q0FDWlcsS0FBS0UsT0FBTyxHQUFHLGlCQUFPOzs7Ozs7OENBRXpCLDhEQUFDZDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7a0RBQ1pXLEtBQUtFLE9BQU8sR0FBR0YsS0FBS0csS0FBSyxJQUFJLFlBQTZCLE9BQXBCSCxLQUFLSSxPQUFPLENBQUNOLE1BQU0sRUFBQyxPQUFLRSxLQUFLRyxLQUFLLElBQUk7Ozs7Ozs7Ozs7OzsyQkFYN0VILEtBQUtDLEdBQUc7Ozs7Ozs7Ozs7OEJBa0JyQiw4REFBQ2I7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDSzs0QkFBT0wsV0FBVTs0QkFBNkJDLFNBQVN0QjtzQ0FBUzs7Ozs7O3NDQUdqRSw4REFBQzBCOzRCQUNDTCxXQUFVOzRCQUNWQyxTQUFTUDs0QkFDVHNCLFVBQVUsQ0FBQy9CLDBCQUEwQkU7c0NBRXBDQSxhQUFhLHdCQUF3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbEQ7R0F2R2dCVjtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vcGFja2FnZXMvYXBwL2NvbXBvbmVudHMvY2hhdC9Gb3J3YXJkTWVzc2FnZURpYWxvZy50c3g/ZjgzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBnZXRDb252ZXJzYXRpb25zLCBDb252ZXJzYXRpb24sIGNyZWF0ZU1lc3NhZ2VXaXRoUGF5bG9hZCB9IGZyb20gJy4uLy4uL2FwaSc7XHJcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSAnLi4vLi4vdHlwZXMvY2hhdCc7XHJcblxyXG5pbnRlcmZhY2UgRm9yd2FyZE1lc3NhZ2VEaWFsb2dQcm9wcyB7XHJcbiAgbWVzc2FnZTogQ2hhdE1lc3NhZ2UgfCBudWxsO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgb25Gb3J3YXJkZWQ/OiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRm9yd2FyZE1lc3NhZ2VEaWFsb2coeyBtZXNzYWdlLCBvbkNsb3NlLCBvbkZvcndhcmRlZCB9OiBGb3J3YXJkTWVzc2FnZURpYWxvZ1Byb3BzKSB7XHJcbiAgY29uc3QgW2NvbnZlcnNhdGlvbnMsIHNldENvbnZlcnNhdGlvbnNdID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uW10+KFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbc2VsZWN0ZWRDb252ZXJzYXRpb25JZCwgc2V0U2VsZWN0ZWRDb252ZXJzYXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZm9yd2FyZGluZywgc2V0Rm9yd2FyZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjtcclxuICAgIGxvYWRDb252ZXJzYXRpb25zKCk7XHJcbiAgfSwgW21lc3NhZ2VdKTtcclxuXHJcbiAgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpO1xyXG4gICAgICBzZXRDb252ZXJzYXRpb25zKGRhdGEpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbnM6JywgZXJyKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvcndhcmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIW1lc3NhZ2UgfHwgIXNlbGVjdGVkQ29udmVyc2F0aW9uSWQpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRGb3J3YXJkaW5nKHRydWUpO1xyXG4gICAgICBhd2FpdCBjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQoc2VsZWN0ZWRDb252ZXJzYXRpb25JZCwge1xyXG4gICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcclxuICAgICAgICBpbWFnZVVybDogbWVzc2FnZS5pbWFnZVVybCxcclxuICAgICAgICB0eXBlOiBtZXNzYWdlLnR5cGUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBvbkZvcndhcmRlZD8uKCk7XHJcbiAgICAgIG9uQ2xvc2UoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZm9yd2FyZCBtZXNzYWdlOicsIGVycik7XHJcbiAgICAgIGFsZXJ0KCdLaMO0bmcgdGjhu4MgY2h1eeG7g24gdGnhur9wIHRpbiBuaOG6r24uIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaS4nKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldEZvcndhcmRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmICghbWVzc2FnZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctb3ZlcmxheVwiIG9uQ2xpY2s9e29uQ2xvc2V9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2dcIiBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLWhlYWRlclwiPlxyXG4gICAgICAgICAgPGgzPkNodXnhu4NuIHRp4bq/cCB0aW4gbmjhuq9uPC9oMz5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1jbG9zZVwiIG9uQ2xpY2s9e29uQ2xvc2V9PlxyXG4gICAgICAgICAgICDDl1xyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLXByZXZpZXdcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLXByZXZpZXctbWVzc2FnZVwiPlxyXG4gICAgICAgICAgICB7bWVzc2FnZS50ZXh0ICYmIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLXByZXZpZXctdGV4dFwiPnttZXNzYWdlLnRleHR9PC9kaXY+fVxyXG4gICAgICAgICAgICB7bWVzc2FnZS5pbWFnZVVybCAmJiAoXHJcbiAgICAgICAgICAgICAgPGltZyBzcmM9e21lc3NhZ2UuaW1hZ2VVcmx9IGFsdD1cIlByZXZpZXdcIiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtcHJldmlldy1pbWFnZVwiIC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctbGlzdFwiPlxyXG4gICAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1sb2FkaW5nXCI+xJBhbmcgdOG6o2kuLi48L2Rpdj5cclxuICAgICAgICAgICkgOiBjb252ZXJzYXRpb25zLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLWVtcHR5XCI+S2jDtG5nIGPDsyBjdeG7mWMgdHLDsiBjaHV54buHbiBuw6BvPC9kaXY+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICBjb252ZXJzYXRpb25zLm1hcCgoY29udikgPT4gKFxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGtleT17Y29udi5faWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjaGF0LWZvcndhcmQtZGlhbG9nLWl0ZW0gJHtcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb252ZXJzYXRpb25JZCA9PT0gY29udi5faWQgPyAnY2hhdC1mb3J3YXJkLWRpYWxvZy1pdGVtLS1zZWxlY3RlZCcgOiAnJ1xyXG4gICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZENvbnZlcnNhdGlvbklkKGNvbnYuX2lkKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctaXRlbS1hdmF0YXJcIj5cclxuICAgICAgICAgICAgICAgICAge2NvbnYuaXNHcm91cCA/ICfwn5GlJyA6ICfwn5KsJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWZvcndhcmQtZGlhbG9nLWl0ZW0taW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctaXRlbS1uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbnYuaXNHcm91cCA/IGNvbnYudGl0bGUgfHwgYE5ow7NtICgke2NvbnYubWVtYmVycy5sZW5ndGh9KWAgOiBjb252LnRpdGxlIHx8ICdOZ8aw4budaSBkw7luZyd9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICkpXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1hY3Rpb25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNoYXQtZm9yd2FyZC1kaWFsb2ctY2FuY2VsXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgIEjhu6d5XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1mb3J3YXJkLWRpYWxvZy1mb3J3YXJkXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRm9yd2FyZH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3RlZENvbnZlcnNhdGlvbklkIHx8IGZvcndhcmRpbmd9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtmb3J3YXJkaW5nID8gJ8SQYW5nIGNodXnhu4NuIHRp4bq/cC4uLicgOiAnQ2h1eeG7g24gdGnhur9wJ31cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsImdldENvbnZlcnNhdGlvbnMiLCJjcmVhdGVNZXNzYWdlV2l0aFBheWxvYWQiLCJGb3J3YXJkTWVzc2FnZURpYWxvZyIsIm1lc3NhZ2UiLCJvbkNsb3NlIiwib25Gb3J3YXJkZWQiLCJjb252ZXJzYXRpb25zIiwic2V0Q29udmVyc2F0aW9ucyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2VsZWN0ZWRDb252ZXJzYXRpb25JZCIsInNldFNlbGVjdGVkQ29udmVyc2F0aW9uSWQiLCJmb3J3YXJkaW5nIiwic2V0Rm9yd2FyZGluZyIsImxvYWRDb252ZXJzYXRpb25zIiwiZGF0YSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUZvcndhcmQiLCJ0ZXh0IiwiaW1hZ2VVcmwiLCJ0eXBlIiwiYWxlcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImgzIiwiYnV0dG9uIiwiaW1nIiwic3JjIiwiYWx0IiwibGVuZ3RoIiwibWFwIiwiY29udiIsIl9pZCIsImlzR3JvdXAiLCJ0aXRsZSIsIm1lbWJlcnMiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../packages/app/components/chat/ForwardMessageDialog.tsx\n"));

/***/ })

});