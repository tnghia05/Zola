"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/call/page",{

/***/ "(app-pages-browser)/../../packages/app/features/call/screens/CallScreen.web.js":
/*!******************************************************************!*\
  !*** ../../packages/app/features/call/screens/CallScreen.web.js ***!
  \******************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CallScreen; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_e51c94e397bd2e219e1912d446a17ff6/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useWebRTC__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useWebRTC */ \"(app-pages-browser)/../../packages/app/hooks/useWebRTC.js\");\n/* harmony import */ var _hooks_useLiveKit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLiveKit */ \"(app-pages-browser)/../../packages/app/hooks/useLiveKit.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../api */ \"(app-pages-browser)/../../packages/app/api.js\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../socket */ \"(app-pages-browser)/../../packages/app/socket.js\");\n/* harmony import */ var _hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useOpponentInfo */ \"(app-pages-browser)/../../packages/app/hooks/useOpponentInfo.js\");\n/* harmony import */ var _components_call_GroupCallGrid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/call/GroupCallGrid */ \"(app-pages-browser)/../../packages/app/components/call/GroupCallGrid.js\");\n/* harmony import */ var _styles_call_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../styles/call.css */ \"(app-pages-browser)/../../packages/app/styles/call.css\");\n/* __next_internal_client_entry_do_not_use__ default auto */ var _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction CallScreen() {\n    _s();\n    const [callId, setCallId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callInfo, setCallInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isInitiator, setIsInitiator] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [localUserId, setLocalUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [acceptedFromModal, setAcceptedFromModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Read user id & URL params on client\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n        try {\n            const uid = window.localStorage.getItem(\"user_id\");\n            setLocalUserId(uid);\n        } catch (err) {\n            console.warn(\"[CallScreen] Unable to read user_id from localStorage\", err);\n        }\n        const search = new URLSearchParams(window.location.search);\n        const urlCallId = search.get(\"callId\");\n        const urlConversationId = search.get(\"conversationId\");\n        const urlAcceptedFromModal = search.get(\"acceptedFromModal\");\n        const urlCallType = search.get(\"callType\");\n        const urlLivekitRoomName = search.get(\"livekitRoomName\");\n        const urlIsIncoming = search.get(\"isIncoming\");\n        console.log(\"[CallScreen] Parsed URL params:\", {\n            urlCallId,\n            urlConversationId,\n            urlAcceptedFromModal,\n            urlCallType,\n            urlLivekitRoomName,\n            urlIsIncoming\n        });\n        if (urlCallId) {\n            setCallId(urlCallId);\n        }\n        if (urlConversationId) {\n            setCallInfo((prev)=>{\n                const newInfo = prev ? {\n                    ...prev,\n                    conversationId: urlConversationId\n                } : {\n                    conversationId: urlConversationId,\n                    initiatorId: localUserId || \"\",\n                    remoteUserId: \"\",\n                    type: \"video\"\n                };\n                // Add callType and livekitRoomName from URL params\n                if (urlCallType) {\n                    newInfo.callType = urlCallType;\n                }\n                if (urlLivekitRoomName) {\n                    newInfo.livekitRoomName = urlLivekitRoomName;\n                }\n                return newInfo;\n            });\n        }\n        // Check if user accepted from GlobalIncomingCall modal\n        if (urlAcceptedFromModal === \"true\") {\n            console.log(\"[CallScreen] User accepted from modal, skipping incoming call UI\");\n            setAcceptedFromModal(true);\n            // If SFU call and we have livekitRoomName, fetch the token immediately\n            if (urlCallType === \"sfu\" && urlLivekitRoomName && urlCallId) {\n                console.log(\"[CallScreen] Fetching LiveKit token for SFU call from modal...\");\n                (0,_api__WEBPACK_IMPORTED_MODULE_4__.getLiveKitToken)(urlCallId).then((tokenData)=>{\n                    setLiveKitToken(tokenData.token);\n                    setLiveKitUrl(tokenData.url);\n                    console.log(\"[CallScreen] LiveKit token obtained from modal accept\");\n                }).catch((err)=>{\n                    console.error(\"[CallScreen] Error getting LiveKit token from modal accept:\", err);\n                });\n            }\n        }\n        // Set isInitiator based on URL param\n        if (urlIsIncoming === \"false\") {\n            setIsInitiator(true);\n        } else if (urlIsIncoming === \"true\") {\n            setIsInitiator(false);\n        }\n    }, [\n        localUserId\n    ]);\n    // Log component lifecycle\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[CallScreen] Component mounted, callId:\", callId);\n        return ()=>{\n            console.log(\"[CallScreen] Component unmounting, callId:\", callId);\n        };\n    }, [\n        callId\n    ]);\n    const [callDuration, setCallDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [callStartTime, setCallStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const durationIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { info: opponentInfo } = (0,_hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_6__.useOpponentInfo)((callInfo === null || callInfo === void 0 ? void 0 : callInfo.conversationId) || \"\");\n    const filterOptions = [\n        {\n            id: \"none\",\n            label: \"Gốc\",\n            emoji: \"\\uD83D\\uDE42\"\n        },\n        {\n            id: \"beauty\",\n            label: \"Mịn\",\n            emoji: \"✨\"\n        },\n        {\n            id: \"warm\",\n            label: \"Ấm\",\n            emoji: \"\\uD83C\\uDF05\"\n        },\n        {\n            id: \"cool\",\n            label: \"M\\xe1t\",\n            emoji: \"❄️\"\n        },\n        {\n            id: \"party\",\n            label: \"Party\",\n            emoji: \"\\uD83C\\uDF89\"\n        },\n        {\n            id: \"birthday\",\n            label: \"Sinh nhật\",\n            emoji: \"\\uD83C\\uDF82\"\n        }\n    ];\n    const [showFilterPanel, setShowFilterPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // LiveKit state\n    const [liveKitToken, setLiveKitToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [liveKitUrl, setLiveKitUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const liveKitTokenRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Keep ref in sync with state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        liveKitTokenRef.current = liveKitToken;\n    }, [\n        liveKitToken\n    ]);\n    // Chỉ sử dụng useWebRTC cho P2P calls\n    const isP2PCall = !(callInfo === null || callInfo === void 0 ? void 0 : callInfo.callType) || callInfo.callType === \"p2p\";\n    // Luôn gọi useWebRTC để đảm bảo hooks order không đổi\n    const { localStream: p2pLocalStream, remoteStream: p2pRemoteStream, isConnected: p2pIsConnected, error: p2pError, startCall, endCall: endWebRTC, toggleVideo: p2pToggleVideo, toggleAudio: p2pToggleAudio, isVideoEnabled: p2pIsVideoEnabled, isAudioEnabled: p2pIsAudioEnabled, applyFilter, currentFilter, startScreenShare, stopScreenShare, isScreenSharing, localVideoRef, remoteVideoRef } = (0,_hooks_useWebRTC__WEBPACK_IMPORTED_MODULE_2__.useWebRTC)({\n        callId: callId || \"\",\n        conversationId: (callInfo === null || callInfo === void 0 ? void 0 : callInfo.conversationId) || \"\",\n        isInitiator: isInitiator,\n        localUserId: localUserId || \"\",\n        remoteUserId: (callInfo === null || callInfo === void 0 ? void 0 : callInfo.remoteUserId) || \"\"\n    });\n    // Luôn gọi useLiveKit để đảm bảo hooks order không đổi\n    const { localStream: liveKitLocalStream, remoteStreams: liveKitRemoteStreams, remoteTracks: liveKitRemoteTracks, isConnected: liveKitIsConnected, error: liveKitError, connect: connectLiveKit, disconnect: disconnectLiveKit, toggleVideo: liveKitToggleVideo, toggleAudio: liveKitToggleAudio, isVideoEnabled: liveKitIsVideoEnabled, isAudioEnabled: liveKitIsAudioEnabled } = (0,_hooks_useLiveKit__WEBPACK_IMPORTED_MODULE_3__.useLiveKit)({\n        roomName: (callInfo === null || callInfo === void 0 ? void 0 : callInfo.livekitRoomName) || \"\",\n        token: liveKitToken || \"\",\n        url: liveKitUrl\n    });\n    // Chọn stream và controls dựa trên call type\n    const localStream = isP2PCall ? p2pLocalStream : liveKitLocalStream;\n    const remoteStream = isP2PCall ? p2pRemoteStream : null;\n    const isConnected = isP2PCall ? p2pIsConnected : liveKitIsConnected;\n    const error = isP2PCall ? p2pError : liveKitError;\n    const toggleVideo = isP2PCall ? p2pToggleVideo : liveKitToggleVideo;\n    const toggleAudio = isP2PCall ? p2pToggleAudio : liveKitToggleAudio;\n    const isVideoEnabled = isP2PCall ? p2pIsVideoEnabled : liveKitIsVideoEnabled;\n    const isAudioEnabled = isP2PCall ? p2pIsAudioEnabled : liveKitIsAudioEnabled;\n    const canUseEnhancements = isP2PCall && (callInfo === null || callInfo === void 0 ? void 0 : callInfo.type) === \"video\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canUseEnhancements) {\n            setShowFilterPanel(false);\n        }\n    }, [\n        canUseEnhancements\n    ]);\n    const handleToggleFilterPanel = ()=>{\n        if (!canUseEnhancements) return;\n        setShowFilterPanel((prev)=>!prev);\n    };\n    // Ref to track if we've already auto-started\n    const hasAutoStartedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Ref to store latest startCall function to avoid re-triggering\n    const startCallRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(startCall);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        startCallRef.current = startCall;\n    }, [\n        startCall\n    ]);\n    // Calculate call duration\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected && callStartTime) {\n            durationIntervalRef.current = setInterval(()=>{\n                const now = new Date();\n                const diff = Math.floor((now.getTime() - callStartTime.getTime()) / 1000);\n                setCallDuration(diff);\n            }, 1000);\n        } else {\n            if (durationIntervalRef.current) {\n                clearInterval(durationIntervalRef.current);\n                durationIntervalRef.current = null;\n            }\n        }\n        return ()=>{\n            if (durationIntervalRef.current) {\n                clearInterval(durationIntervalRef.current);\n            }\n        };\n    }, [\n        isConnected,\n        callStartTime\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected && !callStartTime) {\n            setCallStartTime(new Date());\n        }\n    }, [\n        isConnected,\n        callStartTime\n    ]);\n    // Format duration as MM:SS or HH:MM:SS\n    const formatDuration = (seconds)=>{\n        const hours = Math.floor(seconds / 3600);\n        const minutes = Math.floor(seconds % 3600 / 60);\n        const secs = seconds % 60;\n        if (hours > 0) {\n            return \"\".concat(hours.toString().padStart(2, \"0\"), \":\").concat(minutes.toString().padStart(2, \"0\"), \":\").concat(secs.toString().padStart(2, \"0\"));\n        }\n        return \"\".concat(minutes.toString().padStart(2, \"0\"), \":\").concat(secs.toString().padStart(2, \"0\"));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!callId || !localUserId) return;\n        const loadCallInfo = async ()=>{\n            try {\n                var _call_metadata, _call_metadata1;\n                console.log(\"[CallScreen] Loading call info for callId:\", callId);\n                const call = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.getCall)(callId);\n                console.log(\"[CallScreen] Call info loaded:\", call);\n                const remoteUserId = call.participants.find((id)=>String(id) !== localUserId) || \"\";\n                const isInit = String(call.initiatorId) === localUserId;\n                const callType = call.callType || \"p2p\";\n                setCallInfo({\n                    conversationId: String(call.conversationId),\n                    initiatorId: String(call.initiatorId),\n                    remoteUserId: String(remoteUserId),\n                    type: call.type,\n                    callType: callType,\n                    livekitRoomName: (_call_metadata = call.metadata) === null || _call_metadata === void 0 ? void 0 : _call_metadata.livekitRoomName,\n                    participants: call.participants.map((p)=>String(p))\n                });\n                setIsInitiator(isInit);\n                // Nếu là cuộc gọi nhóm, lấy LiveKit token\n                if (callType === \"sfu\" && ((_call_metadata1 = call.metadata) === null || _call_metadata1 === void 0 ? void 0 : _call_metadata1.livekitRoomName)) {\n                    try {\n                        const tokenData = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.getLiveKitToken)(callId);\n                        setLiveKitToken(tokenData.token);\n                        setLiveKitUrl(tokenData.url);\n                        console.log(\"[CallScreen] LiveKit token obtained\");\n                    } catch (err) {\n                        console.error(\"[CallScreen] Error getting LiveKit token:\", err);\n                    }\n                }\n            } catch (error) {\n                var _error_response;\n                console.error(\"[CallScreen] Error loading call info:\", error);\n                // If call not found, try to get info from socket or use fallback\n                if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 404) {\n                    console.warn(\"[CallScreen] Call not found (404), trying socket events...\");\n                    // Try to get info from socket events instead\n                    const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_5__.getSocket)();\n                    if (socket) {\n                        // Listen for call info from socket\n                        socket.once(\"call:info\", (data)=>{\n                            if (data.callId === callId) {\n                                console.log(\"[CallScreen] Got call info from socket:\", data);\n                                setCallInfo({\n                                    conversationId: data.conversationId,\n                                    initiatorId: data.initiatorId,\n                                    remoteUserId: data.remoteUserId || data.initiatorId,\n                                    type: data.type || \"video\"\n                                });\n                                setIsInitiator(String(data.initiatorId) === localUserId);\n                            }\n                        });\n                        // Also listen for incoming call event\n                        socket.once(\"call:incoming\", (data)=>{\n                            if (data.callId === callId) {\n                                console.log(\"[CallScreen] Got call info from call:incoming:\", data);\n                                setCallInfo({\n                                    conversationId: data.conversationId,\n                                    initiatorId: data.initiatorId,\n                                    remoteUserId: data.initiatorId,\n                                    type: data.type || \"video\"\n                                });\n                                setIsInitiator(false);\n                            }\n                        });\n                    }\n                }\n            }\n        };\n        loadCallInfo();\n        const socket = (0,_socket__WEBPACK_IMPORTED_MODULE_5__.getSocket)();\n        if (socket) {\n            const handleCallIncoming = async (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:incoming event:\", data);\n                setCallInfo({\n                    conversationId: data.conversationId,\n                    initiatorId: data.initiatorId,\n                    remoteUserId: data.remoteUserId || data.initiatorId,\n                    type: data.type,\n                    callType: data.callType || \"p2p\",\n                    livekitRoomName: data.livekitRoomName,\n                    participants: data.participants\n                });\n                setIsInitiator(false);\n                // Nếu là cuộc gọi nhóm, lấy LiveKit token\n                if (data.callType === \"sfu\" && data.livekitRoomName) {\n                    try {\n                        const tokenData = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.getLiveKitToken)(callId);\n                        setLiveKitToken(tokenData.token);\n                        setLiveKitUrl(tokenData.url);\n                        console.log(\"[CallScreen] LiveKit token obtained from incoming call\");\n                    } catch (err) {\n                        console.error(\"[CallScreen] Error getting LiveKit token:\", err);\n                    }\n                }\n            };\n            const handleCallInfo = (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:info event:\", data);\n                const remoteUserId = data.participants.find((id)=>String(id) !== localUserId) || \"\";\n                const isInit = String(data.initiatorId) === localUserId;\n                setCallInfo({\n                    conversationId: data.conversationId,\n                    initiatorId: String(data.initiatorId),\n                    remoteUserId: String(remoteUserId),\n                    type: data.type\n                });\n                setIsInitiator(isInit);\n            };\n            const handleCallAccepted = (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:accepted event:\", data);\n                // Update call info if provided\n                if (data.conversationId) {\n                    const remoteUserId = data.participants ? data.participants.find((id)=>String(id) !== localUserId) || \"\" : data.remoteUserId || \"\";\n                    setCallInfo((prev)=>prev ? {\n                            ...prev,\n                            conversationId: data.conversationId,\n                            remoteUserId: remoteUserId || prev.remoteUserId,\n                            type: data.type || prev.type\n                        } : {\n                            conversationId: data.conversationId,\n                            initiatorId: data.initiatorId || localUserId,\n                            remoteUserId: remoteUserId,\n                            type: data.type || \"video\"\n                        });\n                }\n                // If we're the initiator and call is accepted, auto-start the call\n                // Only auto-start once\n                if (isInitiator && !isConnected && !hasAutoStartedRef.current && callInfo) {\n                    console.log(\"[CallScreen] Call accepted, auto-starting call...\");\n                    console.log(\"[CallScreen] CallInfo available:\", callInfo);\n                    hasAutoStartedRef.current = true;\n                    setTimeout(async ()=>{\n                        console.log(\"[CallScreen] Attempting to start call as initiator...\");\n                        if (callInfo.callType === \"sfu\" && liveKitToken) {\n                            // Start LiveKit connection\n                            await connectLiveKit();\n                        } else {\n                            // Use ref to call latest startCall without triggering re-runs\n                            startCallRef.current().then(()=>{\n                                console.log(\"[CallScreen] Call started successfully as initiator\");\n                            }).catch((err)=>{\n                                console.error(\"[CallScreen] Error auto-starting call:\", err);\n                                hasAutoStartedRef.current = false; // Reset on error\n                            });\n                        }\n                    }, 1000);\n                }\n            };\n            const handleCallActive = (data)=>{\n                if (data.callId !== callId) return;\n                console.log(\"[CallScreen] Received call:active event:\", data);\n            // Call is now active, ensure we're connected\n            };\n            socket.on(\"call:incoming\", handleCallIncoming);\n            socket.on(\"call:info\", handleCallInfo);\n            socket.on(\"call:accepted\", handleCallAccepted);\n            socket.on(\"call:active\", handleCallActive);\n            return ()=>{\n                socket.off(\"call:incoming\", handleCallIncoming);\n                socket.off(\"call:info\", handleCallInfo);\n                socket.off(\"call:accepted\", handleCallAccepted);\n                socket.off(\"call:active\", handleCallActive);\n            };\n        }\n    }, [\n        callId,\n        localUserId\n    ]);\n    // Reset auto-start flag when call connects\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected) {\n            hasAutoStartedRef.current = false;\n        }\n    }, [\n        isConnected\n    ]);\n    // Auto-start call for initiator when callInfo is ready\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Skip if already connected or already started\n        if (isConnected || hasAutoStartedRef.current) return;\n        // Initiator: auto-start when callInfo is fully ready (including remoteUserId for P2P)\n        const isSFU = (callInfo === null || callInfo === void 0 ? void 0 : callInfo.callType) === \"sfu\";\n        const isP2PReady = !isSFU && (callInfo === null || callInfo === void 0 ? void 0 : callInfo.remoteUserId);\n        const isSFUReady = isSFU && (callInfo === null || callInfo === void 0 ? void 0 : callInfo.livekitRoomName);\n        if (isInitiator && callInfo && callInfo.conversationId && (isP2PReady || isSFUReady)) {\n            console.log(\"[CallScreen] Auto-start effect triggered for initiator:\", {\n                isInitiator,\n                isConnected,\n                callInfo,\n                isP2PReady,\n                isSFUReady\n            });\n            hasAutoStartedRef.current = true;\n            console.log(\"[CallScreen] Starting call as initiator from auto-start effect...\");\n            // Delay slightly to ensure everything is set up\n            setTimeout(async ()=>{\n                if (isSFU) {\n                    // SFU: connect to LiveKit\n                    if (liveKitToken || callInfo.livekitRoomName) {\n                        console.log(\"[CallScreen] Connecting to LiveKit...\", {\n                            hasToken: !!liveKitToken\n                        });\n                        try {\n                            await connectLiveKit();\n                        } catch (err) {\n                            console.error(\"[CallScreen] Error connecting to LiveKit:\", err);\n                            hasAutoStartedRef.current = false;\n                        }\n                    } else {\n                        console.error(\"[CallScreen] LiveKit token and room name not available\");\n                        hasAutoStartedRef.current = false;\n                    }\n                } else {\n                    // P2P: start WebRTC call\n                    console.log(\"[CallScreen] Starting P2P call with remoteUserId:\", callInfo.remoteUserId);\n                    startCallRef.current().then(()=>{\n                        console.log(\"[CallScreen] ✅ Call started as initiator from auto-start effect\");\n                    }).catch((err)=>{\n                        console.error(\"[CallScreen] ❌ Error starting call as initiator:\", err);\n                        hasAutoStartedRef.current = false;\n                    });\n                }\n            }, 500);\n        } else if (acceptedFromModal && !isInitiator && callInfo && callInfo.conversationId && (isP2PReady || isSFUReady)) {\n            console.log(\"[CallScreen] Auto-start effect triggered for non-initiator:\", {\n                acceptedFromModal,\n                isInitiator,\n                isConnected,\n                callInfo,\n                isP2PReady,\n                isSFUReady\n            });\n            hasAutoStartedRef.current = true;\n            console.log(\"[CallScreen] Starting call from auto-start effect...\");\n            setTimeout(async ()=>{\n                if (isSFU) {\n                    // SFU: connect to LiveKit\n                    if (liveKitToken || callInfo.livekitRoomName) {\n                        console.log(\"[CallScreen] Connecting to LiveKit...\", {\n                            hasToken: !!liveKitToken\n                        });\n                        try {\n                            await connectLiveKit();\n                        } catch (err) {\n                            console.error(\"[CallScreen] Error connecting to LiveKit:\", err);\n                            hasAutoStartedRef.current = false;\n                        }\n                    } else {\n                        console.error(\"[CallScreen] LiveKit token and room name not available\");\n                        hasAutoStartedRef.current = false;\n                    }\n                } else {\n                    // P2P: start WebRTC call\n                    console.log(\"[CallScreen] Starting P2P call with remoteUserId:\", callInfo.remoteUserId);\n                    startCallRef.current().then(()=>{\n                        console.log(\"[CallScreen] ✅ Call started from auto-start effect\");\n                    }).catch((err)=>{\n                        console.error(\"[CallScreen] ❌ Error starting call from auto-start effect:\", err);\n                        hasAutoStartedRef.current = false;\n                    });\n                }\n            }, 500);\n        }\n    }, [\n        acceptedFromModal,\n        isInitiator,\n        isConnected,\n        callInfo,\n        liveKitToken,\n        connectLiveKit\n    ]);\n    // Auto-connect to LiveKit when token becomes available (for SFU calls)\n    const hasAutoConnectedLiveKitRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (liveKitToken && (callInfo === null || callInfo === void 0 ? void 0 : callInfo.callType) === \"sfu\" && !isConnected && !hasAutoConnectedLiveKitRef.current && (acceptedFromModal || isInitiator)) {\n            console.log(\"[CallScreen] LiveKit token available, auto-connecting...\", {\n                hasToken: !!liveKitToken,\n                callType: callInfo.callType,\n                isConnected,\n                acceptedFromModal,\n                isInitiator\n            });\n            hasAutoConnectedLiveKitRef.current = true;\n            connectLiveKit().then(()=>{\n                console.log(\"[CallScreen] ✅ Auto-connected to LiveKit successfully\");\n            }).catch((err)=>{\n                console.error(\"[CallScreen] ❌ Error auto-connecting to LiveKit:\", err);\n                hasAutoConnectedLiveKitRef.current = false; // Allow retry\n            });\n        }\n    }, [\n        liveKitToken,\n        callInfo === null || callInfo === void 0 ? void 0 : callInfo.callType,\n        isConnected,\n        acceptedFromModal,\n        isInitiator,\n        connectLiveKit\n    ]);\n    const handleAccept = async ()=>{\n        if (!callId) return;\n        try {\n            console.log(\"[CallScreen] Accepting call:\", callId);\n            await (0,_api__WEBPACK_IMPORTED_MODULE_4__.acceptCall)(callId);\n            console.log(\"[CallScreen] Call accepted, starting call...\");\n            // Start the call immediately after accepting\n            if ((callInfo === null || callInfo === void 0 ? void 0 : callInfo.callType) === \"sfu\" && liveKitToken) {\n                await connectLiveKit();\n            } else {\n                await startCall();\n            }\n            console.log(\"[CallScreen] Call started successfully\");\n        } catch (err) {\n            console.error(\"[CallScreen] Error accepting call:\", err);\n            // Try to start call anyway if accept succeeded but startCall failed\n            try {\n                if ((callInfo === null || callInfo === void 0 ? void 0 : callInfo.callType) === \"sfu\" && liveKitToken) {\n                    await connectLiveKit();\n                } else {\n                    await startCall();\n                }\n            } catch (startErr) {\n                console.error(\"[CallScreen] Error starting call after accept:\", startErr);\n            }\n        }\n    };\n    const handleReject = async ()=>{\n        if (!callId) return;\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_4__.rejectCall)(callId);\n            if (true) {\n                window.history.back();\n            }\n        } catch (err) {\n            console.error(\"Error rejecting call:\", err);\n        }\n    };\n    const handleEndCall = async ()=>{\n        if (!callId) return;\n        try {\n            if (isP2PCall) {\n                endWebRTC();\n            } else {\n                disconnectLiveKit();\n            }\n            await (0,_api__WEBPACK_IMPORTED_MODULE_4__.endCall)(callId);\n            if (true) {\n                window.history.back();\n            }\n        } catch (err) {\n            console.error(\"Error ending call:\", err);\n            if (true) {\n                window.history.back();\n            }\n        }\n    };\n    const handleFilterSelect = async (filter)=>{\n        try {\n            await applyFilter(filter);\n            setShowFilterPanel(false);\n        } catch (error) {\n            console.error(\"[CallScreen] Error applying filter:\", error);\n        }\n    };\n    const handleScreenShareToggle = async ()=>{\n        try {\n            if (isScreenSharing) {\n                await stopScreenShare();\n            } else {\n                await startScreenShare();\n            }\n        } catch (error) {\n            console.error(\"[CallScreen] Screen share error:\", error);\n        }\n    };\n    // Chuyển đổi LiveKit remoteStreams thành format cho GroupCallGrid\n    // PHẢI đặt trước early returns để tuân thủ Rules of Hooks\n    const groupCallParticipants = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{\n        if (isP2PCall) return [];\n        console.log(\"[CallScreen] Building groupCallParticipants from liveKitRemoteStreams:\", {\n            remoteStreamsSize: liveKitRemoteStreams.size,\n            remoteStreamKeys: Array.from(liveKitRemoteStreams.keys())\n        });\n        const participants = [];\n        liveKitRemoteStreams.forEach((stream, participantId)=>{\n            console.log(\"[CallScreen] Adding remote participant:\", {\n                participantId,\n                trackCount: stream.getTracks().length,\n                tracks: stream.getTracks().map((t)=>({\n                        kind: t.kind,\n                        enabled: t.enabled\n                    }))\n            });\n            participants.push({\n                participantId,\n                stream\n            });\n        });\n        return participants;\n    }, [\n        liveKitRemoteStreams,\n        isP2PCall\n    ]);\n    const opponentName = (opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.name) || \"Unknown\";\n    const opponentAvatar = opponentInfo === null || opponentInfo === void 0 ? void 0 : opponentInfo.avatar;\n    if (!callId) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: \"call-screen\",\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"call-loading\",\n                children: \"Invalid call ID\"\n            })\n        });\n    }\n    // Show loading only if we don't have callInfo yet\n    if (!callInfo) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"call-screen\",\n            children: [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"call-loading\",\n                    children: \"Loading call...\"\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    style: {\n                        position: \"absolute\",\n                        bottom: \"20px\",\n                        left: \"50%\",\n                        transform: \"translateX(-50%)\",\n                        color: \"rgba(255, 255, 255, 0.5)\",\n                        fontSize: \"14px\"\n                    },\n                    children: [\n                        \"Call ID: \",\n                        callId\n                    ]\n                }),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    style: {\n                        position: \"absolute\",\n                        bottom: \"60px\",\n                        left: \"50%\",\n                        transform: \"translateX(-50%)\",\n                        color: \"rgba(255, 255, 255, 0.3)\",\n                        fontSize: \"12px\",\n                        textAlign: \"center\",\n                        maxWidth: \"400px\"\n                    },\n                    children: \"Nếu call kh\\xf4ng t\\xecm thấy, c\\xf3 thể đ\\xe3 bị kết th\\xfac hoặc backend chưa c\\xf3 endpoint GET /calls/:callId\"\n                })\n            ]\n        });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"call-screen\",\n        children: [\n            !isP2PCall && callInfo.callType === \"sfu\" ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"call-main-video\",\n                style: {\n                    width: \"100%\",\n                    height: \"100%\",\n                    background: \"#000\"\n                },\n                children: isConnected && (localStream || groupCallParticipants.length > 0) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_call_GroupCallGrid__WEBPACK_IMPORTED_MODULE_7__.GroupCallGrid, {\n                    participants: groupCallParticipants,\n                    localStream: localStream,\n                    localParticipantId: localUserId || \"\",\n                    remoteTracks: liveKitRemoteTracks\n                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        height: \"100%\",\n                        color: \"#fff\"\n                    },\n                    children: [\n                        !liveKitToken ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    style: {\n                                        fontSize: \"18px\",\n                                        marginBottom: \"10px\"\n                                    },\n                                    children: \"Đang lấy token...\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"rgba(255,255,255,0.6)\"\n                                    },\n                                    children: \"Vui l\\xf2ng đợi\"\n                                })\n                            ]\n                        }) : !isConnected ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    style: {\n                                        fontSize: \"18px\",\n                                        marginBottom: \"10px\"\n                                    },\n                                    children: \"Đang kết nối...\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"rgba(255,255,255,0.6)\"\n                                    },\n                                    children: \"Đang tham gia cuộc gọi nh\\xf3m\"\n                                })\n                            ]\n                        }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    style: {\n                                        fontSize: \"18px\",\n                                        marginBottom: \"10px\"\n                                    },\n                                    children: \"Đang tải video...\"\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"rgba(255,255,255,0.6)\"\n                                    },\n                                    children: \"Vui l\\xf2ng đợi\"\n                                })\n                            ]\n                        }),\n                        error && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            style: {\n                                marginTop: \"20px\",\n                                padding: \"10px 20px\",\n                                background: \"rgba(255,0,0,0.2)\",\n                                borderRadius: \"8px\",\n                                color: \"#ff6b6b\"\n                            },\n                            children: error\n                        })\n                    ]\n                })\n            }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"call-main-video\",\n                        children: remoteStream ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"video\", {\n                            ref: remoteVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            className: \"call-video-remote\"\n                        }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"call-avatar-container\",\n                            children: [\n                                opponentAvatar ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                    src: opponentAvatar,\n                                    alt: opponentName,\n                                    className: \"call-avatar\"\n                                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"call-avatar-placeholder\",\n                                    children: opponentName.charAt(0).toUpperCase()\n                                }),\n                                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"call-name\",\n                                    children: opponentName\n                                }),\n                                !isConnected && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"call-status\",\n                                    children: isInitiator ? \"Đang gọi...\" : acceptedFromModal ? \"Đang kết nối...\" : \"Cuộc gọi đến...\"\n                                })\n                            ]\n                        })\n                    }),\n                    callInfo.type === \"video\" && localStream && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"call-self-view\",\n                        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"video\", {\n                            ref: localVideoRef,\n                            autoPlay: true,\n                            playsInline: true,\n                            muted: true,\n                            className: \"call-video-local\"\n                        })\n                    })\n                ]\n            }),\n            isConnected && callDuration > 0 && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"call-duration\",\n                children: formatDuration(callDuration)\n            }),\n            error && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"call-error-banner\",\n                children: error\n            }),\n            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"call-controls\",\n                children: [\n                    !isInitiator && !isConnected && !acceptedFromModal && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"call-incoming-controls\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn call-control-accept\",\n                                onClick: handleAccept,\n                                title: \"Chấp nhận\",\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                        d: \"M20 6L9 17L4 12\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    })\n                                })\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn call-control-reject\",\n                                onClick: handleReject,\n                                title: \"Từ chối\",\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                        d: \"M18 6L6 18M6 6L18 18\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    })\n                                })\n                            })\n                        ]\n                    }),\n                    isConnected && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"call-active-controls\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn call-control-secondary\",\n                                onClick: ()=>{\n                                    if ( true && (callInfo === null || callInfo === void 0 ? void 0 : callInfo.conversationId)) {\n                                        window.location.href = \"/chat/\".concat(callInfo.conversationId);\n                                    }\n                                },\n                                title: \"Tin nhắn\",\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                        d: \"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    })\n                                })\n                            }),\n                            canUseEnhancements && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn call-control-secondary \".concat(showFilterPanel || currentFilter !== \"none\" ? \"call-control-active\" : \"\"),\n                                title: \"Bộ lọc l\\xe0m đẹp\",\n                                onClick: handleToggleFilterPanel,\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"22\",\n                                    height: \"22\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M12 3L13.5 7.5L18 9L13.5 10.5L12 15L10.5 10.5L6 9L10.5 7.5L12 3Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M5 16H9\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M15 16H19\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        })\n                                    ]\n                                })\n                            }),\n                            canUseEnhancements && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn call-control-secondary \".concat(isScreenSharing ? \"call-control-active\" : \"\"),\n                                title: isScreenSharing ? \"Dừng chia sẻ m\\xe0n h\\xecnh\" : \"Chia sẻ m\\xe0n h\\xecnh\",\n                                onClick: handleScreenShareToggle,\n                                children: isScreenSharing ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M4 5H20C21.1046 5 22 5.89543 22 7V15C22 16.1046 21.1046 17 20 17H4C2.89543 17 2 16.1046 2 15V7C2 5.89543 2.89543 5 4 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M12 21V17\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M8 21H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M8 9L12 13L16 9\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.8\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        })\n                                    ]\n                                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M4 5H20C21.1046 5 22 5.89543 22 7V14C22 15.1046 21.1046 16 20 16H4C2.89543 16 2 15.1046 2 14V7C2 5.89543 2.89543 5 4 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M12 20V16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M8 20H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"1.6\",\n                                            strokeLinecap: \"round\"\n                                        })\n                                    ]\n                                })\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn \".concat(!isAudioEnabled ? \"call-control-muted\" : \"\"),\n                                onClick: toggleAudio,\n                                title: isAudioEnabled ? \"Tắt mic\" : \"Bật mic\",\n                                children: isAudioEnabled ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M12 1C10.34 1 9 2.34 9 4V12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12V4C15 2.34 13.66 1 12 1Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M19 10V12C19 15.87 15.87 19 12 19C8.13 19 5 15.87 5 12V10\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M12 19V23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M8 23H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        })\n                                    ]\n                                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M1 1L23 23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M9 9V12C9 13.66 10.34 15 12 15C12.41 15 12.81 14.92 13.17 14.77\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M5 10V12C5 15.87 8.13 19 12 19C12.69 19 13.35 18.89 13.97 18.7\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M9 1V4\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M15 1V4\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M12 19V23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M8 23H16\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        })\n                                    ]\n                                })\n                            }),\n                            callInfo.type === \"video\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn \".concat(!isVideoEnabled ? \"call-control-muted\" : \"\"),\n                                onClick: toggleVideo,\n                                title: isVideoEnabled ? \"Tắt camera\" : \"Bật camera\",\n                                children: isVideoEnabled ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M23 7L16 12L23 17V7Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        })\n                                    ]\n                                }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: [\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M1 1L23 23\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M16 12L23 7V17L16 12Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        }),\n                                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                            d: \"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z\",\n                                            stroke: \"currentColor\",\n                                            strokeWidth: \"2\",\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\"\n                                        })\n                                    ]\n                                })\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                className: \"call-control-btn call-control-end\",\n                                onClick: handleEndCall,\n                                title: \"Kết th\\xfac cuộc gọi\",\n                                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", {\n                                    width: \"24\",\n                                    height: \"24\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"none\",\n                                    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                                        d: \"M3 5C3 3.89543 3.89543 3 5 3H8.27924C8.70967 3 9.09181 3.27543 9.22792 3.68377L10.7257 8.17721C10.8831 8.64932 10.6694 9.16531 10.2243 9.38787L7.96701 10.5165C9.06925 12.9612 11.0388 14.9308 13.4835 16.033L14.6121 13.7757C14.8347 13.3306 15.3507 13.1169 15.8228 13.2743L20.3162 14.7721C20.7246 14.9082 21 15.2903 21 15.7208V19C21 20.1046 20.1046 21 19 21H18C9.71573 21 3 14.2843 3 6V5Z\",\n                                        stroke: \"currentColor\",\n                                        strokeWidth: \"2\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    })\n                                })\n                            })\n                        ]\n                    })\n                ]\n            }),\n            canUseEnhancements && isScreenSharing && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"call-screen-share-indicator\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                        children: \"Đang chia sẻ m\\xe0n h\\xecnh\"\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        type: \"button\",\n                        onClick: handleScreenShareToggle,\n                        children: \"Dừng chia sẻ\"\n                    })\n                ]\n            }),\n            canUseEnhancements && showFilterPanel && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"call-filter-panel\",\n                children: [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"call-filter-panel__header\",\n                        children: [\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                children: \"Bộ lọc & hiệu ứng\"\n                            }),\n                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>setShowFilterPanel(false),\n                                \"aria-label\": \"Đ\\xf3ng\",\n                                children: \"\\xd7\"\n                            })\n                        ]\n                    }),\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"call-filter-panel__list\",\n                        children: filterOptions.map((option)=>{\n                            const active = currentFilter === option.id;\n                            const disabled = isScreenSharing;\n                            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                type: \"button\",\n                                className: \"filter-option \".concat(active ? \"active\" : \"\", \" \").concat(disabled ? \"disabled\" : \"\"),\n                                onClick: ()=>!disabled && handleFilterSelect(option.id),\n                                disabled: disabled,\n                                children: [\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"filter-option__emoji\",\n                                        children: option.emoji\n                                    }),\n                                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                        className: \"filter-option__label\",\n                                        children: option.label\n                                    })\n                                ]\n                            }, option.id);\n                        })\n                    }),\n                    isScreenSharing && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"call-filter-panel__notice\",\n                        children: \"Tắt chia sẻ m\\xe0n h\\xecnh để sử dụng bộ lọc.\"\n                    })\n                ]\n            })\n        ]\n    });\n}\n_s(CallScreen, \"7ulhGlZxMadK9dx3dlHHiSYULl4=\", false, function() {\n    return [\n        _hooks_useOpponentInfo__WEBPACK_IMPORTED_MODULE_6__.useOpponentInfo,\n        _hooks_useWebRTC__WEBPACK_IMPORTED_MODULE_2__.useWebRTC,\n        _hooks_useLiveKit__WEBPACK_IMPORTED_MODULE_3__.useLiveKit\n    ];\n});\n_c = CallScreen;\nvar _c;\n$RefreshReg$(_c, \"CallScreen\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9hcHAvZmVhdHVyZXMvY2FsbC9zY3JlZW5zL0NhbGxTY3JlZW4ud2ViLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUNzRjtBQUMzQjtBQUNOO0FBQ0U7QUFDaUQ7QUFDNUQ7QUFDcUI7QUFDTTtBQUNyQztBQUNuQixTQUFTcUI7O0lBQ3BCLE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHZiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNnQixVQUFVQyxZQUFZLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNrQixhQUFhQyxlQUFlLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNvQixhQUFhQyxlQUFlLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNzQixtQkFBbUJDLHFCQUFxQixHQUFHdkIsK0NBQVFBLENBQUM7SUFDM0Qsc0NBQXNDO0lBQ3RDRCxnREFBU0EsQ0FBQztRQUNOLElBQUksS0FBa0IsRUFDbEIsRUFBTztRQUNYLElBQUk7WUFDQSxNQUFNeUIsTUFBTUMsT0FBT0MsWUFBWSxDQUFDQyxPQUFPLENBQUM7WUFDeENOLGVBQWVHO1FBQ25CLEVBQ0EsT0FBT0ksS0FBSztZQUNSQyxRQUFRQyxJQUFJLENBQUMseURBQXlERjtRQUMxRTtRQUNBLE1BQU1HLFNBQVMsSUFBSUMsZ0JBQWdCUCxPQUFPUSxRQUFRLENBQUNGLE1BQU07UUFDekQsTUFBTUcsWUFBWUgsT0FBT0ksR0FBRyxDQUFDO1FBQzdCLE1BQU1DLG9CQUFvQkwsT0FBT0ksR0FBRyxDQUFDO1FBQ3JDLE1BQU1FLHVCQUF1Qk4sT0FBT0ksR0FBRyxDQUFDO1FBQ3hDLE1BQU1HLGNBQWNQLE9BQU9JLEdBQUcsQ0FBQztRQUMvQixNQUFNSSxxQkFBcUJSLE9BQU9JLEdBQUcsQ0FBQztRQUN0QyxNQUFNSyxnQkFBZ0JULE9BQU9JLEdBQUcsQ0FBQztRQUNqQ04sUUFBUVksR0FB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LG1CQUFtQjtnQ0FBUSxjQUFjO2dDQUFrQjRILFVBQVU7NEJBQVM7eUJBQUc7b0JBQUM7b0JBQUl6TSxzREFBSUEsQ0FBQyxPQUFPO3dCQUFFd00sV0FBVzt3QkFBMkJDLFVBQVVqSSxjQUFjNkUsR0FBRyxDQUFDLENBQUM0Rjs0QkFDbjFPLE1BQU1DLFNBQVM3SSxrQkFBa0I0SSxPQUFPeEssRUFBRTs0QkFDMUMsTUFBTTBLLFdBQVczSTs0QkFDakIsT0FBUXRHLHVEQUFLQSxDQUFDLFVBQVU7Z0NBQUVvRCxNQUFNO2dDQUFVa0osV0FBVyxpQkFBMkMyQyxPQUExQkQsU0FBUyxXQUFXLElBQUcsS0FBOEIsT0FBM0JDLFdBQVcsYUFBYTtnQ0FBTVosU0FBUyxJQUFNLENBQUNZLFlBQVlyRSxtQkFBbUJtRSxPQUFPeEssRUFBRTtnQ0FBRzBLLFVBQVVBO2dDQUFVMUMsVUFBVTtvQ0FBQ3pNLHNEQUFJQSxDQUFDLFFBQVE7d0NBQUV3TSxXQUFXO3dDQUF3QkMsVUFBVXdDLE9BQU90SyxLQUFLO29DQUFDO29DQUFJM0Usc0RBQUlBLENBQUMsUUFBUTt3Q0FBRXdNLFdBQVc7d0NBQXdCQyxVQUFVd0MsT0FBT3ZLLEtBQUs7b0NBQUM7aUNBQUc7NEJBQUMsR0FBR3VLLE9BQU94SyxFQUFFO3dCQUNsWTtvQkFBRztvQkFBSStCLG1CQUFvQnhHLHNEQUFJQSxDQUFDLE9BQU87d0JBQUV3TSxXQUFXO3dCQUE2QkMsVUFBVTtvQkFBNEY7aUJBQUk7WUFBQztTQUFJO0lBQUM7QUFDek47R0F4b0J3QnJMOztRQXlGV0YsbUVBQWVBO1FBcUJzVlQsdURBQVNBO1FBUTFCQyx5REFBVUE7OztLQXRIeldVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9wYWNrYWdlcy9hcHAvZmVhdHVyZXMvY2FsbC9zY3JlZW5zL0NhbGxTY3JlZW4ud2ViLmpzP2I3MGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlV2ViUlRDIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlV2ViUlRDJztcbmltcG9ydCB7IHVzZUxpdmVLaXQgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VMaXZlS2l0JztcbmltcG9ydCB7IGdldENhbGwsIGVuZENhbGwgYXMgZW5kQ2FsbEFQSSwgYWNjZXB0Q2FsbCwgcmVqZWN0Q2FsbCwgZ2V0TGl2ZUtpdFRva2VuLCB9IGZyb20gJy4uLy4uLy4uL2FwaSc7XG5pbXBvcnQgeyBnZXRTb2NrZXQgfSBmcm9tICcuLi8uLi8uLi9zb2NrZXQnO1xuaW1wb3J0IHsgdXNlT3Bwb25lbnRJbmZvIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlT3Bwb25lbnRJbmZvJztcbmltcG9ydCB7IEdyb3VwQ2FsbEdyaWQgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NhbGwvR3JvdXBDYWxsR3JpZCc7XG5pbXBvcnQgJy4uLy4uLy4uL3N0eWxlcy9jYWxsLmNzcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYWxsU2NyZWVuKCkge1xuICAgIGNvbnN0IFtjYWxsSWQsIHNldENhbGxJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2FsbEluZm8sIHNldENhbGxJbmZvXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtpc0luaXRpYXRvciwgc2V0SXNJbml0aWF0b3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtsb2NhbFVzZXJJZCwgc2V0TG9jYWxVc2VySWRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2FjY2VwdGVkRnJvbU1vZGFsLCBzZXRBY2NlcHRlZEZyb21Nb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgLy8gUmVhZCB1c2VyIGlkICYgVVJMIHBhcmFtcyBvbiBjbGllbnRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1aWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTtcbiAgICAgICAgICAgIHNldExvY2FsVXNlcklkKHVpZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FsbFNjcmVlbl0gVW5hYmxlIHRvIHJlYWQgdXNlcl9pZCBmcm9tIGxvY2FsU3RvcmFnZScsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgY29uc3QgdXJsQ2FsbElkID0gc2VhcmNoLmdldCgnY2FsbElkJyk7XG4gICAgICAgIGNvbnN0IHVybENvbnZlcnNhdGlvbklkID0gc2VhcmNoLmdldCgnY29udmVyc2F0aW9uSWQnKTtcbiAgICAgICAgY29uc3QgdXJsQWNjZXB0ZWRGcm9tTW9kYWwgPSBzZWFyY2guZ2V0KCdhY2NlcHRlZEZyb21Nb2RhbCcpO1xuICAgICAgICBjb25zdCB1cmxDYWxsVHlwZSA9IHNlYXJjaC5nZXQoJ2NhbGxUeXBlJyk7XG4gICAgICAgIGNvbnN0IHVybExpdmVraXRSb29tTmFtZSA9IHNlYXJjaC5nZXQoJ2xpdmVraXRSb29tTmFtZScpO1xuICAgICAgICBjb25zdCB1cmxJc0luY29taW5nID0gc2VhcmNoLmdldCgnaXNJbmNvbWluZycpO1xuICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFBhcnNlZCBVUkwgcGFyYW1zOicsIHtcbiAgICAgICAgICAgIHVybENhbGxJZCxcbiAgICAgICAgICAgIHVybENvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgdXJsQWNjZXB0ZWRGcm9tTW9kYWwsXG4gICAgICAgICAgICB1cmxDYWxsVHlwZSxcbiAgICAgICAgICAgIHVybExpdmVraXRSb29tTmFtZSxcbiAgICAgICAgICAgIHVybElzSW5jb21pbmdcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1cmxDYWxsSWQpIHtcbiAgICAgICAgICAgIHNldENhbGxJZCh1cmxDYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmxDb252ZXJzYXRpb25JZCkge1xuICAgICAgICAgICAgc2V0Q2FsbEluZm8oKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbmZvID0gcHJldlxuICAgICAgICAgICAgICAgICAgICA/IHsgLi4ucHJldiwgY29udmVyc2F0aW9uSWQ6IHVybENvbnZlcnNhdGlvbklkIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogdXJsQ29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0b3JJZDogbG9jYWxVc2VySWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVVc2VySWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgY2FsbFR5cGUgYW5kIGxpdmVraXRSb29tTmFtZSBmcm9tIFVSTCBwYXJhbXNcbiAgICAgICAgICAgICAgICBpZiAodXJsQ2FsbFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jYWxsVHlwZSA9IHVybENhbGxUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodXJsTGl2ZWtpdFJvb21OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ubGl2ZWtpdFJvb21OYW1lID0gdXJsTGl2ZWtpdFJvb21OYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3SW5mbztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgYWNjZXB0ZWQgZnJvbSBHbG9iYWxJbmNvbWluZ0NhbGwgbW9kYWxcbiAgICAgICAgaWYgKHVybEFjY2VwdGVkRnJvbU1vZGFsID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gVXNlciBhY2NlcHRlZCBmcm9tIG1vZGFsLCBza2lwcGluZyBpbmNvbWluZyBjYWxsIFVJJyk7XG4gICAgICAgICAgICBzZXRBY2NlcHRlZEZyb21Nb2RhbCh0cnVlKTtcbiAgICAgICAgICAgIC8vIElmIFNGVSBjYWxsIGFuZCB3ZSBoYXZlIGxpdmVraXRSb29tTmFtZSwgZmV0Y2ggdGhlIHRva2VuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAodXJsQ2FsbFR5cGUgPT09ICdzZnUnICYmIHVybExpdmVraXRSb29tTmFtZSAmJiB1cmxDYWxsSWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIEZldGNoaW5nIExpdmVLaXQgdG9rZW4gZm9yIFNGVSBjYWxsIGZyb20gbW9kYWwuLi4nKTtcbiAgICAgICAgICAgICAgICBnZXRMaXZlS2l0VG9rZW4odXJsQ2FsbElkKS50aGVuKHRva2VuRGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldExpdmVLaXRUb2tlbih0b2tlbkRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBzZXRMaXZlS2l0VXJsKHRva2VuRGF0YS51cmwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIExpdmVLaXQgdG9rZW4gb2J0YWluZWQgZnJvbSBtb2RhbCBhY2NlcHQnKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3IgZ2V0dGluZyBMaXZlS2l0IHRva2VuIGZyb20gbW9kYWwgYWNjZXB0OicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGlzSW5pdGlhdG9yIGJhc2VkIG9uIFVSTCBwYXJhbVxuICAgICAgICBpZiAodXJsSXNJbmNvbWluZyA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgc2V0SXNJbml0aWF0b3IodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXJsSXNJbmNvbWluZyA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBzZXRJc0luaXRpYXRvcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbbG9jYWxVc2VySWRdKTtcbiAgICAvLyBMb2cgY29tcG9uZW50IGxpZmVjeWNsZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ29tcG9uZW50IG1vdW50ZWQsIGNhbGxJZDonLCBjYWxsSWQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBDb21wb25lbnQgdW5tb3VudGluZywgY2FsbElkOicsIGNhbGxJZCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGxJZF0pO1xuICAgIGNvbnN0IFtjYWxsRHVyYXRpb24sIHNldENhbGxEdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbY2FsbFN0YXJ0VGltZSwgc2V0Q2FsbFN0YXJ0VGltZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBkdXJhdGlvbkludGVydmFsUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgaW5mbzogb3Bwb25lbnRJbmZvIH0gPSB1c2VPcHBvbmVudEluZm8oY2FsbEluZm8/LmNvbnZlcnNhdGlvbklkIHx8ICcnKTtcbiAgICBjb25zdCBmaWx0ZXJPcHRpb25zID0gW1xuICAgICAgICB7IGlkOiAnbm9uZScsIGxhYmVsOiAnR+G7kWMnLCBlbW9qaTogJ/CfmYInIH0sXG4gICAgICAgIHsgaWQ6ICdiZWF1dHknLCBsYWJlbDogJ03hu4tuJywgZW1vamk6ICfinKgnIH0sXG4gICAgICAgIHsgaWQ6ICd3YXJtJywgbGFiZWw6ICfhuqRtJywgZW1vamk6ICfwn4yFJyB9LFxuICAgICAgICB7IGlkOiAnY29vbCcsIGxhYmVsOiAnTcOhdCcsIGVtb2ppOiAn4p2E77iPJyB9LFxuICAgICAgICB7IGlkOiAncGFydHknLCBsYWJlbDogJ1BhcnR5JywgZW1vamk6ICfwn46JJyB9LFxuICAgICAgICB7IGlkOiAnYmlydGhkYXknLCBsYWJlbDogJ1Npbmggbmjhuq10JywgZW1vamk6ICfwn46CJyB9LFxuICAgIF07XG4gICAgY29uc3QgW3Nob3dGaWx0ZXJQYW5lbCwgc2V0U2hvd0ZpbHRlclBhbmVsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAvLyBMaXZlS2l0IHN0YXRlXG4gICAgY29uc3QgW2xpdmVLaXRUb2tlbiwgc2V0TGl2ZUtpdFRva2VuXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtsaXZlS2l0VXJsLCBzZXRMaXZlS2l0VXJsXSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBsaXZlS2l0VG9rZW5SZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgLy8gS2VlcCByZWYgaW4gc3luYyB3aXRoIHN0YXRlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbGl2ZUtpdFRva2VuUmVmLmN1cnJlbnQgPSBsaXZlS2l0VG9rZW47XG4gICAgfSwgW2xpdmVLaXRUb2tlbl0pO1xuICAgIC8vIENo4buJIHPhu60gZOG7pW5nIHVzZVdlYlJUQyBjaG8gUDJQIGNhbGxzXG4gICAgY29uc3QgaXNQMlBDYWxsID0gIWNhbGxJbmZvPy5jYWxsVHlwZSB8fCBjYWxsSW5mby5jYWxsVHlwZSA9PT0gJ3AycCc7XG4gICAgLy8gTHXDtG4gZ+G7jWkgdXNlV2ViUlRDIMSR4buDIMSR4bqjbSBi4bqjbyBob29rcyBvcmRlciBraMO0bmcgxJHhu5VpXG4gICAgY29uc3QgeyBsb2NhbFN0cmVhbTogcDJwTG9jYWxTdHJlYW0sIHJlbW90ZVN0cmVhbTogcDJwUmVtb3RlU3RyZWFtLCBpc0Nvbm5lY3RlZDogcDJwSXNDb25uZWN0ZWQsIGVycm9yOiBwMnBFcnJvciwgc3RhcnRDYWxsLCBlbmRDYWxsOiBlbmRXZWJSVEMsIHRvZ2dsZVZpZGVvOiBwMnBUb2dnbGVWaWRlbywgdG9nZ2xlQXVkaW86IHAycFRvZ2dsZUF1ZGlvLCBpc1ZpZGVvRW5hYmxlZDogcDJwSXNWaWRlb0VuYWJsZWQsIGlzQXVkaW9FbmFibGVkOiBwMnBJc0F1ZGlvRW5hYmxlZCwgYXBwbHlGaWx0ZXIsIGN1cnJlbnRGaWx0ZXIsIHN0YXJ0U2NyZWVuU2hhcmUsIHN0b3BTY3JlZW5TaGFyZSwgaXNTY3JlZW5TaGFyaW5nLCBsb2NhbFZpZGVvUmVmLCByZW1vdGVWaWRlb1JlZiwgfSA9IHVzZVdlYlJUQyh7XG4gICAgICAgIGNhbGxJZDogY2FsbElkIHx8ICcnLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogY2FsbEluZm8/LmNvbnZlcnNhdGlvbklkIHx8ICcnLFxuICAgICAgICBpc0luaXRpYXRvcjogaXNJbml0aWF0b3IsXG4gICAgICAgIGxvY2FsVXNlcklkOiBsb2NhbFVzZXJJZCB8fCAnJyxcbiAgICAgICAgcmVtb3RlVXNlcklkOiBjYWxsSW5mbz8ucmVtb3RlVXNlcklkIHx8ICcnLFxuICAgIH0pO1xuICAgIC8vIEx1w7RuIGfhu41pIHVzZUxpdmVLaXQgxJHhu4MgxJHhuqNtIGLhuqNvIGhvb2tzIG9yZGVyIGtow7RuZyDEkeG7lWlcbiAgICBjb25zdCB7IGxvY2FsU3RyZWFtOiBsaXZlS2l0TG9jYWxTdHJlYW0sIHJlbW90ZVN0cmVhbXM6IGxpdmVLaXRSZW1vdGVTdHJlYW1zLCByZW1vdGVUcmFja3M6IGxpdmVLaXRSZW1vdGVUcmFja3MsIGlzQ29ubmVjdGVkOiBsaXZlS2l0SXNDb25uZWN0ZWQsIGVycm9yOiBsaXZlS2l0RXJyb3IsIGNvbm5lY3Q6IGNvbm5lY3RMaXZlS2l0LCBkaXNjb25uZWN0OiBkaXNjb25uZWN0TGl2ZUtpdCwgdG9nZ2xlVmlkZW86IGxpdmVLaXRUb2dnbGVWaWRlbywgdG9nZ2xlQXVkaW86IGxpdmVLaXRUb2dnbGVBdWRpbywgaXNWaWRlb0VuYWJsZWQ6IGxpdmVLaXRJc1ZpZGVvRW5hYmxlZCwgaXNBdWRpb0VuYWJsZWQ6IGxpdmVLaXRJc0F1ZGlvRW5hYmxlZCwgfSA9IHVzZUxpdmVLaXQoe1xuICAgICAgICByb29tTmFtZTogY2FsbEluZm8/LmxpdmVraXRSb29tTmFtZSB8fCAnJyxcbiAgICAgICAgdG9rZW46IGxpdmVLaXRUb2tlbiB8fCAnJyxcbiAgICAgICAgdXJsOiBsaXZlS2l0VXJsLFxuICAgIH0pO1xuICAgIC8vIENo4buNbiBzdHJlYW0gdsOgIGNvbnRyb2xzIGThu7FhIHRyw6puIGNhbGwgdHlwZVxuICAgIGNvbnN0IGxvY2FsU3RyZWFtID0gaXNQMlBDYWxsID8gcDJwTG9jYWxTdHJlYW0gOiBsaXZlS2l0TG9jYWxTdHJlYW07XG4gICAgY29uc3QgcmVtb3RlU3RyZWFtID0gaXNQMlBDYWxsID8gcDJwUmVtb3RlU3RyZWFtIDogbnVsbDtcbiAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IGlzUDJQQ2FsbCA/IHAycElzQ29ubmVjdGVkIDogbGl2ZUtpdElzQ29ubmVjdGVkO1xuICAgIGNvbnN0IGVycm9yID0gaXNQMlBDYWxsID8gcDJwRXJyb3IgOiBsaXZlS2l0RXJyb3I7XG4gICAgY29uc3QgdG9nZ2xlVmlkZW8gPSBpc1AyUENhbGwgPyBwMnBUb2dnbGVWaWRlbyA6IGxpdmVLaXRUb2dnbGVWaWRlbztcbiAgICBjb25zdCB0b2dnbGVBdWRpbyA9IGlzUDJQQ2FsbCA/IHAycFRvZ2dsZUF1ZGlvIDogbGl2ZUtpdFRvZ2dsZUF1ZGlvO1xuICAgIGNvbnN0IGlzVmlkZW9FbmFibGVkID0gaXNQMlBDYWxsID8gcDJwSXNWaWRlb0VuYWJsZWQgOiBsaXZlS2l0SXNWaWRlb0VuYWJsZWQ7XG4gICAgY29uc3QgaXNBdWRpb0VuYWJsZWQgPSBpc1AyUENhbGwgPyBwMnBJc0F1ZGlvRW5hYmxlZCA6IGxpdmVLaXRJc0F1ZGlvRW5hYmxlZDtcbiAgICBjb25zdCBjYW5Vc2VFbmhhbmNlbWVudHMgPSBpc1AyUENhbGwgJiYgKGNhbGxJbmZvPy50eXBlID09PSAndmlkZW8nKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhblVzZUVuaGFuY2VtZW50cykge1xuICAgICAgICAgICAgc2V0U2hvd0ZpbHRlclBhbmVsKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjYW5Vc2VFbmhhbmNlbWVudHNdKTtcbiAgICBjb25zdCBoYW5kbGVUb2dnbGVGaWx0ZXJQYW5lbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFjYW5Vc2VFbmhhbmNlbWVudHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNldFNob3dGaWx0ZXJQYW5lbCgocHJldikgPT4gIXByZXYpO1xuICAgIH07XG4gICAgLy8gUmVmIHRvIHRyYWNrIGlmIHdlJ3ZlIGFscmVhZHkgYXV0by1zdGFydGVkXG4gICAgY29uc3QgaGFzQXV0b1N0YXJ0ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIC8vIFJlZiB0byBzdG9yZSBsYXRlc3Qgc3RhcnRDYWxsIGZ1bmN0aW9uIHRvIGF2b2lkIHJlLXRyaWdnZXJpbmdcbiAgICBjb25zdCBzdGFydENhbGxSZWYgPSB1c2VSZWYoc3RhcnRDYWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzdGFydENhbGxSZWYuY3VycmVudCA9IHN0YXJ0Q2FsbDtcbiAgICB9LCBbc3RhcnRDYWxsXSk7XG4gICAgLy8gQ2FsY3VsYXRlIGNhbGwgZHVyYXRpb25cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNDb25uZWN0ZWQgJiYgY2FsbFN0YXJ0VGltZSkge1xuICAgICAgICAgICAgZHVyYXRpb25JbnRlcnZhbFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBjYWxsU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwKTtcbiAgICAgICAgICAgICAgICBzZXRDYWxsRHVyYXRpb24oZGlmZik7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbkludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGR1cmF0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgZHVyYXRpb25JbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGR1cmF0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZHVyYXRpb25JbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbaXNDb25uZWN0ZWQsIGNhbGxTdGFydFRpbWVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNDb25uZWN0ZWQgJiYgIWNhbGxTdGFydFRpbWUpIHtcbiAgICAgICAgICAgIHNldENhbGxTdGFydFRpbWUobmV3IERhdGUoKSk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNDb25uZWN0ZWQsIGNhbGxTdGFydFRpbWVdKTtcbiAgICAvLyBGb3JtYXQgZHVyYXRpb24gYXMgTU06U1Mgb3IgSEg6TU06U1NcbiAgICBjb25zdCBmb3JtYXREdXJhdGlvbiA9IChzZWNvbmRzKSA9PiB7XG4gICAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gMzYwMCk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7XG4gICAgICAgIGNvbnN0IHNlY3MgPSBzZWNvbmRzICUgNjA7XG4gICAgICAgIGlmIChob3VycyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtob3Vycy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICB9O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbElkIHx8ICFsb2NhbFVzZXJJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbG9hZENhbGxJbmZvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIExvYWRpbmcgY2FsbCBpbmZvIGZvciBjYWxsSWQ6JywgY2FsbElkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsID0gYXdhaXQgZ2V0Q2FsbChjYWxsSWQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ2FsbCBpbmZvIGxvYWRlZDonLCBjYWxsKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVVc2VySWQgPSBjYWxsLnBhcnRpY2lwYW50cy5maW5kKChpZCkgPT4gU3RyaW5nKGlkKSAhPT0gbG9jYWxVc2VySWQpIHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzSW5pdCA9IFN0cmluZyhjYWxsLmluaXRpYXRvcklkKSA9PT0gbG9jYWxVc2VySWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbFR5cGUgPSBjYWxsLmNhbGxUeXBlIHx8ICdwMnAnO1xuICAgICAgICAgICAgICAgIHNldENhbGxJbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IFN0cmluZyhjYWxsLmNvbnZlcnNhdGlvbklkKSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdG9ySWQ6IFN0cmluZyhjYWxsLmluaXRpYXRvcklkKSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlcklkOiBTdHJpbmcocmVtb3RlVXNlcklkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY2FsbC50eXBlLFxuICAgICAgICAgICAgICAgICAgICBjYWxsVHlwZTogY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGxpdmVraXRSb29tTmFtZTogY2FsbC5tZXRhZGF0YT8ubGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGNhbGwucGFydGljaXBhbnRzLm1hcChwID0+IFN0cmluZyhwKSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0SXNJbml0aWF0b3IoaXNJbml0KTtcbiAgICAgICAgICAgICAgICAvLyBO4bq/dSBsw6AgY3Xhu5ljIGfhu41pIG5ow7NtLCBs4bqleSBMaXZlS2l0IHRva2VuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxUeXBlID09PSAnc2Z1JyAmJiBjYWxsLm1ldGFkYXRhPy5saXZla2l0Um9vbU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuRGF0YSA9IGF3YWl0IGdldExpdmVLaXRUb2tlbihjYWxsSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGl2ZUtpdFRva2VuKHRva2VuRGF0YS50b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMaXZlS2l0VXJsKHRva2VuRGF0YS51cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBMaXZlS2l0IHRva2VuIG9idGFpbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIEVycm9yIGdldHRpbmcgTGl2ZUtpdCB0b2tlbjonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIEVycm9yIGxvYWRpbmcgY2FsbCBpbmZvOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBjYWxsIG5vdCBmb3VuZCwgdHJ5IHRvIGdldCBpbmZvIGZyb20gc29ja2V0IG9yIHVzZSBmYWxsYmFja1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FsbFNjcmVlbl0gQ2FsbCBub3QgZm91bmQgKDQwNCksIHRyeWluZyBzb2NrZXQgZXZlbnRzLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgaW5mbyBmcm9tIHNvY2tldCBldmVudHMgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjYWxsIGluZm8gZnJvbSBzb2NrZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5vbmNlKCdjYWxsOmluZm8nLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxJZCA9PT0gY2FsbElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gR290IGNhbGwgaW5mbyBmcm9tIHNvY2tldDonLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FsbEluZm8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGRhdGEuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0b3JJZDogZGF0YS5pbml0aWF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVVzZXJJZDogZGF0YS5yZW1vdGVVc2VySWQgfHwgZGF0YS5pbml0aWF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSB8fCAndmlkZW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNJbml0aWF0b3IoU3RyaW5nKGRhdGEuaW5pdGlhdG9ySWQpID09PSBsb2NhbFVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIGxpc3RlbiBmb3IgaW5jb21pbmcgY2FsbCBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uY2UoJ2NhbGw6aW5jb21pbmcnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxJZCA9PT0gY2FsbElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gR290IGNhbGwgaW5mbyBmcm9tIGNhbGw6aW5jb21pbmc6JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENhbGxJbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBkYXRhLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhdG9ySWQ6IGRhdGEuaW5pdGlhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVVc2VySWQ6IGRhdGEuaW5pdGlhdG9ySWQsIC8vIEZvciBpbmNvbWluZywgaW5pdGlhdG9yIGlzIHRoZSByZW1vdGUgdXNlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlIHx8ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0luaXRpYXRvcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRDYWxsSW5mbygpO1xuICAgICAgICBjb25zdCBzb2NrZXQgPSBnZXRTb2NrZXQoKTtcbiAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQ2FsbEluY29taW5nID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jYWxsSWQgIT09IGNhbGxJZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gUmVjZWl2ZWQgY2FsbDppbmNvbWluZyBldmVudDonLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBzZXRDYWxsSW5mbyh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBkYXRhLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0b3JJZDogZGF0YS5pbml0aWF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlVXNlcklkOiBkYXRhLnJlbW90ZVVzZXJJZCB8fCBkYXRhLmluaXRpYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxUeXBlOiBkYXRhLmNhbGxUeXBlIHx8ICdwMnAnLFxuICAgICAgICAgICAgICAgICAgICBsaXZla2l0Um9vbU5hbWU6IGRhdGEubGl2ZWtpdFJvb21OYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEucGFydGljaXBhbnRzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldElzSW5pdGlhdG9yKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyBO4bq/dSBsw6AgY3Xhu5ljIGfhu41pIG5ow7NtLCBs4bqleSBMaXZlS2l0IHRva2VuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2FsbFR5cGUgPT09ICdzZnUnICYmIGRhdGEubGl2ZWtpdFJvb21OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBhd2FpdCBnZXRMaXZlS2l0VG9rZW4oY2FsbElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpdmVLaXRUb2tlbih0b2tlbkRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGl2ZUtpdFVybCh0b2tlbkRhdGEudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gTGl2ZUtpdCB0b2tlbiBvYnRhaW5lZCBmcm9tIGluY29taW5nIGNhbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3IgZ2V0dGluZyBMaXZlS2l0IHRva2VuOicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQ2FsbEluZm8gPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhbGxJZCAhPT0gY2FsbElkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBSZWNlaXZlZCBjYWxsOmluZm8gZXZlbnQ6JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlVXNlcklkID0gZGF0YS5wYXJ0aWNpcGFudHMuZmluZCgoaWQpID0+IFN0cmluZyhpZCkgIT09IGxvY2FsVXNlcklkKSB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luaXQgPSBTdHJpbmcoZGF0YS5pbml0aWF0b3JJZCkgPT09IGxvY2FsVXNlcklkO1xuICAgICAgICAgICAgICAgIHNldENhbGxJbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGRhdGEuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRvcklkOiBTdHJpbmcoZGF0YS5pbml0aWF0b3JJZCksXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVVzZXJJZDogU3RyaW5nKHJlbW90ZVVzZXJJZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXRJc0luaXRpYXRvcihpc0luaXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNhbGxBY2NlcHRlZCA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2FsbElkICE9PSBjYWxsSWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIFJlY2VpdmVkIGNhbGw6YWNjZXB0ZWQgZXZlbnQ6JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNhbGwgaW5mbyBpZiBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVVzZXJJZCA9IGRhdGEucGFydGljaXBhbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGRhdGEucGFydGljaXBhbnRzLmZpbmQoKGlkKSA9PiBTdHJpbmcoaWQpICE9PSBsb2NhbFVzZXJJZCkgfHwgJydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGF0YS5yZW1vdGVVc2VySWQgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxJbmZvKHByZXYgPT4gcHJldiA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogZGF0YS5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZVVzZXJJZDogcmVtb3RlVXNlcklkIHx8IHByZXYucmVtb3RlVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlIHx8IHByZXYudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBkYXRhLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhdG9ySWQ6IGRhdGEuaW5pdGlhdG9ySWQgfHwgbG9jYWxVc2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVVc2VySWQ6IHJlbW90ZVVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSB8fCAndmlkZW8nLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgdGhlIGluaXRpYXRvciBhbmQgY2FsbCBpcyBhY2NlcHRlZCwgYXV0by1zdGFydCB0aGUgY2FsbFxuICAgICAgICAgICAgICAgIC8vIE9ubHkgYXV0by1zdGFydCBvbmNlXG4gICAgICAgICAgICAgICAgaWYgKGlzSW5pdGlhdG9yICYmICFpc0Nvbm5lY3RlZCAmJiAhaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCAmJiBjYWxsSW5mbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENhbGwgYWNjZXB0ZWQsIGF1dG8tc3RhcnRpbmcgY2FsbC4uLicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENhbGxJbmZvIGF2YWlsYWJsZTonLCBjYWxsSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIGhhc0F1dG9TdGFydGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQXR0ZW1wdGluZyB0byBzdGFydCBjYWxsIGFzIGluaXRpYXRvci4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxJbmZvLmNhbGxUeXBlID09PSAnc2Z1JyAmJiBsaXZlS2l0VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBMaXZlS2l0IGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0TGl2ZUtpdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHJlZiB0byBjYWxsIGxhdGVzdCBzdGFydENhbGwgd2l0aG91dCB0cmlnZ2VyaW5nIHJlLXJ1bnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydENhbGxSZWYuY3VycmVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIENhbGwgc3RhcnRlZCBzdWNjZXNzZnVsbHkgYXMgaW5pdGlhdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIEVycm9yIGF1dG8tc3RhcnRpbmcgY2FsbDonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7IC8vIFJlc2V0IG9uIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVDYWxsQWN0aXZlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jYWxsSWQgIT09IGNhbGxJZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gUmVjZWl2ZWQgY2FsbDphY3RpdmUgZXZlbnQ6JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBpcyBub3cgYWN0aXZlLCBlbnN1cmUgd2UncmUgY29ubmVjdGVkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc29ja2V0Lm9uKCdjYWxsOmluY29taW5nJywgaGFuZGxlQ2FsbEluY29taW5nKTtcbiAgICAgICAgICAgIHNvY2tldC5vbignY2FsbDppbmZvJywgaGFuZGxlQ2FsbEluZm8pO1xuICAgICAgICAgICAgc29ja2V0Lm9uKCdjYWxsOmFjY2VwdGVkJywgaGFuZGxlQ2FsbEFjY2VwdGVkKTtcbiAgICAgICAgICAgIHNvY2tldC5vbignY2FsbDphY3RpdmUnLCBoYW5kbGVDYWxsQWN0aXZlKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9mZignY2FsbDppbmNvbWluZycsIGhhbmRsZUNhbGxJbmNvbWluZyk7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9mZignY2FsbDppbmZvJywgaGFuZGxlQ2FsbEluZm8pO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vZmYoJ2NhbGw6YWNjZXB0ZWQnLCBoYW5kbGVDYWxsQWNjZXB0ZWQpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vZmYoJ2NhbGw6YWN0aXZlJywgaGFuZGxlQ2FsbEFjdGl2ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW2NhbGxJZCwgbG9jYWxVc2VySWRdKTtcbiAgICAvLyBSZXNldCBhdXRvLXN0YXJ0IGZsYWcgd2hlbiBjYWxsIGNvbm5lY3RzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCBbaXNDb25uZWN0ZWRdKTtcbiAgICAvLyBBdXRvLXN0YXJ0IGNhbGwgZm9yIGluaXRpYXRvciB3aGVuIGNhbGxJbmZvIGlzIHJlYWR5XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gU2tpcCBpZiBhbHJlYWR5IGNvbm5lY3RlZCBvciBhbHJlYWR5IHN0YXJ0ZWRcbiAgICAgICAgaWYgKGlzQ29ubmVjdGVkIHx8IGhhc0F1dG9TdGFydGVkUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIEluaXRpYXRvcjogYXV0by1zdGFydCB3aGVuIGNhbGxJbmZvIGlzIGZ1bGx5IHJlYWR5IChpbmNsdWRpbmcgcmVtb3RlVXNlcklkIGZvciBQMlApXG4gICAgICAgIGNvbnN0IGlzU0ZVID0gY2FsbEluZm8/LmNhbGxUeXBlID09PSAnc2Z1JztcbiAgICAgICAgY29uc3QgaXNQMlBSZWFkeSA9ICFpc1NGVSAmJiBjYWxsSW5mbz8ucmVtb3RlVXNlcklkO1xuICAgICAgICBjb25zdCBpc1NGVVJlYWR5ID0gaXNTRlUgJiYgY2FsbEluZm8/LmxpdmVraXRSb29tTmFtZTtcbiAgICAgICAgaWYgKGlzSW5pdGlhdG9yICYmIGNhbGxJbmZvICYmIGNhbGxJbmZvLmNvbnZlcnNhdGlvbklkICYmIChpc1AyUFJlYWR5IHx8IGlzU0ZVUmVhZHkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIEF1dG8tc3RhcnQgZWZmZWN0IHRyaWdnZXJlZCBmb3IgaW5pdGlhdG9yOicsIHtcbiAgICAgICAgICAgICAgICBpc0luaXRpYXRvcixcbiAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZCxcbiAgICAgICAgICAgICAgICBjYWxsSW5mbyxcbiAgICAgICAgICAgICAgICBpc1AyUFJlYWR5LFxuICAgICAgICAgICAgICAgIGlzU0ZVUmVhZHksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0F1dG9TdGFydGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBTdGFydGluZyBjYWxsIGFzIGluaXRpYXRvciBmcm9tIGF1dG8tc3RhcnQgZWZmZWN0Li4uJyk7XG4gICAgICAgICAgICAvLyBEZWxheSBzbGlnaHRseSB0byBlbnN1cmUgZXZlcnl0aGluZyBpcyBzZXQgdXBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1NGVSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTRlU6IGNvbm5lY3QgdG8gTGl2ZUtpdFxuICAgICAgICAgICAgICAgICAgICBpZiAobGl2ZUtpdFRva2VuIHx8IGNhbGxJbmZvLmxpdmVraXRSb29tTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBDb25uZWN0aW5nIHRvIExpdmVLaXQuLi4nLCB7IGhhc1Rva2VuOiAhIWxpdmVLaXRUb2tlbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29ubmVjdExpdmVLaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3IgY29ubmVjdGluZyB0byBMaXZlS2l0OicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIExpdmVLaXQgdG9rZW4gYW5kIHJvb20gbmFtZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFAyUDogc3RhcnQgV2ViUlRDIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBTdGFydGluZyBQMlAgY2FsbCB3aXRoIHJlbW90ZVVzZXJJZDonLCBjYWxsSW5mby5yZW1vdGVVc2VySWQpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydENhbGxSZWYuY3VycmVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSDinIUgQ2FsbCBzdGFydGVkIGFzIGluaXRpYXRvciBmcm9tIGF1dG8tc3RhcnQgZWZmZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0g4p2MIEVycm9yIHN0YXJ0aW5nIGNhbGwgYXMgaW5pdGlhdG9yOicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm9uLWluaXRpYXRvcjogYXV0by1zdGFydCB3aGVuIGFjY2VwdGVkIGZyb20gbW9kYWxcbiAgICAgICAgZWxzZSBpZiAoYWNjZXB0ZWRGcm9tTW9kYWwgJiYgIWlzSW5pdGlhdG9yICYmIGNhbGxJbmZvICYmIGNhbGxJbmZvLmNvbnZlcnNhdGlvbklkICYmIChpc1AyUFJlYWR5IHx8IGlzU0ZVUmVhZHkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0NhbGxTY3JlZW5dIEF1dG8tc3RhcnQgZWZmZWN0IHRyaWdnZXJlZCBmb3Igbm9uLWluaXRpYXRvcjonLCB7XG4gICAgICAgICAgICAgICAgYWNjZXB0ZWRGcm9tTW9kYWwsXG4gICAgICAgICAgICAgICAgaXNJbml0aWF0b3IsXG4gICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQsXG4gICAgICAgICAgICAgICAgY2FsbEluZm8sXG4gICAgICAgICAgICAgICAgaXNQMlBSZWFkeSxcbiAgICAgICAgICAgICAgICBpc1NGVVJlYWR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNBdXRvU3RhcnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gU3RhcnRpbmcgY2FsbCBmcm9tIGF1dG8tc3RhcnQgZWZmZWN0Li4uJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTRlUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU0ZVOiBjb25uZWN0IHRvIExpdmVLaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpdmVLaXRUb2tlbiB8fCBjYWxsSW5mby5saXZla2l0Um9vbU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ29ubmVjdGluZyB0byBMaXZlS2l0Li4uJywgeyBoYXNUb2tlbjogISFsaXZlS2l0VG9rZW4gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RMaXZlS2l0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0NhbGxTY3JlZW5dIEVycm9yIGNvbm5lY3RpbmcgdG8gTGl2ZUtpdDonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0F1dG9TdGFydGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBMaXZlS2l0IHRva2VuIGFuZCByb29tIG5hbWUgbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQMlA6IHN0YXJ0IFdlYlJUQyBjYWxsXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gU3RhcnRpbmcgUDJQIGNhbGwgd2l0aCByZW1vdGVVc2VySWQ6JywgY2FsbEluZm8ucmVtb3RlVXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDYWxsUmVmLmN1cnJlbnQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0g4pyFIENhbGwgc3RhcnRlZCBmcm9tIGF1dG8tc3RhcnQgZWZmZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0g4p2MIEVycm9yIHN0YXJ0aW5nIGNhbGwgZnJvbSBhdXRvLXN0YXJ0IGVmZmVjdDonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQXV0b1N0YXJ0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgfSwgW2FjY2VwdGVkRnJvbU1vZGFsLCBpc0luaXRpYXRvciwgaXNDb25uZWN0ZWQsIGNhbGxJbmZvLCBsaXZlS2l0VG9rZW4sIGNvbm5lY3RMaXZlS2l0XSk7XG4gICAgLy8gQXV0by1jb25uZWN0IHRvIExpdmVLaXQgd2hlbiB0b2tlbiBiZWNvbWVzIGF2YWlsYWJsZSAoZm9yIFNGVSBjYWxscylcbiAgICBjb25zdCBoYXNBdXRvQ29ubmVjdGVkTGl2ZUtpdFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGxpdmVLaXRUb2tlbiAmJlxuICAgICAgICAgICAgY2FsbEluZm8/LmNhbGxUeXBlID09PSAnc2Z1JyAmJlxuICAgICAgICAgICAgIWlzQ29ubmVjdGVkICYmXG4gICAgICAgICAgICAhaGFzQXV0b0Nvbm5lY3RlZExpdmVLaXRSZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgKGFjY2VwdGVkRnJvbU1vZGFsIHx8IGlzSW5pdGlhdG9yKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBMaXZlS2l0IHRva2VuIGF2YWlsYWJsZSwgYXV0by1jb25uZWN0aW5nLi4uJywge1xuICAgICAgICAgICAgICAgIGhhc1Rva2VuOiAhIWxpdmVLaXRUb2tlbixcbiAgICAgICAgICAgICAgICBjYWxsVHlwZTogY2FsbEluZm8uY2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQsXG4gICAgICAgICAgICAgICAgYWNjZXB0ZWRGcm9tTW9kYWwsXG4gICAgICAgICAgICAgICAgaXNJbml0aWF0b3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzQXV0b0Nvbm5lY3RlZExpdmVLaXRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBjb25uZWN0TGl2ZUtpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0g4pyFIEF1dG8tY29ubmVjdGVkIHRvIExpdmVLaXQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSDinYwgRXJyb3IgYXV0by1jb25uZWN0aW5nIHRvIExpdmVLaXQ6JywgZXJyKTtcbiAgICAgICAgICAgICAgICBoYXNBdXRvQ29ubmVjdGVkTGl2ZUtpdFJlZi5jdXJyZW50ID0gZmFsc2U7IC8vIEFsbG93IHJldHJ5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtsaXZlS2l0VG9rZW4sIGNhbGxJbmZvPy5jYWxsVHlwZSwgaXNDb25uZWN0ZWQsIGFjY2VwdGVkRnJvbU1vZGFsLCBpc0luaXRpYXRvciwgY29ubmVjdExpdmVLaXRdKTtcbiAgICBjb25zdCBoYW5kbGVBY2NlcHQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBBY2NlcHRpbmcgY2FsbDonLCBjYWxsSWQpO1xuICAgICAgICAgICAgYXdhaXQgYWNjZXB0Q2FsbChjYWxsSWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBDYWxsIGFjY2VwdGVkLCBzdGFydGluZyBjYWxsLi4uJyk7XG4gICAgICAgICAgICAvLyBTdGFydCB0aGUgY2FsbCBpbW1lZGlhdGVseSBhZnRlciBhY2NlcHRpbmdcbiAgICAgICAgICAgIGlmIChjYWxsSW5mbz8uY2FsbFR5cGUgPT09ICdzZnUnICYmIGxpdmVLaXRUb2tlbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RMaXZlS2l0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzdGFydENhbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ2FsbFNjcmVlbl0gQ2FsbCBzdGFydGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBhY2NlcHRpbmcgY2FsbDonLCBlcnIpO1xuICAgICAgICAgICAgLy8gVHJ5IHRvIHN0YXJ0IGNhbGwgYW55d2F5IGlmIGFjY2VwdCBzdWNjZWVkZWQgYnV0IHN0YXJ0Q2FsbCBmYWlsZWRcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxJbmZvPy5jYWxsVHlwZSA9PT0gJ3NmdScgJiYgbGl2ZUtpdFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbm5lY3RMaXZlS2l0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdGFydENhbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoc3RhcnRFcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQ2FsbFNjcmVlbl0gRXJyb3Igc3RhcnRpbmcgY2FsbCBhZnRlciBhY2NlcHQ6Jywgc3RhcnRFcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVSZWplY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcmVqZWN0Q2FsbChjYWxsSWQpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlamVjdGluZyBjYWxsOicsIGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUVuZENhbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbElkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGlzUDJQQ2FsbCkge1xuICAgICAgICAgICAgICAgIGVuZFdlYlJUQygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdExpdmVLaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGVuZENhbGxBUEkoY2FsbElkKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbmRpbmcgY2FsbDonLCBlcnIpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVGaWx0ZXJTZWxlY3QgPSBhc3luYyAoZmlsdGVyKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBhcHBseUZpbHRlcihmaWx0ZXIpO1xuICAgICAgICAgICAgc2V0U2hvd0ZpbHRlclBhbmVsKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBFcnJvciBhcHBseWluZyBmaWx0ZXI6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVTY3JlZW5TaGFyZVRvZ2dsZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChpc1NjcmVlblNoYXJpbmcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzdG9wU2NyZWVuU2hhcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0YXJ0U2NyZWVuU2hhcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDYWxsU2NyZWVuXSBTY3JlZW4gc2hhcmUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBDaHV54buDbiDEkeG7lWkgTGl2ZUtpdCByZW1vdGVTdHJlYW1zIHRow6BuaCBmb3JtYXQgY2hvIEdyb3VwQ2FsbEdyaWRcbiAgICAvLyBQSOG6okkgxJHhurd0IHRyxrDhu5tjIGVhcmx5IHJldHVybnMgxJHhu4MgdHXDom4gdGjhu6cgUnVsZXMgb2YgSG9va3NcbiAgICBjb25zdCBncm91cENhbGxQYXJ0aWNpcGFudHMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKGlzUDJQQ2FsbClcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBCdWlsZGluZyBncm91cENhbGxQYXJ0aWNpcGFudHMgZnJvbSBsaXZlS2l0UmVtb3RlU3RyZWFtczonLCB7XG4gICAgICAgICAgICByZW1vdGVTdHJlYW1zU2l6ZTogbGl2ZUtpdFJlbW90ZVN0cmVhbXMuc2l6ZSxcbiAgICAgICAgICAgIHJlbW90ZVN0cmVhbUtleXM6IEFycmF5LmZyb20obGl2ZUtpdFJlbW90ZVN0cmVhbXMua2V5cygpKVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gW107XG4gICAgICAgIGxpdmVLaXRSZW1vdGVTdHJlYW1zLmZvckVhY2goKHN0cmVhbSwgcGFydGljaXBhbnRJZCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tDYWxsU2NyZWVuXSBBZGRpbmcgcmVtb3RlIHBhcnRpY2lwYW50OicsIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudElkLFxuICAgICAgICAgICAgICAgIHRyYWNrQ291bnQ6IHN0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdHJhY2tzOiBzdHJlYW0uZ2V0VHJhY2tzKCkubWFwKHQgPT4gKHsga2luZDogdC5raW5kLCBlbmFibGVkOiB0LmVuYWJsZWQgfSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhcnRpY2lwYW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudElkLFxuICAgICAgICAgICAgICAgIHN0cmVhbSxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBM4bqleSBuYW1lIHbDoCBhdmF0YXIgdOG7qyBwYXJ0aWNpcGFudCBpbmZvXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XG4gICAgfSwgW2xpdmVLaXRSZW1vdGVTdHJlYW1zLCBpc1AyUENhbGxdKTtcbiAgICBjb25zdCBvcHBvbmVudE5hbWUgPSBvcHBvbmVudEluZm8/Lm5hbWUgfHwgJ1Vua25vd24nO1xuICAgIGNvbnN0IG9wcG9uZW50QXZhdGFyID0gb3Bwb25lbnRJbmZvPy5hdmF0YXI7XG4gICAgaWYgKCFjYWxsSWQpIHtcbiAgICAgICAgcmV0dXJuIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtc2NyZWVuXCIsIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtbG9hZGluZ1wiLCBjaGlsZHJlbjogXCJJbnZhbGlkIGNhbGwgSURcIiB9KSB9KSk7XG4gICAgfVxuICAgIC8vIFNob3cgbG9hZGluZyBvbmx5IGlmIHdlIGRvbid0IGhhdmUgY2FsbEluZm8geWV0XG4gICAgaWYgKCFjYWxsSW5mbykge1xuICAgICAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtc2NyZWVuXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYWxsLWxvYWRpbmdcIiwgY2hpbGRyZW46IFwiTG9hZGluZyBjYWxsLi4uXCIgfSksIF9qc3hzKFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnMjBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4J1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW1wiQ2FsbCBJRDogXCIsIGNhbGxJZF0gfSksIF9qc3goXCJkaXZcIiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICc2MHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnNDAwcHgnXG4gICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBcIk5cXHUxRUJGdSBjYWxsIGtoXFx1MDBGNG5nIHRcXHUwMEVDbSB0aFxcdTFFQTV5LCBjXFx1MDBGMyB0aFxcdTFFQzMgXFx1MDExMVxcdTAwRTMgYlxcdTFFQ0Iga1xcdTFFQkZ0IHRoXFx1MDBGQWMgaG9cXHUxRUI3YyBiYWNrZW5kIGNoXFx1MDFCMGEgY1xcdTAwRjMgZW5kcG9pbnQgR0VUIC9jYWxscy86Y2FsbElkXCIgfSldIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYWxsLXNjcmVlblwiLCBjaGlsZHJlbjogWyFpc1AyUENhbGwgJiYgY2FsbEluZm8uY2FsbFR5cGUgPT09ICdzZnUnID8gKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1tYWluLXZpZGVvXCIsIHN0eWxlOiB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnLCBiYWNrZ3JvdW5kOiAnIzAwMCcgfSwgY2hpbGRyZW46IGlzQ29ubmVjdGVkICYmIChsb2NhbFN0cmVhbSB8fCBncm91cENhbGxQYXJ0aWNpcGFudHMubGVuZ3RoID4gMCkgPyAoX2pzeChHcm91cENhbGxHcmlkLCB7IHBhcnRpY2lwYW50czogZ3JvdXBDYWxsUGFydGljaXBhbnRzLCBsb2NhbFN0cmVhbTogbG9jYWxTdHJlYW0sIGxvY2FsUGFydGljaXBhbnRJZDogbG9jYWxVc2VySWQgfHwgJycsIHJlbW90ZVRyYWNrczogbGl2ZUtpdFJlbW90ZVRyYWNrcyB9KSkgOiAoX2pzeHMoXCJkaXZcIiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJ1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogWyFsaXZlS2l0VG9rZW4gPyAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiAnMThweCcsIG1hcmdpbkJvdHRvbTogJzEwcHgnIH0sIGNoaWxkcmVuOiBcIlxcdTAxMTBhbmcgbFxcdTFFQTV5IHRva2VuLi4uXCIgfSksIF9qc3goXCJkaXZcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC42KScgfSwgY2hpbGRyZW46IFwiVnVpIGxcXHUwMEYybmcgXFx1MDExMVxcdTFFRTNpXCIgfSldIH0pKSA6ICFpc0Nvbm5lY3RlZCA/IChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgZm9udFNpemU6ICcxOHB4JywgbWFyZ2luQm90dG9tOiAnMTBweCcgfSwgY2hpbGRyZW46IFwiXFx1MDExMGFuZyBrXFx1MUVCRnQgblxcdTFFRDFpLi4uXCIgfSksIF9qc3goXCJkaXZcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC42KScgfSwgY2hpbGRyZW46IFwiXFx1MDExMGFuZyB0aGFtIGdpYSBjdVxcdTFFRDljIGdcXHUxRUNEaSBuaFxcdTAwRjNtXCIgfSldIH0pKSA6IChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgZm9udFNpemU6ICcxOHB4JywgbWFyZ2luQm90dG9tOiAnMTBweCcgfSwgY2hpbGRyZW46IFwiXFx1MDExMGFuZyB0XFx1MUVBM2kgdmlkZW8uLi5cIiB9KSwgX2pzeChcImRpdlwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjYpJyB9LCBjaGlsZHJlbjogXCJWdWkgbFxcdTAwRjJuZyBcXHUwMTExXFx1MUVFM2lcIiB9KV0gfSkpLCBlcnJvciAmJiAoX2pzeChcImRpdlwiLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzIwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LDAsMCwwLjIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmY2YjZiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBlcnJvciB9KSldIH0pKSB9KSkgOiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYWxsLW1haW4tdmlkZW9cIiwgY2hpbGRyZW46IHJlbW90ZVN0cmVhbSA/IChfanN4KFwidmlkZW9cIiwgeyByZWY6IHJlbW90ZVZpZGVvUmVmLCBhdXRvUGxheTogdHJ1ZSwgcGxheXNJbmxpbmU6IHRydWUsIGNsYXNzTmFtZTogXCJjYWxsLXZpZGVvLXJlbW90ZVwiIH0pKSA6IChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYWxsLWF2YXRhci1jb250YWluZXJcIiwgY2hpbGRyZW46IFtvcHBvbmVudEF2YXRhciA/IChfanN4KFwiaW1nXCIsIHsgc3JjOiBvcHBvbmVudEF2YXRhciwgYWx0OiBvcHBvbmVudE5hbWUsIGNsYXNzTmFtZTogXCJjYWxsLWF2YXRhclwiIH0pKSA6IChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtYXZhdGFyLXBsYWNlaG9sZGVyXCIsIGNoaWxkcmVuOiBvcHBvbmVudE5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfSkpLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtbmFtZVwiLCBjaGlsZHJlbjogb3Bwb25lbnROYW1lIH0pLCAhaXNDb25uZWN0ZWQgJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1zdGF0dXNcIiwgY2hpbGRyZW46IGlzSW5pdGlhdG9yID8gJ8SQYW5nIGfhu41pLi4uJyA6IChhY2NlcHRlZEZyb21Nb2RhbCA/ICfEkGFuZyBr4bq/dCBu4buRaS4uLicgOiAnQ3Xhu5ljIGfhu41pIMSR4bq/bi4uLicpIH0pKV0gfSkpIH0pLCBjYWxsSW5mby50eXBlID09PSAndmlkZW8nICYmIGxvY2FsU3RyZWFtICYmIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtc2VsZi12aWV3XCIsIGNoaWxkcmVuOiBfanN4KFwidmlkZW9cIiwgeyByZWY6IGxvY2FsVmlkZW9SZWYsIGF1dG9QbGF5OiB0cnVlLCBwbGF5c0lubGluZTogdHJ1ZSwgbXV0ZWQ6IHRydWUsIGNsYXNzTmFtZTogXCJjYWxsLXZpZGVvLWxvY2FsXCIgfSkgfSkpXSB9KSksIGlzQ29ubmVjdGVkICYmIGNhbGxEdXJhdGlvbiA+IDAgJiYgKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1kdXJhdGlvblwiLCBjaGlsZHJlbjogZm9ybWF0RHVyYXRpb24oY2FsbER1cmF0aW9uKSB9KSksIGVycm9yICYmIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtZXJyb3ItYmFubmVyXCIsIGNoaWxkcmVuOiBlcnJvciB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtY29udHJvbHNcIiwgY2hpbGRyZW46IFshaXNJbml0aWF0b3IgJiYgIWlzQ29ubmVjdGVkICYmICFhY2NlcHRlZEZyb21Nb2RhbCAmJiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1pbmNvbWluZy1jb250cm9sc1wiLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1jb250cm9sLWJ0biBjYWxsLWNvbnRyb2wtYWNjZXB0XCIsIG9uQ2xpY2s6IGhhbmRsZUFjY2VwdCwgdGl0bGU6IFwiQ2hcXHUxRUE1cCBuaFxcdTFFQURuXCIsIGNoaWxkcmVuOiBfanN4KFwic3ZnXCIsIHsgd2lkdGg6IFwiMjRcIiwgaGVpZ2h0OiBcIjI0XCIsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0yMCA2TDkgMTdMNCAxMlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pIH0pIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtY29udHJvbC1idG4gY2FsbC1jb250cm9sLXJlamVjdFwiLCBvbkNsaWNrOiBoYW5kbGVSZWplY3QsIHRpdGxlOiBcIlRcXHUxRUVCIGNoXFx1MUVEMWlcIiwgY2hpbGRyZW46IF9qc3goXCJzdmdcIiwgeyB3aWR0aDogXCIyNFwiLCBoZWlnaHQ6IFwiMjRcIiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIGNoaWxkcmVuOiBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTE4IDZMNiAxOE02IDZMMTggMThcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSB9KSB9KV0gfSkpLCBpc0Nvbm5lY3RlZCAmJiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1hY3RpdmUtY29udHJvbHNcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtY29udHJvbC1idG4gY2FsbC1jb250cm9sLXNlY29uZGFyeVwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FsbEluZm8/LmNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2NoYXQvJHtjYWxsSW5mby5jb252ZXJzYXRpb25JZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aXRsZTogXCJUaW4gbmhcXHUxRUFGblwiLCBjaGlsZHJlbjogX2pzeChcInN2Z1wiLCB7IHdpZHRoOiBcIjI0XCIsIGhlaWdodDogXCIyNFwiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMjEgMTVDMjEgMTUuNTMwNCAyMC43ODkzIDE2LjAzOTEgMjAuNDE0MiAxNi40MTQyQzIwLjAzOTEgMTYuNzg5MyAxOS41MzA0IDE3IDE5IDE3SDdMMyAyMVY1QzMgNC40Njk1NyAzLjIxMDcxIDMuOTYwODYgMy41ODU3OSAzLjU4NTc5QzMuOTYwODYgMy4yMTA3MSA0LjQ2OTU3IDMgNSAzSDE5QzE5LjUzMDQgMyAyMC4wMzkxIDMuMjEwNzEgMjAuNDE0MiAzLjU4NTc5QzIwLjc4OTMgMy45NjA4NiAyMSA0LjQ2OTU3IDIxIDVWMTVaXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMlwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSkgfSkgfSksIGNhblVzZUVuaGFuY2VtZW50cyAmJiAoX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogYGNhbGwtY29udHJvbC1idG4gY2FsbC1jb250cm9sLXNlY29uZGFyeSAke3Nob3dGaWx0ZXJQYW5lbCB8fCBjdXJyZW50RmlsdGVyICE9PSAnbm9uZScgPyAnY2FsbC1jb250cm9sLWFjdGl2ZScgOiAnJ31gLCB0aXRsZTogXCJCXFx1MUVEOSBsXFx1MUVDRGMgbFxcdTAwRTBtIFxcdTAxMTFcXHUxRUI5cFwiLCBvbkNsaWNrOiBoYW5kbGVUb2dnbGVGaWx0ZXJQYW5lbCwgY2hpbGRyZW46IF9qc3hzKFwic3ZnXCIsIHsgd2lkdGg6IFwiMjJcIiwgaGVpZ2h0OiBcIjIyXCIsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZDogXCJNMTIgM0wxMy41IDcuNUwxOCA5TDEzLjUgMTAuNUwxMiAxNUwxMC41IDEwLjVMNiA5TDEwLjUgNy41TDEyIDNaXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMS42XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk01IDE2SDlcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIxLjZcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTE1IDE2SDE5XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMS42XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiB9KV0gfSkgfSkpLCBjYW5Vc2VFbmhhbmNlbWVudHMgJiYgKF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IGBjYWxsLWNvbnRyb2wtYnRuIGNhbGwtY29udHJvbC1zZWNvbmRhcnkgJHtpc1NjcmVlblNoYXJpbmcgPyAnY2FsbC1jb250cm9sLWFjdGl2ZScgOiAnJ31gLCB0aXRsZTogaXNTY3JlZW5TaGFyaW5nID8gJ0Thu6tuZyBjaGlhIHPhursgbcOgbiBow6xuaCcgOiAnQ2hpYSBz4bq7IG3DoG4gaMOsbmgnLCBvbkNsaWNrOiBoYW5kbGVTY3JlZW5TaGFyZVRvZ2dsZSwgY2hpbGRyZW46IGlzU2NyZWVuU2hhcmluZyA/IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBcIjI0XCIsIGhlaWdodDogXCIyNFwiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTQgNUgyMEMyMS4xMDQ2IDUgMjIgNS44OTU0MyAyMiA3VjE1QzIyIDE2LjEwNDYgMjEuMTA0NiAxNyAyMCAxN0g0QzIuODk1NDMgMTcgMiAxNi4xMDQ2IDIgMTVWN0MyIDUuODk1NDMgMi44OTU0MyA1IDQgNVpcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIxLjhcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTEyIDIxVjE3XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMS44XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk04IDIxSDE2XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMS44XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk04IDlMMTIgMTNMMTYgOVwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiBcIjEuOFwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSldIH0pKSA6IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBcIjI0XCIsIGhlaWdodDogXCIyNFwiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTQgNUgyMEMyMS4xMDQ2IDUgMjIgNS44OTU0MyAyMiA3VjE0QzIyIDE1LjEwNDYgMjEuMTA0NiAxNiAyMCAxNkg0QzIuODk1NDMgMTYgMiAxNS4xMDQ2IDIgMTRWN0MyIDUuODk1NDMgMi44OTU0MyA1IDQgNVpcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIxLjZcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTEyIDIwVjE2XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMS42XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk04IDIwSDE2XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMS42XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiB9KV0gfSkpIH0pKSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogYGNhbGwtY29udHJvbC1idG4gJHshaXNBdWRpb0VuYWJsZWQgPyAnY2FsbC1jb250cm9sLW11dGVkJyA6ICcnfWAsIG9uQ2xpY2s6IHRvZ2dsZUF1ZGlvLCB0aXRsZTogaXNBdWRpb0VuYWJsZWQgPyAnVOG6r3QgbWljJyA6ICdC4bqtdCBtaWMnLCBjaGlsZHJlbjogaXNBdWRpb0VuYWJsZWQgPyAoX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogXCIyNFwiLCBoZWlnaHQ6IFwiMjRcIiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIGNoaWxkcmVuOiBbX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xMiAxQzEwLjM0IDEgOSAyLjM0IDkgNFYxMkM5IDEzLjY2IDEwLjM0IDE1IDEyIDE1QzEzLjY2IDE1IDE1IDEzLjY2IDE1IDEyVjRDMTUgMi4zNCAxMy42NiAxIDEyIDFaXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMlwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMTkgMTBWMTJDMTkgMTUuODcgMTUuODcgMTkgMTIgMTlDOC4xMyAxOSA1IDE1Ljg3IDUgMTJWMTBcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xMiAxOVYyM1wiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTggMjNIMTZcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KV0gfSkpIDogKF9qc3hzKFwic3ZnXCIsIHsgd2lkdGg6IFwiMjRcIiwgaGVpZ2h0OiBcIjI0XCIsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZDogXCJNMSAxTDIzIDIzXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMlwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNOSA5VjEyQzkgMTMuNjYgMTAuMzQgMTUgMTIgMTVDMTIuNDEgMTUgMTIuODEgMTQuOTIgMTMuMTcgMTQuNzdcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk01IDEwVjEyQzUgMTUuODcgOC4xMyAxOSAxMiAxOUMxMi42OSAxOSAxMy4zNSAxOC44OSAxMy45NyAxOC43XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMlwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNOSAxVjRcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xNSAxVjRcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xMiAxOVYyM1wiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTggMjNIMTZcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KV0gfSkpIH0pLCBjYWxsSW5mby50eXBlID09PSAndmlkZW8nICYmIChfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBgY2FsbC1jb250cm9sLWJ0biAkeyFpc1ZpZGVvRW5hYmxlZCA/ICdjYWxsLWNvbnRyb2wtbXV0ZWQnIDogJyd9YCwgb25DbGljazogdG9nZ2xlVmlkZW8sIHRpdGxlOiBpc1ZpZGVvRW5hYmxlZCA/ICdU4bqvdCBjYW1lcmEnIDogJ0Lhuq10IGNhbWVyYScsIGNoaWxkcmVuOiBpc1ZpZGVvRW5hYmxlZCA/IChfanN4cyhcInN2Z1wiLCB7IHdpZHRoOiBcIjI0XCIsIGhlaWdodDogXCIyNFwiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcIm5vbmVcIiwgY2hpbGRyZW46IFtfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTIzIDdMMTYgMTJMMjMgMTdWN1pcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xNCA1SDNDMS44OTU0MyA1IDEgNS44OTU0MyAxIDdWMTdDMSAxOC4xMDQ2IDEuODk1NDMgMTkgMyAxOUgxNEMxNS4xMDQ2IDE5IDE2IDE4LjEwNDYgMTYgMTdWN0MxNiA1Ljg5NTQzIDE1LjEwNDYgNSAxNCA1WlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pXSB9KSkgOiAoX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogXCIyNFwiLCBoZWlnaHQ6IFwiMjRcIiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJub25lXCIsIGNoaWxkcmVuOiBbX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xIDFMMjMgMjNcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk0xNiAxMkwyMyA3VjE3TDE2IDEyWlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTE0IDVIM0MxLjg5NTQzIDUgMSA1Ljg5NTQzIDEgN1YxN0MxIDE4LjEwNDYgMS44OTU0MyAxOSAzIDE5SDE0QzE1LjEwNDYgMTkgMTYgMTguMTA0NiAxNiAxN1Y3QzE2IDUuODk1NDMgMTUuMTA0NiA1IDE0IDVaXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IFwiMlwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIgfSldIH0pKSB9KSksIF9qc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1jb250cm9sLWJ0biBjYWxsLWNvbnRyb2wtZW5kXCIsIG9uQ2xpY2s6IGhhbmRsZUVuZENhbGwsIHRpdGxlOiBcIktcXHUxRUJGdCB0aFxcdTAwRkFjIGN1XFx1MUVEOWMgZ1xcdTFFQ0RpXCIsIGNoaWxkcmVuOiBfanN4KFwic3ZnXCIsIHsgd2lkdGg6IFwiMjRcIiwgaGVpZ2h0OiBcIjI0XCIsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwibm9uZVwiLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk0zIDVDMyAzLjg5NTQzIDMuODk1NDMgMyA1IDNIOC4yNzkyNEM4LjcwOTY3IDMgOS4wOTE4MSAzLjI3NTQzIDkuMjI3OTIgMy42ODM3N0wxMC43MjU3IDguMTc3MjFDMTAuODgzMSA4LjY0OTMyIDEwLjY2OTQgOS4xNjUzMSAxMC4yMjQzIDkuMzg3ODdMNy45NjcwMSAxMC41MTY1QzkuMDY5MjUgMTIuOTYxMiAxMS4wMzg4IDE0LjkzMDggMTMuNDgzNSAxNi4wMzNMMTQuNjEyMSAxMy43NzU3QzE0LjgzNDcgMTMuMzMwNiAxNS4zNTA3IDEzLjExNjkgMTUuODIyOCAxMy4yNzQzTDIwLjMxNjIgMTQuNzcyMUMyMC43MjQ2IDE0LjkwODIgMjEgMTUuMjkwMyAyMSAxNS43MjA4VjE5QzIxIDIwLjEwNDYgMjAuMTA0NiAyMSAxOSAyMUgxOEM5LjcxNTczIDIxIDMgMTQuMjg0MyAzIDZWNVpcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiB9KSB9KSB9KV0gfSkpXSB9KSwgY2FuVXNlRW5oYW5jZW1lbnRzICYmIGlzU2NyZWVuU2hhcmluZyAmJiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1zY3JlZW4tc2hhcmUtaW5kaWNhdG9yXCIsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogXCJcXHUwMTEwYW5nIGNoaWEgc1xcdTFFQkIgbVxcdTAwRTBuIGhcXHUwMEVDbmhcIiB9KSwgX2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVNjcmVlblNoYXJlVG9nZ2xlLCBjaGlsZHJlbjogXCJEXFx1MUVFQm5nIGNoaWEgc1xcdTFFQkJcIiB9KV0gfSkpLCBjYW5Vc2VFbmhhbmNlbWVudHMgJiYgc2hvd0ZpbHRlclBhbmVsICYmIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYWxsLWZpbHRlci1wYW5lbFwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhbGwtZmlsdGVyLXBhbmVsX19oZWFkZXJcIiwgY2hpbGRyZW46IFtfanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBcIkJcXHUxRUQ5IGxcXHUxRUNEYyAmIGhpXFx1MUVDN3UgXFx1MUVFOW5nXCIgfSksIF9qc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiBzZXRTaG93RmlsdGVyUGFuZWwoZmFsc2UpLCBcImFyaWEtbGFiZWxcIjogXCJcXHUwMTEwXFx1MDBGM25nXCIsIGNoaWxkcmVuOiBcIlxcdTAwRDdcIiB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FsbC1maWx0ZXItcGFuZWxfX2xpc3RcIiwgY2hpbGRyZW46IGZpbHRlck9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBjdXJyZW50RmlsdGVyID09PSBvcHRpb24uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBpc1NjcmVlblNoYXJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogYGZpbHRlci1vcHRpb24gJHthY3RpdmUgPyAnYWN0aXZlJyA6ICcnfSAke2Rpc2FibGVkID8gJ2Rpc2FibGVkJyA6ICcnfWAsIG9uQ2xpY2s6ICgpID0+ICFkaXNhYmxlZCAmJiBoYW5kbGVGaWx0ZXJTZWxlY3Qob3B0aW9uLmlkKSwgZGlzYWJsZWQ6IGRpc2FibGVkLCBjaGlsZHJlbjogW19qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZpbHRlci1vcHRpb25fX2Vtb2ppXCIsIGNoaWxkcmVuOiBvcHRpb24uZW1vamkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZpbHRlci1vcHRpb25fX2xhYmVsXCIsIGNoaWxkcmVuOiBvcHRpb24ubGFiZWwgfSldIH0sIG9wdGlvbi5pZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSksIGlzU2NyZWVuU2hhcmluZyAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYWxsLWZpbHRlci1wYW5lbF9fbm90aWNlXCIsIGNoaWxkcmVuOiBcIlRcXHUxRUFGdCBjaGlhIHNcXHUxRUJCIG1cXHUwMEUwbiBoXFx1MDBFQ25oIFxcdTAxMTFcXHUxRUMzIHNcXHUxRUVEIGRcXHUxRUU1bmcgYlxcdTFFRDkgbFxcdTFFQ0RjLlwiIH0pKV0gfSkpXSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIkZyYWdtZW50IiwiX0ZyYWdtZW50IiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZVdlYlJUQyIsInVzZUxpdmVLaXQiLCJnZXRDYWxsIiwiZW5kQ2FsbCIsImVuZENhbGxBUEkiLCJhY2NlcHRDYWxsIiwicmVqZWN0Q2FsbCIsImdldExpdmVLaXRUb2tlbiIsImdldFNvY2tldCIsInVzZU9wcG9uZW50SW5mbyIsIkdyb3VwQ2FsbEdyaWQiLCJDYWxsU2NyZWVuIiwiY2FsbElkIiwic2V0Q2FsbElkIiwiY2FsbEluZm8iLCJzZXRDYWxsSW5mbyIsImlzSW5pdGlhdG9yIiwic2V0SXNJbml0aWF0b3IiLCJsb2NhbFVzZXJJZCIsInNldExvY2FsVXNlcklkIiwiYWNjZXB0ZWRGcm9tTW9kYWwiLCJzZXRBY2NlcHRlZEZyb21Nb2RhbCIsInVpZCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlcnIiLCJjb25zb2xlIiwid2FybiIsInNlYXJjaCIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwidXJsQ2FsbElkIiwiZ2V0IiwidXJsQ29udmVyc2F0aW9uSWQiLCJ1cmxBY2NlcHRlZEZyb21Nb2RhbCIsInVybENhbGxUeXBlIiwidXJsTGl2ZWtpdFJvb21OYW1lIiwidXJsSXNJbmNvbWluZyIsImxvZyIsInByZXYiLCJuZXdJbmZvIiwiY29udmVyc2F0aW9uSWQiLCJpbml0aWF0b3JJZCIsInJlbW90ZVVzZXJJZCIsInR5cGUiLCJjYWxsVHlwZSIsImxpdmVraXRSb29tTmFtZSIsInRoZW4iLCJ0b2tlbkRhdGEiLCJzZXRMaXZlS2l0VG9rZW4iLCJ0b2tlbiIsInNldExpdmVLaXRVcmwiLCJ1cmwiLCJjYXRjaCIsImVycm9yIiwiY2FsbER1cmF0aW9uIiwic2V0Q2FsbER1cmF0aW9uIiwiY2FsbFN0YXJ0VGltZSIsInNldENhbGxTdGFydFRpbWUiLCJkdXJhdGlvbkludGVydmFsUmVmIiwiaW5mbyIsIm9wcG9uZW50SW5mbyIsImZpbHRlck9wdGlvbnMiLCJpZCIsImxhYmVsIiwiZW1vamkiLCJzaG93RmlsdGVyUGFuZWwiLCJzZXRTaG93RmlsdGVyUGFuZWwiLCJsaXZlS2l0VG9rZW4iLCJsaXZlS2l0VXJsIiwibGl2ZUtpdFRva2VuUmVmIiwiY3VycmVudCIsImlzUDJQQ2FsbCIsImxvY2FsU3RyZWFtIiwicDJwTG9jYWxTdHJlYW0iLCJyZW1vdGVTdHJlYW0iLCJwMnBSZW1vdGVTdHJlYW0iLCJpc0Nvbm5lY3RlZCIsInAycElzQ29ubmVjdGVkIiwicDJwRXJyb3IiLCJzdGFydENhbGwiLCJlbmRXZWJSVEMiLCJ0b2dnbGVWaWRlbyIsInAycFRvZ2dsZVZpZGVvIiwidG9nZ2xlQXVkaW8iLCJwMnBUb2dnbGVBdWRpbyIsImlzVmlkZW9FbmFibGVkIiwicDJwSXNWaWRlb0VuYWJsZWQiLCJpc0F1ZGlvRW5hYmxlZCIsInAycElzQXVkaW9FbmFibGVkIiwiYXBwbHlGaWx0ZXIiLCJjdXJyZW50RmlsdGVyIiwic3RhcnRTY3JlZW5TaGFyZSIsInN0b3BTY3JlZW5TaGFyZSIsImlzU2NyZWVuU2hhcmluZyIsImxvY2FsVmlkZW9SZWYiLCJyZW1vdGVWaWRlb1JlZiIsImxpdmVLaXRMb2NhbFN0cmVhbSIsInJlbW90ZVN0cmVhbXMiLCJsaXZlS2l0UmVtb3RlU3RyZWFtcyIsInJlbW90ZVRyYWNrcyIsImxpdmVLaXRSZW1vdGVUcmFja3MiLCJsaXZlS2l0SXNDb25uZWN0ZWQiLCJsaXZlS2l0RXJyb3IiLCJjb25uZWN0IiwiY29ubmVjdExpdmVLaXQiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdExpdmVLaXQiLCJsaXZlS2l0VG9nZ2xlVmlkZW8iLCJsaXZlS2l0VG9nZ2xlQXVkaW8iLCJsaXZlS2l0SXNWaWRlb0VuYWJsZWQiLCJsaXZlS2l0SXNBdWRpb0VuYWJsZWQiLCJyb29tTmFtZSIsImNhblVzZUVuaGFuY2VtZW50cyIsImhhbmRsZVRvZ2dsZUZpbHRlclBhbmVsIiwiaGFzQXV0b1N0YXJ0ZWRSZWYiLCJzdGFydENhbGxSZWYiLCJzZXRJbnRlcnZhbCIsIm5vdyIsIkRhdGUiLCJkaWZmIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsImNsZWFySW50ZXJ2YWwiLCJmb3JtYXREdXJhdGlvbiIsInNlY29uZHMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImxvYWRDYWxsSW5mbyIsImNhbGwiLCJwYXJ0aWNpcGFudHMiLCJmaW5kIiwiU3RyaW5nIiwiaXNJbml0IiwibWV0YWRhdGEiLCJtYXAiLCJwIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJzb2NrZXQiLCJvbmNlIiwiZGF0YSIsImhhbmRsZUNhbGxJbmNvbWluZyIsImhhbmRsZUNhbGxJbmZvIiwiaGFuZGxlQ2FsbEFjY2VwdGVkIiwic2V0VGltZW91dCIsImhhbmRsZUNhbGxBY3RpdmUiLCJvbiIsIm9mZiIsImlzU0ZVIiwiaXNQMlBSZWFkeSIsImlzU0ZVUmVhZHkiLCJoYXNUb2tlbiIsImhhc0F1dG9Db25uZWN0ZWRMaXZlS2l0UmVmIiwiaGFuZGxlQWNjZXB0Iiwic3RhcnRFcnIiLCJoYW5kbGVSZWplY3QiLCJoaXN0b3J5IiwiYmFjayIsImhhbmRsZUVuZENhbGwiLCJoYW5kbGVGaWx0ZXJTZWxlY3QiLCJmaWx0ZXIiLCJoYW5kbGVTY3JlZW5TaGFyZVRvZ2dsZSIsImdyb3VwQ2FsbFBhcnRpY2lwYW50cyIsInVzZU1lbW8iLCJyZW1vdGVTdHJlYW1zU2l6ZSIsInNpemUiLCJyZW1vdGVTdHJlYW1LZXlzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsImZvckVhY2giLCJzdHJlYW0iLCJwYXJ0aWNpcGFudElkIiwidHJhY2tDb3VudCIsImdldFRyYWNrcyIsImxlbmd0aCIsInRyYWNrcyIsInQiLCJraW5kIiwiZW5hYmxlZCIsInB1c2giLCJvcHBvbmVudE5hbWUiLCJuYW1lIiwib3Bwb25lbnRBdmF0YXIiLCJhdmF0YXIiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInN0eWxlIiwicG9zaXRpb24iLCJib3R0b20iLCJsZWZ0IiwidHJhbnNmb3JtIiwiY29sb3IiLCJmb250U2l6ZSIsInRleHRBbGlnbiIsIm1heFdpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kIiwibG9jYWxQYXJ0aWNpcGFudElkIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5Ub3AiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwicmVmIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsInNyYyIsImFsdCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibXV0ZWQiLCJvbkNsaWNrIiwidGl0bGUiLCJ2aWV3Qm94IiwiZmlsbCIsImQiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsImhyZWYiLCJvcHRpb24iLCJhY3RpdmUiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../packages/app/features/call/screens/CallScreen.web.js\n"));

/***/ })

});